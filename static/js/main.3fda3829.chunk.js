/*! For license information please see main.3fda3829.chunk.js.LICENSE.txt */
(this.webpackJsonpcaravan=this.webpackJsonpcaravan||[]).push([[0],{1006:function(e,t){},1009:function(e,t){},1010:function(e,t){},1091:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockExplorerAPIURL=function(e,t){return"".concat(a(t),"/api").concat(e)},t.blockExplorerAddressURL=function(e,t){return o("/address/".concat(e),t)},t.blockExplorerTransactionURL=function(e,t){return o("/tx/".concat(e),t)},t.blockExplorerURL=o;var n=r(163);function a(e){return e===n.TESTNET?"https://blockstream.info/testnet":"https://blockstream.info"}function o(e,t){return"".concat(a(t)).concat(e)}},1111:function(e,t,r){"use strict";(function(e){r(572),r(419),r(415),r(189),r(271),r(339),Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_FIXTURES=t.ROOT_FINGERPRINT=void 0,r(231),r(272),r(273),r(229),r(208),r(160),r(270),r(190),r(224);var n,a,o,i,c,u,s,l=(n=r(223))&&n.__esModule?n:{default:n},f=r(232),d=r(573),p=r(261),h=r(187),A=r(188),m=r(163),b=r(414);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=(P(i={},m.TESTNET,(P(a={},p.P2SH,"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR"),P(a,h.P2SH_P2WSH,"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR"),P(a,A.P2WSH,"tb1q9hj5j7mh9f7t6cwdvz34nj6pyzva5ftj2ecarcdqph5wc3n49hyqchh3cg"),a)),P(i,m.MAINNET,(P(o={},p.P2SH,"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs"),P(o,h.P2SH_P2WSH,"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs"),P(o,A.P2WSH,"bc1qxkl8fcuas3fv6mk79tk7d0nsug0909qcgvpjuj2asgltnafp46nsn4jnrh"),o)),i),O=(P(s={},m.TESTNET,(P(c={},p.P2SH,"2NB3tTnpcUanDenNhWbXxymTJhheWtj5Mu1"),P(c,h.P2SH_P2WSH,"2MyCBSwFWSXpagqKtrnckNtNQBnKdUZRhKc"),P(c,A.P2WSH,"tb1qhjtyry0qwm5l6v5v7y27hc6m60vm0d8exlr3cswdrxsgaygqvd2q5zsl0n"),c)),P(s,m.MAINNET,(P(u={},p.P2SH,"36NMegVbRPbMv9RC4Ge2aKLUQHYXKbyooZ"),P(u,h.P2SH_P2WSH,"32M6VKsKw1X2EXFawpcHosMEhSxswLHRwX"),P(u,A.P2WSH,"bc1qnzky4hcwcutvktfstp0u3kmtgxkjvscl25snvg45xu3ausv2lapqrvmkeh"),u)),s);t.ROOT_FINGERPRINT="f57ec65d";var T={"m/45'/0'/0'":{pub:"0387cb4929c287665fbda011b1afbebb0e691a5ee11ee9a561fcd6adba266afe03",xpub:"xpub6CCHViYn5VzKFqrKjAzSSqP8XXSU5fEC6ZYSncX5pvSKoRLrPDcF8cEaZkrQvvnuwRUXeKVjoGmAqvbwVkNBFLaRiqcdVhWPyuShUrbcZsv",tpub:"tpubDCZv1xNTnmwmXe3BBMyXekiVreY853jFeC8k9AaEAqCDYi1ZTSTLH3uQonwCTRk9jL1SFu1cLNbDY76YtcDR8n2inSMwBEAdZs37EpYS9px",zpub:"zpub6qrp73tcNs5GxSEZPtZgs1a8sTjMxuDBvnatMQJrawC5ucyJtXwNNjYrcAmavk6kkhi99GgribUGcVq4w9CCqowdTX1UfX9NXMZzG2XWQdj",ypub:"ypub6X2YoPDhEBXo793SZXn4evUdhVav2HDh1g4fa1QyCvpCrXA5dsmokftiaxozvqSqM4bLPo6JFw7ijDDWDSnC3aG2bBK45cKtFdWLsUKgtyo",Ypub:"Ypub6hvdvcx8o96AXiCpWCF3UzpSRHdBEduHKwiLVGgWahecUhizQHA5qnkePfmUVGfjaXfKGP6R99WDrNqGWfw9C4NhReRTV1nt9MnDTNALmuh",Zpub:"Zpub72kuEHd3wpdeP1PwLZ2fh5uwbFmdBFtnF4EZGfaPxi2VXoYDewKeTrQnQsj4VBKezAn81rgybormjfSqENM9zJ4JHz7t4vcNR5qrqv8qja7",upub:"upub5DhVaiY2dTMshxGyE6dZpa6d1d18FoFhMDynSRqRguJge7uAdF7ZGRGAW8yewCq9iW87Pti4RHhXC4mFLf88rdXd7pXMjy3wAjFmK6jyHiX",vpub:"vpub5YXktPCwn8uMZFU64TRC2fC8Bb9aCRFCGLW1DpjK4ugZhDiPsuH7tUvJXLwEw7V589Ev9NJcsx455MNp4MY9esDDzADnKssRSTKQhgCrtoZ",Upub:"Upub5QbahxGUCQvF8XSMAm6YeeSRjR3PU9wHfVdTMh6y4g96GJU5PeVqMY86Jqw8Ve43wyC6GUiBJW62KEP1dtH617eHxHdm9NWw4TXdu1aWzdx",Jpub:"Vpub5jRr1cwPM6TiypdU17tArjXvuPBqQmvnac9g95zrSgWyKQHJeJfPybnEL3tiVYhyMcJu1xJjmASaCWzaMah6oMKtpdLBjHLRLBbHHcy3jDH",chaincode:"470bb034dbc8e7b5f5c0b19f747e3e768f0cc9ff298361b2741e1b7fd70d376d",parentFingerprint:1240308660,rootFingerprint:"f57ec65d",index:2147483648,depth:3},"m/45'/0'/0'/0":{pub:"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee",xpub:"xpub6EW9kGJQLjEGWpuKjViLuEw3pkNX5k2DzXhM3ctfHawh12aLXnrzYuRcvwTfv2VD2a8uzFCDJfLnrrD9Z46NbLyPHUQbbb4QyxKjf6c1gh4",tpub:"tpubDEsnGW8641Bind6BBghS7AGR9sUB58XHYAHeQAwodVhakKF3c1i5hM6TAyYTSXSSpUfpbpi5qmAqZ2hkwuwcUnRgM59uH7ieZuv9RAEJ5Rp",chaincode:"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3",parentFingerprint:2213579839,rootFingerprint:"f57ec65d"},"m/45'/0'/0'/0/0":{pub:"03102f0df5e34ffa1178a5310952221b8e26b3e761a9e328832c750a2de252f21a",xpub:"xpub6FjSpitFpSJB9BpSVwp3eJzhpaQFLbLefD1f3qaGRmok2Z2FDeSNsy5CL9TLwM3HpcV2kAyTNf2W1uUXs1jbeXGWjdWnsaqnUQ9PyWAYVhQ",tpub:"tpubDG75LxhwXiFdQz1Hx8o8rEL59hVuKyqiCqbxQPdQmgZdmqgxHsHU2Qk2aBY8TqzXcX1wMkVKukrYi5y9FsaqXxiooEG6Z7W24MjojRNcVtA",chaincode:"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3",parentFingerprint:724365675,rootFingerprint:"f57ec65d"},"m/45'/1/0/0":{xpub:"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G",extendedPublicKey:{base58String:"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G",chaincode:"da92ac213968ea1a2c26dde7d83e556939519e5195c84120f3b803630c45194a",depth:4,index:0,parentFingerprint:384854823,path:"m/45'/1/0/0",pubkey:"0226a8fce14d91bd85b2b61bdc994e75975c9b443d02a0428a7c9755228f35cba9",rootFingerprint:"f57ec65d",version:"043587cf"}},"m/45'/1/1/0":{xpub:"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ",extendedPublicKey:{base58String:"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ",chaincode:"ff6e55a2ae1b0b14824a08130fc3029d3d193ee0c1eb922696d3658f641a0e2b",depth:4,index:0,parentFingerprint:2525848640,path:"m/45'/1/1/0",pubkey:"02ca80ff7fdc10be77b65da0b82cada1646f0c113e6cc10a5feb0dfb5d0487793e",rootFingerprint:"f57ec65d",version:"043587cf"}},"m/45'":{pub:"03c060f4c111a276807fc3a88966cc1d3a683eef9226a034ee2cd6982b478fa8e2",xpub:"xpub69h9wvon4GzP2S3cLmiBsNdznt29YXBk2TSyQueZsacKZyzMqMR1Fj5JwSiKu8agDRiLWPfw9gSChLW2Yfgpe4tzuhLUD2vFfGsfbtTA3r7",tpub:"tpubDA4nUAdTmYwqJEETnxhH5HyN817oXugoa63GmThiDVNDKGf4uaG6QAk9BUo7RdXv1LFF7yBognGFPWzdwXY4XWMHyJ5mtZaVFEU5MtMfj7H",rootFingerprint:"f57ec65d"},"m/45'/0":{pub:"02b04ac39b566b7353b5bf8e164be83bf90b090e7516170e88a8cb6c88a860f0a3",tpub:"tpubDBAj15fFkLimiBmDqapikSS4qkmvAS8LijMey9S9fAyjq65ERgjuzaa6GonVQXugcrBzfpEoH6SPBzevfowZgYJ3apWcHbMPaNJnBRkbsRY",rootFingerprint:"f57ec65d"},"m/45'/0/0":{xpub:"xpub6CsGPeBifUqr2szHmpFuNZ7Yd2ZnJtr95kPKu13LT96ZvTUthRsZbunhdyRp4HkQ93Gqr78mC9KEMVmGxcG6bFR4xT3GKpkdtgpr8T85JXP",rootFingerprint:"f57ec65d"},"m/45'/1/0":{pub:"036b5cfe4b7f29cb36e5261ad74f8a4f8602f77628e8d9d120f5580d3ccafaef74",tpub:"tpubDDhFRuipvJKBgPBDFooShZNtnkLwMkGDZXA1KBUd8xruQ8AA4QdZaiQYWj1hDpDW8r7va9D7GHeEp5ZzMsj5uDRX4s3hk4eQgJm8jMAqkLC",rootFingerprint:"f57ec65d"},"m/45'/0'/4'/99'/2147483647/3/1":{pub:"0211aa5c03e290dc0110103c3d3f817500e76061d35ea89072286cb6f7962eda81",xpub:"xpub6LCRwXBN9moqsJKhToW6K5qfBfTguMXuZw67q1BUuaWRyYD56P1zhqbyXsHqoo4WPsjUfeiJPu4JXnhtUz6cHbYgX6AFfDhUnPfCvbZD3JZ",tpub:"tpubDLa4Tm13s3mJ96WYuzVBX1B2WnZLtk2y7ZgRBZEdFVGKipsnAbs5rHGomuNdLJ1kBnGPHEEAvztMDyCVsqwrB2zyaguZLkMiNMFcgX4e2rG",rootFingerprint:"f57ec65d"},"m/45'/1'/0'/0/0":{pub:"037226e92491b2cf9691152fc2e9a0a7cff8f9ab7ad1b24b6f6506d7c8bf18911b",tpub:"tpubDFqzhdm1iDvKkHNwVMxFnWZjBX4m1QQK4qNELiux6RXteZdPidpymFeWFKm5koNvjTiwPZb4i456pW5JBymaCcKumuhN7DYLwX9wwGAJ71H",rootFingerprint:"f57ec65d"},"m/48'/0'/0'/1'/0/0":{pub:"02c63c7ae511c9902e885da3e2fbb4a8f227eefc7f53eda3cad4d8f9389331b5be",rootFingerprint:"f57ec65d"},"m/48'/1'/0'/1'/0/0":{pub:"03ff8a79f5016243a3959e2216e51cf90034cf510b379a34e6fdf565b19852baa2",rootFingerprint:"f57ec65d",Upub:"Upub5T4XUooQzDXL58NCHk8ZCw9BsRSLCtnyHeZEExAq1XdnBFXiXVrHFuvvmh3TnCR7XmKHxkwqdACv68z7QKT1vwru9L1SZSsw8B2fuBvtSa6",tpub:"tpubDKSvECbEtm6ZgXE7kmn2Sbr81JzJhDGVzz2Arnn86R5a3i42w2mxNoPHcA9MRPtS36zy5d4m7FWWiCrVY1fXJ9YvSjNMB4DJ2tRDifqJQmp"},"m/48'/0'/0'/2'/0/0":{pub:"032817ba5e2b76f6e2fab1d985224516f2b77a9c181e210def81ec2be8e17007c9",rootFingerprint:"f57ec65d"},"m/48'/1'/0'/2'/0/0":{pub:"03ecf349ecf63fcd0ece9de7eb1abfb8f8b243fecc443bd62ef47744f0f6b7eef6",tpub:"tpubDKVKJjFQrticLSSf77TWYmvFq6XTALifW1shoo4snhfh7YGhMHcsCB2WwvfAbQGQDJy8EwuD6kjfvYPqSxJptSKqZDvzxQFcpYy88iS85kd",rootFingerprint:"f57ec65d"},"m/45'/1'/0'":{xpub:"tpubDDQubdBx9cbs16zUhpiM135EpvjSbVz7SGJyGg4rvRVEYdncZy3Kzjg6NjuFWcShiCyNqviWTBiZPb25p4WcaLppVmAuiPMrkR1kahNoioL",rootFingerprint:"f57ec65d"},"m/45'/1'/100'":{xpub:"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1",chaincode:"eabe09a77940dd3e125be81bc25fcf04c611544f431967531bea80b12f2e72d2",depth:3,index:2147483748,parentFingerprint:3168392141,path:"m/45'/1'/100'",pubkey:"02d419c2e37078468af97e07e240343a7e8691ef5dcca9fe59a7c774db9e6c4e62",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDDinbKDXyddTUKcX6mv936Ux5utCJteq5S6EEKhfpM8CqN2rMAcccv6GecsB3cPt8eGL4e4K2eaZ9Jis9TGf7mbwBsRTN7ngnFR7yJZxBKC",chaincode:"1ade7f9d6099898d9851af05b488b94ad3ad4fcabab3970b8ee975fb0e33c517",depth:3,index:2147483748,parentFingerprint:3872018966,path:"m/45'/1'/100'",pubkey:"03b30cf103f4775c366cdc9394dc42b9cfa9d05eb02fd07a2f98a8b1b22d867fec",rootFingerprint:"00000001",version:"043587cf"}},"m/48'/1'/100'/1'":{xpub:"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am",chaincode:"8f60b5470713d119000eb9f20716eaa21e4c7c96b1d8a605790e2a9621874b7b",depth:4,index:2147483649,parentFingerprint:3880777331,path:"m/48'/1'/100'/1'",pubkey:"0374d98c47224e55e6244cfb407638d77ff1127f02c895983b5fe2d9174f37cd0c",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDErWN5qfdLwY9ZJo9HWpxjcuEFuEBVHSbQbPqF35LQr3etWNGirKcgAa93DZ4DmtHm36p2gTf4aj6KybLqHaS3UePM5LtPqtb3d3dYVDs2F",chaincode:"0683fed20bd4e656ef5d6cb91dac510a80f1e425976dcc8b92060cca5a8fe0a9",depth:4,index:2147483649,parentFingerprint:2163434281,path:"m/48'/1'/100'/1'",pubkey:"02fe3c640406f273d9acdd63ce45282cb9017c91e07b4b0118451823df95fd7821",rootFingerprint:"00000002",version:"043587cf"}},"m/48'/1'/100'/2'":{xpub:"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM",chaincode:"b0d7d9283b766e79259dc38263ce06b474eeaefb3fab5f53946aaec6cd525f13",depth:4,index:2147483650,parentFingerprint:3880777331,path:"m/48'/1'/100'/2'",pubkey:"0277d88e9d1395e980debe59476a17f202ba27c866d3637877e84958f2c65458ff",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDErWN5qfdLwYE94mh12oWr4uURDDNKCjKVhCEcAgZ7jKnnAwq5tcTF2iEk3VuznkJuk2G8SCHft9gS6aKbBd18ptYWPqKLRSTRQY7e2rrDj",chaincode:"d2be31d3de92e6183d5a4bb918048fdf960ba9438d391afb5f7ac69a1c24caf1",depth:4,index:2147483650,parentFingerprint:2163434281,path:"m/48'/1'/100'/2'",pubkey:"03a602ec9955461233f89560337ff7af353b838471d7f1625768b4e290544a154f",rootFingerprint:"00000003",version:"043587cf"}},"m/45'/0'/100'":{xpub:"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH",chaincode:"8f8521ebe6ac7fd6d6c468aa25cad78e34e9a4c02211a00bf2c6069ffdb11722",depth:3,index:2147483748,parentFingerprint:1240308660,path:"m/45'/0'/100'",pubkey:"028257b519520e4a611b0fbf062bef41e815145b85e621887d267c695f2c508259",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6Ca5CwTgRASgkXbXE5TeddTP9mPCbYHreCpmGt9dhz9y6femstHGCoFESHHKKRcm414xMKnuLjP9LDS7TwaJC9n5gxua6XB1rwPcC6hqDub",chaincode:"17f7729ba7f11cc95c201d023c0a7f8315101ef1ee5bd6fc8193f440eef4483f",depth:3,index:2147483748,parentFingerprint:2097768017,path:"m/45'/0'/100'",pubkey:"03540225fdc5f92c686f3ffa3fe7a912c66e94f7988bd6db92d466d7917ff7447c",rootFingerprint:"00000004",version:"0488b21e"}},"m/48'/0'/100'/1'":{xpub:"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH",chaincode:"cd1a105c93ed7c2bc01e99445f81e8674bcea6042405cb4244af2c598ab995b4",depth:4,index:2147483649,parentFingerprint:194150729,path:"m/48'/0'/100'/1'",pubkey:"030d7b4de2784978a3352adaacf3182c737de75f1c07778019aad15b0b99b640a4",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6EwJjKaiocGvo9f7XSGXGwzo1GLB1URxSZ5Ccp1wqdxNkhrSoqNQkC2CeMsU675urdmFJLHSX62xz56HGcnn6u21wRy6uipovmzaE65PfBp",chaincode:"a4b98329bb145e79fa7485653f2b9dc4d8ca9519ee0f00093809dc1d3d8b3cd2",depth:4,index:2147483649,parentFingerprint:3203536812,path:"m/48'/0'/100'/1'",pubkey:"0366e35ecc712f790e698e502ba2b3ed00645c6994b59c8884aded1eb29af87ef2",rootFingerprint:"00000005",version:"0488b21e"}},"m/48'/0'/100'/2'":{xpub:"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc",chaincode:"6b2c97052334fd0333464fd7d7b6ed9b7bae25f9bcabfa54f15e041ac22971fc",depth:4,index:2147483650,parentFingerprint:194150729,path:"m/48'/0'/100'/2'",pubkey:"038fce535133ea87f989ca0908f7e8de0fa965d0a6649b71bf5c74244ece64d490",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6EwJjKaiocGvqSuM2jRZSuQ9HEddiFUFu9RdjE47zG7kXVNDQpJ3GyvskwYiLmvU4SBTNZyv8UH53QcmFEE23YwozE61V3dwzZJEFQr6H2b",chaincode:"8b7900c703cdd0f752b13b7a95ee9cb0d5a0df7fb9bfe4678b074edd3dc59a11",depth:4,index:2147483650,parentFingerprint:3203536812,path:"m/48'/0'/100'/2'",pubkey:"030a3dd68cd8d3a896209c9eee0a6b8ec28783458882ce1a7362d8b60b34de3097",rootFingerprint:"00000006",version:"0488b21e"}}},x=[{network:m.TESTNET,addressType:p.P2SH,extendedPublicKeys:[T["m/45'/1'/100'"].open_source,T["m/45'/1'/100'"].unchained],stringExtendedPublicKeys:[T["m/45'/1'/100'"].open_source.base58String,T["m/45'/1'/100'"].unchained.base58String],requiredSigners:2,index:"0",pubKeySets:{index:{0:["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"],1:["0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19","03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27"],48349:["0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38","037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981"]},path:{"0/0":["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"]}},bip32Derivations:{index:{0:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}],1:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/1",pubkey:e.from("0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/1",pubkey:e.from("03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27","hex")}],48349:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/48349",pubkey:e.from("0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/48349",pubkey:e.from("037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981","hex")}]},path:{"0/0":[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}]}}}],k=[{network:m.TESTNET,type:p.P2SH,bip32Path:"m/45'/1'/100'/0/0",policyHmac:"6fb498be86e7accd2b264c6d129e2b1bf5edad95dbc194db962ca8958c4af0c9",publicKey:"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4",publicKeys:["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"],changePublicKeys:["021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0"],redeemScriptOps:"OP_2 02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4 03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba OP_2 OP_CHECKMULTISIG",redeemScriptHex:"522102a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d42103938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba52ae",scriptOps:"OP_HASH160 8479072d5a550ee0900b5af7e70af575527a879d OP_EQUAL",scriptHex:"a9148479072d5a550ee0900b5af7e70af575527a879d87",address:"2N5KgAnFFpmk5TRMiCicRZDQS8FFNCKqKf1",utxos:[{txid:"65e7ef764030dabfb46e3ae1c357b0666d0dda722c9809fb73245d6d68665284",index:1,amountSats:"100000",value:1e5,transactionHex:"0200000000010149c912d0e5e46f6ef933038c7fb7e1d665db9ae56b67fa57fe4c3476a95cf954000000001716001400e2f78f987a5a4493cf062994dbde49d040a922feffffff02631418000000000017a914c7ab6d103180a48181847d35732e93e0ce9ab07387a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202f538752e408b4817e7751ef243eee67d2242ca2061e8e6c9f22873247f10a8d02205b4622314efd733f12fc6557bc2f323ff2cbc1604ad97a351807e1be80875bc8012102e92335f6ecb1862f0eea0b99297f21bdb9beb9a1e8f41113788f5add306ca9fcee9b1800"},{txid:"ae9e1aa8312e102e806fa11d8e65965a624f88459e6bb5bcf48156a0c53e022a",index:1,amountSats:"100000",value:1e5,transactionHex:"0200000000010101745e1daa28c1705dbf73edd183e5ef91ad0918d97ad3e2ec2c69b548086f4d00000000171600142b0b522ba87db1646898118860449fcb2c69dae3feffffff02329642000000000017a9140f894f7e3b70b8741f830e066b6ef508a9f7479d87a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202dc887e5d623bd974968285e9c8165cfa9facd943caf0f8472e7acef632fb94302205c60434061e6a4e45360d3b3c901a9c1dd148b38dd6c9623cd8fa2677587e632012102366538692ffb9622e75a05dc2004d85efa0ebc27b99961e694d88f9ede2b57cae49b1800"},{txid:"f243c1fbb85dd49da91477b89c76636202721be9c7df5ee6eee0c6a10861ae44",index:0,amountSats:"100000",value:1e5,transactionHex:"02000000000101e5d6a0ffc5f8387a90c463bf614ae53609b72988c44afc6a577f22666bc971a7000000001716001428386489d15b1cddfd245b506b8ff2d909b18d36feffffff02a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d8786ce18050000000017a914d2fb0a8958e55d4c6c3ff58f970fdbba3006ec078702473044022007a7186e6afb93de749b3a905d1c7437f470f97095ea410538b6ac33d15a947802205a66118c7dc2e14d7325a122eb0021f54e1dbd5dfb8fd56b253fa3782716af3d012103f5951ccccf00964d54eefa78280ae083e0f0f0cc6382fd27b3fbfdfeda8dd2c7b29b1800"}],transaction:{outputs:[{address:I[m.TESTNET][p.P2SH],amountSats:"291590",value:291590},{address:O[m.TESTNET][p.P2SH],amountSats:"7535",value:7535,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","hex")}],redeemScript:e.from("5221021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd515852103a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad052ae","hex")}],hex:"0100000003845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650100000000ffffffff2a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0100000000ffffffff44ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f20000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc367876f1d00000000000017a914c34d63a6720866070490a8cb244c6bdc7ce2fa138700000000",signature:["3045022100c82920c7d99e0a4055a8459c53362d15f5f8ce275322be8fd2045b43a5ae7f8d0220478b3856327a4b7809a1f858159bd437e4d93ca480e35bbe21c5cd914b6d722a01","304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01","30450221008af4884f2bfbd4565e58c1e7d0f4cb36f8ebc210466d165c48311ddc40df7dc8022017196f4355f66621de0fed97002cfbd6ef7163c882a709f04e5dd0bbe960bcbd01"],byteCeilingSignature:["3044022004e0fcf5a1df39db158d754361f933fa07ceceb6a230e51658f3daa5d55013780220274f6257aa8b6a10f2f901340fdc083926b7c3b2acd3ba5304c8d3d41383131901","304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01","3044022030a64cec8dc9affe3380264f81292b2bc41036a815d157f2cadeff4ef360e043022042d385ff128b7ed6a3f4197182de1b7d7960420a9183756b600b2f6fa2d4a7cc01"]},bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}],changeBip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","hex")}],braidDetails:{network:m.TESTNET,addressType:p.P2SH,extendedPublicKeys:[T["m/45'/1'/100'"].open_source,T["m/45'/1'/100'"].unchained],requiredSigners:2,index:"0"},changeBraidDetails:{network:m.TESTNET,addressType:p.P2SH,extendedPublicKeys:[T["m/45'/1'/100'"].open_source,T["m/45'/1'/100'"].unchained],requiredSigners:2,index:"1"},psbtNoChange:"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",psbt:"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",psbtWithGlobalXpub:"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",psbtPartiallySigned:"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",psbtOrderedPartiallySigned:"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"},{network:m.TESTNET,type:h.P2SH_P2WSH,bip32Path:"m/48'/1'/100'/1'/0/0",policyHmac:"e472b8592c1543d3befc248b204d1403d7ed0fde10d12c96f09b3495cd4fb933",publicKey:"026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422",publicKeys:["025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c","026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422"],witnessScriptOps:"OP_2 025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c 026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"5221025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c21026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a42252ae",redeemScriptOps:"OP_0 deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1",redeemScriptHex:"0020deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1",scriptOps:"OP_HASH160 dac0270cbf87a65c0cf4fd2295eb44c756b288ec OP_EQUAL",scriptHex:"a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87",address:"2NDBsV6VBe4d2Ukp2XB644dg2xZ2SuWGkyG",utxos:[{txid:"429da41d05db69d7c006e91b15031e6d47faab15adba3c97059eeea093c36a23",index:0,amountSats:"100000",transactionHex:"02000000000101845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650000000017160014a89baf1e6b16698bf34927d4a1f71270a57972d6feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec871d8d16000000000017a91471e39bcec3aead7b1d45ad04aea8ad231be756768702473044022067dbe8b2623bd3948bfca811f934c1b512d7add1a09ff70a5b0e083edccbee780220325924a596ce2b567797b53eaa7eec3f6a989427829479ea5619ed72aaeffea40121023251e686167dbea8774b3510a78caa67550d566bd078c1285aa69ec0c561f767ee9b1800"},{txid:"d8edcd3ef4293a2554a147f048442d735fb54b901c1e39ffdb59448c1abae812",index:0,amountSats:"100000",transactionHex:"02000000000101236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d4201000000171600149df8fa8c17c034dd0e4f96c1eb0110113037ff71feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87d70515000000000017a9144b1d195a2cf70e3233aaf8e229d9d2a2da1b7845870247304402205c2e3d2cb7c8aa461aabb5c74210f795ec018db703910c9556f8b222012bb3ad02200f8c63fd859b575a6a762df0019f18ad917cf9de1e128e33bc540c4e5356b9ea012103280eb7fdde76317c63664c46bfe7602f6ff64a0dc22695c7e7093f34b40c5536ee9b1800"},{txid:"ff43f4cc8473341ce9effb91d715a4deb4e8a8cb669dd1d119a3a30552a829d1",index:0,amountSats:"100000",transactionHex:"02000000000101eef67cc41c10722be710952296866ea13ed1608acdf15e453e8d874e6a15c6d50000000017160014a989c1c6a3dbbf44d508d5f36df2d08c97e9fca4feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87a5b90d000000000017a914d0324b98895786d859ae3ee3df0c384249f1a4ab870247304402200621a08b242b807a0c39b6e0bf302e503b9a2596acdd218b176cb62afba31824022027bb2cc91b5ae57500a2e3c440d4d45cc42617f4db665a1b25974122b3789ddd01210209bb437e2e4658c6eb92c20a1ef459a2d1da50757dfba0c49a19dd3dbd621d87e09b1800"}],transaction:{outputs:[{address:I[m.TESTNET][h.P2SH_P2WSH],amountSats:"291590"},{address:O[m.TESTNET][h.P2SH_P2WSH],amountSats:"7922",value:7922,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/1'/100'/1'/1/0",pubkey:e.from("02ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba","hex")},{masterFingerprint:e.from("00000002","hex"),path:"m/48'/1'/100'/1'/1/0",pubkey:e.from("02489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c7","hex")}],redeemScript:e.from("0020d6a0f404c62823b51ca0468c3d58e8a210d8afb377372060a58e0ad1471466e0","hex"),witnessScript:e.from("522102489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c72102ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba52ae","hex")}],hex:"0100000003236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d420000000000ffffffff12e8ba1a8c4459dbff391e1c904bb55f732d4448f047a154253a29f43ecdedd80000000000ffffffffd129a85205a3a319d1d19d66cba8e8b4dea415d791fbefe91c347384ccf443ff0000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc36787f21e00000000000017a914413d62d98e2bbbf3f8f35f1d00cff58ee25eea178700000000",signature:["3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01","3045022100d23276b4de50e1fa41140e03d295551e868fb51bdf6cca303087be2bb2bf15b30220399b2f7678879eda4e59124cd7f3137b8ef9c2c1770119a2b5124503decc4b0501","3045022100af3b112d039fb101483a87639b96439fa32d654a971d060afafa7a2ee08f3abc0220513fd7823d06d89c3cb58107ea9e94042cffe57ae5e6a7fe9c965cc3e961677401"],byteCeilingSignature:["3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01","304402200d890939820ede1525454bf673e1b3682cb21e80f52304e57cc8e5d6882fe3bb022030f44d9c4213d38dc649feebcd48a3bd24de896da137e86618881a85915cdc0501","3044022065bbb9e3ab14a82680bb845de2e55b84d224f773722807f78c7be69aa1ede2bb02206bbcd5bf52039bc3049e683a441efdcde011435625b8709c59cf9680c2837f2501"]},braidDetails:{network:m.TESTNET,addressType:h.P2SH_P2WSH,extendedPublicKeys:[T["m/48'/1'/100'/1'"].open_source,T["m/48'/1'/100'/1'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wEGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnhwAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBzvpdkWMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHO+l2RYwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwc76XZFjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BAMUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wIGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnh/IeAAAAAAAAF6kUQT1i2Y4ru/P4818dAM/1juJe6heHAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHAAAAAIwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwcAAAAAjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBwAAAACMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACDWoPQExigjtRygRow9WOiiENivs3c3IGCljgrRRxRm4AEBR1IhAkib+qPcM+XSMlKV2dE2fzWkX84JyW22RW/HEpONwsDHIQKt5E/GVopKM0sXlxQFNHB6XdYMJHpZUjxXetnrWdeYulKuIgICSJv6o9wz5dIyUpXZ0TZ/NaRfzgnJbbZFb8cSk43CwMccAAAAAjAAAIABAACAZAAAgAEAAIABAAAAAAAAACICAq3kT8ZWikozSxeXFAU0cHpd1gwkellSPFd62etZ15i6HPV+xl0wAACAAQAAgGQAAIABAACAAQAAAAAAAAAA",psbtWithGlobalXpub:"cHNidP8BAMUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wIGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnh/IeAAAAAAAAF6kUQT1i2Y4ru/P4818dAM/1juJe6heHAAAAAE8BBIiyHgSA82MpgAAAAQaD/tIL1OZW711suR2sUQqA8eQll23Mi5IGDMpaj+CpAv48ZAQG8nPZrN1jzkUoLLkBfJHge0sBGEUYI9+V/XghFAAAAAIwAACAAQAAgGQAAIABAACATwEEiLIeBOdP9nOAAAABj2C1RwcT0RkADrnyBxbqoh5MfJax2KYFeQ4qliGHS3sDdNmMRyJOVeYkTPtAdjjXf/ESfwLIlZg7X+LZF083zQwU9X7GXTAAAIABAACAZAAAgAEAAIAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBwAAAACMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHAAAAAIwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwcAAAAAjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAAEAIgAg1qD0BMYoI7UcoEaMPVjoohDYr7N3NyBgpY4K0UcUZuABAUdSIQJIm/qj3DPl0jJSldnRNn81pF/OCclttkVvxxKTjcLAxyECreRPxlaKSjNLF5cUBTRwel3WDCR6WVI8V3rZ61nXmLpSriICAkib+qPcM+XSMlKV2dE2fzWkX84JyW22RW/HEpONwsDHHAAAAAIwAACAAQAAgGQAAIABAACAAQAAAAAAAAAiAgKt5E/GVopKM0sXlxQFNHB6XdYMJHpZUjxXetnrWdeYuhz1fsZdMAAAgAEAAIBkAACAAQAAgAEAAAAAAAAAAA==",psbtPartiallySigned:"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"},{network:m.TESTNET,type:A.P2WSH,bip32Path:"m/48'/1'/100'/2'/0/0",policyHmac:"df0127563de3e9c98a9970f599b39c504e4b3ed77da208d315e5da511d9afabc",publicKey:"03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469",publicKeys:["035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d","03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469"],witnessScriptOps:"OP_2 035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d 03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"5221035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d2103bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b7246952ae",scriptOps:"OP_0 ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068",scriptHex:"0020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068",address:"tb1qhgj3fnwn50pq966rjnj4pg8uz9ktsd8nge32qxd73ffvvg636p5q54g7m0",utxos:[{txid:"84df8dcc9b86e8c7bb39ce0ba9f577ec750f0b64df97a5c9559cf39243a1f501",index:0,amountSats:"100000",transactionHex:"020000000001018342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80000000000feffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068a9873f0000000000160014208e4178e48f2d270a06475ad8caeb2e01f55ae80247304402205369dedb14963e0bfa22748a546e03e47fcf994c85944ae0d6b507d15ebba57d022073cdd6c8af057aabac652ec438de7fc7e201d6a3b8619e54a2db5c1b509865e9012103ba504ae1099d8f38163c90540fa10e09cac4fa2df95b8b91bc2aba01571c27d9ee9b1800"},{txid:"f010998e033355636c2ba34af753cd6d5f198889a379bc30625bb38f646f3d72",index:0,amountSats:"100000",transactionHex:"0200000000010144ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f201000000171600142ff3a6303add9138957b880c73a331cf718a418ffeffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068364717050000000016001403f4d726aec3c06aa8a31b230e9997288faea72a02473044022032368bd2b2441840850b62f86bfa4434854b5e83da1e5cac43cd613a88f91839022042b2f9f7ea20c97d889a89b0f7cb649b8bb3acc20c4207b5665e235b340766a101210216bb0c99eb498379d5c7b7ad0f3afb9ff3eec9be622fffe821c5456003f22c02ee9b1800"},{txid:"f8b3867a14b39c537e8fbda669c5f956bb31744bf396a7e5b2a68ba43a874283",index:1,amountSats:"100000",transactionHex:"020000000001012a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0000000017160014c4733d80022a7a3dde9a7e3112b39e390500713cfeffffff02e20e410000000000160014060213b00b3d902d2bd7e90c4b7e9e34830d2f9da086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d0680247304402201504b1dbf14cf216c7de1fa78dd649a319b2274361034aaa9bc82473632650d1022013da0cb0bb740a95010821e451e7fc699bb2489e71c20093d8d3cd3f4e8c2efc012102db49c46b1a64061d15d0faa234e8da59defe0f4164009e73be9be540265cf0caee9b1800"}],transaction:{outputs:[{address:I[m.TESTNET][A.P2WSH],amountSats:"291590"},{address:O[m.TESTNET][A.P2WSH],amountSats:"8023",value:8023,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/1'/100'/2'/1/0",pubkey:e.from("02f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e5","hex")},{masterFingerprint:e.from("00000003","hex"),path:"m/48'/1'/100'/2'/1/0",pubkey:e.from("03610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f","hex")}],witnessScript:e.from("522102f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e52103610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f52ae","hex")}],hex:"010000000301f5a14392f39c55c9a597df640b0f75ec77f5a90bce39bbc7e8869bcc8ddf840000000000ffffffff723d6f648fb35b6230bc79a38988195f6dcd53f74aa32b6c635533038e9910f00000000000ffffffff8342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80100000000ffffffff0206730400000000002200202de5497b772a7cbd61cd60a359cb412099da25725671d1e1a00de8ec46752dc8571f000000000000220020bc964191e076e9fd328cf115ebe35bd3d9b7b4f937c71c41cd19a08e9100635400000000",signature:["304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01","304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501","30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01"],byteCeilingSignature:["304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01","304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501","30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01"]},braidDetails:{network:m.TESTNET,addressType:A.P2WSH,extendedPublicKeys:[T["m/48'/1'/100'/2'"].open_source,T["m/48'/1'/100'/2'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BALABAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wEGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAAA",psbt:"cHNidP8BANsBAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wIGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IVx8AAAAAAAAiACC8lkGR4Hbp/TKM8RXr41vT2be0+TfHHEHNGaCOkQBjVAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAvRfqG4axOacDxg8dp25FXdAWGx4skxJW+BATB5q4CnlIQNhC+wD5FnH+ijJo2xMnbbixLwq5OJ2SqPQNVmccFLjP1KuIgIC9F+obhrE5pwPGDx2nbkVd0BYbHiyTElb4EBMHmrgKeUc9X7GXTAAAIABAACAZAAAgAIAAIABAAAAAAAAACICA2EL7APkWcf6KMmjbEydtuLEvCrk4nZKo9A1WZxwUuM/HAAAAAMwAACAAQAAgGQAAIACAACAAQAAAAAAAAAA",psbtWithGlobalXpub:"cHNidP8BANsBAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wIGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IVx8AAAAAAAAiACC8lkGR4Hbp/TKM8RXr41vT2be0+TfHHEHNGaCOkQBjVAAAAABPAQSIsh4EgPNjKYAAAALSvjHT3pLmGD1aS7kYBI/flgupQ405GvtfesaaHCTK8QOmAuyZVUYSM/iVYDN/9681O4OEcdfxYldotOKQVEoVTxQAAAADMAAAgAEAAIBkAACAAgAAgE8BBIiyHgTnT/ZzgAAAArDX2Sg7dm55JZ3DgmPOBrR07q77P6tfU5RqrsbNUl8TAnfYjp0TlemA3r5ZR2oX8gK6J8hm02N4d+hJWPLGVFj/FPV+xl0wAACAAQAAgGQAAIACAACAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAABAUdSIQL0X6huGsTmnA8YPHaduRV3QFhseLJMSVvgQEweauAp5SEDYQvsA+RZx/ooyaNsTJ224sS8KuTidkqj0DVZnHBS4z9SriICAvRfqG4axOacDxg8dp25FXdAWGx4skxJW+BATB5q4CnlHPV+xl0wAACAAQAAgGQAAIACAACAAQAAAAAAAAAiAgNhC+wD5FnH+ijJo2xMnbbixLwq5OJ2SqPQNVmccFLjPxwAAAADMAAAgAEAAIBkAACAAgAAgAEAAAAAAAAAAA==",psbtPartiallySigned:"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"},{network:m.MAINNET,type:p.P2SH,bip32Path:"m/45'/0'/100'/0/0",publicKey:"02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79",publicKeys:["02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79","02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a"],redeemScriptOps:"OP_2 02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79 02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a OP_2 OP_CHECKMULTISIG",redeemScriptHex:"522102583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace792102b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a52ae",scriptOps:"OP_HASH160 f18bcbf45f7805fe663339d838d5c8a086d79e53 OP_EQUAL",scriptHex:"a914f18bcbf45f7805fe663339d838d5c8a086d79e5387",address:"3PiCF26aq57Wo5DJEbFNTVwD1bLCUEpAYZ",utxos:[{txid:"456813be8389d17e945c0b91b5112938a7268bb7c6721147bce6521eeabde7b0",index:0,amountSats:"10000",transactionHex:"0200000000010216ac0943cd43bb8168c591016a0a5439b3124427bf5df0582f68f2ae52fc86560000000017160014f827ea2db54a62d5027b411ff9d2d6e9234796a8feffffffd9bde17e907b90631edc22f83a4f849d9527e4a3d3b3096fdfc8131eeb8c4c8201000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387ac0700000000000017a914df0aa2a92361822c637c0e44fb1cae2f1a22f0df870247304402204f91360c63c8ce6c98ebec06a6710e5f016cac8d8733c3855401f821f437c5650220611c87d76c2e72accb892cff110f0837d6d60942fdaea2edf86098af355016570121033c5f5b6c028649dedbe089033d6736788199041567b510d88448d0d1bcd5675d024730440220296ce4c551c6945176d8f057c9d05d7a21aa7ccb4c1d8d692c8937b00e3a9be4022024a514a72e4c52ee9c7bcf5c60dd7fb8ee4e83059d0869d85a6659e4d6737535012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"},{txid:"5bbf64e036e46bf93dadc770f0415f6566453b9ae2d932df00fd5b5e49bdbbd5",index:1,amountSats:"10000",transactionHex:"0200000000010133f0ca4e94d7ad6673a3777ed56fbcf0d2ebc5f6578578746c989ba2ec20cfaa0300000017160014c530831acb421c9ac89d1a83113acf4b46b3a2affeffffff02f00602000000000017a914939b4923002a1f44854a671be64cf55846d4f5f887102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387024730440220044dac81ef05b655fb6e72a21423f2db9fd4fc938243ba8293f7f0f24c7e56e202201fa946e11c0be1eeae81fe2418a8d30bf39048fc110e6aaf253149ef47dc8d28012103fb20014d5c613fc2d5a588cf6ea9292afa843a8e5f14dfe9d4e18e5cb158ecee99490900"},{txid:"74c11de1a3f1a5daa06441d78d7fb45609b3415721466c6256bffd881451cda5",index:0,amountSats:"10000",transactionHex:"02000000000101d748779bd254dce3523c691a9ce1bf8836d524ba97d26cc24127e3367a2027f600000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387025b00000000000017a9145d0e078b76ff5e990bf628bf28f593d217caaeb9870247304402206b99e2475b2424db1e47fdb9689036fa44d5c9dea3e5419f26759eed86920c91022011c38e5e69280e62353088d5bf28ecf15a3ff348edcad8c31e441f9f57da172a012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"}],transaction:{outputs:[{address:I[m.MAINNET][p.P2SH],amountSats:"21590"},{address:O[m.MAINNET][p.P2SH],amountSats:"7535",value:7535,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/0'/100'/1/0",pubkey:e.from("0360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe","hex")},{masterFingerprint:e.from("00000004","hex"),path:"m/45'/0'/100'/1/0",pubkey:e.from("039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb3","hex")}],redeemScript:e.from("52210360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe21039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb352ae","hex")}],hex:"0100000003b0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be1368450000000000ffffffffd5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b0100000000ffffffffa5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740000000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b9876f1d00000000000017a914335131487569e42724cb7fe4818a348aa6bc7afa8700000000",signature:["30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01","3045022100f401617786808a938b0ae8a954ea32a0466eb6f49ae0b196fc0ae50ff43036f002200f72df0f6bb0710eeb61999a96d005f9853183ecbdad7bc5fb65f1169796f49d01","3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01"],byteCeilingSignature:["30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01","3044022000cd3b6d7c190049e051421d50310da4ca0f46471b517f41b18e2a26897454f8022026fd1a3e0874a9ca7f8c359a9044b38c2f5be3004b1fe10d6da51c3cbab546af01","3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01"]},braidDetails:{network:m.MAINNET,addressType:p.P2SH,extendedPublicKeys:[T["m/45'/0'/100'"].open_source,T["m/45'/0'/100'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"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",psbt:"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",psbtWithGlobalXpub:"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",psbtPartiallySigned:"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"},{network:m.MAINNET,type:h.P2SH_P2WSH,bip32Path:"m/48'/0'/100'/1'/0/0",publicKey:"0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c",publicKeys:["0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86","0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c"],witnessScriptOps:"OP_2 0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86 0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c OP_2 OP_CHECKMULTISIG",witnessScriptHex:"52210328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86210342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c52ae",redeemScriptOps:"OP_0 049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5",redeemScriptHex:"0020049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5",scriptOps:"OP_HASH160 1abcf8cea321ca874de4beb4f975077fe864a54a OP_EQUAL",scriptHex:"a9141abcf8cea321ca874de4beb4f975077fe864a54a87",address:"348PsXezZAHcW7RjmCoMJ8PHWx1QBTXJvm",utxos:[{txid:"2062282a8c6644740d4a5c85a74ad21c6a0fda8d753e8a4bdfba09a26d20eb40",index:1,amountSats:"10000",transactionHex:"02000000000104e7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c010000001716001458ff1cdc218f9baaf9a5ac278206e8f8cc2d55a2feffffffb0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be13684501000000171600144245d8387278181e8f5d61e35427fa055f891ccefeffffffb68f87f28f11710b7005426340c4c4d9795c331f027549bd383b6f179d709a280000000000feffffff79d037447d0706083212ec168a5b3e24f97bd7a9e0099b105b042781853780810000000017160014ec62a1ca200abdc755c8b34faae78202b6dd3fc3feffffff02920500000000000017a91449e9133aaffa9192d802655f2db8fa1db9eec00887102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022069c0985164d17c746fb818179f969740e39d6569ec5a144a83c72de2473b6b8002204f62217bbb2b34efedda454c85dfa960788d4c7f538c7fdf22c5074f5a2c78bb012103e74f757ceb0288ac7c051b7db87fb059a19eac05a480c65c913068a6f80d23b80247304402200f827b64e5feb6071f5d4278e4fa3643e164316ab897f53df0482658e753110202201143f4348812122322876aa29a7285cc8ea51a3e32fb0392fd2e6422d63793f501210350de53693c9da7f849cab9479304ee2b2af317f28ee00ed1e112cd95bc200bd2024730440220025e0eff09b09817e8d595c01bfd2fdba6082e2c4f8f286545f9a2a2e9f148ba02205725704e14c2969a1afcf0084dd29bdbc5136b75438158ecf76992e3c24b561f012102e24e7df260cb56ffbcdb52bea6f8c8bc267d849f5799cf919e32574568ed85d602473044022011bbd9ec6338f174fa0a386acb1fb4dfe348343b2eed5017b11e96151ad214ca02207e7bb5443f34d33147f28fafb4cd661dccc7c6993ad7c58ed47197c85b48c849012102587990c5f71d9e4c894069589845c5f2649b83006160b9d1b8f31bab54133a9399490900"},{txid:"4c211951fa39a412d3f5f42013022eefd16954694cc37c57bff769ef909ef9e7",index:0,amountSats:"10000",transactionHex:"02000000000101a5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740100000017160014eeeff0e10da2973449331a9e48f246b18488e965feffffff02102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a87bd2a00000000000017a91445a77947cf42db7fec41cec25c28af0b73becf2e8702473044022044858a87117fd8af2fa92db123935019d76ee9157fb9a48a9cd97ee085b128f90220572b799eae6f3f8cf6aa287450ff46b21588840dabeeb63e57c6f3f320f49eea0121025abd982f0c9ebbb7238900326af437c393eb2c5e875f5bd63152ddd756e5049a99490900"},{txid:"c5d0e548e2332450057ce5bd2a6fb720b2c8bd6f595ed11fdba71488b1bf7b31",index:1,amountSats:"10000",transactionHex:"02000000000101d5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b00000000171600140e021c1c3313ef991acd0c5d9f63ca12ce110005feffffff02abd601000000000017a9145d27db58f13d4851260174d9dc9eacdf62074a4e87102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022077b4f0f2d1480443f8b29ed68a29b606b83a3ebbda4349bf813c33330b7f4aa902202061823fd25330b6c0adb68afce4546ada193eb63982f28a7562bc605ea6b0e5012102930a7b8a6fd51a8ce36039bacf160239cfb7dbc72dc1a051aaac333bc7f8e7924e490900"}],transaction:{outputs:[{address:I[m.MAINNET][h.P2SH_P2WSH],amountSats:"21590"},{address:O[m.MAINNET][h.P2SH_P2WSH],amountSats:"7922",value:7922,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/0'/100'/1'/1/0",pubkey:e.from("029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b1","hex")},{masterFingerprint:e.from("00000005","hex"),path:"m/48'/0'/100'/1'/1/0",pubkey:e.from("0272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be7","hex")}],redeemScript:e.from("0020581e9806610ac1c8249dc3446e01f8365ecfc506462379d6948baa0d128c519a","hex"),witnessScript:e.from("52210272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be721029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b152ae","hex")}],hex:"010000000340eb206da209badf4b8a3e758dda0f6a1cd24aa7855c4a0d7444668c2a2862200100000000ffffffffe7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c0000000000ffffffff317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c50100000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b987f21e00000000000017a91407339e0dab9b912f9972f96e7d6c6d09e38b7c828700000000",signature:["3045022100e218d80acbbf41b2ad630d7c4b7eb345934466cf205ac119bd41ce2bd3ab0daa022048a1238dc01d06ed57cf5715d5e74397fcb433001b1e39a6821d653ea0ac683601","3045022100bdfd743229bafc6ff66524413528ac920d8bc5ba002f5112d24a6c19f2035247022073b55186e98329c3d0790d701107491d8a06ccc593f87b00df511bf41fe4d5c101","30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01"],byteCeilingSignature:["3044022043898cd12541009f4612dc263af1542c785f76d0d17d174d9a6f70d86aa8a5b50220332b539f6afec6de56e399205ef83c9feb4568dff3ca1795ce56081a45978dd401","3044022002953c3d45efc91aab969abfdbe603458a5738a00f8faa5415df6dba0e305a8002200cae08ed7df228c4fdc7725429090dabbad6e5abee729f78519df21ee7fd75f101","30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01"]},braidDetails:{network:m.MAINNET,addressType:h.P2SH_P2WSH,extendedPublicKeys:[T["m/48'/0'/100'/1'"].open_source,T["m/48'/0'/100'/1'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhzvpdkWMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHO+l2RYwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74Yc76XZFjAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BAMUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wJWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5h/IeAAAAAAAAF6kUBzOeDaubkS+ZcvlufWxtCeOLfIKHAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHAAAAAUwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YcAAAABTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhwAAAAFMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACBYHpgGYQrByCSdw0RuAfg2Xs/FBkYjedaUi6oNEoxRmgEBR1IhAnKDT2UkRJEOHMFXuZ9S/WBSgmoR+QmYeaVUkPa4GQvnIQKZl/nHCUiB0kGxOxTYVnze3KzNQRhExV/gmwuMobJUsVKuIgICcoNPZSREkQ4cwVe5n1L9YFKCahH5CZh5pVSQ9rgZC+ccAAAABTAAAIAAAACAZAAAgAEAAIABAAAAAAAAACICApmX+ccJSIHSQbE7FNhWfN7crM1BGETFX+CbC4yhslSxHPV+xl0wAACAAAAAgGQAAIABAACAAQAAAAAAAAAA",psbtWithGlobalXpub:"cHNidP8BAMUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wJWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5h/IeAAAAAAAAF6kUBzOeDaubkS+ZcvlufWxtCeOLfIKHAAAAAE8BBIiyHgQLkoFJgAAAAc0aEFyT7XwrwB6ZRF+B6GdLzqYEJAXLQkSvLFmKuZW0Aw17TeJ4SXijNSrarPMYLHN9518cB3eAGarRWwuZtkCkFPV+xl0wAACAAAAAgGQAAIABAACATwEEiLIeBL7yF6yAAAABpLmDKbsUXnn6dIVlPyudxNjKlRnuDwAJOAncHT2LPNIDZuNezHEveQ5pjlArorPtAGRcaZS1nIiEre0espr4fvIUAAAABTAAAIAAAACAZAAAgAEAAIAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhwAAAAFMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHAAAAAUwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YcAAAABTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAAEAIgAgWB6YBmEKwcgkncNEbgH4Nl7PxQZGI3nWlIuqDRKMUZoBAUdSIQJyg09lJESRDhzBV7mfUv1gUoJqEfkJmHmlVJD2uBkL5yECmZf5xwlIgdJBsTsU2FZ83tyszUEYRMVf4JsLjKGyVLFSriICAnKDT2UkRJEOHMFXuZ9S/WBSgmoR+QmYeaVUkPa4GQvnHAAAAAUwAACAAAAAgGQAAIABAACAAQAAAAAAAAAiAgKZl/nHCUiB0kGxOxTYVnze3KzNQRhExV/gmwuMobJUsRz1fsZdMAAAgAAAAIBkAACAAQAAgAEAAAAAAAAAAA==",psbtPartiallySigned:"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"},{network:m.MAINNET,type:A.P2WSH,bip32Path:"m/48'/0'/100'/2'/0/0",publicKey:"0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4",publicKeys:["02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b","0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4"],witnessScriptOps:"OP_2 02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b 0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"522102e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b210369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f452ae",scriptOps:"OP_0 497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9",scriptHex:"0020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9",address:"bc1qf9asympax4r6xrndsqrw8p0qxe40tm9zkk69tkrc8p6eg8ju075sjeekkt",utxos:[{txid:"4ab356fef8b8205a3b96b4924e8e94f18c4b8ecdefa0bb1ee28ce19f091c3f58",index:0,amountSats:"10000",transactionHex:"020000000001011aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0100000000feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa94c76010000000000160014553e9be0af92386ae6b4065262dc97fdee9979170247304402206407b5c1fa2fd49b92e6f1802a0eed9e75f55c3db1ea179f077072d0c6e9031602205823ba8d01a6b96db9334affcb9b1e7dfb434cfdc1389287016d6b68c5c2cf0c0121029de99c2fec6fad0a90fb5a7792775477b8d82fa4f213903a2f67d3e2c1d802eb99490900"},{txid:"a21b384dc72b9ef2559339cecd5ad2652171589b1e479497817b617734859d90",index:1,amountSats:"10000",transactionHex:"02000000000101583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0100000000feffffff02c04601000000000016001416d8412d77ae6d6280c60091a7197a3f98546c911027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa90247304402204fada6ffa61f578f647ace8c8d02b678ff95ed0feca83b3a4750a97c5aa3ddca02203dc438b53e7aef6bd4f9152e37d6cbce4e64306932cc27f7e2072d764990cb530121020b500126d56d6f17b28e90f254b4b38c260ecd8e941b65c557b8af6c767027dd99490900"},{txid:"af6e299c95d19abe3d99da27198355c4b52b4746ac985ab622284e286957a31a",index:0,amountSats:"10000",transactionHex:"02000000000101317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c500000000171600147e88fb2bc740d5efffef8b6f53d5eb68b83317b6feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9d8a50100000000001600144ddfedfd823ee5dc953f4792a855b262a85ed77c0247304402202fc8347a8801fbbd13db5bd2694cdabb2c3428b6cfa6edda02ff16bc6cacb6b8022054604d07510ede500197deefe9d39abe277fb97a837ae40ea815b6aa38f0329701210247348c03f596b52730429ea89df4b3d75b219fd3c30cbcb66dae04779e0de6d236490900"}],transaction:{outputs:[{address:I[m.MAINNET][A.P2WSH],amountSats:"21590"},{address:O[m.MAINNET][A.P2WSH],amountSats:"8023",value:8023,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/0'/100'/2'/1/0",pubkey:e.from("038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae2174510","hex")},{masterFingerprint:e.from("00000006","hex"),path:"m/48'/0'/100'/2'/1/0",pubkey:e.from("0318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e7","hex")}],witnessScript:e.from("52210318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e721038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae217451052ae","hex")}],hex:"0100000003583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0000000000ffffffff909d853477617b819794471e9b58712165d25acdce399355f29e2bc74d381ba20100000000ffffffff1aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0000000000ffffffff02565400000000000022002035be74e39d8452cd6ede2aede6be70e21e57941843032e495d823eb9f521aea7571f00000000000022002098ac4adf0ec716cb2d30585fc8db6b41ad26431f55213622b43723de418aff4200000000",signature:["304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01","304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201","3045022100ce3fea96bde970eab9aab5a3d8a00e1be5515cdd534db0d7c8a1755408c2c9c402204842d008cbacd7ce5df38035d55682ee03036751563d7b20253966bdb131a44801"],byteCeilingSignature:["304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01","304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201","304402202dd767bfc22fe0c68703d32359e2d649d499426df47e76cdf298d62a8094631e0220133c0516991eb18885e5b2171d5bdbbab58e635c2412ec14b7f3db9f5fa2ef1a01"]},braidDetails:{network:m.MAINNET,addressType:A.P2WSH,extendedPublicKeys:[T["m/48'/0'/100'/2'"].open_source,T["m/48'/0'/100'/2'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BANsBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wJWVAAAAAAAACIAIDW+dOOdhFLNbt4q7ea+cOIeV5QYQwMuSV2CPrn1Ia6nVx8AAAAAAAAiACCYrErfDscWyy0wWF/I22tBrSZDH1UhNiK0NyPeQYr/QgAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAximCvyap+MZH55JBRxwdk92iNmlZ7MnwJXlo/dfiEfnIQOLXilfFPaoSPVbfWLv3e9Gedw2Hs2l9s0HTMJK4hdFEFKuIgIDGKYK/Jqn4xkfnkkFHHB2T3aI2aVnsyfAleWj91+IR+ccAAAABjAAAIAAAACAZAAAgAIAAIABAAAAAAAAACICA4teKV8U9qhI9Vt9Yu/d70Z53DYezaX2zQdMwkriF0UQHPV+xl0wAACAAAAAgGQAAIACAACAAQAAAAAAAAAA",psbtWithGlobalXpub:"cHNidP8BANsBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wJWVAAAAAAAACIAIDW+dOOdhFLNbt4q7ea+cOIeV5QYQwMuSV2CPrn1Ia6nVx8AAAAAAAAiACCYrErfDscWyy0wWF/I22tBrSZDH1UhNiK0NyPeQYr/QgAAAABPAQSIsh4EC5KBSYAAAAJrLJcFIzT9AzNGT9fXtu2be64l+byr+lTxXgQawilx/AOPzlNRM+qH+YnKCQj36N4PqWXQpmSbcb9cdCROzmTUkBT1fsZdMAAAgAAAAIBkAACAAgAAgE8BBIiyHgS+8hesgAAAAot5AMcDzdD3UrE7epXunLDVoN9/ub/kZ4sHTt09xZoRAwo91ozY06iWIJye7gprjsKHg0WIgs4ac2LYtgs03jCXFAAAAAYwAACAAAAAgGQAAIACAACAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAABAUdSIQMYpgr8mqfjGR+eSQUccHZPdojZpWezJ8CV5aP3X4hH5yEDi14pXxT2qEj1W31i793vRnncNh7NpfbNB0zCSuIXRRBSriICAximCvyap+MZH55JBRxwdk92iNmlZ7MnwJXlo/dfiEfnHAAAAAYwAACAAAAAgGQAAIACAACAAQAAAAAAAAAiAgOLXilfFPaoSPVbfWLv3e9Gedw2Hs2l9s0HTMJK4hdFEBz1fsZdMAAAgAAAAIBkAACAAgAAgAEAAAAAAAAAAA==",psbtPartiallySigned:"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"}].map((function(e){var t=f.generateMultisigFromPublicKeys.apply(void 0,[e.network,e.type,2].concat(w(e.publicKeys)));return t.braidDetails=(0,b.braidConfig)(e.braidDetails),t.bip32Derivation=e.bip32Derivation,E(E({},e),{description:"".concat(e.network," ").concat(e.type," 2-of-2 multisig address"),utxos:e.utxos.map((function(r){return E(E(E({},r),{amountSats:(0,l.default)(r.amountSats),multisig:t}),{},{bip32Path:e.bip32Path})})),transaction:E(E({},e.transaction),{outputs:e.transaction.outputs.map((function(e){return E(E({},e),{amountSats:(0,l.default)(e.amountSats)})}))}),multisig:t,multisigScript:e.type===p.P2SH?(0,f.multisigRedeemScript)(t):(0,f.multisigWitnessScript)(t),multisigScriptOps:e.type===p.P2SH?e.redeemScriptOps:e.witnessScriptOps,multisigScriptHex:e.type===p.P2SH?e.redeemScriptHex:e.witnessScriptHex})}));var C=k.map((function(e){return function(e){return E(E({},{name:"Sign ".concat(e.description),description:"spends multiple UTXOs from a single ".concat(e.description),network:e.network,inputs:(0,d.sortInputs)(e.utxos),bip32Paths:e.utxos.map((function(){return e.bip32Path})),publicKeys:e.utxos.map((function(){return e.publicKey})),segwit:e.type!==p.P2SH,psbt:e.psbt,psbtWithGlobalXpub:e.psbtWithGlobalXpub,format:e.type,derivation:e.bip32Path.slice(0,-4),extendedPublicKeys:e.braidDetails.extendedPublicKeys,braidDetails:e.braidDetails,walletName:e.walletName,policyHmac:e.policyHmac}),e.transaction)}(e)})).concat([]),j={keys:{open_source:{bip39Phrase:["merge","alley","lucky","axis","penalty","manage","latin","gasp","virus","captain","wheel","deal","chase","fragile","chapter","boss","zero","dirt","stadium","tooth","physical","valve","kid","plunge"],nodes:Object.keys(T).reduce((function(e,t){var r=T[t],n=r.unchained,a=g(r,["unchained"]);return e[t]=n?a:T[t],e}),{})},unchained:{nodes:Object.keys(T).reduce((function(e,t){var r=T[t].unchained;return r&&(e[t]=r),e}),{})}},braids:x,multisigs:k,transactions:C};t.TEST_FIXTURES=j}).call(this,r(9).Buffer)},1115:function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(564),r(565),r(231),r(272),r(273),r(339),r(415),Object.defineProperty(t,"__esModule",{value:!0}),t.PsbtV2Maps=t.PsbtV2=void 0,t.getPsbtVersionNumber=function(e){return T(e)[l.PSBT_MAGIC_BYTES.length+1]},r(419),r(271),r(1116),r(190),r(413),r(189),r(418),r(229),r(208),r(160),r(224);var a,o,i=r(398),c=r(192),u=r(204),s=r(343),l=r(574);function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function w(e,t){if(e){if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){e.PSBT_GLOBAL_XPUB="01",e.PSBT_GLOBAL_TX_VERSION="02",e.PSBT_GLOBAL_FALLBACK_LOCKTIME="03",e.PSBT_GLOBAL_INPUT_COUNT="04",e.PSBT_GLOBAL_OUTPUT_COUNT="05",e.PSBT_GLOBAL_TX_MODIFIABLE="06",e.PSBT_GLOBAL_VERSION="fb",e.PSBT_GLOBAL_PROPRIETARY="fc",e.PSBT_IN_NON_WITNESS_UTXO="00",e.PSBT_IN_WITNESS_UTXO="01",e.PSBT_IN_PARTIAL_SIG="02",e.PSBT_IN_SIGHASH_TYPE="03",e.PSBT_IN_REDEEM_SCRIPT="04",e.PSBT_IN_WITNESS_SCRIPT="05",e.PSBT_IN_BIP32_DERIVATION="06",e.PSBT_IN_FINAL_SCRIPTSIG="07",e.PSBT_IN_FINAL_SCRIPTWITNESS="08",e.PSBT_IN_POR_COMMITMENT="09",e.PSBT_IN_RIPEMD160="0a",e.PSBT_IN_SHA256="0b",e.PSBT_IN_HASH160="0c",e.PSBT_IN_HASH256="0d",e.PSBT_IN_PREVIOUS_TXID="0e",e.PSBT_IN_OUTPUT_INDEX="0f",e.PSBT_IN_SEQUENCE="10",e.PSBT_IN_REQUIRED_TIME_LOCKTIME="11",e.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME="12",e.PSBT_IN_TAP_KEY_SIG="13",e.PSBT_IN_TAP_SCRIPT_SIG="14",e.PSBT_IN_TAP_LEAF_SCRIPT="15",e.PSBT_IN_TAP_BIP32_DERIVATION="16",e.PSBT_IN_TAP_INTERNAL_KEY="17",e.PSBT_IN_TAP_MERKLE_ROOT="18",e.PSBT_IN_PROPRIETARY="fc",e.PSBT_OUT_REDEEM_SCRIPT="00",e.PSBT_OUT_WITNESS_SCRIPT="01",e.PSBT_OUT_BIP32_DERIVATION="02",e.PSBT_OUT_AMOUNT="03",e.PSBT_OUT_SCRIPT="04",e.PSBT_OUT_TAP_INTERNAL_KEY="05",e.PSBT_OUT_TAP_TREE="06",e.PSBT_OUT_TAP_BIP32_DERIVATION="07",e.PSBT_OUT_PROPRIETARY="fc"}(a||(a={})),function(e){e.INPUTS="INPUTS",e.OUTPUTS="OUTPUTS",e.SIGHASH_SINGLE="SIGHASH_SINGLE"}(o||(o={}));var P=e.from([0]),I=/(\/[0-9]+'?)/gi,O=Error("Not a valid psbt");function T(t){if(e.isBuffer(t))return t;if("string"===typeof t){if(""===(0,u.validateHex)(t))return e.from(t,"hex");if((0,u.validBase64)(t))return e.from(t,"base64")}throw O}function x(e,t){if(Array.isArray(e))return e.map((function(e){return x(e,t)}));var r,n=[],a=E(e.entries());try{for(a.s();!(r=a.n()).done;){var o=y(r.value,2),i=o[0],c=o[1];i.startsWith(t)&&n.push({key:i,value:(null===c||void 0===c?void 0:c.toString("hex"))||null})}}catch(u){a.e(u)}finally{a.f()}return n}function k(e,t){return e.map((function(e){var r,n;return null!==(r=null===(n=e.get(t))||void 0===n?void 0:n.toString("hex"))&&void 0!==r?r:null}))}function C(e,t){return e.map((function(e){var r,n;return null!==(r=null===(n=e.get(t))||void 0===n?void 0:n.readUInt32LE())&&void 0!==r?r:null}))}function j(e){var t,r=(0,s.validateBIP32Path)(e);if(""!==r)throw Error(r);var n,a=new i.BufferWriter,o=E(null!==(t=e.match(I))&&void 0!==t?t:[]);try{for(o.s();!(n=o.n()).done;){var c=n.value,u=parseInt(c.slice(1),10);c.indexOf("'")>-1&&(u+=2147483648),a.writeU32(u)}}catch(l){o.e(l)}finally{o.f()}return a.render()}function B(e,t){var r=t.readBytes(1);if(!r.equals(P)){var n=r.readUInt8(),a=t.readBytes(n),o=t.readVarBytes();e.set(a.toString("hex"),o),B(e,t)}}function R(t,r){t.forEach((function(t,n){var a=e.from(n,"hex").length;r.writeVarint(a),r.writeString(n,"hex"),r.writeVarint(t.length),r.writeBytes(t)})),r.writeBytes(P)}var N=function(){function t(r){var n,o,c,u;if(A(this,t),v(this,"globalMap",new Map),v(this,"inputMaps",[]),v(this,"outputMaps",[]),r){var s=T(r),f=new i.BufferReader(s);if(!f.readBytes(l.PSBT_MAGIC_BYTES.length,!0).equals(l.PSBT_MAGIC_BYTES))throw O;if(B(this.globalMap,f),!this.globalMap.has(a.PSBT_GLOBAL_TX_VERSION)||!this.globalMap.has(a.PSBT_GLOBAL_INPUT_COUNT)||!this.globalMap.has(a.PSBT_GLOBAL_OUTPUT_COUNT)||this.globalMap.has("00"))throw Error("Provided psbtV2 not valid. Missing required global values.");for(var d=null!==(n=null===(o=this.globalMap.get(a.PSBT_GLOBAL_INPUT_COUNT))||void 0===o?void 0:o.readUInt8())&&void 0!==n?n:0,p=0;p<d;p++){var h=new Map;B(h,f),this.inputMaps.push(h)}for(var m=null!==(c=null===(u=this.globalMap.get(a.PSBT_GLOBAL_OUTPUT_COUNT))||void 0===u?void 0:u.readUInt8())&&void 0!==c?c:0,b=0;b<m;b++){var g=new Map;B(g,f),this.outputMaps.push(g)}}else this.globalMap.set(a.PSBT_GLOBAL_VERSION,e.from([2,0,0,0]))}return b(t,[{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base64",t=new i.BufferWriter;t.writeBytes(l.PSBT_MAGIC_BYTES),R(this.globalMap,t);var r,n=E(this.inputMaps);try{for(n.s();!(r=n.n()).done;){var a=r.value;R(a,t)}}catch(s){n.e(s)}finally{n.f()}var o,c=E(this.outputMaps);try{for(c.s();!(o=c.n()).done;){var u=o.value;R(u,t)}}catch(s){c.e(s)}finally{c.f()}return t.render().toString(e)}},{key:"copy",value:function(e){this.copyMap(this.globalMap,e.globalMap),this.copyMaps(this.inputMaps,e.inputMaps),this.copyMaps(this.outputMaps,e.outputMaps)}},{key:"copyMaps",value:function(e,t){var r=this;e.forEach((function(e,n){var a=new Map;r.copyMap(e,a),t[n]=a}))}},{key:"copyMap",value:function(t,r){t.forEach((function(t,n){return r.set(n,e.from(t))}))}}]),t}();t.PsbtV2Maps=N;var _=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,t);var r=d(n);function n(e){var t;if(A(this,n),void 0===(t=r.call(this,e)).PSBT_IN_PREVIOUS_TXID||void 0===t.PSBT_IN_OUTPUT_INDEX)throw Error("Provided psbtV2 not valid. Missing required input values.");var a,o=E(t.PSBT_IN_REQUIRED_TIME_LOCKTIME);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(i&&i<5e8)throw Error("Provided psbtV2 not valid. An input time locktime is less than 500000000.")}}catch(l){o.e(l)}finally{o.f()}var c,u=E(t.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME);try{for(u.s();!(c=u.n()).done;){var s=c.value;if(s&&s>=5e8)throw Error("Provided psbtV2 not valid. An input hight locktime is gte 500000000.")}}catch(l){u.e(l)}finally{u.f()}if(void 0===t.PSBT_OUT_AMOUNT||void 0===t.PSBT_OUT_SCRIPT)throw Error("Provided psbtV2 not valid. Missing required output values.");return t}return b(n,[{key:"addGlobalXpub",value:function(t,r,n){var o=new i.BufferWriter;o.writeBytes(e.from(a.PSBT_GLOBAL_XPUB,"hex")),o.writeBytes(t);var c=o.render().toString("hex");o.writeBytes(r);var u=j(n);o.writeBytes(u);var s=o.render();this.globalMap.set(c,s)}},{key:"addInput",value:function(t){var r=t.previousTxId,n=t.outputIndex,o=t.sequence,c=t.nonWitnessUtxo,u=t.witnessUtxo,s=t.redeemScript,l=t.witnessScript,f=t.bip32Derivation,d=new Map,p=new i.BufferWriter;if(e.isBuffer(r)?p.writeBytes(r):p.writeString(r,"hex"),d.set(a.PSBT_IN_PREVIOUS_TXID,p.render()),p.writeI32(n),d.set(a.PSBT_IN_OUTPUT_INDEX,p.render()),o&&(p.writeI32(o),d.set(a.PSBT_IN_SEQUENCE,p.render())),c&&(p.writeBytes(c),d.set(a.PSBT_IN_NON_WITNESS_UTXO,p.render())),u&&(p.writeBytes(u),d.set(a.PSBT_IN_WITNESS_UTXO,p.render())),s&&(p.writeBytes(s),d.set(a.PSBT_IN_REDEEM_SCRIPT,p.render())),l&&(p.writeBytes(l),d.set(a.PSBT_IN_WITNESS_SCRIPT,p.render())),f){var h,A=E(f);try{for(A.s();!(h=A.n()).done;){var m=h.value;p.writeString(a.PSBT_IN_BIP32_DERIVATION,"hex"),p.writeBytes(m.pubkey);var b=p.render().toString("hex");p.writeBytes(m.masterFingerprint),p.writeBytes(j(m.path)),d.set(b,p.render())}}catch(v){A.e(v)}finally{A.f()}}this.inputMaps.push(d)}},{key:"deleteInput",value:function(e){var t=this.inputMaps.filter((function(t,r){return r!==e}));this.PSBT_GLOBAL_INPUT_COUNT=t.length,this.inputMaps=t}},{key:"addOutput",value:function(e){var t=e.amount,r=e.script,n=e.redeemScript,o=e.witnessScript,c=e.bip32Derivation,u=new Map,s=new i.BufferWriter;if(s.writeI64(t),u.set(a.PSBT_OUT_AMOUNT,s.render()),s.writeBytes(r),u.set(a.PSBT_OUT_SCRIPT,s.render()),n&&(s.writeBytes(r),u.set(a.PSBT_OUT_REDEEM_SCRIPT,s.render())),o&&(s.writeBytes(r),u.set(a.PSBT_OUT_WITNESS_SCRIPT,s.render())),c){var l,f=E(c);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.writeString(a.PSBT_OUT_BIP32_DERIVATION,"hex"),s.writeBytes(d.pubkey);var p=s.render().toString("hex");s.writeBytes(d.masterFingerprint),s.writeBytes(j(d.path)),u.set(p,s.render())}}catch(h){f.e(h)}finally{f.f()}}this.outputMaps.push(u)}},{key:"deleteOutput",value:function(e){var t=this.outputMaps.filter((function(t,r){return r!==e}));this.PSBT_GLOBAL_OUTPUT_COUNT=t.length,this.outputMaps=t}},{key:"PSBT_GLOBAL_XPUB",get:function(){return x(this.globalMap,a.PSBT_GLOBAL_XPUB)}},{key:"PSBT_GLOBAL_TX_VERSION",get:function(){var e=this.globalMap.get(a.PSBT_GLOBAL_TX_VERSION);if(void 0===e)throw Error("PSBT_GLOBAL_TX_VERSION not set");return e.readInt32LE(0)},set:function(e){var t=new i.BufferWriter;t.writeI32(e),this.globalMap.set(a.PSBT_GLOBAL_TX_VERSION,t.render())}},{key:"PSBT_GLOBAL_FALLBACK_LOCKTIME",get:function(){var e,t;return null!==(e=null===(t=this.globalMap.get(a.PSBT_GLOBAL_FALLBACK_LOCKTIME))||void 0===t?void 0:t.readUInt32LE())&&void 0!==e?e:null},set:function(e){if(null===e)this.globalMap.delete(a.PSBT_GLOBAL_FALLBACK_LOCKTIME);else{var t=new i.BufferWriter;t.writeI32(e),this.globalMap.set(a.PSBT_GLOBAL_FALLBACK_LOCKTIME,t.render())}}},{key:"PSBT_GLOBAL_INPUT_COUNT",get:function(){var e=this.globalMap.get(a.PSBT_GLOBAL_INPUT_COUNT);if(void 0===e)throw Error("PSBT_GLOBAL_INPUT_COUNT not set");return e.readUInt8()},set:function(e){var t=new i.BufferWriter;t.writeU8(e),this.globalMap.set(a.PSBT_GLOBAL_INPUT_COUNT,t.render())}},{key:"PSBT_GLOBAL_OUTPUT_COUNT",get:function(){var e=this.globalMap.get(a.PSBT_GLOBAL_OUTPUT_COUNT);if(void 0===e)throw Error("PSBT_GLOBAL_OUTPUT_COUNT not set");return e.readUInt8()},set:function(e){var t=new i.BufferWriter;t.writeU8(e),this.globalMap.set(a.PSBT_GLOBAL_OUTPUT_COUNT,t.render())}},{key:"PSBT_GLOBAL_TX_MODIFIABLE",get:function(){var e,t=(null===(e=this.globalMap.get(a.PSBT_GLOBAL_TX_MODIFIABLE))||void 0===e?void 0:e.readUInt8())||0,r=[];return 1&t&&r.push(o.INPUTS),2&t&&r.push(o.OUTPUTS),4&t&&r.push(o.SIGHASH_SINGLE),r}},{key:"PSBT_GLOBAL_VERSION",get:function(){var e,t;return null!==(e=null===(t=this.globalMap.get(a.PSBT_GLOBAL_VERSION))||void 0===t?void 0:t.readUInt32LE())&&void 0!==e?e:null}},{key:"PSBT_GLOBAL_PROPRIETARY",get:function(){return x(this.globalMap,a.PSBT_GLOBAL_PROPRIETARY)}},{key:"PSBT_IN_NON_WITNESS_UTXO",get:function(){return k(this.inputMaps,a.PSBT_IN_NON_WITNESS_UTXO)}},{key:"PSBT_IN_WITNESS_UTXO",get:function(){return k(this.inputMaps,a.PSBT_IN_WITNESS_UTXO)}},{key:"PSBT_IN_PARTIAL_SIG",get:function(){return x(this.inputMaps,a.PSBT_IN_PARTIAL_SIG)}},{key:"PSBT_IN_SIGHASH_TYPE",get:function(){return C(this.inputMaps,a.PSBT_IN_SIGHASH_TYPE)}},{key:"PSBT_IN_REDEEM_SCRIPT",get:function(){return k(this.inputMaps,a.PSBT_IN_REDEEM_SCRIPT)}},{key:"PSBT_IN_WITNESS_SCRIPT",get:function(){return k(this.inputMaps,a.PSBT_IN_WITNESS_SCRIPT)}},{key:"PSBT_IN_BIP32_DERIVATION",get:function(){return x(this.inputMaps,a.PSBT_IN_BIP32_DERIVATION)}},{key:"PSBT_IN_FINAL_SCRIPTSIG",get:function(){return k(this.inputMaps,a.PSBT_IN_FINAL_SCRIPTSIG)}},{key:"PSBT_IN_FINAL_SCRIPTWITNESS",get:function(){return k(this.inputMaps,a.PSBT_IN_FINAL_SCRIPTWITNESS)}},{key:"PSBT_IN_POR_COMMITMENT",get:function(){return k(this.inputMaps,a.PSBT_IN_POR_COMMITMENT)}},{key:"PSBT_IN_RIPEMD160",get:function(){return x(this.inputMaps,a.PSBT_IN_RIPEMD160)}},{key:"PSBT_IN_SHA256",get:function(){return x(this.inputMaps,a.PSBT_IN_SHA256)}},{key:"PSBT_IN_HASH160",get:function(){return x(this.inputMaps,a.PSBT_IN_HASH160)}},{key:"PSBT_IN_HASH256",get:function(){return x(this.inputMaps,a.PSBT_IN_HASH256)}},{key:"PSBT_IN_PREVIOUS_TXID",get:function(){var e,t=[],r=E(this.inputMaps);try{for(r.s();!(e=r.n()).done;){var n=e.value.get(a.PSBT_IN_PREVIOUS_TXID);if(!n)throw Error("PSBT_IN_PREVIOUS_TXID not set for an input");t.push(n.toString("hex"))}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"PSBT_IN_OUTPUT_INDEX",get:function(){var e,t=[],r=E(this.inputMaps);try{for(r.s();!(e=r.n()).done;){var n=e.value.get(a.PSBT_IN_OUTPUT_INDEX);if(!n)throw Error("PSBT_IN_OUTPUT_INDEX not set for an input");t.push(n.readUInt32LE())}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"PSBT_IN_SEQUENCE",get:function(){return C(this.inputMaps,a.PSBT_IN_SEQUENCE)}},{key:"PSBT_IN_REQUIRED_TIME_LOCKTIME",get:function(){return C(this.inputMaps,a.PSBT_IN_REQUIRED_TIME_LOCKTIME)}},{key:"PSBT_IN_REQUIRED_HEIGHT_LOCKTIME",get:function(){return C(this.inputMaps,a.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME)}},{key:"PSBT_IN_TAP_KEY_SIG",get:function(){return k(this.inputMaps,a.PSBT_IN_TAP_KEY_SIG)}},{key:"PSBT_IN_TAP_SCRIPT_SIG",get:function(){return x(this.inputMaps,a.PSBT_IN_TAP_SCRIPT_SIG)}},{key:"PSBT_IN_TAP_LEAF_SCRIPT",get:function(){return x(this.inputMaps,a.PSBT_IN_TAP_LEAF_SCRIPT)}},{key:"PSBT_IN_TAP_BIP32_DERIVATION",get:function(){return x(this.inputMaps,a.PSBT_IN_TAP_BIP32_DERIVATION)}},{key:"PSBT_IN_TAP_INTERNAL_KEY",get:function(){return k(this.inputMaps,a.PSBT_IN_TAP_INTERNAL_KEY)}},{key:"PSBT_IN_TAP_MERKLE_ROOT",get:function(){return k(this.inputMaps,a.PSBT_IN_TAP_MERKLE_ROOT)}},{key:"PSBT_IN_PROPRIETARY",get:function(){return x(this.inputMaps,a.PSBT_IN_PROPRIETARY)}},{key:"PSBT_OUT_REDEEM_SCRIPT",get:function(){return k(this.outputMaps,a.PSBT_OUT_REDEEM_SCRIPT)}},{key:"PSBT_OUT_WITNESS_SCRIPT",get:function(){return k(this.outputMaps,a.PSBT_OUT_WITNESS_SCRIPT)}},{key:"PSBT_OUT_BIP32_DERIVATION",get:function(){return x(this.outputMaps,a.PSBT_OUT_BIP32_DERIVATION)}},{key:"PSBT_OUT_AMOUNT",get:function(){var e,t=[],r=E(this.outputMaps);try{for(r.s();!(e=r.n()).done;){var n=e.value.get(a.PSBT_OUT_AMOUNT);if(!n)throw Error("PSBT_OUT_AMOUNT not set for an output");t.push(n.readBigInt64LE())}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"PSBT_OUT_SCRIPT",get:function(){var e,t=[],r=E(this.outputMaps);try{for(r.s();!(e=r.n()).done;){var n=e.value.get(a.PSBT_OUT_SCRIPT);if(!n)throw Error("PSBT_OUT_SCRIPT not set for an output");t.push(n.toString("hex"))}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"PSBT_OUT_TAP_INTERNAL_KEY",get:function(){return k(this.outputMaps,a.PSBT_OUT_TAP_INTERNAL_KEY)}},{key:"PSBT_OUT_TAP_TREE",get:function(){return k(this.outputMaps,a.PSBT_OUT_TAP_TREE)}},{key:"PSBT_OUT_TAP_BIP32_DERIVATION",get:function(){return x(this.outputMaps,a.PSBT_OUT_TAP_BIP32_DERIVATION)}},{key:"PSBT_OUT_PROPRIETARY",get:function(){return x(this.outputMaps,a.PSBT_OUT_PROPRIETARY)}},{key:"nLockTime",get:function(){for(var e=this.PSBT_GLOBAL_INPUT_COUNT,t=this.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME,r=this.PSBT_IN_REQUIRED_TIME_LOCKTIME,n=[],a=[],o=0;o<this.PSBT_GLOBAL_INPUT_COUNT;o++)null!==t[o]&&n.push(t[o]),null!==r[o]&&a.push(r[o]);return 0===n.length&&0===a.length?this.PSBT_GLOBAL_FALLBACK_LOCKTIME||0:n.length===e||n.length>a.length?Math.max.apply(Math,n):a.length>n.length?Math.max.apply(Math,a):null}}],[{key:"FromV0",value:function(e){var t,r=T(e),a=c.Psbt.fromBuffer(r),o=new n,i=a.data.globalMap;o.PSBT_GLOBAL_TX_VERSION=a.data.getTransaction().readInt32LE(0),o.PSBT_GLOBAL_INPUT_COUNT=a.data.inputs.length,o.PSBT_GLOBAL_OUTPUT_COUNT=a.data.outputs.length,o.PSBT_GLOBAL_FALLBACK_LOCKTIME=0;var u,s=E(null!==(t=i.globalXpub)&&void 0!==t?t:[]);try{for(s.s();!(u=s.n()).done;){var l=u.value;o.addGlobalXpub(l.extendedPubkey,l.masterFingerprint,l.path)}}catch(U){s.e(U)}finally{s.f()}var f,d=[],p=E(a.txInputs.entries());try{for(p.s();!(f=p.n()).done;){var h=y(f.value,2),A=h[0],m=h[1];d[A]=m}}catch(U){p.e(U)}finally{p.f()}var b,v=E(a.data.inputs.entries());try{for(v.s();!(b=v.n()).done;){var g,w=y(b.value,2),S=w[0],P=w[1],I=d[S];o.addInput({previousTxId:I.hash,outputIndex:I.index,sequence:I.sequence,nonWitnessUtxo:P.nonWitnessUtxo,witnessUtxo:null===(g=P.witnessUtxo)||void 0===g?void 0:g.script,redeemScript:P.redeemScript,witnessScript:P.witnessScript,bip32Derivation:P.bip32Derivation})}}catch(U){v.e(U)}finally{v.f()}var O,x=[],k=E(a.txOutputs.entries());try{for(k.s();!(O=k.n()).done;){var C=y(O.value,2),j=C[0],B=C[1];x[j]=B}}catch(U){k.e(U)}finally{k.f()}var R,N=E(a.data.outputs.entries());try{for(N.s();!(R=N.n()).done;){var _=y(R.value,2),L=_[0],M=_[1],D=x[L];o.addOutput({amount:D.value,script:D.script,redeemScript:M.redeemScript,witnessScript:M.witnessScript,bip32Derivation:M.bip32Derivation})}}catch(U){N.e(U)}finally{N.f()}return o}}]),n}(N);t.PsbtV2=_}).call(this,r(9).Buffer)},117:function(e,t,r){e.exports={feeMagicBtn:"styles_feeMagicBtn__QX0iX",utxoTxid:"styles_utxoTxid__1p6kt",outputsFormInput:"styles_outputsFormInput__3Osdm",unconfirmed:"styles_unconfirmed__3KzJ4",spent:"styles_spent__10i2F",outputsFormLabel:"styles_outputsFormLabel__NZOnp",maxSpend:"styles_maxSpend__32e8a"}},1242:function(e){e.exports=JSON.parse('{"name":"unchained-wallets","version":"0.1.27","description":"Unchained Capital\'s HD Wallets Library","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/unchained-capital/unchained-wallets.git"},"author":"Unchained Capital","license":"MIT","bugs":{"url":"https://github.com/unchained-capital/unchained-wallets/issues"},"homepage":"https://github.com/unchained-capital/unchained-wallets","engines":{"node":">=16"},"devDependencies":{"@babel/cli":"^7.20.7","@babel/core":"^7.20.12","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.7.1","@babel/preset-typescript":"^7.18.6","@commitlint/cli":"^17.4.3","@commitlint/config-conventional":"^17.4.3","@types/jest":"^29.4.0","@types/node":"^18.13.0","@types/w3c-web-usb":"^1.0.6","@typescript-eslint/eslint-plugin":"^5.51.0","@typescript-eslint/parser":"^5.51.0","babel-plugin-transform-inline-environment-variables":"^0.4.3","eslint":"^8.34.0","eslint-plugin-import":"^2.27.5","eslint-plugin-jest":"^23.0.3","husky":"^8.0.3","jest":"^29.4.2","jest-environment-jsdom":"^29.4.1","jest-junit":"^9.0.0","jsdoc":"^4.0.0","lint-staged":"^13.1.2","mocha":"^10.2.0","prettier":"^2.8.4","ts-jest":"^29.0.5","typescript":"^4.9.5"},"scripts":{"compile-images":"node images/compile.js","build-types":"tsc -p tsconfig.json","build-types:watch":"tsc --watch","check-types":"tsc -p tsconfig.json --noEmit --emitDeclarationOnly false","compile":"babel --extensions .ts,.js -d lib/ src/ && npm run compile-images","compile:trezor-dev":"TREZOR_DEV=true babel --extensions .ts,.js --watch -d lib/ src/ && npm run compile-images","compile:watch":"babel --watch --extensions .ts,.js -d lib/ src/ && compile-images","prepublish":"npm run compile","prepare":"npm run compile && husky install","test":"jest src","testdebug":"node --inspect-brk node_modules/.bin/jest --runInBand lib","docs":"./bin/build-docs.sh","lint":"eslint src --ignore-pattern src/vendor"},"bin":{},"dependencies":{"@babel/polyfill":"^7.7.0","@ledgerhq/hw-app-btc":"^5.34.1","@ledgerhq/hw-transport-node-hid":"^5.34.0","@ledgerhq/hw-transport-u2f":"^5.34.0","@ledgerhq/hw-transport-webusb":"6.27.12","@trezor/connect-web":"9.0.3","bignumber.js":"^8.1.1","bitcoinjs-lib":"^5.1.10","bowser":"^2.6.1","core-js":"^2.6.10","punycode":"^2.1.1","sha":"^3.0.0","unchained-bitcoin":"unchained-capital/unchained-bitcoin#ledger-v2"},"directories":{"lib":"lib"},"jest":{"modulePathIgnorePatterns":["src/vendor","lib/vendor"]},"babel":{"passPerPreset":true,"plugins":["@babel/proposal-class-properties","transform-inline-environment-variables"],"presets":["@babel/typescript",["@babel/env",{"useBuiltIns":"usage","corejs":2}]]}}')},1249:function(e,t,r){"use strict";r(287),r(71),r(72),r(42),r(146),r(173),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.ColdcardSignMultisigTransaction=t.ColdcardMultisigWalletConfig=t.ColdcardInteraction=t.ColdcardExportPublicKey=t.ColdcardExportExtendedPublicKey=t.COLDCARD_WALLET_CONFIG_VERSION=t.COLDCARD_BASE_BIP32_PATHS=t.COLDCARD=void 0,r(148),r(73),r(149),r(104),r(602),r(603),r(605),r(844),r(846),r(172),r(132),r(53),r(285),r(847);var n=r(5),a=r(286);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=c(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.COLDCARD="coldcard";var b={"m/45'":n.P2SH,"m/48'/0'/0'/1'":n.P2SH_P2WSH.replace("-","_"),"m/48'/0'/0'/2'":n.P2WSH,"m/48'/1'/0'/1'":n.P2SH_P2WSH.replace("-","_"),"m/48'/1'/0'/2'":n.P2WSH};t.COLDCARD_BASE_BIP32_PATHS=b;var v=Object.keys(b);t.COLDCARD_WALLET_CONFIG_VERSION="1.0.0";var g=function(e){d(r,e);var t=h(r);function r(){return f(this,r),t.apply(this,arguments)}return s(r)}(a.IndirectKeystoreInteraction);t.ColdcardInteraction=g;var y=function(e){d(r,e);var t=h(r);function r(e){var a,o=e.network,i=e.bip32Path;if(f(this,r),a=t.call(this),![n.MAINNET,n.TESTNET].find((function(e){return e===o})))throw new Error("Unknown network.");return a.network=o,a.bip32Path=i,a.bip32ValidationErrorMessage={},a.bip32ValidationError=a.validateColdcardBip32Path(i),a}return s(r,[{key:"isSupported",value:function(){return!this.bip32ValidationError.length}},{key:"messages",value:function(){var e=i(m(r.prototype),"messages",this).call(this);return Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:a.PENDING,level:a.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:a.PENDING,level:a.INFO,code:"coldcard.export_xpub",text:"Go to Settings > Multisig Wallets > Export XPUB"}),e.push({state:a.PENDING,level:a.INFO,code:"coldcard.select_account",text:"Enter 0 for account"}),e.push({state:a.PENDING,level:a.INFO,code:"coldcard.upload_key",text:"Upload the JSON file from your Coldcard."}),e}},{key:"chrootForBIP32Path",value:function(e){for(var t=0;t<v.length;t++){var r=v[t];if(e.startsWith(r))return r}return null}},{key:"validateColdcardBip32Path",value:function(e){var t=(0,n.validateBIP32Path)(e);if(t.length)return this.bip32ValidationErrorMessage={text:t,code:"coldcard.bip32_path.path_error"},t;var r=this.chrootForBIP32Path(e);if(r){if(r===e)return"";var a=(0,n.getRelativeBIP32Path)(r,e),o=(0,n.validateBIP32Path)(a,{mode:"unhardened"});return o?(this.bip32ValidationErrorMessage={text:o,code:"coldcard.bip32_path.no_hardened_relative_path_error"},o):""}var i="The bip32Path must begin with one of the known Coldcard paths: ".concat(v);return this.bip32ValidationErrorMessage={text:i,code:"coldcard.bip32_path.unknown_chroot_error"},i}},{key:"parse",value:function(e){var t;if("object"===o(e))t=e;else{if("string"!==typeof e)throw new Error("Not valid JSON.");try{t=JSON.parse(e)}catch(c){throw new Error("Unable to parse JSON.")}}if(0===Object.keys(t).length)throw new Error("Empty JSON file.");if(!t.p2sh_deriv||!t.p2sh||!t.p2wsh_deriv||!t.p2wsh||(!t.p2wsh_p2sh_deriv||!t.p2wsh_p2sh)&&(!t.p2sh_p2wsh_deriv||!t.p2sh_p2wsh))throw new Error("Missing required params. Was this file exported from a Coldcard?  If you are using firmware version 4.1.0 please upgrade to 4.1.1 or later.");var r=n.ExtendedPublicKey.fromBase58(t.p2sh);if(!t.xfp&&1!==r.depth)throw new Error("No xfp in JSON file.");var a=1===r.depth?(0,n.fingerprintToFixedLengthHex)(r.parentFingerprint):null;if(a&&t.xfp&&a!==t.xfp.toLowerCase())throw new Error("Computed fingerprint does not match the one in the file.");var i=t.xfp?t.xfp:a;return t.rootFingerprint=i.toLowerCase(),t}},{key:"deriveDeeperXpubIfNecessary",value:function(e){var t=this.chrootForBIP32Path(this.bip32Path),r=(0,n.getRelativeBIP32Path)(t,this.bip32Path),a=b[t];a.includes("_")&&!e[a.toLowerCase()]&&(a="p2wsh_p2sh");var o=this.network===n.TESTNET?"tpub":"xpub",i=a.toLowerCase().includes("w")?(0,n.convertExtendedPublicKey)(e[a.toLowerCase()],o):e[a.toLowerCase()];return r.length?(0,n.deriveChildExtendedPublicKey)(i,r,this.network):i}}]),r}(g),E=function(e){d(r,e);var t=h(r);function r(e){var n=e.network,a=e.bip32Path;return f(this,r),t.call(this,{network:n,bip32Path:a})}return s(r,[{key:"messages",value:function(){return i(m(r.prototype),"messages",this).call(this)}},{key:"parse",value:function(e){var t=i(m(r.prototype),"parse",this).call(this,e),a=this.deriveDeeperXpubIfNecessary(t);return{publicKey:n.ExtendedPublicKey.fromBase58(a).pubkey,rootFingerprint:t.rootFingerprint,bip32Path:this.bip32Path}}}]),r}(y);t.ColdcardExportPublicKey=E;var w=function(e){d(r,e);var t=h(r);function r(e){var n=e.network,a=e.bip32Path;return f(this,r),t.call(this,{network:n,bip32Path:a})}return s(r,[{key:"messages",value:function(){return i(m(r.prototype),"messages",this).call(this)}},{key:"parse",value:function(e){var t=i(m(r.prototype),"parse",this).call(this,e);return{xpub:this.deriveDeeperXpubIfNecessary(t),rootFingerprint:t.rootFingerprint,bip32Path:this.bip32Path}}}]),r}(y);t.ColdcardExportExtendedPublicKey=w;var S=function(e){d(r,e);var t=h(r);function r(e){var a,o=e.network,i=e.inputs,c=e.outputs,u=e.bip32Paths,s=e.psbt;if(f(this,r),(a=t.call(this)).network=o,a.inputs=i,a.outputs=c,a.bip32Paths=u,s)a.psbt=s;else try{a.psbt=(0,n.unsignedMultisigPSBT)(o,i,c)}catch(l){throw new Error("Unable to build the PSBT from the provided parameters.")}return a}return s(r,[{key:"messages",value:function(){var e=i(m(r.prototype),"messages",this).call(this);return e.push({state:a.PENDING,level:a.INFO,code:"coldcard.install_multisig_config",text:"Ensure your Coldcard has the multisig wallet installed."}),e.push({state:a.PENDING,level:a.INFO,code:"coldcard.download_psbt",text:"Download and save this PSBT file to your SD card."}),e.push({state:a.PENDING,level:a.INFO,code:"coldcard.transfer_psbt",text:"Transfer the PSBT file to your Coldcard."}),e.push({state:a.ACTIVE,level:a.INFO,code:"coldcard.transfer_psbt",text:"Transfer the PSBT file to your Coldcard."}),e.push({state:a.ACTIVE,level:a.INFO,code:"coldcard.select_psbt",text:"Choose 'Ready To Sign' and select the PSBT."}),e.push({state:a.ACTIVE,level:a.INFO,code:"coldcard.sign_psbt",text:"Verify the transaction details and sign."}),e.push({state:a.ACTIVE,level:a.INFO,code:"coldcard.upload_signed_psbt",text:"Upload the signed PSBT below."}),e}},{key:"request",value:function(){return this.psbt}},{key:"parse",value:function(e){var t=(0,n.parseSignaturesFromPSBT)(e);if(!t||0===t.length)throw new Error("No signatures found in the PSBT. Did you upload the right one?");return t}}]),r}(g);t.ColdcardSignMultisigTransaction=S;var P=function(){function e(t){var r=t.jsonConfig;if(f(this,e),"object"===o(r))this.jsonConfig=r;else{if("string"!==typeof r)throw new Error("Not valid JSON.");try{this.jsonConfig=JSON.parse(r)}catch(n){throw new Error("Unable to parse JSON.")}}if(!this.jsonConfig.uuid&&!this.jsonConfig.name)throw new Error("Configuration file needs a UUID or a name.");if(this.name=this.jsonConfig.uuid||this.jsonConfig.name,!this.jsonConfig.quorum.requiredSigners||!this.jsonConfig.quorum.totalSigners)throw new Error("Configuration file needs quorum.requiredSigners and quorum.totalSigners.");if(this.requiredSigners=this.jsonConfig.quorum.requiredSigners,this.totalSigners=this.jsonConfig.quorum.totalSigners,!this.jsonConfig.addressType)throw new Error("Configuration file needs addressType.");if(this.addressType=r.addressType,!this.jsonConfig.extendedPublicKeys||!this.jsonConfig.extendedPublicKeys.every((function(e){if(!e.xfp||"Unknown"===e.xfp)throw new Error("ExtendedPublicKeys missing at least one xfp.");if("string"!==typeof e.xfp)throw new Error("XFP not a string");if(8!==e.xfp.length)throw new Error("XFP not length 8");if(isNaN(Number("0x".concat(e.xfp))))throw new Error("XFP is invalid hex");return!0})))throw new Error("Configuration file needs extendedPublicKeys.");this.extendedPublicKeys=this.jsonConfig.extendedPublicKeys}return s(e,[{key:"adapt",value:function(){var e="# Coldcard Multisig setup file (exported from unchained-wallets)\n# https://github.com/unchained-capital/unchained-wallets\n# v".concat("1.0.0","\n#\nName: ").concat(this.name,"\nPolicy: ").concat(this.requiredSigners," of ").concat(this.totalSigners,"\nFormat: ").concat(this.addressType,"\n\n");return e+=this.extendedPublicKeys.map((function(e){var t=(0,n.getMaskedDerivation)(e);return"Derivation: ".concat(t,"\n").concat(e.xfp,": ").concat(e.xpub)})).join("\n"),e+="\n"}}]),e}();t.ColdcardMultisigWalletConfig=P},1250:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(287),r(73),r(71),r(72),r(42),r(146),r(173),Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSignMultisigTransaction=t.CustomInteraction=t.CustomExportExtendedPublicKey=t.CUSTOM=void 0,r(174),r(147),r(605),r(448),r(170),r(846);var a=r(5),o=r(286);function i(){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=c(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.CUSTOM="custom";var b=function(e){d(r,e);var t=h(r);function r(){return f(this,r),t.apply(this,arguments)}return s(r)}(o.IndirectKeystoreInteraction);t.CustomInteraction=b;var v=function(e){d(r,e);var t=h(r);function r(e){var n,o=e.network,i=e.bip32Path;if(f(this,r),n=t.call(this),![a.MAINNET,a.TESTNET].find((function(e){return e===o})))throw new Error("Unknown network.");n.network=o,n.validationErrorMessages=[],n.bip32Path=i;var c=(0,a.validateBIP32Path)(i);return c.length&&n.validationErrorMessages.push({code:"custom.bip32_path.path_error",text:c}),n}return s(r,[{key:"isSupported",value:function(){return 0===this.validationErrorMessages.length}},{key:"messages",value:function(){var e=i(m(r.prototype),"messages",this).call(this);return this.validationErrorMessages.length&&this.validationErrorMessages.forEach((function(t){e.push({state:o.PENDING,level:o.ERROR,code:t.code,text:t.text})})),e.push({state:o.PENDING,level:o.INFO,code:"custom.import_xpub",text:"Type or paste the extended public key here."}),e}},{key:"parse",value:function(e){var t,r;try{t=a.ExtendedPublicKey.fromBase58(e.xpub)}catch(c){throw new Error("Not a valid ExtendedPublicKey.")}try{if(""!==e.rootFingerprint&&e.rootFingerprint)(0,a.validateRootFingerprint)(e.rootFingerprint),r=e.rootFingerprint;else{var n=t.pubkey.length;r=t.pubkey.substring(n-8)}}catch(c){throw new Error("Root fingerprint validation error: ".concat(c.message.toLowerCase(),"."))}var o=this.bip32Path.split("/").length,i=this.bip32Path.startsWith("m/")?o-1:o;if(t.depth!==i)throw new Error("Depth of ExtendedPublicKey (".concat(t.depth,") does not match depth of BIP32 path (").concat(i,")."));return{xpub:t.base58String,rootFingerprint:r,bip32Path:this.bip32Path}}}]),r}(b);t.CustomExportExtendedPublicKey=v;var g=function(e){d(r,e);var t=h(r);function r(e){var n,o=e.network,i=e.inputs,c=e.outputs,u=e.bip32Paths,s=e.psbt;if(f(this,r),(n=t.call(this)).network=o,n.inputs=i,n.outputs=c,n.bip32Paths=u,s)n.psbt=s;else try{n.psbt=(0,a.unsignedMultisigPSBT)(o,i,c)}catch(l){throw new Error("Unable to build the PSBT from the provided parameters.")}return n}return s(r,[{key:"messages",value:function(){var e=i(m(r.prototype),"messages",this).call(this);return e.push({state:o.PENDING,level:o.INFO,code:"custom.download_psbt",text:"Download and save this PSBT file."}),e.push({state:o.PENDING,level:o.INFO,code:"custom.sign_psbt",text:"Add your signature to the PSBT."}),e.push({state:o.ACTIVE,level:o.INFO,code:"custom.sign_psbt",text:"Verify the transaction details and sign."}),e.push({state:o.ACTIVE,level:o.INFO,code:"custom.upload_signed_psbt",text:"Upload the signed PSBT."}),e}},{key:"request",value:function(){return this.psbt}},{key:"parse",value:function(e){var t=(0,a.parseSignaturesFromPSBT)(e);if(!t||0===t.length)throw new Error("No signatures found in the PSBT. Did you upload the right one?");return t}}]),r}(b);t.CustomSignMultisigTransaction=g},1251:function(e,t,r){"use strict";(function(e){r(287),r(146),r(173),r(174),r(147),r(353),r(354),r(170),r(246),r(285),r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.HermitSignMultisigTransaction=t.HermitInteraction=t.HermitExportExtendedPublicKey=t.HERMIT=void 0,r(73),r(71),r(72),r(172),r(132),r(1252),r(358),r(82),r(83),r(53),r(848);var n=r(5),a=r(286),o=r(849);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=f(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function E(e){return v(v(v({},{state:a.PENDING,level:a.INFO,code:"hermit.command",mode:"wallet"}),{text:"".concat(e.instructions," '").concat(e.command,"'")}),e)}t.HERMIT="hermit";var w=function(e){d(r,e);var t=h(r);function r(){return c(this,r),t.apply(this,arguments)}return s(r,[{key:"messages",value:function(){var e=l(m(r.prototype),"messages",this).call(this);return e.push({state:a.ACTIVE,level:a.INFO,code:"hermit.scanning",text:"Scan Hermit QR code sequence now."}),e}}]),r}(a.IndirectKeystoreInteraction);t.HermitInteraction=w;var S=new RegExp("^\\[([a-fA-F0-9]{8})((?:/[0-9]+'?)+)\\]([a-km-zA-NP-Z1-9]+)$"),P=function(t){d(n,t);var r=h(n);function n(e){var t,a=e.bip32Path;return c(this,n),(t=r.call(this)).bip32Path=a,t}return s(n,[{key:"messages",value:function(){var e=l(m(n.prototype),"messages",this).call(this);return e.push(E({instructions:"Run the following Hermit command, replacing the BIP32 path if you need to:",command:"display-xpub ".concat(this.bip32Path)})),e}},{key:"parse",value:function(t){if(!t)throw new Error("No descriptor received from Hermit.");var r=e.from(t,"hex").toString("utf8").match(S);if(r&&4==r.length)return{rootFingerprint:r[1],bip32Path:"m".concat(r[2]),xpub:r[3]};throw new Error("Invalid descriptor received from Hermit.")}}]),n}(w);t.HermitExportExtendedPublicKey=P;var I=function(t){d(i,t);var r=h(i);function i(e){var t,n=e.psbt,a=e.returnSignatureArray,o=void 0!==a&&a;return c(this,i),(t=r.call(this)).psbt=n,t.workflow.unshift("request"),t.returnSignatureArray=o,t}return s(i,[{key:"messages",value:function(){var e=l(m(i.prototype),"messages",this).call(this);return e.push(E({instructions:"Run the following Hermit command to scan this signature request:",command:"sign"})),this.psbt||e.push({state:a.PENDING,level:a.ERROR,code:"hermit.sign",text:"PSBT is required."}),e}},{key:"request",value:function(){var t=e.from(this.psbt,"base64").toString("hex");return new o.BCUREncoder(t).parts()}},{key:"parse",value:function(t){if(!t)throw new Error("No signature received from Hermit.");if(this.returnSignatureArray){var r=(0,n.parseSignaturesFromPSBT)(t);return Object.values(r)[0]}return e.from(t,"hex").toString("base64")}}]),i}(w);t.HermitSignMultisigTransaction=I}).call(this,r(9).Buffer)},1254:function(e,t,r){"use strict";r(42),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"decodeUR",{enumerable:!0,get:function(){return a.decodeUR}}),Object.defineProperty(t,"encodeUR",{enumerable:!0,get:function(){return n.encodeUR}}),Object.defineProperty(t,"extractSingleWorkload",{enumerable:!0,get:function(){return a.extractSingleWorkload}}),Object.defineProperty(t,"smartDecodeUR",{enumerable:!0,get:function(){return a.smartDecodeUR}});var n=r(1255),a=r(1266)},1255:function(e,t,r){"use strict";(function(e){r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.encodeUR=void 0,r(848),r(358),r(82),r(83),r(53),r(148);var n=r(850),a=r(606),o=r(853),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes";return"ur:".concat(t,"/").concat(e)},c=function(e,t){return"".concat(t,"/").concat(e)},u=function(e,t,r){return"".concat(t+1,"of").concat(r,"/").concat(e)},s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bytes";return 1===e.length?[i(e[0])]:e.map((function(n,a){return(0,o.compose3)((function(e){return i(e,r)}),(function(t){return u(t,a,e.length)}),(function(e){return c(e,t)}))(n)}))};t.encodeUR=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=(0,n.encodeSimpleCBOR)(t),c=(0,a.encodeBc32Data)(i),u=(0,o.sha256Hash)(e.from(i,"hex")).toString("hex"),l=(0,a.encodeBc32Data)(u),f=c.match(new RegExp(".{1,"+r+"}","g"));if(!f)throw new Error("Unexpected error when encoding");return s(f,l,"bytes").map((function(e){return e.toUpperCase()}))}}).call(this,r(9).Buffer)},1260:function(e,t,r){"use strict";r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1261);var n=r(606),a="qpzry9x8gf2tvdw0s3jn54khce6mua7l",o=[996825010,642813549,513874426,1027748829,705979059],i=function(e){for(var t=1,r=0;r<e.length;++r){var n=t>>25;t=(33554431&t)<<5^e[r];for(var a=0;a<6;++a)n>>a&1&&(t^=o[a])}return t},c=function(e){var t,r=[];for(t=0;t<e.length;++t)r.push(e.charCodeAt(t)>>5);for(r.push(0),t=0;t<e.length;++t)r.push(31&e.charCodeAt(t));return r},u=function(e,t,r){var a;a=e?c(e):[0];var o=r===n.Bech32Version.Origin?1:1073741823;return i(a.concat(t))===o},s={encode:function(e,t,r){var o,u=t.concat(function(e,t,r){var a;a=e?c(e).concat(t).concat([0,0,0,0,0,0]):[0].concat(t).concat([0,0,0,0,0,0]);for(var o=r===n.Bech32Version.Origin?1:1073741823,u=i(a)^o,s=[],l=0;l<6;++l)s.push(u>>5*(5-l)&31);return s}(e,t,r));o=e?e+"1":"";for(var s=0;s<u.length;++s)o+=a.charAt(u[s]);return o},decode:function(e){var t,r=!1,o=!1;for(t=0;t<e.length;++t){if(e.charCodeAt(t)<33||e.charCodeAt(t)>126)return null;e.charCodeAt(t)>=97&&e.charCodeAt(t)<=122&&(r=!0),e.charCodeAt(t)>=65&&e.charCodeAt(t)<=90&&(o=!0)}if(r&&o)return null;var i=(e=e.toLowerCase()).lastIndexOf("1");if(-1===i)return function(e){for(var t=[],r=0;r<e.length;++r){var o=a.indexOf(e.charAt(r));if(-1===o)return null;t.push(o)}return u(void 0,t,n.Bech32Version.bis)?{hrp:null,data:t.slice(0,t.length-6)}:null}(e);if(i<1||i+7>e.length||e.length>90)return null;var c=e.substring(0,i),s=[];for(t=i+1;t<e.length;++t){var l=a.indexOf(e.charAt(t));if(-1===l)return null;s.push(l)}return u(c,s,n.Bech32Version.Origin)?{hrp:c,data:s.slice(0,s.length-6)}:null}};t.default=s},1266:function(e,t,r){"use strict";(function(e){r(42),r(175),r(176),r(104),r(71),r(72),r(149),Object.defineProperty(t,"__esModule",{value:!0}),t.smartDecodeUR=t.extractSingleWorkload=t.decodeUR=void 0,r(246),r(437),r(170),r(856),r(82),r(83),r(53),r(448);var n=r(853),a=r(850),o=r(606);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t=e.toUpperCase().split("OF");if(2!==t.length)throw new Error("invalid sequence: ".concat(e));var r=i(t,2);return[+r[0],+r[1]]},s=function(t,r){var a=(0,o.decodeBc32Data)(r);if(!a)throw new Error("can not decode payload: ".concat(r));if((0,o.decodeBc32Data)(t)!==(0,n.sha256Hash)(e.from(a,"hex")).toString("hex"))throw new Error("invalid digest: \n digest:".concat(t," \n payload:").concat(r))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes";if(e.toUpperCase()!=="ur:".concat(t).toUpperCase())throw new Error("invalid UR header: ".concat(e))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes",r=e.split("/");switch(r.length){case 2:return l(r[0],t),r[1];case 3:l(r[0],t);var n=r[1],a=r[2];return s(n,a),a;case 4:l(r[0],t),u(r[1]);var o=r[2],i=r[3];return s(o,i),i;default:throw new Error("invalid workload pieces length: expect 2 / 3 / 4 bug got ".concat(r.length))}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes",r=e.length,n=new Array(r).fill(""),a="";e.forEach((function(e){var o=e.split("/");l(o[0],t);var c=i(u(o[1]),2),s=c[0],f=c[1];if(f!==r)throw new Error("invalid workload: ".concat(e,", total ").concat(f," not equal workloads length ").concat(r));if(a&&a!==o[2])throw new Error("invalid workload: ".concat(e,", checksum changed ").concat(a,", ").concat(o[2]));if(a=o[2],n[s-1])throw new Error("invalid workload: ".concat(e,", index ").concat(s," has already been set"));n[s-1]=o[3]}));var o=n.join("");return s(a,o),o},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes";try{var r=e.length;return 1===r?f(e[0],t):d(e,t)}catch(n){throw new Error("invalid workloads: ".concat(e,"\n ").concat(n))}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bytes",r=p(e,t),n=(0,o.decodeBc32Data)(r);if(!n)throw new Error("invalid data");return(0,a.decodeSimpleCBOR)(n)};t.decodeUR=h;var A=function(e,t,r){return r.indexOf(e)===t};t.smartDecodeUR=function(e){if(e.length>0){var t=i(m(e[0]),2),r=(t[0],t[1]);return e.length===r?{success:!0,current:e.length,length:r,workloads:[],result:h(e)}:{success:!1,current:e.length,length:r,workloads:e.filter(A),result:""}}return{success:!1,current:0,length:0,workloads:[],result:""}};var m=function(e){var t=e.toUpperCase().split("/");switch(t.length){case 2:case 3:return[1,1];case 4:return u(t[1]);default:throw new Error("invalid workload pieces length: expect 2 / 3 / 4 bug got ".concat(t.length))}};t.extractSingleWorkload=m}).call(this,r(9).Buffer)},1267:function(e,t,r){"use strict";(function(e){r(353),r(354),r(246),r(437),r(175),r(176),r(149),r(170),r(287),r(146),r(173),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerV2SignMultisigTransaction=t.LedgerSignMultisigTransaction=t.LedgerSignMessage=t.LedgerRegisterWalletPolicy=t.LedgerInteraction=t.LedgerGetMetadata=t.LedgerExportPublicKey=t.LedgerExportExtendedPublicKey=t.LedgerDashboardInteraction=t.LedgerConfirmMultisigAddress=t.LedgerBitcoinV2WithRegistrationInteraction=t.LedgerBitcoinInteraction=t.LEDGER_V2=t.LEDGER_RIGHT_BUTTON=t.LEDGER_LEFT_BUTTON=t.LEDGER_BOTH_BUTTONS=t.LEDGER=void 0,r(443),r(104),r(172),r(132),r(285),r(148),r(358),r(847),r(602),r(603),r(82),r(83),r(53),r(448),r(446),r(73),r(71),r(72),r(42);var n=r(5),a=r(286),o=r(1268),i=r(1270),c=r(1271),u=r(858),s=r(886),l=m(r(1382)),f=m(r(1409)),d=["policyHmac"],p=["verify","policyHmac"],h=["policyHmac","addressIndex","display","expected","braidIndex"],A=["psbt","progressCallback","policyHmac"];function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(k){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new O(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==D(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return x()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;I(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function I(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){I(o,n,a,i,c,"next",e)}function c(e){I(o,n,a,i,c,"throw",e)}i(void 0)}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function k(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(){return(C="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=j(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var a=M(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===D(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}t.LEDGER="ledger";t.LEDGER_V2="ledger_v2";var G=r(1436).default;t.LEDGER_LEFT_BUTTON="ledger_left_button";t.LEDGER_RIGHT_BUTTON="ledger_right_button";t.LEDGER_BOTH_BUTTONS="ledger_both_buttons";var K=function(e){B(r,e);var t=N(r);function r(){var e;T(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return U(L(e=t.call.apply(t,[this].concat(a))),"appVersion",void 0),e}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return e.push({state:a.PENDING,level:a.INFO,text:"Please plug in and unlock your Ledger.",code:"device.setup"}),e.push({state:a.ACTIVE,level:a.INFO,text:"Communicating with Ledger...",code:"device.active"}),e}},{key:"withTransport",value:function(){var e=O(P().mark((function e(t){var r,n,a,o;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.environment.satisfies({firefox:">70"})){e.next=13;break}return e.prev=2,e.next=5,G.create();case 5:return r=e.sent,e.abrupt("return",t(r));case 9:throw e.prev=9,e.t0=e.catch(2),n=e.t0,new Error(n.message);case 13:return e.prev=13,e.next=16,l.default.create();case 16:return a=e.sent,e.abrupt("return",t(a));case 20:throw e.prev=20,e.t1=e.catch(13),(o=e.t1).message&&("No device selected."===o.message&&(o.message="Select your device in the WebUSB dialog box. Make sure it's plugged in, unlocked, and has the Bitcoin app open."),"undefined is not an object (evaluating 'navigator.usb.getDevices')"===o.message&&(o.message="Safari is not a supported browser.")),new Error(o.message);case 25:case"end":return e.stop()}}),e,this,[[2,9],[13,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setAppVersion",value:function(){var e=this;return this.withTransport(function(){var t=O(P().mark((function t(r){var n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getAppAndVersion)(r);case 2:return n=t.sent,e.appVersion=n.version,t.abrupt("return",e.appVersion);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isLegacyApp",value:function(){var e=O(P().mark((function e(){var t,r,n,a,o;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setAppVersion();case 2:return t=e.sent,r=t.split("."),n=E(r,2),a=n[0],o=n[1],e.abrupt("return",Number(a)<=1||Number(o)<1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"withApp",value:function(e){var t=this;return this.withTransport(function(){var r=O(P().mark((function r(n){var a;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.isLegacyApp();case 2:if(!r.sent){r.next=6;break}a=new f.default(n),r.next=7;break;case 6:a=new u.AppClient(n);case 7:return r.abrupt("return",e(a,n));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"closeTransport",value:function(){return this.withTransport(function(){var e=O(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.close();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())}}]),r}(a.DirectKeystoreInteraction);t.LedgerInteraction=K;var H=function(e){B(r,e);var t=N(r);function r(){return T(this,r),t.apply(this,arguments)}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return e.push({state:a.PENDING,level:a.INFO,text:"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.",code:"ledger.app.dashboard"}),e.push({state:a.ACTIVE,level:a.INFO,text:"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.",code:"ledger.app.dashboard"}),e}}]),r}(K);t.LedgerDashboardInteraction=H;var Q=function(e){B(r,e);var t=N(r);function r(){var e;T(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return U(L(e=t.call.apply(t,[this].concat(a))),"isLegacySupported",void 0),U(L(e),"isV2Supported",void 0),e}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return e.push({state:a.PENDING,level:a.INFO,text:"Then open the Bitcoin app.",code:"ledger.app.bitcoin"}),e.push({state:a.ACTIVE,level:a.INFO,text:"Make sure you have opened the Bitcoin app.",code:"ledger.app.bitcoin"}),e}},{key:"isAppSupported",value:function(){var e=O(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSupported()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.isLegacyApp();case 4:if(!e.sent){e.next=6;break}return e.abrupt("return",this.isLegacySupported);case 6:return e.abrupt("return",this.isV2Supported);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=O(P().mark((function e(){var t;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isAppSupported();case 2:if(t=e.sent){e.next=5;break}throw new Error("Method not supported for this version of Ledger app (".concat(this.appVersion,")"));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(K);t.LedgerBitcoinInteraction=Q;var V=function(t){B(n,t);var r=N(n);function n(){return T(this,n),r.apply(this,arguments)}return k(n,[{key:"run",value:function(){var e=O(P().mark((function e(){var t=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.withTransport(function(){var e=O(P().mark((function e(r){var a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.setScrambleKey("B0L0S"),e.next=4,r.send(224,1,0,0);case 4:return a=e.sent,e.abrupt("return",t.parseMetadata(a));case 6:return e.prev=6,e.next=9,C(M(n.prototype),"closeTransport",t).call(t);case 9:return e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[0,,6,10]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseMetadata",value:function(t){try{var r=y(t),n=r.slice(0,r.length-2),a=e.from(n.slice(0,4)).readUIntBE(0,4),o=n[4],i=e.from(n.slice(5,5+o)).toString(),c=n[5+o],u=e.from(n.slice(5+o+1,5+o+1+c)),s=n[5+o+1+c],l=e.from(n.slice(7+o+c,7+o+c+s));0===l[l.length-1]&&(l=l.slice(0,l.length-1));var f=l.toString();o||(i="0.0.0",u=e.allocUnsafeSlow(0),f="");i.includes("-osu");var d=i.replace("-osu",""),p=E(i.match(/([0-9]+.[0-9]+)(.[0-9]+)?(-(.*))?/)||[],5),h=(p[1],p[4],u.length>0?u[0]:0),A=(Boolean(8&h),Boolean(128&h),E((d||"").split("."),3)),m=A[0],b=A[1],v=A[2],g=E((f||"").split("."),2),w=g[0],S=g[1],P=[{minTargetId:855638020,model:"Nano X"},{minTargetId:823132162,model:"Nano S"},{minTargetId:823132162,model:"Blue"},{minTargetId:16777217,model:"MCU"}],I="Unknown";if(a)for(var O=0;O<P.length;O++){var T=P[O];if(a>=T.minTargetId){I=T.model;break}}return{spec:"".concat(I," v").concat(d," (MCU v").concat(f,")"),model:I,version:{major:m,minor:b,patch:v,string:d},mcuVersion:{major:w,minor:S,string:f}}}catch(x){throw console.error(x),new Error("Unable to parse metadata from Ledger device.")}}}]),n}(H);t.LedgerGetMetadata=V;var W=function(e){B(r,e);var t=N(r);function r(e){var a,o=e.bip32Path;T(this,r),U(L(a=t.call(this)),"bip32Path",void 0),U(L(a),"bip32ValidationErrorMessage",void 0),U(L(a),"isV2Supported",!1),U(L(a),"isLegacySupported",!0),a.bip32Path=o;var i=(0,n.validateBIP32Path)(o);return i.length&&(a.bip32ValidationErrorMessage={text:i,code:"ledger.bip32_path.path_error"}),a}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return this.bip32ValidationErrorMessage&&e.push({state:a.PENDING,level:a.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e}},{key:"hasBIP32PathWarning",value:function(){var e=(0,n.bip32PathToSequence)(this.bip32Path),t=(0,n.hardenedBIP32Index)(0),r=(0,n.hardenedBIP32Index)(44),a=(0,n.hardenedBIP32Index)(100);return 5!==e.length||(e[0]!==r||(e[2]<t||e[2]>a||(0!==e[3]||(e[4]<0||e[4]>5e4))))}},{key:"getFingerprint",value:function(){var e=O(P().mark((function e(){var t,r,a,o=arguments;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],e.next=3,this.isLegacyApp();case 3:if(!e.sent){e.next=18;break}if(!t){e.next=10;break}return e.next=7,this.getMultisigRootPublicKey();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.getParentPublicKey();case 12:e.t0=e.sent;case 13:return r=e.t0,a=(0,n.getFingerprintFromPublicKey)(r),e.abrupt("return",t?(0,n.fingerprintToFixedLengthHex)(a):a.toString());case 18:if(!t){e.next=22;break}return e.abrupt("return",this.getXfp());case 22:throw new Error("Method not supported for this version of Ledger app (".concat(this.appVersion,")"));case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getXfp",value:function(){var e=O(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isLegacyApp();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",this.getFingerprint(!0));case 4:return e.abrupt("return",this.withApp(function(){var e=O(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMasterFingerprint();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParentPublicKey",value:function(){var e=this;return this.withApp(function(){var t=O(P().mark((function t(r){var a,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,n.getParentBIP32Path)(e.bip32Path),t.next=3,r.getWalletPublicKey(a);case 3:return o=t.sent.publicKey,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getMultisigRootPublicKey",value:function(){return this.withApp(function(){var e=O(P().mark((function e(t){var r;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getWalletPublicKey();case 2:return r=e.sent.publicKey,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"run",value:function(){var e=this;return this.withApp(function(){var t=O(P().mark((function t(n){var a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(M(r.prototype),"run",e).call(e);case 2:return t.next=4,n.getWalletPublicKey(e.bip32Path);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),r}(Q),Y=function(e){B(r,e);var t=N(r);function r(e){var n,a=e.bip32Path,o=e.includeXFP,i=void 0!==o&&o;return T(this,r),U(L(n=t.call(this,{bip32Path:a})),"includeXFP",void 0),U(L(n),"isLegacySupported",!0),U(L(n),"isV2Supported",!1),n.includeXFP=i,n}return k(r,[{key:"run",value:function(){var e=O(P().mark((function e(){var t,n,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(M(r.prototype),"run",this).call(this);case 3:if(t=e.sent,n=this.parsePublicKey((t||{}).publicKey),!this.includeXFP){e.next=10;break}return e.next=8,this.getXfp();case 8:return a=e.sent,e.abrupt("return",{rootFingerprint:a,publicKey:n});case 10:return e.abrupt("return",n);case 11:return e.prev=11,e.next=14,C(M(r.prototype),"closeTransport",this).call(this);case 14:return e.finish(11);case 15:case"end":return e.stop()}}),e,this,[[0,,11,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"parsePublicKey",value:function(e){if(!e)throw new Error("Received no public key from Ledger device.");try{return(0,n.compressPublicKey)(e)}catch(t){throw console.error(t),new Error("Unable to compress public key from Ledger device.")}}}]),r}(W);t.LedgerExportPublicKey=Y;var X=function(e){B(r,e);var t=N(r);function r(e){var n,a=e.bip32Path,o=e.network,i=e.includeXFP;return T(this,r),U(L(n=t.call(this,{bip32Path:a})),"network",void 0),U(L(n),"includeXFP",void 0),U(L(n),"isLegacySupported",!0),U(L(n),"isV2Supported",!0),n.network=o,n.includeXFP=i,n}return k(r,[{key:"messages",value:function(){return C(M(r.prototype),"messages",this).call(this)}},{key:"run",value:function(){var e=O(P().mark((function e(){var t,a,o,i,c,u,s=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.isLegacyApp();case 3:if(!e.sent){e.next=19;break}return e.next=6,C(M(r.prototype),"run",this).call(this);case 6:return t=e.sent,e.next=9,this.getFingerprint();case 9:if(a=e.sent,o=(0,n.deriveExtendedPublicKey)(this.bip32Path,t.publicKey,t.chainCode,Number(a),this.network),!this.includeXFP){e.next=16;break}return e.next=14,this.getXfp();case 14:return i=e.sent,e.abrupt("return",{rootFingerprint:i,xpub:o});case 16:return e.abrupt("return",o);case 19:return e.next=21,this.getXfp();case 21:return c=e.sent,e.next=24,this.withApp(function(){var e=O(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getExtendedPubkey(s.bip32Path,!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 24:return u=e.sent,e.abrupt("return",{xpub:u,rootFingerprint:c});case 26:return e.prev=26,e.next=29,C(M(r.prototype),"closeTransport",this).call(this);case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,this,[[0,,26,30]])})));return function(){return e.apply(this,arguments)}}()}]),r}(W);t.LedgerExportExtendedPublicKey=X;var z=function(e){B(r,e);var t=N(r);function r(e){var a,o=e.network,i=e.inputs,c=e.outputs,u=e.bip32Paths,s=e.psbt,l=e.keyDetails,f=e.returnSignatureArray,d=void 0!==f&&f,p=e.v2Options;if(T(this,r),U(L(a=t.call(this)),"network",void 0),U(L(a),"inputs",void 0),U(L(a),"outputs",void 0),U(L(a),"bip32Paths",void 0),U(L(a),"psbt",void 0),U(L(a),"keyDetails",void 0),U(L(a),"returnSignatureArray",void 0),U(L(a),"pubkeys",void 0),U(L(a),"v2Options",void 0),U(L(a),"isLegacySupported",!0),U(L(a),"isV2Supported",!1),a.network=o,s&&l){var h=(0,n.translatePSBT)(o,n.P2SH,s,l),A=h.unchainedInputs,m=h.unchainedOutputs,b=h.bip32Derivations;a.psbt=s,a.inputs=A,a.outputs=m,a.bip32Paths=b.map((function(e){return e.path})),a.pubkeys=b.map((function(e){return e.pubkey})),a.returnSignatureArray=d}else a.inputs=i,a.outputs=c,a.bip32Paths=u;return a.v2Options=p,a}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return e.push({state:a.ACTIVE,level:a.WARNING,code:"ledger.sign.delay",text:"Your Ledger device may take up to several minutes to process a transaction with many inputs.",preProcessingTime:this.preProcessingTime(),postProcessingTime:this.postProcessingTime()}),this.anySegwitInputs()?(e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.sign",version:"<1.6.0",text:'Your Ledger will ask you to "Confirm transaction" and display each output amount and address followed by the the fee amount.',action:"ledger_right_button"}),e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.sign",version:">=1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:'Your Ledger will ask you to "Review transaction".',action:"ledger_right_button"},{text:"For each output, your Ledger device will display the output amount...",action:"ledger_right_button"},{text:"...followed by the output address in several parts",action:"ledger_right_button"},{text:"Your Ledger will display the transaction fees.",action:"ledger_right_button"},{text:'Your Ledger will ask you to "Accept and send".',action:"ledger_both_buttons"}]})):(e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.sign",version:"<1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:"For each output, your Ledger will display the output amount and address for you to confirm.",action:"ledger_right_button"},{text:'Your Ledger will ask if you want to "Confirm the transaction".  Due to a bug in the Ledger software, your device may display the transaction fee as "UNKNOWN".',action:"ledger_right_button"}]}),e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.sign",version:">=1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:'For each output, your Ledger will ask you to "Review output".',action:"ledger_right_button"},{text:"Your Ledger will display the output amount.",action:"ledger_right_button"},{text:"Your Ledger will display the output address in several parts.",action:"ledger_right_button"},{text:'Your Ledger will ask if you want to "Accept" the output.',action:"ledger_both_buttons"},{text:'Your Ledger will ask if you want to "Confirm the transaction".',action:"ledger_right_button"},{text:'Due to a bug in the Ledger software, your device will display the transaction fee as "UNKNOWN".',action:"ledger_right_button"},{text:'Your Ledger will ask you to "Accept and send".',action:"ledger_both_buttons"}]})),e}},{key:"preProcessingTime",value:function(){return 10}},{key:"postProcessingTime",value:function(){return 10}},{key:"run",value:function(){var e=O(P().mark((function e(){var t,a=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(M(r.prototype),"run",this).call(this);case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),this.v2Options&&Object.keys(this.v2Options)){e.next=9;break}throw e.t0;case 9:return t=new ee(this.v2Options),e.abrupt("return",t.run());case 11:return e.abrupt("return",this.withApp(function(){var e=O(P().mark((function e(t,r){var o;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.setExchangeTimeout(2e4*a.outputs.length),e.next=4,t.signP2SHTransaction({inputs:a.ledgerInputs(),associatedKeysets:a.ledgerKeysets(),outputScriptHex:a.ledgerOutputScriptHex(),lockTime:0,sigHashType:1,segwit:a.anySegwitInputs(),transactionVersion:1});case 4:if(o=e.sent,!a.psbt||a.returnSignatureArray||!a.pubkeys){e.next=9;break}return e.abrupt("return",(0,n.addSignaturesToPSBT)(a.network,a.psbt,a.pubkeys,a.parseSignature(o,"buffer")));case 9:return e.abrupt("return",a.parseSignature(o,"hex"));case 10:return e.prev=10,r.close(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,,10,13]])})));return function(t,r){return e.apply(this,arguments)}}()));case 12:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"ledgerInputs",value:function(){return this.inputs.map((function(e){var t=(0,n.multisigAddressType)(e.multisig),r=(0,o.splitTransaction)(e.transactionHex,!0),a=t===n.P2SH?n.multisigRedeemScript:n.multisigWitnessScript,i=(0,n.scriptToHex)(a(e.multisig));return[r,e.index,i]}))}},{key:"ledgerKeysets",value:function(){var e=this;return this.bip32Paths.map((function(t){return e.ledgerBIP32Path(t)}))}},{key:"ledgerOutputScriptHex",value:function(){var e=(0,n.unsignedMultisigTransaction)(this.network,this.inputs,this.outputs).toHex(),t=(0,o.splitTransaction)(e,this.anySegwitInputs());return(0,i.serializeTransactionOutputs)(t).toString("hex")}},{key:"ledgerBIP32Path",value:function(e){return e.split("/").slice(1).join("/")}},{key:"anySegwitInputs",value:function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],r=(0,n.multisigAddressType)(t.multisig);if(r===n.P2SH_P2WSH||r===n.P2WSH)return!0}return!1}}]),r}(Q);t.LedgerSignMultisigTransaction=z;var q=function(e){B(r,e);var t=N(r);function r(e){var a,o=e.bip32Path,i=e.message;T(this,r),U(L(a=t.call(this)),"bip32Path",void 0),U(L(a),"message",void 0),U(L(a),"bip32ValidationErrorMessage",void 0),U(L(a),"isLegacySupported",!0),U(L(a),"isV2Supported",!1),a.bip32Path=o,a.message=i;var c=(0,n.validateBIP32Path)(o);return c.length&&(a.bip32ValidationErrorMessage={text:c,code:"ledger.bip32_path.path_error"}),a}return k(r,[{key:"messages",value:function(){var e=C(M(r.prototype),"messages",this).call(this);return this.bip32ValidationErrorMessage&&e.push({state:a.PENDING,level:a.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.sign",text:'Your Ledger will ask you to "Confirm Message" for signing.',action:"ledger_right_button"}),e}},{key:"run",value:function(){var e=O(P().mark((function e(){var t=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(M(r.prototype),"run",this).call(this);case 2:return e.abrupt("return",this.withApp(function(){var e=O(P().mark((function e(r,n){var a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setExchangeTimeout(2e4),e.next=4,r.signMessageNew(t.bip32Path,t.message);case 4:return a=e.sent,e.abrupt("return",a);case 6:return e.prev=6,n.close(),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(t,r){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Q);t.LedgerSignMessage=q;var Z=function(t){B(o,t);var r=N(o);function o(t){var a,i=t.policyHmac,c=g(t,d);T(this,o),U(L(a=r.call(this)),"walletPolicy",void 0),U(L(a),"policyHmac",void 0),U(L(a),"policyId",void 0),U(L(a),"isLegacySupported",!1),U(L(a),"isV2Supported",!0);var u=(0,s.getKeyOriginsFromWalletConfig)(c),l=(0,s.getPolicyTemplateFromWalletConfig)(c);if(i){if((0,n.validateHex)(i))throw new Error("Invalid policyHmac");a.policyHmac=e.from(i,"hex")}return a.walletPolicy=new s.MultisigWalletPolicy({name:c.name,keyOrigins:u,template:l}),a}return k(o,[{key:"messages",value:function(){var e=C(M(o.prototype),"messages",this).call(this);return this.policyHmac||e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.confirm.address",version:">=2.1.0",text:"Your Ledger will ask you to register your wallet info first. This allows the device to derive an address for a verified quorum.",action:"ledger_right_button"}),e}},{key:"registerWallet",value:function(){var t=O(P().mark((function t(){var r,n=this,a=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>0&&void 0!==a[0]&&a[0],!this.policyHmac||r){t.next=3;break}return t.abrupt("return",Promise.resolve(this.policyHmac));case 3:return t.abrupt("return",this.withApp(function(){var t=O(P().mark((function t(a){var o,i,c,u,s,l;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.walletPolicy.toLedgerPolicy(),t.next=3,a.registerWallet(o);case 3:return i=t.sent,c=E(i,2),u=c[0],s=c[1],l=e.from(s),r&&n.policyHmac&&n.policyHmac.toString("hex")!==l.toString("hex")&&console.error("Policy registrations did not match. Expected ".concat(n.policyHmac.toString("hex"),"; Actual: ").concat(l.toString("hex"))),n.policyHmac=l,n.policyId=u,t.abrupt("return",l);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),o}(Q);t.LedgerBitcoinV2WithRegistrationInteraction=Z;var J=function(t){B(n,t);var r=N(n);function n(e){var t,a=e.verify,o=void 0!==a&&a,i=e.policyHmac,c=g(e,p);return T(this,n),U(L(t=r.call(this,v({policyHmac:i},c))),"verify",void 0),t.verify=o,t}return k(n,[{key:"run",value:function(){var t=O(P().mark((function t(){var r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(M(n.prototype),"run",this).call(this);case 3:return t.next=5,this.registerWallet(this.verify);case 5:return r=t.sent,t.abrupt("return",e.from(r).toString("hex"));case 7:return t.prev=7,C(M(n.prototype),"closeTransport",this).call(this),t.finish(7);case 10:case"end":return t.stop()}}),t,this,[[0,,7,10]])})));return function(){return t.apply(this,arguments)}}()}]),n}(Z);t.LedgerRegisterWalletPolicy=J;var $=function(t){B(n,t);var r=N(n);function n(e){var t,a=e.policyHmac,o=e.addressIndex,i=e.display,c=e.expected,u=e.braidIndex,s=g(e,h);if(T(this,n),U(L(t=r.call(this,v({policyHmac:a},s))),"braidIndex",void 0),U(L(t),"addressIndex",void 0),U(L(t),"expected",void 0),U(L(t),"display",!0),1!==u&&0!==u)throw new Error("Invalid braid index ".concat(u));t.braidIndex=u;var l=Number(o);if(l<0)throw new Error("Invalid address index ".concat(l));return t.addressIndex=l,i&&(t.display=i),t.expected=c,t}return k(n,[{key:"messages",value:function(){var e=C(M(n.prototype),"messages",this).call(this);return e.push({state:a.PENDING,level:a.INFO,code:"ledger.confirm.address",version:">2.1.0",text:"It can take a moment for the ledger to process the wallet and address data"}),this.display&&e.push({state:a.ACTIVE,level:a.INFO,code:"ledger.confirm.address",version:">=2.1.0",text:"First confirm that the wallet name the address is from is correct",action:"ledger_right_button"},{state:a.ACTIVE,level:a.INFO,code:"ledger.confirm.address",version:">=2.1.0",text:"Then your Ledger will show the address across several screens. Verify this matches the address you are confirming.",action:"ledger_right_button"}),e}},{key:"getAddress",value:function(){var t=this;return this.withApp(function(){var r=O(P().mark((function r(n){return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.policyHmac){r.next=2;break}throw new Error("Can't get wallet address without a wallet registration");case 2:return r.abrupt("return",n.getWalletAddress(t.walletPolicy.toLedgerPolicy(),e.from(t.policyHmac),t.braidIndex,t.addressIndex,t.display));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"run",value:function(){var e=O(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(M(n.prototype),"run",this).call(this);case 3:return e.next=5,this.registerWallet();case 5:return e.next=7,this.getAddress();case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,C(M(n.prototype),"closeTransport",this).call(this),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,,8,11]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Z);t.LedgerConfirmMultisigAddress=$;var ee=function(t){B(a,t);var r=N(a);function a(e){var t,o=e.psbt,i=e.progressCallback,c=e.policyHmac,u=g(e,A);T(this,a),U(L(t=r.call(this,v({policyHmac:c},u))),"psbt",void 0),U(L(t),"progressCallback",void 0),U(L(t),"signatures",[]),i&&(t.progressCallback=i);var s=(0,n.getPsbtVersionNumber)(o);switch(s){case 0:t.psbt=n.PsbtV2.FromV0(o);break;case 2:t.psbt=new n.PsbtV2(o);break;default:throw new Error("PSBT of unsupported version ".concat(s))}return t}return k(a,[{key:"signPsbt",value:function(){var e=O(P().mark((function e(){var t=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.withApp(function(){var e=O(P().mark((function e(r){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.signPsbt(t.psbt,t.walletPolicy.toLedgerPolicy(),t.policyHmac||null,t.progressCallback);case 2:t.signatures=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"SIGNATURES",get:function(){return this.signatures.map((function(t){return e.from(t[2]).toString("hex")}))}},{key:"run",value:function(){var e=O(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(M(a.prototype),"run",this).call(this);case 3:return e.next=5,this.registerWallet();case 5:return e.next=7,this.signPsbt();case 7:return e.abrupt("return",this.SIGNATURES);case 8:return e.prev=8,C(M(a.prototype),"closeTransport",this).call(this),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,,8,11]])})));return function(){return e.apply(this,arguments)}}()}]),a}(Z);t.LedgerV2SignMultisigTransaction=ee}).call(this,r(9).Buffer)},1272:function(e,t,r){"use strict";(function(e){r(149),r(175),r(176),r(147),r(104),r(170),r(146),r(443),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppClient=void 0,r(148),r(1273),r(82),r(83),r(53),r(446),r(73),r(71),r(72),r(42);var n=r(1275),a=r(1288),o=r(1378),i=r(455),c=r(360);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:S(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var f={};function p(){}function h(){}function A(){}var b={};u(b,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==t&&r.call(g,o)&&(b=g);var y=A.prototype=p.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==m(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=P(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function P(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=A,n(y,"constructor",{value:A,configurable:!0}),n(A,"constructor",{value:h,configurable:!0}),h.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(y),u(y,c,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){p(o,n,a,i,c,"next",e)}function c(e){p(o,n,a,i,c,"throw",e)}i(void 0)}))}}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var v,g;!function(e){e[e.GET_PUBKEY=0]="GET_PUBKEY",e[e.REGISTER_WALLET=2]="REGISTER_WALLET",e[e.GET_WALLET_ADDRESS=3]="GET_WALLET_ADDRESS",e[e.SIGN_PSBT=4]="SIGN_PSBT",e[e.GET_MASTER_FINGERPRINT=5]="GET_MASTER_FINGERPRINT",e[e.SIGN_MESSAGE=16]="SIGN_MESSAGE"}(v||(v={})),function(e){e[e.CONTINUE_INTERRUPTED=1]="CONTINUE_INTERRUPTED"}(g||(g={}));var y=function(){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=void 0,(n=b(n="transport"))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,this.transport=e}var r,l,f;return r=t,(l=[{key:"makeRequest",value:function(){var e=h(d().mark((function e(t,r,n){var a,o,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transport.send(225,t,0,1,r,[36864,57344]);case 2:a=e.sent;case 3:if(57344!==a.readUInt16BE(a.length-2)){e.next=13;break}if(n){e.next=6;break}throw new Error("Unexpected SW_INTERRUPTED_EXECUTION");case 6:return o=a.slice(0,-2),i=n.execute(o),e.next=10,this.transport.send(248,g.CONTINUE_INTERRUPTED,0,0,i,[36864,57344]);case 10:a=e.sent,e.next=3;break;case 13:return e.abrupt("return",a.slice(0,-2));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getExtendedPubkey",value:function(){var t=h(d().mark((function t(r){var a,o,i,c=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c.length>1&&void 0!==c[1]&&c[1],!((o=(0,n.pathStringToArray)(r)).length>6)){t.next=4;break}throw new Error("Path too long. At most 6 levels allowed.");case 4:return t.next=6,this.makeRequest(v.GET_PUBKEY,e.concat([e.from(a?[1]:[0]),(0,n.pathElementsToBuffer)(o)]));case 6:return i=t.sent,t.abrupt("return",i.toString("ascii"));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"registerWallet",value:function(){var t=h(d().mark((function t(r){var n,o,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new a.ClientCommandInterpreter).addKnownWalletPolicy(r),o=r.serialize(),t.next=5,this.makeRequest(v.REGISTER_WALLET,e.concat([(0,c.createVarint)(o.length),o]),n);case 5:if(64==(i=t.sent).length){t.next=8;break}throw Error("Invalid response length. Expected 64 bytes, got ".concat(i.length));case 8:return t.abrupt("return",[i.subarray(0,32),i.subarray(32)]);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getWalletAddress",value:function(){var t=h(d().mark((function t(r,n,o,i,c){var u,s,l;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===o||1===o){t.next=2;break}throw new Error("Change can only be 0 or 1");case 2:if(!(i<0)&&Number.isInteger(i)){t.next=4;break}throw new Error("Invalid address index");case 4:if(null==n||32==n.length){t.next=6;break}throw new Error("Invalid HMAC length");case 6:return(u=new a.ClientCommandInterpreter).addKnownWalletPolicy(r),(s=e.alloc(4)).writeUInt32BE(i,0),t.next=12,this.makeRequest(v.GET_WALLET_ADDRESS,e.concat([e.from(c?[1]:[0]),r.getId(),n||e.alloc(32,0),e.from([o]),s]),u);case 12:return l=t.sent,t.abrupt("return",l.toString("ascii"));case 14:case"end":return t.stop()}}),t,this)})));return function(e,r,n,a,o){return t.apply(this,arguments)}}()},{key:"signPsbt",value:function(){var t=h(d().mark((function t(r,n,l,f){var p,h,A,m,b,g,y,E,w,S,P,I,O,T,x,k,C,j,B,R,N,_;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p=new o.MerkelizedPsbt(r),null==l||32==l.length){t.next=3;break}throw new Error("Invalid HMAC length");case 3:(h=new a.ClientCommandInterpreter(f)).addKnownWalletPolicy(n),h.addKnownMapping(p.globalMerkleMap),A=s(p.inputMerkleMaps);try{for(A.s();!(m=A.n()).done;)b=m.value,h.addKnownMapping(b)}catch(d){A.e(d)}finally{A.f()}g=s(p.outputMerkleMaps);try{for(g.s();!(y=g.n()).done;)E=y.value,h.addKnownMapping(E)}catch(d){g.e(d)}finally{g.f()}return h.addKnownList(p.inputMapCommitments),w=new i.Merkle(p.inputMapCommitments.map((function(e){return(0,i.hashLeaf)(e)}))).getRoot(),h.addKnownList(p.outputMapCommitments),S=new i.Merkle(p.outputMapCommitments.map((function(e){return(0,i.hashLeaf)(e)}))).getRoot(),t.next=16,this.makeRequest(v.SIGN_PSBT,e.concat([p.getGlobalKeysValuesRoot(),(0,c.createVarint)(p.getGlobalInputCount()),w,(0,c.createVarint)(p.getGlobalOutputCount()),S,n.getId(),l||e.alloc(32,0)]),h);case 16:P=h.getYielded(),I=[],O=s(P);try{for(O.s();!(T=O.n()).done;)x=T.value,k=(0,c.parseVarint)(x,0),C=u(k,2),j=C[0],B=C[1],R=x[B],N=x.subarray(B+1,B+1+R),_=x.subarray(B+1+R),I.push([Number(j),N,_])}catch(d){O.e(d)}finally{O.f()}return t.abrupt("return",I);case 21:case"end":return t.stop()}}),t,this)})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"getMasterFingerprint",value:function(){var t=h(d().mark((function t(){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeRequest(v.GET_MASTER_FINGERPRINT,e.from([]));case 2:return r=t.sent,t.abrupt("return",r.toString("hex"));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signMessage",value:function(){var t=h(d().mark((function t(r,o){var u,s,l,f,p,h,A;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(u=(0,n.pathStringToArray)(o),s=new a.ClientCommandInterpreter,l=Math.ceil(r.length/64),f=[],p=0;p<l;p++)f.push(r.subarray(64*p,64*p+64));return s.addKnownList(f),h=new i.Merkle(f.map((function(e){return(0,i.hashLeaf)(e)}))).getRoot(),t.next=9,this.makeRequest(v.SIGN_MESSAGE,e.concat([(0,n.pathElementsToBuffer)(u),(0,c.createVarint)(r.length),h]),s);case 9:return A=t.sent,t.abrupt("return",A.toString("base64"));case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()}])&&A(r.prototype,l),f&&A(r,f),Object.defineProperty(r,"prototype",{writable:!1}),t}();t.AppClient=y;var E=y;t.default=E}).call(this,r(9).Buffer)},1275:function(e,t,r){"use strict";(function(e){r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.bip32asBuffer=function(e){return i(e?c(e):[])},t.getXpubComponents=function(e){var t=a.default.decode(e);return{chaincode:t.slice(13,45),pubkey:t.slice(t.length-33),version:t.readUInt32BE(0)}},t.hardenedPathOf=function(e){for(var t=e.length-1;t>=0;t--)if(e[t]>=2147483648)return e.slice(0,t+1);return[]},t.pathArrayToString=function(e){if(0==e.length)return"m";return n.default.fromPathArray(e).toString()},t.pathElementsToBuffer=i,t.pathStringToArray=c,t.pubkeyFromXpub=function(e){var t=a.default.decode(e);return t.slice(t.length-33)},r(82),r(83),r(53),r(170);var n=o(r(375)),a=o(r(289));function o(e){return e&&e.__esModule?e:{default:e}}function i(t){var r=e.alloc(1+4*t.length);return r[0]=t.length,t.forEach((function(e,t){r.writeUInt32BE(e,1+4*t)})),r}function c(e){return"m"==e||""==e?[]:n.default.fromString(e).toPathArray()}}).call(this,r(9).Buffer)},1277:function(e,t){},1279:function(e,t){},1288:function(e,t,r){"use strict";(function(e){r(104),r(176),r(149),r(146),r(173),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.YieldCommand=t.GetPreimageCommand=t.GetMoreElementsCommand=t.GetMerkleLeafProofCommand=t.GetMerkleLeafIndexCommand=t.ClientCommandInterpreter=void 0,r(148),r(172),r(132),r(175),r(867),r(611),r(82),r(83),r(53),r(73),r(71),r(72),r(42);var n,a=r(450),o=r(625),i=r(455),c=r(360);function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function v(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}!function(e){e[e.YIELD=16]="YIELD",e[e.GET_PREIMAGE=64]="GET_PREIMAGE",e[e.GET_MERKLE_LEAF_PROOF=65]="GET_MERKLE_LEAF_PROOF",e[e.GET_MERKLE_LEAF_INDEX=66]="GET_MERKLE_LEAF_INDEX",e[e.GET_MORE_ELEMENTS=160]="GET_MORE_ELEMENTS"}(n||(n={}));var S=v((function e(){g(this,e),E(this,"code",void 0)})),P=function(t){f(a,t);var r=p(a);function a(e,t){var o;return g(this,a),(o=r.call(this)).progressCallback=t,E(A(o),"results",void 0),E(A(o),"code",n.YIELD),o.results=e,o}return v(a,[{key:"execute",value:function(t){return this.results.push(e.from(t.subarray(1))),this.progressCallback&&this.progressCallback(),e.from("")}}]),a}(S);t.YieldCommand=P;var I=function(t){f(a,t);var r=p(a);function a(e,t){var o;return g(this,a),E(A(o=r.call(this)),"known_preimages",void 0),E(A(o),"queue",void 0),E(A(o),"code",n.GET_PREIMAGE),o.known_preimages=e,o.queue=t,o}return v(a,[{key:"execute",value:function(t){var r=e.from(t.subarray(1));if(33!=r.length)throw new Error("Invalid request, unexpected trailing data");if(0!=r[0])throw new Error("Unsupported request, the first byte should be 0");for(var n=e.alloc(32),a=0;a<32;a++)n[a]=r[1+a];var o=n.toString("hex"),i=this.known_preimages.get(o);if(void 0!=i){var u=(0,c.createVarint)(i.length),s=255-u.length-1,l=Math.min(s,i.length);if(l<i.length)for(var f=l;f<i.length;f++)this.queue.push(e.from([i[f]]));return e.concat([u,e.from([l]),e.from(i.subarray(0,l))])}throw Error("Requested unknown preimage for: ".concat(o))}}]),a}(S);t.GetPreimageCommand=I;var O=function(t){f(a,t);var r=p(a);function a(e,t){var o;return g(this,a),E(A(o=r.call(this)),"known_trees",void 0),E(A(o),"queue",void 0),E(A(o),"code",n.GET_MERKLE_LEAF_PROOF),o.known_trees=e,o.queue=t,o}return v(a,[{key:"execute",value:function(t){var r=e.from(t.subarray(1));if(r.length<34)throw new Error("Invalid request, expected at least 34 bytes");var n,a,i=new o.BufferReader(r),s=i.readSlice(32).toString("hex");try{n=(0,c.sanitizeBigintToNumber)(i.readVarInt()),a=(0,c.sanitizeBigintToNumber)(i.readVarInt())}catch(A){throw new Error("Invalid request, couldn't parse tree_size or leaf_index")}var l=this.known_trees.get(s);if(!l)throw Error("Requested Merkle leaf proof for unknown tree: ".concat(s));if(a>=n||l.size()!=n)throw Error("Invalid index or tree size.");if(0!=this.queue.length)throw Error("This command should not execute when the queue is not empty.");var f,d=l.getProof(a),p=Math.min(Math.floor(221/32),d.length),h=d.length-p;h>0&&(f=this.queue).push.apply(f,u(d.slice(-h)));return e.concat([l.getLeafHash(a),e.from([d.length]),e.from([p])].concat(u(d.slice(0,p))))}}]),a}(S);t.GetMerkleLeafProofCommand=O;var T=function(t){f(a,t);var r=p(a);function a(e){var t;return g(this,a),E(A(t=r.call(this)),"known_trees",void 0),E(A(t),"code",n.GET_MERKLE_LEAF_INDEX),t.known_trees=e,t}return v(a,[{key:"execute",value:function(t){var r=e.from(t.subarray(1));if(64!=r.length)throw new Error("Invalid request, unexpected trailing data");for(var n=e.alloc(32),a=0;a<32;a++)n[a]=r.readUInt8(a);for(var o=n.toString("hex"),i=e.alloc(32),u=0;u<32;u++)i[u]=r.readUInt8(32+u);var s=i.toString("hex"),l=this.known_trees.get(o);if(!l)throw Error("Requested Merkle leaf index for unknown root: ".concat(o));for(var f=0,d=0,p=0;p<l.size();p++)if(l.getLeafHash(p).toString("hex")==s){d=1,f=p;break}return e.concat([e.from([d]),(0,c.createVarint)(f)])}}]),a}(S);t.GetMerkleLeafIndexCommand=T;var x=function(t){f(a,t);var r=p(a);function a(e){var t;return g(this,a),E(A(t=r.call(this)),"queue",void 0),E(A(t),"code",n.GET_MORE_ELEMENTS),t.queue=e,t}return v(a,[{key:"execute",value:function(t){if(1!=t.length)throw new Error("Invalid request, unexpected trailing data");if(0===this.queue.length)throw new Error("No elements to get");var r=this.queue[0].length;if(this.queue.some((function(e){return e.length!=r})))throw new Error("The queue contains elements with different byte length, which is not expected");var n=Math.floor(253/r),a=Math.min(n,this.queue.length),o=this.queue.splice(0,a);return e.concat([e.from([a]),e.from([r])].concat(u(o)))}}]),a}(S);t.GetMoreElementsCommand=x;var k=function(){function t(e){g(this,t),E(this,"roots",new Map),E(this,"preimages",new Map),E(this,"yielded",[]),E(this,"queue",[]),E(this,"commands",new Map);for(var r=0,n=[new P(this.yielded,e),new I(this.preimages,this.queue),new T(this.roots),new O(this.roots,this.queue),new x(this.queue)];r<n.length;r++){var a=n[r];if(this.commands.has(a.code))throw new Error("Multiple commands with code ".concat(a.code));this.commands.set(a.code,a)}}return v(t,[{key:"getYielded",value:function(){return this.yielded}},{key:"addKnownPreimage",value:function(e){this.preimages.set(a.crypto.sha256(e).toString("hex"),e)}},{key:"addKnownList",value:function(t){var r,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(t);try{for(n.s();!(r=n.n()).done;){var a=r.value,o=e.concat([e.from([0]),a]);this.addKnownPreimage(o)}}catch(u){n.e(u)}finally{n.f()}var c=new i.Merkle(t.map((function(e){return(0,i.hashLeaf)(e)})));this.roots.set(c.getRoot().toString("hex"),c)}},{key:"addKnownMapping",value:function(e){this.addKnownList(e.keys),this.addKnownList(e.values)}},{key:"addKnownWalletPolicy",value:function(t){this.addKnownPreimage(t.serialize()),this.addKnownList(t.keys.map((function(t){return e.from(t,"ascii")}))),this.addKnownPreimage(e.from(t.descriptorTemplate))}},{key:"execute",value:function(e){if(0==e.length)throw new Error("Unexpected empty command");var t=e[0],r=this.commands.get(t);if(!r)throw new Error("Unexpected command code ".concat(t));return r.execute(e)}}]),t}();t.ClientCommandInterpreter=k}).call(this,r(9).Buffer)},1297:function(e,t){},1300:function(e,t){},1301:function(e,t){},1378:function(e,t,r){"use strict";(function(e){r(104),r(82),r(83),r(175),r(176),r(149),r(146),r(173),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.MerkelizedPsbt=void 0,r(1379),r(172),r(132),r(53),r(148),r(73),r(71),r(72),r(42);var n=r(1380);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var A=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,t);var r,o,s,f=u(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),p(l(t=f.call(this)),"globalMerkleMap",void 0),p(l(t),"inputMerkleMaps",[]),p(l(t),"outputMerkleMaps",[]),p(l(t),"inputMapCommitments",void 0),p(l(t),"outputMapCommitments",void 0),e.copy(l(t)),t.globalMerkleMap=d.createMerkleMap(t.globalMap);for(var r=0;r<t.getGlobalInputCount();r++)t.inputMerkleMaps.push(d.createMerkleMap(t.inputMaps[r]));t.inputMapCommitments=a(t.inputMerkleMaps.values()).map((function(e){return e.commitment()}));for(var n=0;n<t.getGlobalOutputCount();n++)t.outputMerkleMaps.push(d.createMerkleMap(t.outputMaps[n]));return t.outputMapCommitments=a(t.outputMerkleMaps.values()).map((function(e){return e.commitment()})),t}return r=d,s=[{key:"createMerkleMap",value:function(t){var r=a(t.keys()).sort(),o=r.map((function(e){var r=t.get(e);if(!r)throw new Error("No value for key "+e);return r})),i=r.map((function(t){return e.from(t,"hex")}));return new n.MerkleMap(i,o)}}],(o=[{key:"getGlobalSize",value:function(){return this.globalMap.size}},{key:"getGlobalKeysValuesRoot",value:function(){return this.globalMerkleMap.commitment()}}])&&i(r.prototype,o),s&&i(r,s),Object.defineProperty(r,"prototype",{writable:!1}),d}(r(885).PsbtV2);t.MerkelizedPsbt=A}).call(this,r(9).Buffer)},1380:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleMap=void 0,r(148),r(172),r(132),r(82),r(83),r(53),r(73),r(71),r(72),r(42);var n=r(455),a=r(360);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var s=function(){function t(e,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"keys",void 0),c(this,"keysTree",void 0),c(this,"values",void 0),c(this,"valuesTree",void 0),e.length!=r.length)throw new Error("keys and values should have the same length");for(var a=0;a<e.length-1;a++)if(e[a].toString("hex")>=e[a+1].toString("hex"))throw new Error("keys must be in strictly increasing order");this.keys=e,this.keysTree=new n.Merkle(e.map((function(e){return(0,n.hashLeaf)(e)}))),this.values=r,this.valuesTree=new n.Merkle(r.map((function(e){return(0,n.hashLeaf)(e)})))}var r,i,u;return r=t,(i=[{key:"commitment",value:function(){return e.concat([(0,a.createVarint)(this.keys.length),this.keysTree.getRoot(),this.valuesTree.getRoot()])}}])&&o(r.prototype,i),u&&o(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}();t.MerkleMap=s}).call(this,r(9).Buffer)},1381:function(e,t,r){"use strict";(function(e){r(146),r(173),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.WalletPolicy=t.DefaultWalletPolicy=void 0,r(148),r(172),r(132),r(53),r(104),r(73),r(71),r(72),r(42);var n=r(450),a=r(625),o=r(455);function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var a=s(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var m=function(){function t(e,r,n){l(this,t),h(this,"name",void 0),h(this,"descriptorTemplate",void 0),h(this,"keys",void 0),this.name=e,this.descriptorTemplate=r,this.keys=n}return d(t,[{key:"getId",value:function(){return n.crypto.sha256(this.serialize())}},{key:"serialize",value:function(){var t=this.keys.map((function(t){return e.from(t,"ascii")})),r=new o.Merkle(t.map((function(e){return(0,o.hashLeaf)(e)}))),i=new a.BufferWriter;return i.writeUInt8(2),i.writeVarSlice(e.from(this.name,"ascii")),i.writeVarInt(this.descriptorTemplate.length),i.writeSlice(n.crypto.sha256(e.from(this.descriptorTemplate))),i.writeVarInt(this.keys.length),i.writeSlice(r.getRoot()),i.buffer()}}]),t}();t.WalletPolicy=m;var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(r,e);var t=c(r);function r(e,n){return l(this,r),t.call(this,"",e,[n])}return d(r)}(m);t.DefaultWalletPolicy=b}).call(this,r(9).Buffer)},1439:function(e,t,r){"use strict";(function(e){r(175),r(176),r(104),r(149),r(443),r(287),r(146),r(173),r(174),r(147),r(353),r(354),r(170),r(246),r(285),r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.TrezorSignMultisigTransaction=t.TrezorSignMessage=t.TrezorInteraction=t.TrezorGetMetadata=t.TrezorExportPublicKey=t.TrezorExportHDNode=t.TrezorExportExtendedPublicKey=t.TrezorConfirmMultisigAddress=t.TREZOR_RIGHT_BUTTON=t.TREZOR_PUSH_AND_HOLD_BUTTON=t.TREZOR_LEFT_BUTTON=t.TREZOR_BOTH_BUTTONS=t.TREZOR=void 0,t.trezorCoin=H,r(73),r(71),r(72),r(1440),r(82),r(83),r(856),r(148),r(172),r(132),r(53),r(844),r(448),r(446);var n,a,o=(n=r(1442))&&n.__esModule?n:{default:n},i=r(5),c=r(450),u=r(286),s=r(7);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var p={};function h(){}function A(){}function m(){}var b={};u(b,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==t&&r.call(g,o)&&(b=g);var y=m.prototype=h.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=d(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=P(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function P(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return A.prototype=m,n(y,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:A,configurable:!0}),A.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(y),u(y,c,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,a)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(){return(v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=g(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P(e);if(t){var a=P(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}t.TREZOR="trezor";var k=r(1443).default,C=(T(a={},i.P2SH,"SPENDMULTISIG"),T(a,i.P2SH_P2WSH,"SPENDP2SHWITNESS"),T(a,i.P2WSH,"SPENDWITNESS"),a);t.TREZOR_LEFT_BUTTON="trezor_left_button";t.TREZOR_RIGHT_BUTTON="trezor_right_button";t.TREZOR_BOTH_BUTTONS="trezor_both_buttons";t.TREZOR_PUSH_AND_HOLD_BUTTON="trezor_push_and_hold_button";var j=O({},Object({NODE_ENV:"production",PUBLIC_URL:"/caravan",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GIT_SHA:"4d14ff2"})),B=j.TREZOR_CONNECT_URL||j.REACT_APP_TREZOR_CONNECT_URL||"https://localhost:8088/",R=j.TREZOR_BLOCKBOOK_URL||j.REACT_APP_TREZOR_BLOCKBOOK_URL||"http://localhost:3035",N=j.TREZOR_DEV||j.REACT_APP_TREZOR_DEV;try{N?k.init({connectSrc:B,lazyLoad:!0,manifest:{email:"help@unchained-capital.com",appUrl:"https://github.com/unchained-capital/unchained-wallets"}}):k.manifest({email:"help@unchained-capital.com",appUrl:"https://github.com/unchained-capital/unchained-wallets"})}catch(V){"test"!==j.NODE_ENV&&console.error("Unable to call TrezorConnect.manifest.")}var _=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network;return A(this,r),(n=t.call(this)).network=a,n.trezorCoin=H(a),n}return b(r,[{key:"messages",value:function(){var e=v(P(r.prototype),"messages",this).call(this);return e.push({version:"One",state:u.PENDING,level:u.INFO,text:"Make sure your Trezor device is plugged in.",code:"device.connect"}),e.push({version:"T",state:u.PENDING,level:u.INFO,text:"Make sure your Trezor device is plugged in and unlocked.",code:"device.connect"}),e.push({state:u.ACTIVE,level:u.INFO,text:"Your browser should now open a new window to Trezor Connect. Ensure you have enabled popups for this site.",code:"trezor.connect.generic"}),e}},{key:"run",value:function(){var e,t=(e=f().mark((function e(){var t,r,n,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.connectParams(),r=d(t,2),n=r[0],a=r[1],!N||n!==k.signTransaction){e.next=4;break}return e.next=4,k.blockchainSetCustomBackend({coin:"Regtest",blockchainLink:{type:"blockbook",url:[R]}});case 4:return e.next=6,n(a);case 6:if((o=e.sent).success){e.next=9;break}throw new Error(o.payload.error);case 9:return e.abrupt("return",this.parsePayload(o.payload));case 10:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,c,"next",e)}function c(e){h(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"connectParams",value:function(){return[function(){throw new Error("Override the `connectParams` method on a subclass of TrezorInteraction.")},{}]}},{key:"parsePayload",value:function(e){return e}}]),r}(u.DirectKeystoreInteraction);t.TrezorInteraction=_;var L=function(e){y(r,e);var t=w(r);function r(){return A(this,r),t.call(this,{})}return b(r,[{key:"connectParams",value:function(){return[k.getFeatures,{}]}},{key:"parsePayload",value:function(e){var t=e.major_version,r=e.minor_version,n=e.patch_version,a=e.label,o=e.model,i=e.pin_protection,c=e.passphrase_protection,u="Model ".concat(o," v.").concat(t,".").concat(r,".").concat(n);return i&&(u+=" w/PIN"),c&&(u+=" w/PASS"),{spec:u,model:"Model ".concat(o),version:{major:t,minor:r,patch:n,string:"".concat(t,".").concat(r,".").concat(n)},label:a,pin:i,passphrase:c}}}]),r}(_);t.TrezorGetMetadata=L;var M=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network,o=e.bip32Path,c=e.includeXFP;A(this,r),(n=t.call(this,{network:a})).bip32Path=o,n.includeXFP=c,n.bip32ValidationErrorMessage={};var u=(0,i.validateBIP32Path)(o);return u.length&&(n.bip32ValidationErrorMessage={text:u,code:"trezor.bip32_path.path_error"}),n}return b(r,[{key:"messages",value:function(){var e=v(P(r.prototype),"messages",this).call(this);return(this.bip32Path||"").split("/").length<4&&e.push({state:u.PENDING,level:u.ERROR,text:"BIP32 path must be at least depth 3.",code:"trezor.bip32_path.minimum"}),Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:u.PENDING,level:u.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm in the Trezor Connect window that you want to 'Export public key'. You may be prompted to enter your PIN.",code:"trezor.connect.export_hdnode"}),e}},{key:"extractDetailsFromPayload",value:function(e){var t=e.payload,r=e.pubkey;if(2!==t.length)throw new Error("Payload does not have two responses.");for(var n="",a=null,o=0;o<t.length;o++)if(t[o].serializedPath===s.MULTISIG_ROOT){var c=t[o].fingerprint;a=(0,i.fingerprintToFixedLengthHex)(c)}else n=r?t[o].publicKey:t[o].xpub;return{rootFingerprint:a,keyMaterial:n}}},{key:"connectParams",value:function(){return this.includeXFP?[k.getPublicKey,{bundle:[{path:this.bip32Path},{path:s.MULTISIG_ROOT}],coin:this.trezorCoin,crossChain:!0}]:[k.getPublicKey,{path:this.bip32Path,coin:this.trezorCoin,crossChain:!0}]}}]),r}(_);t.TrezorExportHDNode=M;var D=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network,o=e.bip32Path,i=e.includeXFP;return A(this,r),(n=t.call(this,{network:a,bip32Path:o,includeXFP:i})).includeXFP=i,n}return b(r,[{key:"parsePayload",value:function(e){if(this.includeXFP){var t=this.extractDetailsFromPayload({payload:e,pubkey:!0});return{rootFingerprint:t.rootFingerprint,publicKey:t.keyMaterial}}return e.publicKey}}]),r}(M);t.TrezorExportPublicKey=D;var U=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network,o=e.bip32Path,i=e.includeXFP;return A(this,r),(n=t.call(this,{network:a,bip32Path:o,includeXFP:i})).includeXFP=i,n}return b(r,[{key:"parsePayload",value:function(e){if(this.includeXFP){var t=this.extractDetailsFromPayload({payload:e,pubkey:!1});return{rootFingerprint:t.rootFingerprint,xpub:t.keyMaterial}}return e.xpub}}]),r}(M);t.TrezorExportExtendedPublicKey=U;var F=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network,o=e.inputs,c=e.outputs,u=e.bip32Paths,s=e.psbt,l=e.keyDetails,f=e.returnSignatureArray;if(A(this,r),n=t.call(this,{network:a}),s&&l){var d=(0,i.translatePSBT)(a,i.P2SH,s,l),p=d.unchainedInputs,h=d.unchainedOutputs,m=d.bip32Derivations;n.psbt=s,n.inputs=p,n.outputs=h,n.bip32Paths=m.map((function(e){return e.path})),n.pubkeys=m.map((function(e){return e.pubkey})),n.returnSignatureArray=f}else n.inputs=o,n.outputs=c,n.bip32Paths=u;return n}return b(r,[{key:"messages",value:function(){var e=v(P(r.prototype),"messages",this).call(this);return e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm in the Trezor Connect window that you want to 'Sign ".concat(this.network," transaction'.  You may be prompted to enter your PIN."),code:"trezor.connect.sign"}),e.push({state:u.ACTIVE,level:u.INFO,version:"One",text:"Confirm each output on your Trezor device and approve the transaction.",messages:[{text:"For each output, your Trezor device will display the output amount and address.",action:"trezor_right_button"},{text:"Your Trezor device will display the total output amounts and fee amount.",action:"trezor_right_button"}],code:"trezor.sign"}),e.push({state:u.ACTIVE,level:u.INFO,version:"T",text:"Confirm each output on your Trezor device and approve the transaction.",messages:[{text:'For each input, your Trezor device will display a "Confirm path" dialogue displaying the input BIP32 path.  It is safe to continue',action:"trezor_right_button"},{text:'For each output, your Trezor device will display a "Confirm sending" dialogue displaying the output amount and address.',action:"trezor_right_button"},{text:'Your Trezor device will display the "Confirm transaction" dialogue displaying the total output amount and fee amount.',action:"trezor_push_and_hold_button"}],code:"trezor.sign"}),e}},{key:"connectParams",value:function(){var e=this;return[k.signTransaction,{inputs:this.inputs.map((function(t,r){return function(e,t){var r=(0,i.multisigRequiredSigners)(e.multisig),n=(0,i.multisigPublicKeys)(e.multisig),a=(0,i.multisigAddressType)(e.multisig);return O({script_type:C[a],multisig:{m:r,pubkeys:n.map((function(e){return Q(e)})),signatures:Array(n.length).fill("")},prev_hash:e.txid,prev_index:e.index,address_n:(0,i.bip32PathToSequence)(t)},e.amountSats&&{amount:(0,o.default)(e.amountSats).toString()})}(t,e.bip32Paths[r])})),outputs:this.outputs.map((function(e){return function(e){return{amount:(0,o.default)(e.amountSats).toFixed(0),address:e.address,script_type:"PAYTOADDRESS"}}(e)})),coin:this.trezorCoin}]}},{key:"parsePayload",value:function(e){return this.psbt&&!this.returnSignatureArray?(0,i.addSignaturesToPSBT)(this.network,this.psbt,this.pubkeys,this.parseSignature(e.signatures,"buffer")):this.parseSignature(e.signatures,"hex")}}]),r}(_);t.TrezorSignMultisigTransaction=F;var G=function(t){y(n,t);var r=w(n);function n(e){var t,a=e.network,o=e.bip32Path,i=e.multisig,c=e.publicKey;return A(this,n),(t=r.call(this,{network:a})).bip32Path=o,t.multisig=i,t.publicKey=c,t}return b(n,[{key:"messages",value:function(){var e=v(P(n.prototype),"messages",this).call(this);return this.publicKey?e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm in the Trezor Connect window that you want to \u2018Export multiple ".concat(this.trezorCoin," addresses\u2019. You may be prompted to enter your PIN. You may also receive a warning about your selected BIP32 path."),code:"trezor.connect.confirm_address"}):e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm in the Trezor Connect window that you want to 'Export ".concat(this.trezorCoin," address'.  You may be prompted to enter your PIN."),code:"trezor.connect.confirm_address"}),e.push({state:u.ACTIVE,level:u.INFO,version:"One",text:"It is safe to continue and confirm the address on your Trezor device.",messages:[{text:'Your Trezor device may display a warning "Wrong address path for selected coin".  It is safe to continue',action:"trezor_right_button"},{text:"Your Trezor device will display the multisig address and BIP32 path.",action:"trezor_right_button"}],code:"trezor.confirm_address"}),e.push({state:u.ACTIVE,level:u.INFO,version:"T",text:"Confirm the addresss on your Trezor device.",messages:[{text:'For each signer in your quorum, your Trezor device will display a "Confirm path" dialogue displaying the signer\'s BIP32 path.  It is safe to continue',action:"trezor_right_button"},{text:"Your Trezor device will display the multisig address.",action:"trezor_right_button"}],code:"trezor.confirm_address"}),e}},{key:"connectParams",value:function(){return this.publicKey?[k.getAddress,{bundle:[{path:this.bip32Path,showOnTrezor:!1,coin:this.trezorCoin,crossChain:!0},{path:this.bip32Path,address:(0,i.multisigAddress)(this.multisig),showOnTrezor:!0,coin:this.trezorCoin,crossChain:!0,multisig:{m:(0,i.multisigRequiredSigners)(this.multisig),pubkeys:(0,i.multisigPublicKeys)(this.multisig).map((function(e){return Q(e)}))},scriptType:C[(0,i.multisigAddressType)(this.multisig)]}]}]:[k.getAddress,{path:this.bip32Path,address:(0,i.multisigAddress)(this.multisig),showOnTrezor:!0,coin:this.trezorCoin,crossChain:!0,multisig:{m:(0,i.multisigRequiredSigners)(this.multisig),pubkeys:(0,i.multisigPublicKeys)(this.multisig).map((function(e){return Q(e)}))},scriptType:C[(0,i.multisigAddressType)(this.multisig)]}]}},{key:"parsePayload",value:function(t){if(!this.publicKey)return t;var r=c.ECPair.fromPublicKey(e.from(this.publicKey,"hex")),n=c.payments.p2pkh({pubkey:r.publicKey,network:(0,i.networkData)(this.network)}).address;if(n!==t[0].address&&n!==t[1].address)throw new Error("Wrong public key specified");return t}}]),n}(_);t.TrezorConfirmMultisigAddress=G;var K=function(e){y(r,e);var t=w(r);function r(e){var n,a=e.network,o=e.bip32Path,c=e.message;A(this,r),(n=t.call(this,{network:a})).bip32Path=o,n.message=c,n.bip32ValidationErrorMessage={};var u=(0,i.validateBIP32Path)(o);return u.length&&(n.bip32ValidationErrorMessage={text:u,code:"trezor.bip32_path.path_error"}),n}return b(r,[{key:"messages",value:function(){var e=v(P(r.prototype),"messages",this).call(this);return(this.bip32Path||"").split("/").length<4&&e.push({state:u.PENDING,level:u.ERROR,text:"BIP32 path must be at least depth 3.",code:"trezor.bip32_path.minimum"}),Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:u.PENDING,level:u.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm in the Trezor Connect window that you want to 'Sign message'.  You may be prompted to enter your PIN.",code:"trezor.connect.sign"}),e.push({state:u.ACTIVE,level:u.INFO,text:"Confirm the message to be signed on your Trezor device and approve for signing.",code:"trezor.sign"}),e}},{key:"connectParams",value:function(){return[k.signMessage,{path:this.bip32Path,message:this.message}]}}]),r}(_);function H(e){var t=N?"Regtest":"Testnet";return e===i.MAINNET?"Bitcoin":t}function Q(e){return{address_n:[],node:{depth:0,child_num:0,fingerprint:0,chain_code:"0".repeat(64),public_key:e}}}t.TrezorSignMessage=K}).call(this,r(9).Buffer)},1510:function(e,t,r){},1515:function(e,t,r){},1516:function(e,t,r){},1517:function(e,t){e.exports="data:image/png;base64,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"},1519:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"getTotalBalance",(function(){return Qe})),r.d(n,"getPendingBalance",(function(){return Ve})),r.d(n,"getConfirmedBalance",(function(){return We})),r.d(n,"getSlicesWithLastUsed",(function(){return Ye})),r.d(n,"getSpendableSlices",(function(){return Xe})),r.d(n,"getSpentSlices",(function(){return ze})),r.d(n,"getSlicesWithBalance",(function(){return qe})),r.d(n,"getZeroBalanceSlices",(function(){return Ze})),r.d(n,"getUnknownAddressSlices",(function(){return Je})),r.d(n,"getUnknownAddresses",(function(){return $e})),r.d(n,"getDepositableSlices",(function(){return et})),r.d(n,"getWalletDetailsText",(function(){return tt}));var a={};r.r(a),r.d(a,"SET_ERROR_NOTIFICATION",(function(){return bt})),r.d(a,"CLEAR_ERROR_NOTIFICATION",(function(){return vt})),r.d(a,"setErrorNotification",(function(){return gt})),r.d(a,"clearErrorNotification",(function(){return yt}));var o={};r.r(o),r.d(o,"START_TEST_SUITE_RUN",(function(){return Wi})),r.d(o,"SET_CURRENT_TEST_RUN",(function(){return Yi})),r.d(o,"startTestSuiteRun",(function(){return Xi})),r.d(o,"setCurrentTestRun",(function(){return zi}));var i={};r.r(i),r.d(i,"SET_KEYSTORE",(function(){return qi})),r.d(i,"SET_KEYSTORE_NOTE",(function(){return Zi})),r.d(i,"SET_KEYSTORE_STATUS",(function(){return Ji})),r.d(i,"setKeystore",(function(){return $i})),r.d(i,"setKeystoreNote",(function(){return ec})),r.d(i,"setKeystoreStatus",(function(){return tc}));var c={};r.r(c),r.d(c,"START_TEST_RUN",(function(){return rc})),r.d(c,"END_TEST_RUN",(function(){return nc})),r.d(c,"RESET_TEST_RUN",(function(){return ac})),r.d(c,"SET_TEST_RUN_NOTE",(function(){return oc})),r.d(c,"startTestRun",(function(){return ic})),r.d(c,"endTestRun",(function(){return cc})),r.d(c,"resetTestRun",(function(){return uc})),r.d(c,"setTestRunNote",(function(){return sc}));var u=r(0),s=r.n(u),l=r(29),f=r.n(l),d=r(95),p=r(19),h=r(908),A=r.n(h),m=r(909),b=r(11),v=r(12),g=r(14),y=r(13),E=r(943),w=r(944),S=r(54),P=r(1571),I=r(1570),O=r(302),T=r(474),x=r(140),k=r(512),C=r(1545),j=r(1546),B=r(1547),R=r(486),N=r(1525),_=r(1526),L=r(1550),M=r(785),D=r(1554),U=r(1548),F=r(1549),G=r(1551),K=r(1552),H=r(1553),Q=r(1555),V=r(1556),W=r(2),Y=r(25),X=r.n(Y),z=r(377),q=r(5),Z=Object(q.satoshisToBitcoins)(X()(546)),J=function(e,t){return s.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t)};function $(e,t){var r=new Blob([e],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(r,t);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}function ee(e){var t,r=e.slices,n=e.outputs,a=r.reduce((function(e,t){var r=e.count,n=e.balance;return{count:r+t.utxos.length,balance:t.balanceSats.plus(n)}}),{count:0,balance:new X.a(0)}),o=a.count,i=a.balance,c=n.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0)),u=[],s=new X.a(0),l=function(e){var t=Object(W.a)(Object(W.a)({},e),{},{numOutputs:e.outputs.length}),r=Object(z.estimateMultisigTransactionFee)(t).toNumber(),n=t.outputs.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0));if(n.plus(r).isGreaterThan(e.walletBalance))throw new Error("Wallet balance is insufficient to fund transaction");return new X.a(e.walletBalance).minus(r).minus(n).isLessThanOrEqualTo(546)}(Object(W.a)(Object(W.a)({},e),{},{walletBalance:i,numInputs:o}));l&&(t=!1);for(var f=0;f<r.length;f+=1){for(var d=r[f],p=d.utxos,h=0;h<p.length;h+=1)u.push(Object(W.a)(Object(W.a)({},p[h]),{},{multisig:d.multisig,bip32Path:d.bip32Path,change:d.change}));if(s=s.plus(d.balanceSats),!l){var A=Object(z.estimateMultisigTransactionFee)(Object(W.a)(Object(W.a)({},e),{},{numInputs:u.length,numOutputs:n.length})),m=Object(z.estimateMultisigTransactionFee)(Object(W.a)(Object(W.a)({},e),{},{numInputs:u.length,numOutputs:n.length+1})),b=s.minus(c);if(b.minus(A).isLessThanOrEqualTo(546)&&b.minus(A).isGreaterThanOrEqualTo(0)){t=!1;break}if(b.isGreaterThan(m)){t=!0;break}}}return[u,t]}var te=function(){return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Disclaimer"}),s.a.createElement(B.a,null,s.a.createElement("small",null,"This application is in \u201calpha\u201d state and is presented for evaluation and testing only. It is provided \u201cas is,\u201d and any express or implied warranties, including but not limited to the implied warranties of merchantability and fitness for a particular purpose, are disclaimed. By using this application, you accept all risks of such use, including full responsibility for any direct or indirect loss of any kind resulting from the use of this application, which may involve complete loss of any Bitcoin or other coins associated with addresses used with this application. In no event shall Unchained Capital, Inc., its employees and affiliates, or developers of this application be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this application, even if advised of the possibility of such damage.")))},re=function(){return s.a.createElement("div",null,s.a.createElement(T.a,{mt:4,mb:2},s.a.createElement(x.a,{variant:"h2"},"Welcome to Caravan!")),s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{container:!0,item:!0,md:8,spacing:2,direction:"column"},s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Get Started"}),s.a.createElement(B.a,null,s.a.createElement(T.a,{mb:3},s.a.createElement(x.a,null,"Start using caravan by choosing to either make a multisig wallet or fully stateless address.")),s.a.createElement(k.a,{container:!0,alignItems:"center",justify:"center",spacing:3},s.a.createElement(k.a,{item:!0,xs:10,md:4},s.a.createElement(R.a,{variant:"contained","data-cy":"setup-wallet-button",size:"large",color:"primary",href:"#/wallet",startIcon:s.a.createElement(U.a,null)},"Wallet")),s.a.createElement(k.a,{item:!0,xs:10,md:4},s.a.createElement(R.a,{variant:"contained","data-cy":"setup-address-button",size:"large",color:"default",href:"#/address",startIcon:s.a.createElement(F.a,null)},"Address")))))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Stateless Multisig Coordinator"}),s.a.createElement(B.a,null,s.a.createElement("p",null,"Caravan makes bitcoin multisig custody easier and safer through transparency and standards."),s.a.createElement("p",null,"Caravan is a ",s.a.createElement("strong",null,"coordination software")," for multisig addresses and wallets. Caravan can be used to build a multisig wallet derived from xpubs, or individual multisig addresses derived from pubkeys. In both cases, in order to transact from the wallet or address, you must also have your private keys and BIP32 paths."),s.a.createElement("p",null,"Caravan is ",s.a.createElement("strong",null,"stateless"),". It does not itself store any data outside your current browser session. You must safekeep the wallet details (xpubs, BIP32 paths) and addresses (redeem scripts, BIP32 paths) that you create.")))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Keys"}),s.a.createElement(B.a,null,s.a.createElement("p",null,"All bitcoin is ultimately protected by private keys."),s.a.createElement("p",null,"Your private key may live on a piece of paper, a hardware wallet, some software on a laptop, or even just in your mind. Caravan, being stateless, does not store or ask for your private key but it can talk to hardware devices or software applications which do."),s.a.createElement("p",null,"Caravan supports entering public keys and signatures via text, so any wallet which can export such data can be made compatible with Caravan.")))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Consensus"}),s.a.createElement(B.a,null,s.a.createElement("p",null,"In order to look up wallet addresses and their balances, and broadcast transactions, Caravan requires knowledge of the constantly changing bitcoin network."),s.a.createElement("p",null,"Running a full bitcoin node is the most private way to determine the current state of the bitcoin network. Caravan can be easily configured to use your own node for consensus information and broadcasting transactions."),s.a.createElement("p",null,"If you don't want to or cannot run your own full node, Caravan defaults to using the freely available API at",s.a.createElement("code",null," blockstream.info"),"."))))),s.a.createElement(k.a,{container:!0,item:!0,md:4,spacing:4,direction:"column"},s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Learn More"}),s.a.createElement(B.a,null,s.a.createElement(N.a,null,s.a.createElement(_.a,null,s.a.createElement(L.a,null,s.a.createElement(G.a,null)),s.a.createElement(M.a,null,J("https://unchained-capital.com/blog/gearing-up-the-caravan/","Blog Post"))),s.a.createElement(_.a,null,s.a.createElement(L.a,null,s.a.createElement(K.a,null)),s.a.createElement(M.a,null,J("https://www.youtube.com/playlist?list=PLUM8mrUjWoPRsVGEZ1gTntqPd4xrQZoiH","Video Tutorials"))),s.a.createElement(_.a,null,s.a.createElement(L.a,null,s.a.createElement(H.a,null)),s.a.createElement(M.a,null,J("https://github.com/unchained-capital/caravan","Source Code"))))))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Supported Devices"}),s.a.createElement(B.a,null,"Caravan has been ",s.a.createElement("a",{href:"#/test"},"tested")," with the following hardware wallets:",s.a.createElement("ul",null,s.a.createElement("li",null,J("https://shop.trezor.io/product/trezor-one-white","Trezor One")),s.a.createElement("li",null,J("https://shop.trezor.io/product/trezor-model-t","Trezor Model T")),s.a.createElement("li",null,J("https://www.ledger.com/products/ledger-nano-s","Ledger Nano S")),s.a.createElement("li",null,J("https://www.ledger.com/products/ledger-nano-x","Ledger Nano X")),s.a.createElement("li",null,J("https://coldcardwallet.com","Coldcard Mk2, Mk3, & Mk4"))),"And web browsers:",s.a.createElement("ul",null,s.a.createElement("li",null,J("https://www.google.com/chrome/","Chrome")),s.a.createElement("li",null,J("https://www.mozilla.org/en-US/firefox/new/","Firefox"))),"Seeing a bug or need a feature?"),s.a.createElement(D.a,null,s.a.createElement(R.a,{href:"https://github.com/unchained-capital/caravan/issues"},s.a.createElement(Q.a,null)," \xa0 Report Issue"),s.a.createElement(R.a,{"data-cy":"run-tests-button",href:"#/test"},s.a.createElement(V.a,null)," \xa0 Run Tests")))))),s.a.createElement(T.a,{mt:2},s.a.createElement(te,null)))},ne=r(17),ae=r(947),oe=r(38),ie=r(60),ce=r(217),ue=r.n(ce);function se(){se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function le(){return(le=Object(ne.a)(se().mark((function e(t,r){var n,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(Object(q.blockExplorerAPIURL)("/address/".concat(t,"/utxo"),r));case 3:return n=e.sent,a=n.data,e.next=7,Promise.all(a.map(function(){var e=Object(ne.a)(se().mark((function e(t){var n,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.get(Object(q.blockExplorerAPIURL)("/tx/".concat(t.txid,"/hex"),r));case 2:return n=e.sent,a=n.data,o=new X.a(t.value),e.abrupt("return",{confirmed:t.status.confirmed,txid:t.txid,index:t.vout,amount:Object(q.satoshisToBitcoins)(o).toFixed(8),amountSats:o,transactionHex:a,time:t.status.block_time});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function fe(){return(fe=Object(ne.a)(se().mark((function e(t,r){var n,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(Object(q.blockExplorerAPIURL)("/address/".concat(t),r));case 3:return n=e.sent,a=n.data,e.abrupt("return",{used:a.chain_stats.funded_txo_count>0||a.mempool_stats.funded_txo_count>0});case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function de(){return(de=Object(ne.a)(se().mark((function e(t){var r,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(Object(q.blockExplorerAPIURL)("/fee-estimates",t));case 3:return r=e.sent,n=r.data,e.abrupt("return",Math.ceil(n[2]));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function pe(){return(pe=Object(ne.a)(se().mark((function e(t,r){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.post(Object(q.blockExplorerAPIURL)("/tx",r),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function he(){he=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ae(e,t,r){return me.apply(this,arguments)}function me(){return(me=Object(ne.a)(he().mark((function e(t,r,n){var a,o=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:[],e.abrupt("return",new Promise(function(){var e=Object(ne.a)(he().mark((function e(o,i){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue()(t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},auth:r,data:{jsonrpc:"2.0",id:0,method:"".concat(n),params:a}}).then((function(e){return o(e.data)})).catch(i);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return e.response&&e.response.data&&e.response.data.error&&-4===e.response.data.error.code}function ve(e){return{url:e.url,auth:{username:e.username,password:e.password}}}function ge(){return(ge=Object(ne.a)(he().mark((function e(t){var r,n,a,o,i,c,u,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.auth,a=t.address,o=t.addresses,e.prev=1,i=o||[a],e.next=5,Ae(r,n,"listunspent",[0,9999999,i]);case 5:return c=e.sent,u=[],c.result.forEach((function(e){u.push(Ae(r,n,"gettransaction",[e.txid]))})),e.next=10,Promise.all(u);case 10:return s=e.sent,e.abrupt("return",c.result.map((function(e,t){var r=new X.a(e.amount);return{confirmed:(e.confirmations||0)>0,txid:e.txid,index:e.vout,amount:r.toFixed(8),amountSats:Object(q.bitcoinsToSatoshis)(r),transactionHex:s[t].result.hex,time:s[t].result.blocktime}})));case 14:throw e.prev=14,e.t0=e.catch(1),console.error("There was a problem:",e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function ye(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(ne.a)(he().mark((function e(t){var r,n,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.auth,a=t.address,e.prev=1,e.next=4,Ae(r,n,"getreceivedbyaddress",[a]);case 4:if("undefined"!==typeof(o=e.sent).result){e.next=7;break}throw new Error("Error: invalid response from ".concat(r));case 7:return e.abrupt("return",{used:o.result>0});case 10:return e.prev=10,e.t0=e.catch(1),be(e.t0)?console.warn("Address ".concat(a," not found in bitcoind's wallet. Query failed.")):console.error(e.t0.message),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function we(){return(we=Object(ne.a)(he().mark((function e(t){var r,n,a,o,i,c;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.auth,a=t.numBlocks,o=void 0===a?2:a,e.next=3,Ae(r,n,"estimatesmartfee",[o]);case 3:return i=e.sent,c=i.result.feerate,e.abrupt("return",Math.ceil(1e5*c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(ne.a)(he().mark((function e(t){var r,n,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.auth,a=t.hex,e.prev=1,e.next=4,Ae(r,n,"sendrawtransaction",[a]);case 4:return o=e.sent,e.abrupt("return",o.result);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("send tx error",e.t0),e.t0.response&&e.t0.response.data.error.message||e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Pe(e){var t=e.url,r=e.auth,n=e.addresses,a=e.label,o=e.rescan,i=[t,r,"importmulti",[n.map((function(e){return{scriptPubKey:{address:e},label:a,timestamp:0}})),{rescan:o}]];return o?(Ae.apply(void 0,i),new Promise((function(e){return e({result:[]})}))):Ae.apply(void 0,i)}function Ie(){Ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Oe(e,t,r){return"public"===r.type?function(e,t){return le.apply(this,arguments)}(e,t):function(e){return ge.apply(this,arguments)}(Object(W.a)(Object(W.a)({},ve(r)),{address:e}))}function Te(e,t,r){return xe.apply(this,arguments)}function xe(){return(xe=Object(ne.a)(Ie().mark((function e(t,r,n){var a,o,i,c;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={utxos:[],balanceSats:X()(0),fetchedUTXOs:!1,fetchUTXOsError:""},e.prev=1,e.next=4,Oe(t,r,n);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o="private"===n.type&&be(e.t0)?{utxos:[],balanceSats:X()(0),addressKnown:!1,fetchedUTXOs:!0,fetchUTXOsError:""}:{fetchUTXOsError:e.t0.toString()};case 10:if(a){e.next=12;break}return e.abrupt("return",o);case 12:return i=Object(q.sortInputs)(a),c=i.map((function(e){return e.amountSats})).reduce((function(e,t){return e.plus(t)}),new X.a(0)),e.abrupt("return",Object(W.a)(Object(W.a)({},o),{},{balanceSats:c,utxos:i,fetchedUTXOs:!0,fetchUTXOsError:""}));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function ke(e,t,r){return"public"===r.type?function(e,t){return fe.apply(this,arguments)}(e,t):ye(Object(W.a)(Object(W.a)({},ve(r)),{address:e}))}function Ce(e,t){return"public"===t.type?function(e){return de.apply(this,arguments)}(e):function(e){return we.apply(this,arguments)}(Object(W.a)(Object(W.a)({},ve(t)),{numBlocks:1}))}function je(e,t,r){return"public"===r.type?function(e,t){return pe.apply(this,arguments)}(e,t):function(e){return Se.apply(this,arguments)}(Object(W.a)(Object(W.a)({},ve(r)),{hex:e}))}var Be=r(123),Re=function(e){return"asc"===e?-1:1};function Ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.bip32Path&&!t.bip32Path)throw new Error("Mising BIP32 path for comparing slices.");var n=Re(r);if(e.change&&!t.change)return n;if(!e.change&&t.change)return-n;var a=parseInt(e.bip32Path.split("/").reverse()[0],10),o=parseInt(t.bip32Path.split("/").reverse()[0],10);return a>o?n:-n}function _e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.balanceSats&&!t.balanceSats)throw new Error("Missing balance for comparing slices");var n=Re(r);return e.balanceSats.isEqualTo(t.balanceSats)?0:e.balanceSats.isGreaterThan(t.balanceSats)?n:-n}function Le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.utxos&&!t.utxos)throw new Error("Missing utxo array for comparing slices");var n=Re(r);return e.utxos.length===t.utxos.length?0:e.utxos.length>t.utxos.length?n:-n}function Me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=Re(r);if(!e.utxos&&!t.utxos&&!e.lastUsed&&!t.lastUsed)return 0;if("Spent"===e.lastUsed)return t.lastUsed&&"Spent"!==t.lastUsed?-n:n;if("Spent"===t.lastUsed)return e.lastUsed&&"Spent"!==e.lastUsed?n:-n;if(e.lastUsedTime&&t.lastUsedTime)return e.lastUsedTime===t.lastUsedTime?0:e.lastUsedTime>=t.lastUsedTime?n:-n;if(e.lastUsedTime&&(!t.lastUsedTime||0===t.utxos.length))return n;if(t.lastUsedTime&&(!e.lastUsedTime||0===e.utxos.length))return-n;if(0===e.utxos.length)return 0===t.utxos.length?0:n;if(0===t.utxos.length)return 0===e.utxos.length?0:-n;var a=Math.max.apply(Math,Object(oe.a)(e.utxos.map((function(e){return e.time})))),o=Math.max.apply(Math,Object(oe.a)(t.utxos.map((function(e){return e.time}))));return Number.isNaN(a)&&Number.Number.isNaN(o)?0:Number.isNaN(a)?n:Number.isNaN(o)?-n:a>o?n:-n}function De(e){var t="m/1".length;if("m/1"===e.slice(0,t)&&e.slice(t).match(/^([0-9]+)$/g))return!0;var r,n=e.match(/\/([0-9]+('?))/g).slice(-2),a=Object(Be.a)(n);try{for(a.s();!(r=a.n()).done;){if(r.value.includes("'"))return!1}}catch(o){a.e(o)}finally{a.f()}return"/1"===n[0]&&2===n.length}var Ue=r(125),Fe=function(e){return Object.values(e.wallet.deposits.nodes)},Ge=function(e){return[].concat(Object(oe.a)(Object.values(e.wallet.deposits.nodes)),Object(oe.a)(Object.values(e.wallet.change.nodes)))},Ke=function(e){return e.settings.totalSigners},He=function(e,t){var r=e.quorum.extendedPublicKeyImporters[t],n="text"===r.method?"Unknown (make sure you have written this down previously!)":r.bip32Path,a="Unknown"===r.rootXfp?"00000000":r.rootXfp;return"unknown"===r.method?'    {\n        "name": "'.concat(r.name,'",\n        "bip32Path": "').concat(n,'",\n        "xpub": "').concat(r.extendedPublicKey,'",\n        "xfp" : "').concat(a,'"\n        }'):'    {\n        "name": "'.concat(r.name,'",\n        "bip32Path": "').concat(n,'",\n        "xpub": "').concat(r.extendedPublicKey,'",\n        "xfp" : "').concat(a,'",\n        "method": "').concat(r.method,'"\n      }')},Qe=Object(Ue.a)(Ge,(function(e){return e.reduce((function(e,t){return e+t.utxos.reduce((function(e,t){return e+parseInt(t.amountSats,10)}),0)}),0)})),Ve=Object(Ue.a)(Fe,(function(e){return e.reduce((function(e,t){return t.utxos.length?t.utxos.reduce((function(e,t){return t.confirmed?e:e+parseInt(t.amountSats,10)}),0)+e:e}),0)})),We=Object(Ue.a)([Qe,Ve],(function(e,t){return e-t})),Ye=Object(Ue.a)(Ge,(function(e){return e.map((function(e){if(!e.utxos.length&&e.addressUsed)return Object(W.a)(Object(W.a)({},e),{},{lastUsed:"Spent"});if(!e.utxos.length&&e.balanceSats.isEqualTo(0))return e;var t=Math.max.apply(Math,Object(oe.a)(e.utxos.map((function(e){return e.time}))));return Number.isNaN(t)||e.balanceSats.isGreaterThan(0)&&!e.utxos.length?Object(W.a)(Object(W.a)({},e),{},{lastUsed:"Pending"}):Object(W.a)(Object(W.a)({},e),{},{lastUsed:new Date(1e3*t).toLocaleDateString(),lastUsedTime:t})}))})),Xe=Object(Ue.a)(Ye,(function(e){return e.filter((function(e){return("Pending"!==e.lastUsed||e.change)&&"Spent"!==e.lastUsed&&e.utxos.length}))})),ze=Object(Ue.a)(Ye,(function(e){return e.filter((function(e){return e.addressUsed&&e.balanceSats.isEqualTo(0)}))})),qe=Object(Ue.a)(Ye,(function(e){return e.filter((function(e){return e.balanceSats.isGreaterThan(0)}))})),Ze=Object(Ue.a)(Ye,(function(e){return e.filter((function(e){return e.balanceSats.isEqualTo(0)&&!e.addressUsed}))})),Je=Object(Ue.a)(Ge,(function(e){return e.filter((function(e){return!e.addressKnown}))})),$e=Object(Ue.a)([Ge,Je],(function(e){return e.map((function(e){return e.multisig.address}))})),et=Object(Ue.a)(Fe,(function(e){return e.filter((function(e){return e.balanceSats.isEqualTo(0)&&!e.addressUsed}))})),tt=Object(Ue.a)([function(e){return e.wallet.common.walletName},function(e){return e.settings.addressType},function(e){return e.settings.network},function(e){return"private"===e.client.type?'{\n    "type": "private",\n    "url": "'.concat(e.client.url,'",\n    "username": "').concat(e.client.username,'"\n  }'):'{\n    "type": "public"\n  }'},function(e){return e.settings.requiredSigners},Ke,function(e){for(var t=Ke(e),r=[],n=1;n<=t;n+=1)r.push("".concat(He(e,n)).concat(n<t?",":""));return r.join("\n")},function(e){return e.settings.startingAddressIndex}],(function(e,t,r,n,a,o,i,c){return'{\n  "name": "'.concat(e,'",\n  "addressType": "').concat(t,'",\n  "network": "').concat(r,'",\n  "client":  ').concat(n,',\n  "quorum": {\n    "requiredSigners": ').concat(a,',\n    "totalSigners": ').concat(o,'\n  },\n  "extendedPublicKeys": [\n    ').concat(i,'\n  ],\n  "startingAddressIndex": ').concat(c,"\n}")}));function rt(e){return{type:"SET_REQUIRED_SIGNERS",value:e}}function nt(e){return{type:"SET_INPUTS",value:e}}function at(){return{type:"ADD_OUTPUT"}}function ot(e){return{type:"SET_CHANGE_OUTPUT_INDEX",value:e}}function it(e,t){return{type:"SET_OUTPUT_ADDRESS",number:e,value:t}}function ct(e,t){return{type:"SET_OUTPUT_AMOUNT",number:e,value:t}}function ut(e){return{type:"SET_CHANGE_ADDRESS",value:e}}function st(e){return{type:"DELETE_OUTPUT",number:e}}function lt(e){return{type:"SET_FEE_RATE",value:e}}function ft(e){return{type:"SET_FEE",value:e}}function dt(e){return{type:"FINALIZE_OUTPUTS",value:e}}function pt(e){return{type:"SET_BALANCE_ERROR",value:e}}function ht(e){return{type:"UPDATE_AUTO_SPEND",value:e}}function At(e,t){return{type:"SET_SIGNING_KEY",number:e,value:t}}function mt(e){return{type:"SET_SPEND_STEP",value:e}}var bt="SET_ERROR_NOTIFICATION",vt="CLEAR_ERROR_NOTIFICATION";function gt(e){return{type:bt,value:e}}function yt(){return{type:vt}}function Et(){Et=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var wt=0,St=1,Pt=2;function It(e){return{type:"UPDATE_DEPOSIT_SLICE",value:Object(W.a)(Object(W.a)({},e),{change:!1})}}function Ot(e){return{type:"UPDATE_CHANGE_SLICE",value:Object(W.a)(Object(W.a)({},e),{change:!0})}}function Tt(e,t){return{type:"UPDATE_WALLET_NAME",value:t}}function xt(){return{type:"RESET_WALLET_VIEW"}}function kt(){return{type:"RESET_WALLET"}}function Ct(){Ct=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var jt=function(){var e=Object(ne.a)(Ct().mark((function e(t){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(ne.a)(Ct().mark((function e(r,n){var a,o,i,c;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().settings.network,o=n(),i=o.client,e.prev=2,c=t.map((function(e){var t=e.multisig.address;return Promise.all([Te(t,a,i),ke(t,a,i)])})),e.next=6,Promise.all(c);case 6:e.sent.forEach((function(e,n){var a=Object(ie.a)(e,2),o=a[0],i=a[1],c=t[n];if(o&&o.utxos.length){var u=c.change?Ot:It,s=Object(W.a)(Object(W.a)({bip32Path:c.bip32Path,addressKnown:!0},o),{},{addressStatus:i});r(u(s))}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("There was a problem getting updated braid data:",e.t0.message),r(gt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=r(718),Rt=r(321),Nt=function(e){var t=e.network;return s.a.createElement(Rt.a,{"data-cy":"bitcoin-icon",htmlColor:t===q.MAINNET?"orange":"grey"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"bitcoin",className:"svg-inline--fa fa-bitcoin fa-w-16",role:"img",viewBox:"0 0 512 512"},s.a.createElement("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z"})))};Nt.defaultProps={network:q.MAINNET};var _t=Nt,Lt=r(647),Mt=r(491),Dt=r(1557),Ut=r(1558),Ft=r(1559),Gt=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.name;n.setState({newName:e})},n.render=function(){var e=n.props.name,t=n.state,r=t.editing,a=t.newName,o=t.error;return r?s.a.createElement(k.a,{container:!0,alignItems:"center"},s.a.createElement(k.a,{item:!0},s.a.createElement(Lt.a,{autoFocus:!0,label:"Name",value:a,onChange:n.handleChange,onFocus:function(e){setTimeout(e.target.select.bind(e.target),20)},onKeyDown:function(e){return"Enter"===e.key?n.submit():null},error:n.hasError(),helperText:o})),s.a.createElement(k.a,{item:!0},s.a.createElement(Mt.a,{"data-cy":"save-button",size:"small",onClick:n.submit,disabled:n.hasError()},s.a.createElement(Dt.a,null))),s.a.createElement(k.a,{item:!0},s.a.createElement(Mt.a,{"data-cy":"cancel-button",color:"secondary",size:"small",onClick:n.cancel},s.a.createElement(Ut.a,null)))):s.a.createElement("span",null,s.a.createElement(Mt.a,{"data-cy":"edit-button",size:"small",onClick:n.startEditing},s.a.createElement(Ft.a,null)),"\xa0",s.a.createElement("span",{"data-cy":"editable-name-value",style:{cursor:"pointer"},onClick:n.startEditing},e))},n.hasError=function(){return""!==n.state.error},n.startEditing=function(e){var t=n.props.name;e.preventDefault(),n.setState({editing:!0,newName:t})},n.handleChange=function(e){var t=e.target.value,r="";null!==t&&void 0!==t&&""!==t||(r="Name cannot be blank."),n.setState({newName:t,error:r})},n.submit=function(){var e=n.props;(0,e.setName)(e.number,n.state.newName),n.setState({editing:!1})},n.cancel=function(){var e=n.props.name;n.setState({error:"",newName:e,editing:!1})},n.state={editing:!1,newName:"",error:""},n}return Object(v.a)(r)}(s.a.Component),Kt=Object(Bt.a)((function(e){return{root:{height:"100%"},title:{fontSize:"2rem",color:"#212529"},balance:{fontSize:"1.2rem"},gutter:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),Ht=function(e){var t=e.walletName,r=e.setName,n=e.balance,a=void 0===n?0:n,o=e.pendingBalance,i=e.editable,c=e.network,u=Kt();return s.a.createElement(C.a,{"data-cy":"wallet-info-card",className:u.root},s.a.createElement(B.a,null,s.a.createElement(k.a,{container:!0,direction:"row",alignItems:"center"},i?s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{variant:"h1",className:u.title},s.a.createElement(Gt,{number:0,name:t,setName:r}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{container:!0,alignItems:"center",className:u.gutter},s.a.createElement(k.a,{item:!0,xs:1},s.a.createElement(_t,{network:c})),s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{variant:"h1",className:u.title},t))),s.a.createElement(k.a,{container:!0,className:u.gutter},s.a.createElement(k.a,{item:!0,xs:12,mt:5},s.a.createElement(x.a,{"data-cy":"balance",variant:"subtitle1",className:u.balance},a," BTC")),s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{"data-cy":"pending-balance",variant:"caption"},0!==o?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{color:o>0?"green":"red",fontWeight:"bold"}},o>0?"+":"",o," BTC")," ","(unconfirmed)"):"")))))))};Ht.defaultProps={network:q.NETWORKS.TESTNET,balance:0,pendingBalance:0};var Qt=Ht,Vt=r(648),Wt=r(794),Yt=r(795),Xt=r(1595);function zt(e){return{type:"SET_NETWORK",value:e}}function qt(e){return{type:"SET_TOTAL_SIGNERS",value:e}}function Zt(e){return{type:"SET_REQUIRED_SIGNERS",value:e}}function Jt(e){return{type:"SET_ADDRESS_TYPE",value:e}}function $t(e){return{type:"SET_FROZEN",value:e}}var er=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleNetworkChange=function(t){(0,e.props.setNetwork)(t.target.value)},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.network,r=e.frozen;return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Network"}),s.a.createElement(B.a,null,s.a.createElement(Vt.a,{component:"fieldset"},s.a.createElement(Wt.a,null,s.a.createElement(Yt.a,{id:"mainnet",control:s.a.createElement(Xt.a,{color:"primary"}),name:"network",value:"mainnet",label:s.a.createElement("strong",null,"Mainnet"),onChange:this.handleNetworkChange,checked:t===q.MAINNET,disabled:r}),s.a.createElement(Yt.a,{id:"testnet",control:s.a.createElement(Xt.a,{color:"primary"}),name:"network",value:"testnet",label:"Testnet",onChange:this.handleNetworkChange,checked:t===q.TESTNET,disabled:r})),s.a.createElement(ae.a,null,s.a.createElement("small",null,"Choose 'Mainnet' if you don't understand the difference.")))))}}]),r}(s.a.Component);var tr={setNetwork:zt},rr=Object(p.b)((function(e){return{network:e.settings.network,frozen:e.settings.frozen}}),tr)(er),nr=r(1560),ar=r(1561),or=(r(576),function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).renderIncrementRequiredSigners=function(){var t=e.props,r=t.requiredSigners,n=t.totalSigners,a=t.frozen,o=r===n||a;return s.a.createElement(Mt.a,{color:"primary",onClick:e.handleIncrementRequiredSigners,disabled:o},s.a.createElement(nr.a,null))},e.renderDecrementRequiredSigners=function(){var t=e.props,r=t.requiredSigners,n=t.frozen,a=1===r||n;return s.a.createElement(Mt.a,{color:"secondary",onClick:e.handleDecrementRequiredSigners,disabled:a},s.a.createElement(ar.a,null))},e.renderIncrementTotalSigners=function(){var t=e.props,r=t.totalSigners,n=t.frozen,a=7===r||n;return s.a.createElement(Mt.a,{color:"primary",onClick:e.handleIncrementTotalSigners,disabled:a},s.a.createElement(nr.a,null))},e.renderDecrementTotalSigners=function(){var t=e.props,r=t.requiredSigners,n=t.totalSigners,a=t.frozen,o=n===r||2===n||a;return s.a.createElement(Mt.a,{color:"secondary",onClick:e.handleDecrementTotalSigners,disabled:o},s.a.createElement(ar.a,null))},e.handleIncrementRequiredSigners=function(t){var r=e.props,n=r.requiredSigners;(0,r.setRequiredSigners)(n+1),t.preventDefault()},e.handleDecrementRequiredSigners=function(t){var r=e.props,n=r.requiredSigners;(0,r.setRequiredSigners)(n-1),t.preventDefault()},e.handleIncrementTotalSigners=function(t){var r=e.props,n=r.totalSigners;(0,r.setTotalSigners)(n+1),t.preventDefault()},e.handleDecrementTotalSigners=function(t){var r=e.props,n=r.totalSigners;(0,r.setTotalSigners)(n-1),t.preventDefault()},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.requiredSigners,r=e.totalSigners;return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Quorum"}),s.a.createElement(B.a,null,s.a.createElement(T.a,null,s.a.createElement(k.a,{container:!0,justify:"center"},s.a.createElement(k.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0"),s.a.createElement(k.a,{container:!0,item:!0,xs:3,direction:"column",alignItems:"center"},s.a.createElement(k.a,{item:!0},this.renderIncrementRequiredSigners()),s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{variant:"h2"},t)),s.a.createElement(k.a,{item:!0},s.a.createElement("small",null,s.a.createElement("p",null,"Required"))),s.a.createElement(k.a,{item:!0},this.renderDecrementRequiredSigners())),s.a.createElement(k.a,{container:!0,item:!0,xs:2,direction:"column",alignItems:"center",justify:"center"},s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{variant:"h6"},"of"))),s.a.createElement(k.a,{item:!0,container:!0,xs:3,direction:"column",alignItems:"center"},s.a.createElement(k.a,{item:!0},this.renderIncrementTotalSigners()),s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{variant:"h2"},r)),s.a.createElement(k.a,{item:!0},s.a.createElement("small",null,s.a.createElement("p",null,"Total"))),s.a.createElement(k.a,{item:!0},this.renderDecrementTotalSigners())),s.a.createElement(k.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0")))))}}]),r}(s.a.Component));var ir={setTotalSigners:qt,setRequiredSigners:Zt},cr=Object(p.b)((function(e){return e.settings}),ir)(or),ur=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleTypeChange=function(t){(0,e.props.setType)(t.target.value)},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.addressType,r=e.frozen;return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Address Type"}),s.a.createElement(B.a,null,s.a.createElement(Vt.a,{component:"fieldset"},s.a.createElement(Wt.a,null,s.a.createElement(Yt.a,{id:q.P2SH,control:s.a.createElement(Xt.a,{color:"primary"}),name:"type",value:q.P2SH,label:q.P2SH,onChange:this.handleTypeChange,checked:t===q.P2SH,disabled:r}),s.a.createElement(Yt.a,{id:q.P2SH_P2WSH,control:s.a.createElement(Xt.a,{color:"primary"}),name:"type",value:q.P2SH_P2WSH,label:q.P2SH_P2WSH,onChange:this.handleTypeChange,checked:t===q.P2SH_P2WSH,disabled:r}),s.a.createElement(Yt.a,{id:q.P2WSH,control:s.a.createElement(Xt.a,{color:"primary"}),name:"type",value:q.P2WSH,label:q.P2WSH,onChange:this.handleTypeChange,checked:t===q.P2WSH,disabled:r})),s.a.createElement(ae.a,null,s.a.createElement("small",null,"Choose '",q.P2WSH,"' for best practices, '",q.P2SH,"' for greatest compatibility.")))))}}]),r}(s.a.Component);var sr={setType:Jt},lr=Object(p.b)((function(e){return e.settings}),sr)(ur);function fr(e){return function(t){return{type:e,value:t}}}function dr(e){var t,r={},n=Object.keys(e);for(t=0;t<n.length;t+=1){var a=n[t],o=e[a];r[a]=fr(o)}return r}function pr(e){return function(t,r){return{type:e,number:t,value:r}}}function hr(e){var t,r={},n=Object.keys(e);for(t=0;t<n.length;t+=1){var a=n[t],o=e[a];r[a]=pr(o)}return r}var Ar=function(e){var t=e.handleUrlChange,r=e.handleUsernameChange,n=e.handlePasswordChange,a=e.client,o=e.urlError,i=e.usernameError,c=e.passwordError,u=e.privateNotes,l=e.connectSuccess,f=e.connectError,d=e.testConnection;return s.a.createElement("div",null,s.a.createElement("p",null,"A ",s.a.createElement("code",null,"bitcoind"),"-compatible client is required to query UTXO data, estimate fees, and broadcast transactions."),s.a.createElement("p",null,s.a.createElement("small",null,"Due to CORS requirements, you must use a proxy around the node. Instructions are available ",J("https://github.com/unchained-capital/caravan#adding-cors-headers","here"),".")),s.a.createElement("form",null,s.a.createElement(k.a,{container:!0,direction:"column",spacing:1},s.a.createElement(k.a,{item:!0},s.a.createElement(Lt.a,{fullWidth:!0,label:"URL",value:a.url,onChange:t,error:""!==o,helperText:o})),s.a.createElement(k.a,{item:!0},s.a.createElement(Lt.a,{id:"bitcoind-username",fullWidth:!0,label:"Username",value:a.username,onChange:r,error:""!==i,helperText:i})),s.a.createElement(k.a,{item:!0},s.a.createElement(Lt.a,{id:"bitcoind-password",fullWidth:!0,type:"password",label:"Password",value:a.password,onChange:n,error:""!==c,helperText:c})),s.a.createElement(k.a,{item:!0},s.a.createElement(T.a,{mt:1},s.a.createElement(R.a,{variant:"contained",onClick:d},"Test Connection")),s.a.createElement(T.a,{mt:2},l&&s.a.createElement(ae.a,null,"Connection Success!"),""!==f&&s.a.createElement(ae.a,{error:!0},f))))),u)};Ar.defaultProps={urlError:"",usernameError:"",passwordError:"",privateNotes:s.a.createElement("span")};var mr=Ar;function br(){br=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var vr=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).handleTypeChange=function(e){var t=n.props,r=t.setType,a=t.network,o=t.setUrl,i=n.state.urlEdited,c=e.target.value;"private"!==c||i||o("http://localhost:".concat("mainnet"===a?8332:18332)),r(c)},n.handleUrlChange=function(e){var t=n.props,a=t.setUrl,o=t.setUrlError,i=n.state.urlEdited,c=e.target.value,u=r.validateUrl(c);i||u||n.setState({urlEdited:!0}),a(c),o(u)},n.handleUsernameChange=function(e){var t=n.props,a=t.setUsername,o=t.setUsernameError,i=e.target.value,c=r.validateUsername(i);a(i),o(c)},n.handlePasswordChange=function(e){var t=n.props,a=t.setPassword,o=t.setPasswordError,i=e.target.value,c=r.validatePassword(i);a(i),o(c)},n.testConnection=Object(ne.a)(br().mark((function e(){var t,r,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.network,a=t.client,o=t.onSuccess,n.setState({connectError:"",connectSuccess:!1}),e.prev=2,e.next=5,Ce(r,a);case 5:o&&o(),n.setState({connectSuccess:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setState({connectError:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),n.state={urlEdited:!1,connectError:"",connectSuccess:!1},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.client,n=t.urlError,a=t.usernameError,o=t.passwordError,i=t.privateNotes,c=this.state,u=c.connectSuccess,l=c.connectError;return s.a.createElement(C.a,null,s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(j.a,{title:"Bitcoin Client"})),s.a.createElement(B.a,null,s.a.createElement(k.a,{item:!0},s.a.createElement(Vt.a,{component:"fieldset"},s.a.createElement(Wt.a,null,s.a.createElement(Yt.a,{id:"public",control:s.a.createElement(Xt.a,{color:"primary"}),name:"clientType",value:"public",label:s.a.createElement("strong",null,"Public"),onChange:this.handleTypeChange,checked:"public"===r.type}),s.a.createElement(Yt.a,{id:"private",control:s.a.createElement(Xt.a,{color:"primary"}),name:"clientType",value:"private",label:"Private",onChange:this.handleTypeChange,checked:"private"===r.type})),"public"===r.type&&s.a.createElement(ae.a,null,"'Public' uses the ",s.a.createElement("code",null,"blockstream.info")," API. Switch to private to use a ",s.a.createElement("code",null,"bitcoind")," node."),"private"===r.type&&s.a.createElement(mr,{handleUrlChange:function(t){return e.handleUrlChange(t)},handleUsernameChange:function(t){return e.handleUsernameChange(t)},handlePasswordChange:function(t){return e.handlePasswordChange(t)},client:r,urlError:n,usernameError:a,passwordError:o,privateNotes:i,connectSuccess:u,connectError:l,testConnection:function(){return e.testConnection()}})))))}}],[{key:"validatePassword",value:function(){return""}},{key:"validateUsername",value:function(){return""}},{key:"validateUrl",value:function(e){return/^http(s)?:\/\/[^\s]+$/.exec(e)?"":"Must be a valid URL."}}]),r}(s.a.Component);vr.defaultProps={urlError:"",usernameError:"",onSuccess:null,passwordError:"",privateNotes:s.a.createElement("span")};var gr=Object(p.b)((function(e){return{network:e.settings.network,client:e.client,urlError:e.client.urlError,url:e.client.url}}),dr({setType:"SET_CLIENT_TYPE",setUrl:"SET_CLIENT_URL",setUsername:"SET_CLIENT_USERNAME",setPassword:"SET_CLIENT_PASSWORD",setUrlError:"SET_CLIENT_URL_ERROR",setUsernameError:"SET_CLIENT_USERNAME_ERROR",setPasswordError:"SET_CLIENT_PASSWORD_ERROR"}))(vr),yr=r(796),Er=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).handleIndexChange=function(e){var t=n.props.setStartingAddressIndex,r=e.target.value,a=Object(q.validateBIP32Index)(r,{mode:"unhardened"}).replace("BIP32","Starting Address");!a&&r&&t(parseInt(r,10)),n.setState({startingAddressIndexField:r,startingAddressIndexError:a})},n.handleCustomIndexChange=function(e){var t="true"===e.target.value;n.setState({customIndex:t})},n.state={customIndex:0!==e.startingAddressIndex,startingAddressIndexField:e.startingAddressIndex},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this.state,t=e.customIndex,r=e.startingAddressIndexField,n=e.startingAddressIndexError;return s.a.createElement(C.a,null,s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(j.a,{title:"Starting Address Index"})),s.a.createElement(B.a,null,s.a.createElement(k.a,{item:!0},s.a.createElement(Vt.a,{component:"fieldset"},s.a.createElement(Wt.a,null,s.a.createElement(Yt.a,{id:"default",control:s.a.createElement(Xt.a,{color:"primary"}),name:"customIndex",value:"false",label:s.a.createElement("strong",null,"Default (0)"),onChange:this.handleCustomIndexChange,checked:!t}),s.a.createElement(yr.a,{title:"The starting address index allows you to skip forward in a wallet. Addresses with indices less than the starting address are ignored."},s.a.createElement(Yt.a,{id:"custom",control:s.a.createElement(Xt.a,{color:"primary"}),name:"customIndex",value:"true",label:"Custom",onChange:this.handleCustomIndexChange,checked:t})),s.a.createElement(ae.a,null,"Use the default value if you do not understand how to use starting address index.")),t&&s.a.createElement(Lt.a,{fullWidth:!0,value:r,type:"text",name:"startingAddressIndex",onChange:this.handleIndexChange,error:Boolean(n),helperText:n})))))}}]),r}(s.a.Component);var wr=Object(p.b)((function(e){return{startingAddressIndex:e.settings.startingAddressIndex}}),dr({setStartingAddressIndex:"SET_STARTING_ADDRESS_INDEX"}))(Er),Sr=r(372),Pr=r(823),Ir=r(937),Or=r.n(Ir),Tr=r(797),xr=r(798),kr=r(799),Cr=r(800),jr=r(801),Br=r(1593),Rr=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props.startingAddressIndex;return s.a.createElement(T.a,null,t>0&&s.a.createElement(Br.a,{severity:"info"},"Starting Address Index set to ",t),s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Name"),s.a.createElement(Cr.a,null,"BIP32 Path"),s.a.createElement(Cr.a,null,"Extended Public Key"))),s.a.createElement(jr.a,null,e.renderConfirmationInfo())))},e.renderConfirmationInfo=function(){var t=e.props.extendedPublicKeyImporters;return Object.values(t).map((function(e){return s.a.createElement(kr.a,{key:e.extendedPublicKey},s.a.createElement(Cr.a,null,e.name),s.a.createElement(Cr.a,null,"text"===e.method?"N/A":e.bip32Path),s.a.createElement(Cr.a,null,e.extendedPublicKey))}))},e}return Object(v.a)(r)}(s.a.Component);var Nr=Object(p.b)((function(e){return{startingAddressIndex:e.settings.startingAddressIndex,extendedPublicKeyImporters:e.quorum.extendedPublicKeyImporters}}),{})(Rr),_r=r(1594),Lr=r(1567),Mr=r(807),Dr=r(824),Ur=r(494),Fr=r.n(Ur),Gr=r(6),Kr=r.n(Gr),Hr={c:Kr.a.arrayOf(Kr.a.number).isRequired,e:Kr.a.number.isRequired,s:Kr.a.number.isRequired},Qr=(Kr.a.bool,Kr.a.string,Kr.a.array,Kr.a.shape({}),Kr.a.string.isRequired,Kr.a.shape(Hr),Kr.a.array,Kr.a.bool.isRequired,Kr.a.bool.isRequired,Kr.a.bool,Kr.a.string.isRequired,Kr.a.bool,Kr.a.bool.isRequired,Kr.a.string,Kr.a.string.isRequired,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.string,Kr.a.number,Kr.a.number,Kr.a.string,Kr.a.bool,r(319)),Vr=r(912),Wr=r.n(Vr),Yr=r(1562),Xr=["newline","text","children","showIcon","showText","code"],zr=Object(Bt.a)((function(){return{copyText:{"&:hover":{cursor:"pointer"}},code:{fontSize:"1rem"}}})),qr=function(e){var t=e.newline,r=e.text,n=e.children,a=e.showIcon,o=e.showText,i=e.code,c=Object(Qr.a)(e,Xr),l=Object(u.useState)(!1),f=Object(ie.a)(l,2),d=f[0],p=f[1],h=Object(u.useState)(null),A=Object(ie.a)(h,2),m=A[0],b=A[1],v=Object(O.useSnackbar)().enqueueSnackbar;Object(u.useEffect)((function(){m&&clearTimeout(m)}),[]);var g=zr(),y=function(){return i?s.a.createElement("code",{className:g.code},r):s.a.createElement("span",null,r)};return s.a.createElement("span",Object.assign({onClick:function(e){return e.stopPropagation()}},c),s.a.createElement(Wr.a,{text:r,onCopy:function(){var e=setTimeout((function(){p(!1),b(null)}),1e3);p(!0),b(e),function(){var e=r.length>25?"".concat(r.substring(0,25),"..."):r;v("Copied ".concat(e," to clipboard"),{preventDuplicate:!0})}()},options:{format:"text/plain"}},s.a.createElement("span",{style:{fontStyle:d?"italic":"inherit",overflowWrap:"break-word"},className:"copyable ".concat(g.copyText)},n,o&&s.a.createElement(y,null),t&&s.a.createElement("br",null),a&&s.a.createElement(Mt.a,null,s.a.createElement(Yr.a,{fontSize:"small",color:d?"primary":"action"})))))};qr.defaultProps={newline:!1,showIcon:!1,children:s.a.createElement("span"),showText:!0,code:!1};var Zr=qr,Jr=r(913),$r=r.n(Jr),en=r(1568),tn=r(902),rn=r(825),nn=r(1576),an=(r(584),r(117)),on=r.n(an),cn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).filterInputs=function(e,t,r){return e.filter((function(e){var n=t.filter((function(t){return t.txid===e.txid&&t.index===e.index}));return r?n.length>0:0===n.length}))},n.toggleInput=function(e){var t=n.state.localInputs;n.setState({toggleAll:!1}),t[e].checked=!t[e].checked,n.setInputsAndUpdateDisplay(t)},n.toggleAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.state,r=t.localInputs,a=t.toggleAll,o=!a;r.forEach((function(t){var r=t;return r.checked=null===e?o:e,r})),n.setInputsAndUpdateDisplay(r),n.setState({toggleAll:o})},n.setInputsAndUpdateDisplay=function(e){var t=n.props,r=t.setInputs,a=t.multisig,o=t.bip32Path,i=t.existingTransactionInputs,c=t.setSpendCheckbox,u=n.state.localInputs,s=e.filter((function(e){return e.checked}));a&&(s=s.map((function(e){return Object(W.a)(Object(W.a)({},e),{},{multisig:a,bip32Path:o})})));var l=s.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0));n.setState({inputsSatsSelected:l});var f=s;if(a){var d=n.filterInputs(i,u,!1);d.length>0&&(f=s.concat(d));var p=s.length;0===p?c(!1):p<u.length?c("indeterminate"):c(!0)}f.length>0?r(f):a&&r([])},n.renderInputs=function(){var e=n.props,t=e.network,r=e.showSelection,a=e.finalizedOutputs;return n.state.localInputs.map((function(e,o){var i="".concat(on.a.utxoTxid).concat(e.confirmed?"":" ".concat(on.a.unconfirmed)),c=e.confirmed?"confirmed":"unconfirmed";return s.a.createElement(kr.a,{hover:!0,key:e.txid},r&&s.a.createElement(Cr.a,null,s.a.createElement(tn.a,{"data-testid":"utxo-checkbox-".concat(o),checked:e.checked,onClick:function(){return n.toggleInput(o)},color:"primary",disabled:a})),s.a.createElement(Cr.a,null,o+1),s.a.createElement(Cr.a,{className:i},s.a.createElement(Zr,{text:e.txid,showIcon:!0,showText:!1},s.a.createElement("code",{title:c},e.txid))),s.a.createElement(Cr.a,null,s.a.createElement(Zr,{text:e.index.toString()})),s.a.createElement(Cr.a,null,s.a.createElement(Zr,{text:Object(q.satoshisToBitcoins)(e.amountSats).toString()})),s.a.createElement(Cr.a,null,J(Object(q.blockExplorerTransactionURL)(e.txid,t),s.a.createElement(nn.a,null))))}))},n.state={inputsSatsSelected:e.inputsTotalSats,localInputs:e.inputs.map((function(t){return Object(W.a)(Object(W.a)({},t),{},{checked:e.selectAll})})),toggleAll:!0},n}return Object(v.a)(r,[{key:"componentDidUpdate",value:function(e){if(this.props.multisig){var t=this.props,r=t.node,n=t.existingTransactionInputs,a=this.state.localInputs,o=this.filterInputs(a,e.existingTransactionInputs,!0).length,i=this.filterInputs(a,n,!0).length,c=i===a.length;e.node.spend===r.spend&&i===o||!c||this.toggleAll(r.spend)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.inputsTotalSats,n=t.showSelection,a=void 0===n||n,o=t.hideSelectAllInHeader,i=t.finalizedOutputs,c=this.state,u=c.inputsSatsSelected,l=c.toggleAll,f=c.localInputs;return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{variant:"h5"},"Available Inputs (".concat(f.length,")")," "),s.a.createElement("p",null,"The following UTXOs will be spent as inputs in a new transaction."),s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,{hover:!0},a&&!o&&s.a.createElement(Cr.a,null,s.a.createElement(tn.a,{"data-testid":"utxo-check-all",checked:l,onClick:function(){return e.toggleAll()},color:"primary",disabled:i})),o&&s.a.createElement(Cr.a,null),s.a.createElement(Cr.a,null,"Number"),s.a.createElement(Cr.a,null,"TXID"),s.a.createElement(Cr.a,null,"Index"),s.a.createElement(Cr.a,null,"Amount (BTC)"),s.a.createElement(Cr.a,null,"View"))),s.a.createElement(jr.a,null,this.renderInputs()),s.a.createElement(rn.a,null,s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,{colSpan:3},"TOTAL:"),s.a.createElement(Cr.a,{colSpan:2},u?Object(q.satoshisToBitcoins)(u).toString():Object(q.satoshisToBitcoins)(r).toString())))))}}]),r}(s.a.Component);cn.defaultProps={multisig:!1,bip32Path:"",showSelection:!0,hideSelectAllInHeader:!1,selectAll:!0,node:{},existingTransactionInputs:[],setSpendCheckbox:function(){}};var un={setInputs:nt},sn=Object(p.b)((function(e){return Object(W.a)(Object(W.a)({},e.settings),{},{finalizedOutputs:e.spend.transaction.finalizedOutputs,existingTransactionInputs:e.spend.transaction.inputs})}),un)(cn),ln=r(905),fn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).renderScript=function(e,t){var r=Object(q.scriptToHex)(t),n=Object(q.scriptToOps)(t);return s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{variant:"h6"},e),s.a.createElement(k.a,{container:!0,spacing:2},s.a.createElement(k.a,{item:!0,sm:6},s.a.createElement(Zr,{text:r,showIcon:!0,code:!0})),s.a.createElement(k.a,{item:!0,sm:6},s.a.createElement(Zr,{text:n,showIcon:!0,code:!0}))))},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.network,r=e.multisig,n=e.showAddress,a=r.address,o=Object(q.multisigRedeemScript)(r),i=Object(q.multisigWitnessScript)(r);return s.a.createElement(T.a,{mt:2,style:{maxWidth:"1080px"}},n&&s.a.createElement(x.a,{variant:"h6"},"Address"),s.a.createElement(x.a,{align:"center",variant:"h5"},s.a.createElement(k.a,{container:!0,direction:"column",spacing:2},n&&s.a.createElement(k.a,{item:!0},s.a.createElement(Zr,{text:a,showIcon:!0,code:!0}),"\xa0",J(Object(q.blockExplorerAddressURL)(a,t),s.a.createElement(nn.a,null))),s.a.createElement(k.a,{item:!0,justify:"center",container:!0,spacing:3},s.a.createElement(k.a,{item:!0},s.a.createElement(ln.a,{label:"BTC"})),s.a.createElement(k.a,{item:!0},s.a.createElement(ln.a,{label:Object(q.networkLabel)(t)})),s.a.createElement(k.a,{item:!0},s.a.createElement(ln.a,{label:"".concat(Object(q.multisigRequiredSigners)(r),"-of-").concat(Object(q.multisigTotalSigners)(r))})),s.a.createElement(k.a,{item:!0},s.a.createElement(ln.a,{label:Object(q.multisigAddressType)(r)}))))),this.renderScript("Script",r),o&&this.renderScript("Redeem Script",o),i&&this.renderScript("Witness Script",i))}}]),r}(s.a.Component);fn.defaultProps={showAddress:!0};var dn=Object(p.b)((function(e){return e.settings}),{})(fn),pn=r(1575),hn=r(917),An=r.n(hn);function mn(){mn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bn=Object(Bt.a)((function(){return{tooltip:{fontSize:".8rem"}}}));function vn(e){var t=e.addresses,r=void 0===t?[]:t,n=e.client,a=e.importCallback,o=Object(u.useState)(!1),i=Object(ie.a)(o,2),c=i[0],l=i[1],f=Object(u.useState)(""),d=Object(ie.a)(f,2),p=d[0],h=d[1],A=Object(u.useState)(!1),m=Object(ie.a)(A,2),b=m[0],v=m[1],g=Object(u.useState)(""),y=Object(ie.a)(g,2),E=y[0],w=y[1],S=Object(u.useState)(!1),P=Object(ie.a)(S,2),I=P[0],O=P[1],x=bn();Object(u.useEffect)((function(){var e=function(){var e=Object(ne.a)(mn().mark((function e(){var t,a,o,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!1),t=r[r.length-1]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,ye(Object(W.a)(Object(W.a)({},ve(n)),{},{address:t}));case 7:(a=e.sent)&&"undefined"!==typeof a.used?O(!1):O(!0),w(""),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),o=e.t0.response&&e.t0.response.status||"unknown",i=401===o?e.t0.response.statusText:500===o?e.t0.response.data.error.message:e.t0.message||"An unknown address error occured",w(i);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();"private"!==n.type||I&&1!==r.length||e()}),[r,n]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"".concat(e?"A":"a","ddress").concat(r&&r.length>1?"es":"")};function j(){return(j=Object(ne.a)(mn().mark((function e(){var t,o,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.prev=1,e.next=4,Pe(Object(W.a)(Object(W.a)({},ve(n)),{addresses:r,label:"",rescan:b}));case 4:if(t=e.sent,o=t.result.reduce((function(e,t){return t.error&&t.error.message||e}),""),h(o),l(!o.length),!a){e.next=12;break}return i=t.result.filter((function(e){return e.success})),e.next=12,a(i,b);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),h("Unable to import, check your settings and try again"),l(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}var B="To get accurate information from your node, your ".concat(C(),"\nwill need to be imported to your node. Importing will give you accurate balance information\nhowever to know if an address has been used prior to import, a rescan needs to take place.");return s.a.createElement(k.a,{className:x.container},s.a.createElement(T.a,{component:"span",ml:2},s.a.createElement(R.a,{variant:"contained",disabled:!I&&!b||!r.length,onClick:function(){return j.apply(this,arguments)}},"Import ",C(!0))),s.a.createElement(T.a,{component:"span",ml:2},s.a.createElement(Yt.a,{control:s.a.createElement(pn.a,{checked:b,onChange:function(e){return v(e.target.checked)},color:"secondary"}),label:"Rescan"}),s.a.createElement(yr.a,{title:B,classes:{tooltip:x.tooltip}},s.a.createElement(An.a,{fontSize:"small",color:"disabled"}))),s.a.createElement(T.a,null,E.length>0&&s.a.createElement(ae.a,{error:!0},E),p.length>0&&s.a.createElement(ae.a,{error:!0},p),c&&b&&s.a.createElement(ae.a,null,C(!0)," imported, rescan of your node may take some time."),c&&!b&&s.a.createElement(ae.a,null,C(!0)," imported.")))}vn.defaultProps={addresses:[],importCallback:function(){}};var gn=vn,yn=r(649),En=r(651),wn=r(809),Sn=r(1580),Pn=r(1579),In=r(7),On=hr({setSignatureImporterName:"SET_SIGNATURE_IMPORTER_NAME",setSignatureImporterMethod:"SET_SIGNATURE_IMPORTER_METHOD",setSignatureImporterBIP32Path:"SET_SIGNATURE_IMPORTER_BIP32_PATH",setSignatureImporterPublicKeys:"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS",setSignatureImporterSignature:"SET_SIGNATURE_IMPORTER_SIGNATURE",setSignatureImporterFinalized:"SET_SIGNATURE_IMPORTER_FINALIZED",setSignatureImporterComplete:"SET_SIGNATURE_IMPORTER_COMPLETE"}),Tn=On.setSignatureImporterName,xn=On.setSignatureImporterMethod,kn=On.setSignatureImporterBIP32Path,Cn=On.setSignatureImporterPublicKeys,jn=On.setSignatureImporterSignature,Bn=On.setSignatureImporterFinalized,Rn=On.setSignatureImporterComplete,Nn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.state,t=e.signatureJSON,r=e.error;return s.a.createElement(T.a,{mt:2},s.a.createElement(Lt.a,{fullWidth:!0,multiline:!0,variant:"outlined",name:"signature",label:"Signature",rows:5,value:t,onChange:n.handleChange,error:n.hasError(),helperText:r}),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:n.finalize,disabled:""===t},"Add Signature")))},n.hasError=function(){return""!==n.state.error},n.setError=function(e){n.setState({error:e})},n.handleChange=function(e){var t=e.target.value,r="";try{JSON.parse(t)}catch(a){r="Invalid JSON."}n.setState({signatureJSON:t,error:r})},n.finalize=function(){var e=n.props.validateAndSetSignature,t=n.state.signatureJSON;try{e(JSON.parse(t),n.setError)}catch(r){n.setError(r.message)}},n.state={signatureJSON:"",error:""},n}return Object(v.a)(r)}(s.a.Component),_n=r(255),Ln=r(1577),Mn=r(1578),Dn=(r(1510),function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props.messages;return s.a.createElement(N.a,{style:{maxHeight:"400px",overflow:"auto"},dense:!0},t.map(e.renderMessage))},e.renderMessage=function(t,r){return s.a.createElement(_.a,{key:r},t.level&&s.a.createElement(L.a,null,e.messageIcon(t)),s.a.createElement(M.a,null,e.renderMessageBodyAndSubmessages(t)))},e.renderMessageBodyAndSubmessages=function(t){return s.a.createElement(T.a,null,e.renderMessageBody(t),t.messages&&s.a.createElement(N.a,{dense:!0},t.messages.map(e.renderMessage)))},e.renderMessageBody=function(e){return s.a.createElement(T.a,null,e.image&&s.a.createElement(T.a,{align:"center"},s.a.createElement("img",{className:"InteractionMessages-image",src:"data:".concat(e.image.mimeType,";base64, ").concat(e.image.data),alt:e.image.label})),s.a.createElement("p",null,e.text))},e.messageIcon=function(e){switch(e.level){case In.INFO:return s.a.createElement(Ln.a,null);case In.WARNING:return s.a.createElement(Mn.a,null);case In.ERROR:return s.a.createElement(Pn.a,null);default:return null}},e}return Object(v.a)(r)}(s.a.Component)),Un=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props,r=t.version,n=t.currentVersion;return s.a.createElement(T.a,{role:"tabpanel",hidden:r!==n,id:"interactionMessages-tabpanel-".concat(r),"aria-labelledby":"interactionMessages-tab-".concat(r)},r===n&&s.a.createElement(Dn,{messages:e.filteredMessages()}))},e.filteredMessages=function(){var t=e.props,r=t.messages,n=t.version;return r.filter((function(e){return!e.version||e.version===n}))},e}return Object(v.a)(r)}(s.a.Component),Fn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.filteredMessages(),t=e.messages,r=e.versions,a=n.currentVersion(r);return r.length<2?s.a.createElement(Dn,{messages:t}):s.a.createElement(T.a,null,s.a.createElement(x.a,{variant:"h6"},"Model"),s.a.createElement(_n.a,{square:!0},s.a.createElement(_r.a,{value:a,onChange:n.handleChange,"aria-label":"interactionMessages-version"},r.map((function(e){return s.a.createElement(Lr.a,{key:e,value:e,label:e,id:"interactionMessages-tab-".concat(e),"aria-controls":"interactionMessages-tabpanel-".concat(e)})})))),r.map((function(e){return s.a.createElement(Un,{key:e,version:e,currentVersion:a,messages:t})})))},n.currentVersion=function(e){var t=n.state.currentVersion;return t||e[e.length-1]},n.handleChange=function(e,t){n.setState({currentVersion:t})},n.filteredMessages=function(){var e=n.props,t=e.messages,r=e.excludeCodes,a=[],o=[];return t.forEach((function(e){for(var t=0;t<r.length;t+=1){var n=r[t];if((e.code||"").includes(n))return}a.push(e),e.version&&!o.includes(e.version)&&o.push(e.version)})),{versions:o,messages:a}},n.state={currentVersion:""},n}return Object(v.a)(r)}(s.a.Component);Fn.defaultProps={messages:[],excludeCodes:[]};var Gn=Fn;function Kn(){Kn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Hn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){n.resetBIP32Path()},n.interaction=function(){var e=n.props,t=e.signatureImporter,r=e.network,a=e.inputs,o=e.outputs,i=e.walletConfig,c=t.method,u=a.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(In.SignMultisigTransaction)({network:r,keystore:c,inputs:a,outputs:o,bip32Paths:u,walletConfig:i})},n.render=function(){var e=n.props,t=e.signatureImporter,r=e.extendedPublicKeyImporter,a=e.isWallet,o=n.state.status,i=n.interaction();return o===In.UNSUPPORTED?s.a.createElement(ae.a,{error:!0},i.messageTextFor({state:o})):s.a.createElement(T.a,{mt:2},(!a||null===r||"undefined"===typeof r||"text"===r.method)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:10},s.a.createElement(Lt.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path",type:"text",value:t.bip32Path,onChange:n.handleBIP32PathChange,disabled:o!==In.PENDING,error:n.hasBIP32PathError(),helperText:n.bip32PathError()})),s.a.createElement(k.a,{item:!0,md:2},!n.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:n.resetBIP32Path,disabled:o!==In.PENDING},"Default"))),s.a.createElement(ae.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),s.a.createElement(T.a,{mt:2},n.renderAction()),n.renderDeviceConfirmInfo(),s.a.createElement(Gn,{messages:i.messagesFor({state:o}),excludeCodes:["bip32"]}))},n.renderDeviceConfirmInfo=function(){var e=n.props,t=e.fee,r=e.inputsTotalSats;return n.state.status===In.ACTIVE?s.a.createElement(T.a,null,s.a.createElement("p",null,"Your device will ask you to verify the following information:"),s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null),s.a.createElement(Cr.a,null,"Amount (BTC)"))),s.a.createElement(jr.a,null,n.renderTargets(),s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null,"Fee"),s.a.createElement(Cr.a,null,t)),s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null,"Total"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(r).toString()))))):""},n.renderTargets=function(){return n.props.outputs.map((function(e){return s.a.createElement(kr.a,{hover:!0,key:e.address},s.a.createElement(Cr.a,null,"Address ",s.a.createElement("code",null,e.address)),s.a.createElement(Cr.a,null,e.amount))}))},n.renderAction=function(){var e=n.state,t=e.signatureError,r=e.status;return s.a.createElement(k.a,{container:!0,alignItems:"center"},s.a.createElement(k.a,{item:!0,md:3},s.a.createElement(R.a,{variant:"contained",size:"large",color:"primary",onClick:n.sign,disabled:r!==In.PENDING},"Sign")),s.a.createElement(k.a,{item:!0,md:9},s.a.createElement(ae.a,{error:!0},t)))},n.hasBIP32PathError=function(){var e=n.state,t=e.bip32PathError,r=e.status;return""!==t||n.interaction().hasMessagesFor({state:r,level:In.ERROR,code:"bip32"})},n.bip32PathError=function(){var e=n.state,t=e.bip32PathError,r=e.status;return""!==t?t:n.interaction().messageTextFor({state:r,level:In.ERROR,code:"bip32"})},n.setBIP32PathError=function(e){n.setState({bip32PathError:e})},n.handleBIP32PathChange=function(e){(0,n.props.validateAndSetBIP32Path)(e.target.value,(function(){}),n.setBIP32PathError)},n.bip32PathIsDefault=function(){var e=n.props,t=e.signatureImporter,r=e.defaultBIP32Path;return t.bip32Path===r},n.resetBIP32Path=function(){var e=n.props.resetBIP32Path;n.setBIP32PathError(""),e()},n.sign=Object(ne.a)(Kn().mark((function e(){var t,r,a,o,i;return Kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.disableChangeMethod,a=t.validateAndSetSignature,o=t.enableChangeMethod,r(),n.setState({signatureError:"",status:In.ACTIVE}),e.prev=3,e.next=6,n.interaction().run();case 6:i=e.sent,a(i,(function(e){var t={signatureError:e};""!==e&&(t.status=In.PENDING),n.setState(t)})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),n.setState({signatureError:e.t0.message,status:In.PENDING});case 14:o();case 15:case"end":return e.stop()}}),e,null,[[3,10]])}))),n.state={signatureError:"",bip32PathError:"",status:n.interaction().isSupported()?In.PENDING:In.UNSUPPORTED},n}return Object(v.a)(r)}(s.a.Component),Qn=r(929),Vn=r.n(Qn),Wn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.state,t=e.status,r=e.error,a=n.props,o=a.interaction,i=a.width,c=a.startText;if(t===In.PENDING){var u=o.messageFor({state:t,code:"hermit.command"});return s.a.createElement("div",null,s.a.createElement("p",null,u.instructions),s.a.createElement(k.a,{container:!0,justify:"center",className:"mb-2"},s.a.createElement(Zr,{text:u.command,showText:!1},s.a.createElement("code",null,s.a.createElement("strong",null,u.mode,">")," ",u.command))),s.a.createElement("p",null,"When you are ready, scan the QR code produced by Hermit:"),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",className:"mt-2",size:"large",onClick:n.handleStart},c)))}return t===In.ACTIVE?s.a.createElement(k.a,{container:!0,direction:"column"},s.a.createElement(k.a,{item:!0},s.a.createElement(Vn.a,{delay:300,onError:n.handleError,onScan:n.handleScan,style:{width:i},facingMode:"user"})),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:n.handleStop},"Cancel"))):"error"===t||"success"===t?s.a.createElement("div",null,s.a.createElement(ae.a,{error:!0},r),s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:n.handleStop},"Reset")):null},n.handleStart=function(){var e=n.props.onStart;n.setState({status:In.ACTIVE,error:""}),e&&e()},n.handleError=function(e){var t=n.props.onClear;n.setState({status:"error",error:e.message}),t&&t()},n.handleScan=function(e){var t=n.props,r=t.onSuccess,a=t.interaction;if(e)try{r(a.parse(e)),n.setState({status:"success"})}catch(o){n.handleError(o)}},n.handleStop=function(){var e=n.props.onClear;n.setState({status:In.PENDING,error:""}),e&&e()},n.state={status:In.PENDING,error:""},n}return Object(v.a)(r)}(u.Component);Wn.defaultProps={width:"256px",startText:"Scan"};var Yn=Wn,Xn=function(e){var t=e.width,r=e.string;return s.a.createElement(Zr,{text:r,newline:!0,showText:!1},s.a.createElement(Fr.a,{size:t,value:r,level:"L"}))};Xn.defaultProps={string:"",width:120};var zn=Xn,qn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=function(){var e=n.props,t=e.signatureImporter,r=e.network,a=e.inputs,o=e.outputs,i=a.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(In.SignMultisigTransaction)({keystore:In.HERMIT,network:r,inputs:a,outputs:o,bip32Paths:i})},n.render=function(){var e=n.props,t=e.signatureImporter,r=e.disableChangeMethod,a=e.resetBIP32Path,o=n.state,i=o.bip32PathError,c=o.signatureError,u=o.status,l=n.interaction();return u===In.UNSUPPORTED?s.a.createElement(Gn,{messages:l.messagesFor({state:u}),excludeCodes:["hermit.signature_request","hermit.command"]}):s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:10},s.a.createElement(Lt.a,{name:"bip32Path",value:t.bip32Path,onChange:n.handleBIP32PathChange,disabled:u!==In.PENDING,error:n.hasBIP32PathError(),helperText:i})),s.a.createElement(k.a,{item:!0,md:2},!n.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:a,disabled:u!==In.PENDING},"Default"))),s.a.createElement(ae.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,justify:"center"},s.a.createElement(k.a,{item:!0},s.a.createElement(zn,{width:400,string:l.request()}))),s.a.createElement(Yn,{startText:"Scan Signature QR Code",interaction:l,onStart:r,onSuccess:n.import,onClear:n.clear}),s.a.createElement(Gn,{messages:l.messagesFor({state:u}),excludeCodes:["hermit.signature_request","hermit.command"]}),s.a.createElement(ae.a,{error:!0},c)))},n.import=function(e){var t=n.props,r=t.validateAndSetSignature,a=t.enableChangeMethod;n.setState({signatureError:""}),a(),r(e,(function(e){n.setState({signatureError:e})}))},n.clear=function(){var e=n.props,t=e.resetBIP32Path,r=e.enableChangeMethod;t(),n.setState({signatureError:""}),r()},n.hasBIP32PathError=function(){return""!==n.state.bip32PathError},n.handleBIP32PathChange=function(e){(0,n.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(e){n.setState({bip32PathError:e})}))},n.bip32PathIsDefault=function(){var e=n.props,t=e.signatureImporter,r=e.defaultBIP32Path;return t.bip32Path===r},n.state={bip32PathError:"",signatureError:"",status:n.interaction(!0).isSupported()?In.PENDING:In.UNSUPPORTED},n}return Object(v.a)(r)}(s.a.Component),Zn=r(1533),Jn=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=function(){var e=n.props,t=e.signatureImporter,r=e.network,a=e.inputs,o=e.outputs,i=t.method,c=a.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(In.SignMultisigTransaction)({keystore:i,network:r,inputs:a,outputs:o,bip32Paths:c})},n.renderDeviceConfirmInfo=function(){var e=n.props,t=e.fee,r=e.inputsTotalSats;return s.a.createElement(T.a,null,s.a.createElement("p",null,"Your device will ask you to verify the following information:"),s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null),s.a.createElement(Cr.a,null,"Amount (BTC)"))),s.a.createElement(jr.a,null,n.renderTargets(),s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null,"Fee"),s.a.createElement(Cr.a,null,t)),s.a.createElement(kr.a,{hover:!0},s.a.createElement(Cr.a,null,"Total"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(r).toString())))))},n.renderTargets=function(){return n.props.outputs.map((function(e){return s.a.createElement(kr.a,{hover:!0,key:e.address},s.a.createElement(Cr.a,null,"Address ",s.a.createElement("code",null,e.address)),s.a.createElement(Cr.a,null,e.amount))}))},n.render=function(){var e=n.props,t=e.disableChangeMethod,r=e.extendedPublicKeyImporter,a=e.Signer,o=n.state,i=o.signatureError,c=o.status,u=n.interaction();return c===In.UNSUPPORTED?s.a.createElement(Gn,{messages:u.messagesFor({state:c}),excludeCodes:["hermit.signature_request","hermit.command"]}):s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{mt:2},n.renderDeviceConfirmInfo(),s.a.createElement(Zn.a,null,s.a.createElement(a,{setError:n.setError,hasError:n.hasBIP32PathError(),onReceive:n.onReceive,onReceivePSBT:n.onReceivePSBT,interaction:n.interaction(),setActive:n.setActive,disableChangeMethod:t,extendedPublicKeyImporter:r}),s.a.createElement(ae.a,{error:!0},i),s.a.createElement(Gn,{messages:u.messagesFor({state:c})}))))},n.setActive=function(){n.setState({status:In.ACTIVE})},n.onReceive=function(e){var t=n.props,r=t.validateAndSetSignature,a=t.enableChangeMethod;n.setState({signatureError:""}),a&&a(),r(e,(function(e){n.setState({signatureError:e})}))},n.onReceivePSBT=function(e){var t=n.props.validateAndSetSignature;try{var r=n.interaction().parse(e),a=Object.keys(r),o=[];a.forEach((function(e){o.push.apply(o,Object(oe.a)(r[e]))})),n.setState({signatureError:""}),t(o,(function(e){n.setState({signatureError:e})}))}catch(i){i.errorType="Coldcard Signing Error",n.setState({signatureError:i.message})}},n.setError=function(e){n.setState({signatureError:e})},n.clear=function(){var e=n.props,t=e.resetBIP32Path,r=e.enableChangeMethod;t(),n.setState({signatureError:""}),r()},n.hasBIP32PathError=function(){return""!==n.state.bip32PathError},n.handleBIP32PathChange=function(e){(0,n.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(e){n.setState({bip32PathError:e})}))},n.bip32PathIsDefault=function(){var e=n.props,t=e.signatureImporter,r=e.defaultBIP32Path;return t.bip32Path===r},n.state={bip32PathError:"",signatureError:"",status:n.interaction().isSupported()?In.PENDING:In.UNSUPPORTED},n}return Object(v.a)(r)}(s.a.Component);Jn.defaultProps={resetBIP32Path:null,defaultBIP32Path:"",validateAndSetBIP32Path:null,enableChangeMethod:null,disableChangeMethod:null,extendedPublicKeyImporter:{},fee:"",inputsTotalSats:{}};var $n=Jn,ea=r(185),ta=r.n(ea),ra=r(370),na=function(e){var t=e.handlePSBTDownloadClick,r=e.handleWalletConfigDownloadClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",onClick:t},"Download PSBT"),s.a.createElement(R.a,{type:"button",variant:"contained",onClick:r},"Download Coldcard Config"))},aa=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handlePSBTDownloadClick=function(){var t=e.props,r=t.walletName,n=t.interaction,a=t.setActive,o=n.request().toBase64(),i=ta()().format("HHmm");$(o,"".concat(i,"-").concat(r,".psbt")),a()},e.handleWalletConfigDownloadClick=function(){var t=e.props.walletDetailsText;e.reshapeConfig(t)},e.reshapeConfig=function(e){var t=JSON.parse(e),r=t.startingAddressIndex;t.name=0===r?t.name:"".concat(t.name,"_").concat(r.toString()),t.addressType=t.addressType.includes("-")?"P2WSH-P2SH":t.addressType,$(Object(In.ConfigAdapter)({KEYSTORE:In.COLDCARD,jsonConfig:t}).adapt(),"wc-".concat(t.name,".txt"))},e.render=function(){var t=e.props,r=t.onReceivePSBT,n=t.setError;return s.a.createElement("div",null,s.a.createElement(na,{handlePSBTDownloadClick:e.handlePSBTDownloadClick,handleWalletConfigDownloadClick:e.handleWalletConfigDownloadClick}),s.a.createElement(ra.b,{onReceivePSBT:r,setError:n}))},e}return Object(v.a)(r)}(u.Component);var oa=Object(p.b)((function(e){return{walletName:e.wallet.common.walletName,walletDetailsText:tt(e)}}),{})(aa),ia=function(e){var t=e.signatureImporter,r=e.extendedPublicKeyImporter,n=e.inputs,a=e.outputs,o=e.inputsTotalSats,i=e.fee,c=e.validateAndSetSignature,u=e.network;return s.a.createElement($n,{network:u,signatureImporter:t,inputs:n,outputs:a,inputsTotalSats:o,fee:i,extendedPublicKeyImporter:r,validateAndSetSignature:c,Signer:oa})},ca=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).titleRef=s.a.createRef(),n.componentDidMount=function(){n.resetBIP32Path(),n.scrollToTitle()},n.componentDidUpdate=function(){n.scrollToTitle()},n.title=function(){var e=n.props,t=e.number,r=e.signatureImporter,a=e.setName;return s.a.createElement(Gt,{number:t,name:r.name,setName:a})},n.scrollToTitle=function(){n.props.number===n.getCurrent()&&n.titleRef.current.scrollIntoView({behavior:"smooth"})},n.renderImport=function(){var e=n.props,t=e.signatureImporter,r=e.number,a=e.isWallet,o=r>n.getCurrent(),i=n.state.disableChangeMethod,c="signature-".concat(r,"-importer-select-label");return o?s.a.createElement("p",null,"Once you have imported the signature above, you will be able to import another signature here."):s.a.createElement("form",null,s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:c},"Select Method"),s.a.createElement(En.a,{labelId:c,id:"signature-".concat(r,"-importer-select"),disabled:i,value:t.method,onChange:n.handleMethodChange},s.a.createElement(wn.a,{value:"unknown"},"< Select method >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.LEDGER},"Ledger"),s.a.createElement(wn.a,{value:In.COLDCARD,disabled:!a},"Coldcard"),s.a.createElement(wn.a,{value:In.HERMIT},"Hermit"),s.a.createElement(wn.a,{value:"text"},"Enter as text"))),n.renderImportByMethod())},n.renderImportByMethod=function(){var e=n.props,t=e.network,r=e.signatureImporter,a=e.signatureImporters,o=e.inputs,i=e.inputsTotalSats,c=e.outputs,u=e.fee,l=e.isWallet,f=e.extendedPublicKeyImporter,d=e.extendedPublicKeys,p=e.requiredSigners,h=e.addressType,A=e.walletName,m=r.method;return m===In.TREZOR||m===In.LEDGER?s.a.createElement(Hn,{network:t,signatureImporter:r,signatureImporters:a,inputs:o,outputs:c,inputsTotalSats:i,fee:u,isWallet:l,extendedPublicKeyImporter:f,validateAndSetBIP32Path:n.validateAndSetBIP32Path,resetBIP32Path:n.resetBIP32Path,defaultBIP32Path:n.defaultBIP32Path(),validateAndSetSignature:n.validateAndSetSignature,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,walletConfig:{addressType:h,network:t,requiredSigners:p,extendedPublicKeys:d,name:A}}):m===In.HERMIT?s.a.createElement(qn,{network:t,signatureImporter:r,inputs:o,outputs:c,inputsTotalSats:i,fee:u,extendedPublicKeyImporter:f,validateAndSetBIP32Path:n.validateAndSetBIP32Path,resetBIP32Path:n.resetBIP32Path,defaultBIP32Path:n.defaultBIP32Path(),validateAndSetSignature:n.validateAndSetSignature,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod}):m===In.COLDCARD?s.a.createElement(ia,{network:t,signatureImporter:r,inputs:o,outputs:c,inputsTotalSats:i,fee:u,extendedPublicKeyImporter:f,validateAndSetSignature:n.validateAndSetSignature}):"text"===m?s.a.createElement(Nn,{signatureImporter:r,validateAndSetSignature:n.validateAndSetSignature}):null},n.handleMethodChange=function(e){var t=n.props,r=t.number;(0,t.setMethod)(r,e.target.value),n.reset()},n.disableChangeMethod=function(){n.setState({disableChangeMethod:!0})},n.enableChangeMethod=function(){n.setState({disableChangeMethod:!1})},n.reset=function(){var e=n.props,t=e.number,r=e.setSignature,a=e.setPublicKeys,o=e.setFinalized;r(t,""),a(t,[]),o(t,!1)},n.defaultBIP32Path=function(){var e=n.props,t=e.addressType,r=e.network;return e.isWallet?Object(q.multisigBIP32Root)(t,r):Object(q.multisigBIP32Path)(t,r)},n.resetBIP32Path=function(){var e=n.props,t=e.number,r=e.setBIP32Path;if(e.isWallet){var a=n.props.extendedPublicKeyImporter;if(a&&"text"!==a.method)return}r(t,n.defaultBIP32Path())},n.validateAndSetBIP32Path=function(e,t,r,a){var o=n.props,i=o.number,c=o.setBIP32Path,u=Object(q.validateBIP32Path)(e,a);c(i,e),u?r(u):(r(""),t())},n.renderSignature=function(){var e=n.props,t=e.signatureImporter,r=e.txid,a=JSON.stringify(t.signature);return s.a.createElement("div",null,s.a.createElement("p",null,"The following signature was imported:"),s.a.createElement(T.a,null,s.a.createElement(Zr,{text:a,showIcon:!0,code:!0})),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"secondary",disabled:""!==r,size:"small",onClick:n.reset},"Remove Signature")))},n.validateAndSetSignature=function(e,t){var r=n.props,a=r.number,o=r.inputs,i=r.signatureImporters,c=r.setComplete,u=r.network,s=r.outputs,l=r.setSigningKey;if(Array.isArray(e))if(e.length<o.length)t("Not enough signatures (must be at least one signature for each input).");else if(e.length%o.length===0){var f=e.length/o.length;if(f>Object.values(i).length)t("Too many signatures. Max one set of signatures per required signer.");else{var d=[];if(1===f){for(var p=Object.values(i).filter((function(e){return e.finalized})),h=0;h<e.length;h+=1){var A=h+1,m=e[h];if(""!==Object(q.validateHex)(m))return void t("Signature for input ".concat(A," is not valid hex."));var b=void 0;try{b=Object(q.validateMultisigSignature)(u,o,s,h,m)}catch(x){return void t("Signature for input ".concat(A," is invalid."))}if(!b)return void t("Signature for input ".concat(A," is invalid."));for(var v=0;v<p.length;v+=1){var g=p[v];if(g.signature[h]===m||g.publicKeys[h]===b)return void t("Signature for input ".concat(A," is a duplicate of a previously provided signature."))}d.push(b)}c(a,{signature:e,publicKeys:d,finalized:!0})}else for(var y=n.filterKnownSignatures(e),E=a;E<=Object.keys(i).length&&y.length>0;){l(E,E-1);for(var w=[],S=[],P=0;P<o.length;P+=1){for(var I=void 0,O=0;O<y.length;O+=1){var T=y[O];if(""!==Object(q.validateHex)(T))return void t("Signature for input at index ".concat(P," is not valid hex."));try{I=Object(q.validateMultisigSignature)(u,o,s,P,T)}catch(x){console.error(x)}if(I){S.push(I),w.push(T);break}}if(!I)return void t("No valid signature for input ".concat(P," found."))}if(S.length!==o.length||w.length!==o.length)return void t("There was an error in validating the transaction.");c(E,{signature:w,publicKeySet:S,finalized:!0}),y=n.filterKnownSignatures(e),E+=1}}}else t("Number of signatures must be a multiple of number of inputs.");else t("Signature is not an array of strings.")},n.filterKnownSignatures=function(e){for(var t=n.props,r=t.inputs,a=t.signatureImporters,o=Object.values(a).filter((function(e){return e.finalized})),i=[],c=0;c<r.length;c+=1)for(var u=0;u<o.length;u+=1){var s=o[u];i.push(s.signature[c])}return e.filter((function(e){return!i.includes(e)}))},n.state={disableChangeMethod:!1},n}return Object(v.a)(r,[{key:"getCurrent",value:function(){var e=this.props.signatureImporters;return Object.keys(e).reduce((function(t,r){return t+(e[r].finalized?1:0)}),1)}},{key:"render",value:function(){var e=this.props.signatureImporter;return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:this.title(),ref:this.titleRef}),s.a.createElement(B.a,null,e.finalized?this.renderSignature():this.renderImport()))}}]),r}(s.a.Component);ca.defaultProps={extendedPublicKeyImporter:{}};var ua={setName:Tn,setMethod:xn,setBIP32Path:kn,setPublicKeys:Cn,setSignature:jn,setFinalized:Bn,setComplete:Rn,setSigningKey:At},sa=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)(Object(W.a)({},{signatureImporters:e.spend.signatureImporters,signatureImporter:e.spend.signatureImporters[t.number],fee:e.spend.transaction.fee,txid:e.spend.transaction.txid,walletName:e.wallet.common.walletName}),e.spend.transaction),{},{requiredSigners:e.settings.requiredSigners,extendedPublicKeys:Object.values(e.quorum.extendedPublicKeyImporters).map((function(e){return{bip32Path:"Unknown"===e.bip32Path?"m/45'/0/0/0":e.bip32Path,xfp:e.rootXfp,base58String:e.extendedPublicKey}}))})}),ua)(ca),la=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.signingKeys,r=e.number;t[r-1]>0&&n.updateKeySelection(t[r-1])},n.render=function(){var e=n.state.selection,t=n.props,r=t.number,a=t.signatureImporter;return s.a.createElement("div",null,n.renderKeySelectorMenu(),(e>0&&r>0||a&&a.finalized)&&n.renderSignatureImporter())},n.renderSignatureImporter=function(){var e=n.props.number,t=n.getAssociatedExtendedPublicKeyImporter();return s.a.createElement(T.a,{mt:2},s.a.createElement(sa,{number:e,extendedPublicKeyImporter:t}))},n.getAssociatedExtendedPublicKeyImporter=function(){var e=n.props.extendedPublicKeyImporters,t=n.state.selection,r=null;return t&&(r=e[t]),r},n.renderKeySelectorMenu=function(){var e=n.props,t=e.number,r=e.signatureImporters,a=e.setBIP32Path,o=n.state.selection,i="keySelector".concat(t),c=n.getAssociatedExtendedPublicKeyImporter();if(null!==c&&t>0){var u=r[t];if(u.signature.length>0)return"";c.bip32Path!==u.bip32Path&&"text"!==c.method&&setTimeout((function(){a(t,c.bip32Path)}),0)}return s.a.createElement("form",null,s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:i},"Select Key"),s.a.createElement(En.a,{labelId:i,id:"signature-".concat(t,"-key-select"),value:o,onChange:n.handleKeyChange},s.a.createElement(wn.a,{value:""},"< Select Extended Public Key >"),n.renderKeySelectorMenuItems())))},n.extendedPublicKeyImporterNotUsed=function(e){var t=n.props,r=t.inputs,a=t.network,o=t.signatureImporters;if(0===t.number)return!0;for(var i=0;i<r.length;i+=1)for(var c=r[i],u=Object(q.deriveChildPublicKey)(e.extendedPublicKey,c.bip32Path,a),s=1;s<=Object.keys(o).length;s+=1)for(var l=o[s],f=0;f<l.publicKeys.length;f+=1){if(l.publicKeys[f]===u)return!1}return!0},n.renderKeySelectorMenuItems=function(){for(var e=n.props,t=e.extendedPublicKeyImporters,r=e.totalSigners,a=[],o=1;o<=r;o+=1){var i=t[o];n.extendedPublicKeyImporterNotUsed(i)&&a.push(s.a.createElement(wn.a,{value:o,key:o},i.name))}return a},n.handleKeyChange=function(e){var t=n.props.onChange;(n.updateKeySelection(e.target.value),t)&&t(e,n.props.extendedPublicKeyImporters[e.target.value])},n.state={selection:""},n}return Object(v.a)(r,[{key:"updateKeySelection",value:function(e){if(this.setState({selection:e}),""!==e){var t=this.props,r=t.extendedPublicKeyImporters,n=t.setMethod,a=t.number,o=t.setSigningKey,i=r[e].method;n(a,"text"===i?"":i),a>0&&o(a,e)}}}]),r}(s.a.Component);la.defaultProps={onChange:null,signatureImporter:null};var fa={setBIP32Path:kn,setMethod:xn,setSigningKey:At},da=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)({},e.quorum),{},{totalSigners:e.spend.transaction.totalSigners,inputs:e.spend.transaction.inputs,network:e.settings.network,signatureImporters:e.spend.signatureImporters,signatureImporter:e.spend.signatureImporters[t.number],signingKeys:e.spend.transaction.signingKeys})}),fa)(la);function pa(){pa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ha={keySelected:!1,deviceType:"unknown",bip32Path:"",hasInteraction:!1,interactionState:In.PENDING,interactionError:"",interactionMessage:""},Aa=function(e,t){switch(t.type){case"RESET":return Object(W.a)(Object(W.a)({},e),{},{interactionError:"",interactionMessage:"",interactionState:In.PENDING});case"SET_KEY_SELECTED":return Object(W.a)(Object(W.a)({},e),{},{keySelected:!0});case"SET_KEY_UNSELECTED":return Object(W.a)(Object(W.a)({},e),{},{keySelected:!1});case"SET_DEVICE_TYPE":return Object(W.a)(Object(W.a)({},e),{},{deviceType:t.value});case"SET_BIP32_PATH":return Object(W.a)(Object(W.a)({},e),{},{bip32Path:t.value});case"SET_ACTIVE":return Object(W.a)(Object(W.a)({},e),{},{interactionState:In.ACTIVE});case"HAS_INTERACTION":return Object(W.a)(Object(W.a)({},e),{},{hasInteraction:t.value});case"SET_MESSAGE":return Object(W.a)(Object(W.a)({},e),{},{interactionMessage:t.value,interactionError:""});case"SET_ERROR":return Object(W.a)(Object(W.a)({},e),{},{interactionError:t.value,interactionMessage:""});default:return e}},ma=function(e){var t=e.slice,r=e.network,n=Object(u.useReducer)(Aa,ha),a=Object(ie.a)(n,2),o=a[0],i=a[1],c=Object(u.useState)(null),l=Object(ie.a)(c,2),f=l[0],d=l[1],p=Object(q.multisigAddressType)(t.multisig),h=Object(q.multisigRequiredSigners)(t.multisig),A=Object(q.multisigTotalSigners)(t.multisig);function m(){return(m=Object(ne.a)(pa().mark((function e(){var r,n;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"SET_ACTIVE"}),r=t.multisig,e.prev=2,e.next=5,f.run();case 5:(n=e.sent).address===r.address&&n.serializedPath===f.bip32Path?i({type:"SET_MESSAGE",value:"Success"}):i({type:"SET_ERROR",value:"An unknown error occured"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i({type:"SET_ERROR",value:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(da,{number:0,onChange:function(e,n){var a=t.multisig,o=t.bip32Path;if(n){i({type:"SET_KEY_SELECTED"}),i({type:"SET_DEVICE_TYPE",value:n.method});var c="".concat(n.bip32Path).concat(o.slice(1));"Unknown"!==n.bip32Path?i({type:"SET_BIP32_PATH",value:c}):i({type:"SET_BIP32_PATH",value:""}),"trezor"===n.method?(d(Object(In.ConfirmMultisigAddress)({keystore:n.method,network:r,bip32Path:c,multisig:a})),i({type:"HAS_INTERACTION",value:!0}),i({type:"RESET"})):(d(null),i({type:"HAS_INTERACTION",value:!1}),i({type:"RESET"}))}else d(null),i({type:"HAS_INTERACTION",value:!1}),i({type:"RESET"}),i({type:"SET_KEY_UNSELECTED"})}}),o.keySelected&&s.a.createElement("form",null,s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,null,"Select Method"),s.a.createElement(En.a,{id:"confirm-importer-select",value:"",onChange:function(e){if(""!==e.target.value){i({type:"SET_DEVICE_TYPE",value:e.target.value});var n=t.multisig;d(Object(In.ConfirmMultisigAddress)({keystore:e.target.value,network:r,bip32Path:o.bip32Path,multisig:n})),i({type:"HAS_INTERACTION",value:!0}),i({type:"RESET"})}}},s.a.createElement(wn.a,{value:""},"< Select method >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.COLDCARD,disabled:!0},"Coldcard"),s.a.createElement(wn.a,{value:In.LEDGER,disabled:!0},"Ledger"),s.a.createElement(wn.a,{value:In.HERMIT,disabled:!0},"Hermit"),s.a.createElement(wn.a,{value:"text",disabled:!0},"Enter as text")))),o.hasInteraction&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,null,s.a.createElement("p",null,"Confirm the following ",r.length?r:""," ",p," ",h," -of-",A," multisig address on your device:"),s.a.createElement(Tr.a,null,s.a.createElement(jr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Address:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,t.multisig.address))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"BIP32 Path:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,o.bip32Path)))))),""!==o.interactionMessage&&s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(x.a,{variant:"h5",style:{color:"green"}},s.a.createElement(Sn.a,null),"\xa0 ",o.interactionMessage)),""!==o.interactionError&&s.a.createElement(T.a,{mt:2,align:"center",style:{color:"red"}},s.a.createElement(x.a,{variant:"h5"},s.a.createElement(Pn.a,null),"\xa0 Confirmation Error"),s.a.createElement(x.a,{variant:"caption"},o.interactionError)),""===o.interactionMessage&&""===o.interactionError&&s.a.createElement(Gn,{messages:f.messagesFor({state:o.interactionState})}),s.a.createElement(R.a,{variant:"contained",size:"large",onClick:function(){return m.apply(this,arguments)},disabled:o.interactionState===In.ACTIVE||!o.bip32Path},"Confirm"),(""!==o.interactionMessage||""!==o.interactionError)&&s.a.createElement(R.a,{size:"large",onClick:function(){return i({type:"RESET"})}},"Reset")))};ma.defaultProps={network:""};var ba=ma,va=["children","value","index"],ga=Object(Bt.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var ya=function(e,t){var r=e.tab,n=s.a.createElement(Lr.a,Object.assign({value:t.toString(),key:t},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t),r));return r.disabled?s.a.createElement(yr.a,{title:"Not available for this address",key:t,arrow:!0},s.a.createElement("div",null,n)):n};function Ea(e){var t=e.children,r=e.value,n=e.index,a=Object(Qr.a)(e,va);return s.a.createElement(k.a,Object.assign({container:!0,justify:"center",style:{display:r===n?"inherit":"none"}},a),s.a.createElement(k.a,{item:!0,md:11},s.a.createElement(T.a,null,t)))}Ea.defaultProps={children:s.a.createElement("span")};var wa=function(e){var t=e.slice,r=e.client,n=e.network,a=s.a.useState("0"),o=Object(ie.a)(a,2),i=o[0],c=o[1],u=ga(),l=[{tab:{label:"Redeem Script"},panel:s.a.createElement(dn,{multisig:t.multisig,showAddress:!1})},{tab:{label:"Confirm on Device"},panel:s.a.createElement("div",null,s.a.createElement(x.a,{variant:"h6"},"Verify Address with Quorum Participants"),s.a.createElement(x.a,{variant:"caption"},"(not all device variants supported)"),s.a.createElement(ba,{slice:t,network:n}))},{tab:{label:"UTXOs",disabled:!t.balanceSats.isGreaterThan(0)},panel:s.a.createElement(sn,{inputs:t.utxos,inputsTotalSats:t.balanceSats,showSelection:!1})},{tab:{label:"Watch Address",disabled:"private"!==r.type},panel:s.a.createElement("div",null,s.a.createElement(x.a,{variant:"h6"},"Import Watch-Only Address"),s.a.createElement(x.a,{variant:"caption"},"Address must be imported to get accurate balance data. If this address has previous history, a rescan may be required."),s.a.createElement(T.a,{my:3},s.a.createElement(gn,{addresses:[t.multisig.address],client:r})))}];return s.a.createElement(k.a,{container:!0,className:u.root},s.a.createElement(en.a,{position:"static",color:"default",variant:"outlined"},s.a.createElement(_r.a,{value:i,onChange:function(e,t){return c(t)},"aria-label":"Slice Details View",centered:!0},l.map(ya))),l.map((function(e,t){var r=e.panel;return s.a.createElement(Ea,{value:i,index:t.toString(),key:t},s.a.createElement(T.a,{my:3},r))})))},Sa=Object(Bt.a)((function(e){return{panel:{boxShadow:"inset 0px 0px 4px 1px ".concat(e.palette.grey[500])},spent:{textDecoration:"line-through"}}})),Pa=function(e){var t=e.slices,r=e.search,n=e.paging,a=e.title,o=e.client,i=e.network,c=e.disabled,u=Sa(),l={search:r,paging:n,detailPanelType:"single",showTitle:a&&a.length||!1,emptyRowsWhenPaging:!1,pageSize:10,pageSizeOptions:[10,20,50]};l.toolbar=l.showTitle&&l.search;var f=[{title:"Path Suffix",field:"bip32Path",render:function(e){return s.a.createElement(x.a,null,e.bip32Path.replace("m","*"))},type:"string",defaultSort:"asc",customSort:Ne},{title:"UTXOs",field:"utxos",width:"50px",render:function(e){return s.a.createElement(x.a,null,e.utxos.length)},customSort:Le},{title:"Balance",field:"balanceSats",render:function(e){return s.a.createElement(x.a,null,Object(q.satoshisToBitcoins)(e.balanceSats).toString())},customSort:_e},{title:"Last Used",field:"lastUsed",render:function(e){return s.a.createElement(x.a,null,e.lastUsed||"")},customSort:Me},{title:"Address",field:"address",sorting:!1,render:function(e){return s.a.createElement(Zr,{text:e.multisig.address,showIcon:!0,showText:!0,code:!0,className:e.addressUsed&&e.balanceSats.isEqualTo(0)?u.spent:""})}}];return f=f.filter((function(e){return!c.includes(e.field)})),s.a.createElement($r.a,{options:l,columns:f,data:t,detailPanel:[{tooltip:"Address Details",render:function(e){return s.a.createElement(T.a,{p:1,className:u.panel},s.a.createElement(wa,{client:o,slice:e,network:i}))}}]})};Pa.defaultProps={search:!1,paging:!1,title:"",disabled:[]};var Ia,Oa=Pa;function Ta(){Ta=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xa=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).getNextDepositAddress=function(){var e=n.state.depositIndex;n.setState({depositIndex:e+1}),setTimeout(n.getDepositAddress,0)},n.getDepositAddress=function(){var e=n.props,t=e.network,r=e.client,a=e.updateDepositSlice,o=e.depositableSlices,i=e.enqueueSnackbar,c=n.state.depositIndex;c<o.length&&n.setState({slice:o[c],address:o[c].multisig.address}),clearInterval(Ia),Ia=setInterval(Object(ne.a)(Ta().mark((function e(){var o,c,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n.state,u=c.address,s=c.slice,e.next=4,Te(u,t,r);case 4:(o=e.sent)&&o.utxos&&o.utxos.length&&(clearInterval(Ia),a(Object(W.a)(Object(W.a)({},o),{},{bip32Path:s.bip32Path})),i("Deposit received. A new address should now be available for deposit."),n.resetDepositAddressIndex(),setTimeout(n.getDepositAddress,2e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),2e3)},n.handleAmountChange=function(e){var t=e.target.value,r="";t.length&&!t.match(/^[0-9.]+$/)&&(r="Amount must be numeric");var a=t.split(".");a.length>2?r="Amount must be numeric":2===a.length&&a[1].length>8&&(r="Amount must have maximum precision of 8 decimal places"),n.setState({amount:e.target.value,amountError:r})},n.qrString=function(){var e=n.state,t=e.address,r=e.amount;return"bitcoin:".concat(t).concat(r?"?amount=".concat(r):"")},n.resetDepositAddressIndex=function(){var e=n.props.depositableSlices;n.setState({slice:e[0],address:e[0].multisig.address,depositIndex:0})},n.state={address:"",amount:0,amountError:"",depositIndex:0,slice:null},n}return Object(v.a)(r,[{key:"componentDidMount",value:function(){this.getDepositAddress()}},{key:"componentWillUnmount",value:function(){clearInterval(Ia)}},{key:"render",value:function(){var e=this.props,t=e.client,r=e.network,n=e.depositableSlices,a=this.state,o=a.address,i=a.amount,c=a.amountError,u=a.depositIndex,l=a.slice;return s.a.createElement("div",null,s.a.createElement(C.a,null,s.a.createElement(B.a,null,s.a.createElement(k.a,{container:!0,justify:"center",direction:"column",alignItems:"center"},s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(Zr,{text:o,newline:!0,showText:!1},s.a.createElement(Fr.a,{size:300,value:this.qrString(),level:"L"}))),s.a.createElement(k.a,{item:!0},s.a.createElement(x.a,{align:"center",variant:"subtitle1"},"Scan QR code or click to copy address to clipboard.")),s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(T.a,{my:3},s.a.createElement(Lt.a,{fullWidth:!0,label:"Amount BTC",name:"depositAmount",onChange:this.handleAmountChange,value:i,error:""!==c,helperText:c,InputProps:{endAdornment:s.a.createElement(Pr.a,{position:"end"},s.a.createElement(_t,{network:r}))}})))),l?s.a.createElement(Oa,{slices:[l],client:t,network:r,disabled:["lastUsed"]}):"",s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.getNextDepositAddress,disabled:u>=n.length-1},"Next Address")))))}}]),r}(s.a.Component);var ka={updateDepositSlice:It,resetWalletView:xt},Ca=Object(p.b)((function(e){return Object(W.a)(Object(W.a)({},e.settings),{},{depositableSlices:et(e),client:e.client})}),ka)(Object(O.withSnackbar)(xa)),ja=r(76),Ba=r(1529),Ra=r(906),Na=r(904),_a=r(475),La=r(1596),Ma=r(1574),Da=r(1573),Ua=r(934),Fa=r.n(Ua),Ga=r(933),Ka=r.n(Ga),Ha=r(932),Qa=r.n(Ha);function Va(){Va=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Wa,Ya=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=null,n.componentDidMount=function(){n.defaultMode()},n.addressContent=function(){var e=n.props,t=e.node,r=e.network,a=e.client,o=t.multisig,i=t.addressUsed,c=t.balanceSats,u=n.state,l=u.expandMode,f=u.showMenu,d=u.showMenuIcon;return s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(x.a,null,s.a.createElement(Zr,{text:o.address,showIcon:!0,showText:!1},s.a.createElement("code",{className:i&&c.isEqualTo(0)?on.a.spent:""},o.address),"\xa0"),J(Object(q.blockExplorerAddressURL)(o.address,r),s.a.createElement(Qa.a,{onClick:function(e){return e.stopPropagation()}}))),s.a.createElement(Ka.a,{onClick:n.handleMenu,style:{float:"right",display:d&&n.hasAdditionalOptions()?"block":"none"},"aria-controls":"address-menu","aria-haspopup":"true"}),s.a.createElement(_a.a,{id:"address-menu",anchorEl:Wa,keepMounted:!0,open:f,onClose:n.handleClose},c.isGreaterThan(0)&&s.a.createElement(wn.a,{selected:0===l,onClick:function(e){n.setState({expandMode:0}),n.handleClose(e)}},"UTXOs"),s.a.createElement(wn.a,{selected:1===l,onClick:function(e){n.setState({expandMode:1}),n.handleClose(e)}},"Scripts"),n.canConfirm()&&s.a.createElement(wn.a,{selected:2===l,onClick:function(e){n.setState({expandMode:2}),n.handleClose(e)}},"Confirm on Device"),"private"===a.type&&s.a.createElement(wn.a,{selected:3===l,onClick:function(e){n.setState({expandMode:3}),n.handleClose(e)}},"Watch with bitcoind Node")))},n.canConfirm=function(){var e=n.props.extendedPublicKeyImporters;return Object.values(e).filter((function(e){return"trezor"===e.method})).length>0},n.hasAdditionalOptions=function(){var e=n.props,t=e.client;return e.node.balanceSats.isGreaterThan(0)||"private"===t.type||n.canConfirm()},n.handleClose=function(e){e.stopPropagation(),n.setState({showMenu:!1})},n.handleMenu=function(e){e.stopPropagation(),Wa=e.target,n.setState({showMenu:!0})},n.panelExpand=function(e,t){n.setState({showMenuIcon:t})},n.render=function(){var e=n.props.node.bip32Path;return s.a.createElement(La.a,{onChange:n.panelExpand},s.a.createElement(Ma.a,{expandIcon:s.a.createElement(Fa.a,null),"aria-controls":"panel1a-content",id:"address-header".concat(e)},n.addressContent()),s.a.createElement(Da.a,null,s.a.createElement(k.a,{container:!0},n.expandContent())))},n.defaultMode=function(){var e=n.props.node.balanceSats;n.setState({expandMode:e.isGreaterThan(0)?0:1})},n.expandContent=function(){var e=n.props,t=e.client,r=e.node,a=e.setSpendCheckbox,o=r.utxos,i=r.balanceSats,c=r.multisig,u=r.bip32Path,l=r.spend,f=n.state.expandMode;switch("public"===t.type&&3===f&&n.defaultMode(),i.isEqualTo(0)&&0===f&&n.defaultMode(),f){case 0:return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(sn,{inputs:o,inputsTotalSats:i,multisig:c,bip32Path:u,hideSelectAllInHeader:!0,selectAll:l,node:r,setSpendCheckbox:a}));case 1:return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(dn,{multisig:c,showAddress:!1}));case 2:return n.renderAddressConfirmation();case 3:return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(gn,{addresses:[c.address]}));default:return""}},n.renderAddressConfirmation=function(){var e=n.state,t=e.interactionState,r=e.interactionMessage,a=e.interactionError,o=e.hasInteraction;return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(da,{number:0,onChange:n.keySelected}),o&&s.a.createElement(s.a.Fragment,null,n.confirmAddressDescription(),""!==r&&s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(x.a,{variant:"h5",style:{color:"green"}},s.a.createElement(Sn.a,null),"\xa0 ",r)),""!==a&&s.a.createElement(T.a,{mt:2,align:"center",style:{color:"red"}},s.a.createElement(x.a,{variant:"h5"},s.a.createElement(Pn.a,null),"\xa0 Confirmation Error"),s.a.createElement(x.a,{variant:"caption"},a)),""===r&&""===a&&s.a.createElement(Gn,{messages:n.interaction.messagesFor({state:t})}),s.a.createElement(R.a,{variant:"contained",size:"large",onClick:n.confirmOnDevice,disabled:t===In.ACTIVE},"Confirm"),(""!==r||""!==a)&&s.a.createElement(R.a,{size:"large",onClick:n.resetInteractionState},"Reset")))},n.resetInteractionState=function(){n.setState({interactionError:"",interactionMessage:"",interactionState:In.PENDING})},n.confirmOnDevice=Object(ne.a)(Va().mark((function e(){var t,r,a;return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({interactionState:In.ACTIVE}),t=n.props.node,r=t.multisig,e.prev=3,e.next=6,n.interaction.run();case 6:(a=e.sent).address===r.address&&a.serializedPath===n.interaction.bip32Path?n.setState({interactionState:In.ACTIVE,interactionMessage:"Success",interactionError:""}):n.setState({interactionState:In.ACTIVE,interactionError:"An unknow error occured",interactionMessage:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n.setState({interactionState:In.ACTIVE,interactionError:e.t0.message,interactionMessage:""});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),n.keySelected=function(e,t){var r=n.props,a=r.network,o=r.node,i=o.multisig,c=o.bip32Path;n.interaction=Object(In.ConfirmMultisigAddress)({keystore:t.method,network:a,bip32Path:"".concat(t.bip32Path).concat(c.slice(1)),multisig:i}),n.setState({hasInteraction:!0}),n.resetInteractionState()},n.state={expandMode:null,showMenu:!1,showMenuIcon:!1,hasInteraction:!1,interactionState:In.PENDING,interactionError:"",interactionMessage:""},n}return Object(v.a)(r,[{key:"confirmAddressDescription",value:function(){var e=this.props,t=e.network,r=e.node,n=e.requiredSigners,a=e.totalSigners,o=r.multisig,i=Object(q.multisigAddressType)(o);return s.a.createElement(T.a,null,s.a.createElement("p",null,"Confirm the following ",t," ",i," ",n,"-of-",a," multisig address on your device:"),s.a.createElement(Tr.a,null,s.a.createElement(jr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Address:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,o.address))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"BIP32 Path:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,this.interaction.bip32Path))))))}}]),r}(s.a.Component);Ya.defaultProps={network:q.NETWORKS.TESTNET,setSpendCheckbox:function(){}};var Xa=Object(p.b)((function(e){return{network:e.settings.network,requiredSigners:e.settings.requiredSigners,totalSigners:e.settings.totalSigners,client:e.client,extendedPublicKeyImporters:e.quorum.extendedPublicKeyImporters,transaction:e.spend.transaction}}),{})(Ya),za=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){n.generate()},n.setSpendCheckbox=function(e){n.props.spend;"indeterminate"===e?(n.setState({indeterminate:!0,checked:!1}),n.markSpending(!0)):(n.setState({indeterminate:!1,checked:e}),n.markSpending(e))},n.markSpending=function(e){var t=n.props,r=t.change,a=t.bip32Path;(0,t.updateNode)(r,{spend:e,bip32Path:a})},n.render=function(){var e=n.props,t=e.bip32Path,r=e.fetchedUTXOs,a=e.balanceSats,o=e.multisig,i=e.utxos,c=e.walletMode,u=e.addressKnown,l=n.state,f=l.indeterminate,d=l.checked,p=c===Pt;return s.a.createElement(kr.a,{key:t},p&&s.a.createElement(Cr.a,null,s.a.createElement(tn.a,{id:t,name:"spend",onChange:n.handleSpend,checked:d,disabled:!r||a.isEqualTo(0),indeterminate:f})),s.a.createElement(Cr.a,null,s.a.createElement("code",null,t.replace("m","*"))),s.a.createElement(Cr.a,null,i.length),s.a.createElement(Cr.a,null,r&&u?Object(q.satoshisToBitcoins)(a).toFixed():""),s.a.createElement(Cr.a,null,n.maxUtxoDate()),s.a.createElement(Cr.a,null,o?n.renderAddress():"..."))},n.maxUtxoDate=function(){var e=n.props.utxos;if(!e.length)return"";var t=Math.max.apply(Math,Object(oe.a)(e.map((function(e){return e.time}))));return Number.isNaN(t)?"Pending":new Date(1e3*t).toLocaleDateString()},n.renderAddress=function(){var e=n.props.braidNode;return s.a.createElement(Xa,{node:e,setSpendCheckbox:n.setSpendCheckbox})},n.generate=function(){var e=n.props,t=e.present,r=e.change,a=e.bip32Path,o=e.addNode;t||o(r,a)},n.handleSpend=function(e){var t,r=n.props,a=r.change,o=r.bip32Path,i=r.updateNode,c=r.inputs,u=r.utxos,s=r.multisig,l=r.setInputs,f=r.updateAutoSpend,d=r.setFeeRate,p=r.feeRate;e.target.getAttribute("data-indeterminate")?(t=(t=c.filter((function(e){return 0===u.filter((function(t){return t.txid===e.txid&&t.index===e.index})).length}))).concat(u.map((function(e){return Object(W.a)(Object(W.a)({},e),{},{multisig:s,bip32Path:o})}))),n.setState({indeterminate:!1,checked:!0})):t=e.target.checked?c.concat(u.map((function(e){return Object(W.a)(Object(W.a)({},e),{},{multisig:s,bip32Path:o})}))):c.filter((function(e){return 0===u.filter((function(t){return t.txid===e.txid&&t.index===e.index})).length})),l(t),i(a,{spend:e.target.checked,bip32Path:o}),f(!1),d(p)},n.state={indeterminate:!1,checked:!1},n}return Object(v.a)(r)}(s.a.Component);za.defaultProps={multisig:{},present:!1};var qa={setInputs:nt,setFeeRate:lt,updateAutoSpend:ht},Za=Object(p.b)((function(e,t){var r="1"===(t.bip32Path||"").split("/")[1],n=e.wallet[r?"change":"deposits"];return Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),{change:r}),n.nodes[t.bip32Path]),e.spend.transaction),{},{walletMode:e.wallet.common.walletMode,braidNode:n.nodes[t.bip32Path]})}),qa)(za),Ja=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).sortAddresses=function(e){var t=n.state,r=t.orderBy,a=t.orderDir;e===r?n.setState({page:0,orderDir:"asc"===a?"desc":"asc"}):n.setState({page:0,orderBy:e})},n.renderFilters=function(){var e=n.state,t=e.filterIncludeSpent,r=e.filterIncludeZeroBalance;return s.a.createElement(Zn.a,{row:!0},s.a.createElement(Ba.a,{component:"h2"},s.a.createElement(T.a,{mr:3},"Show Additional")),s.a.createElement(Yt.a,{control:s.a.createElement(tn.a,{checked:t,value:"filterIncludeSpent",onChange:n.filterAddresses}),label:"Spent Addresses"}),s.a.createElement(Yt.a,{control:s.a.createElement(tn.a,{checked:r,value:"filterIncludeZeroBalance",onChange:n.filterAddresses}),label:"Zero Balance"}))},n.filterAddresses=function(e,t){var r;n.setState((r={},Object(ja.a)(r,e.target.value,t),Object(ja.a)(r,"page",0),r))},n.getNodeSet=function(){var e=n.props,t=e.changeNodes,r=e.depositNodes,a=n.state,o=a.filterIncludeSpent,i=a.filterIncludeZeroBalance,c=a.orderBy,u=a.orderDir,s=Object.values(r).concat(Object.values(t)).reduce((function(e,t){var r=e;return r[t.bip32Path]=t,r}),{}),l=[];return Object.values(s).forEach((function(e){(e.balanceSats.isGreaterThan(0)||i&&e.balanceSats.isEqualTo(0)&&!e.addressUsed||o&&e.addressUsed)&&l.push(e)})),l=(l=l.sort((function(e,t){var r="asc"===u?1:-1;if("bip32Path"===c)return e.change&&!t.change?r:!e.change&&t.change?-r:parseInt(e.bip32Path.split("/").reverse()[0],10)>parseInt(t.bip32Path.split("/").reverse()[0],10)?r:-r;if("balanceSats"===c)return e.balanceSats.isEqualTo(t.balanceSats)?0:e.balanceSats.isGreaterThan(t.balanceSats)?r:-r;if("utxos"===c)return e.utxos.length===t.utxos.length?0:e.utxos.length>t.utxos.length?r:-r;if("time"===c){if(0===e.utxos.length)return 0===t.utxos.length?0:r;if(0===t.utxos.length)return 0===e.utxos.length?0:-r;var n=Math.min.apply(Math,Object(oe.a)(e.utxos.map((function(e){return e.time})))),a=Math.min.apply(Math,Object(oe.a)(t.utxos.map((function(e){return e.time}))));return Number.isNaN(n)&&Number.Number.isNaN(a)?0:Number.isNaN(n)?r:Number.isNaN(a)?-r:n>a?r:-r}return 0}))).reduce((function(e,t){var r=e;return r[t.bip32Path]=t,r}),{})},n.renderNodes=function(){for(var e=n.state,t=e.page,r=e.nodesPerPage,a=e.select,o=n.props,i=o.addNode,c=o.updateNode,u=t*r,l=[],f=n.getNodeSet(),d=0;d<r;d+=1){var p=u+d;if(p>Object.keys(f).length-1)break;var h=Object.values(f)[p].bip32Path,A=Object.values(f)[p].change,m=s.a.createElement(Za,{key:h,bip32Path:h,addNode:i,updateNode:c,change:A,select:a});l.push(m)}return l},n.handlePageChange=function(e,t){var r=t;n.setState({page:r})},n.handleChangeRowsPerPage=function(e){n.setState({nodesPerPage:e.target.value,page:0})},n.pageCount=function(){var e=n.state.nodesPerPage;return Math.ceil(n.rowCount()/e)},n.rowCount=function(){var e=n.getNodeSet();return Object.keys(e).length},n.state={page:0,nodesPerPage:10,select:!1,filterIncludeSpent:!1,filterIncludeZeroBalance:!1,orderBy:"bip32Path",orderDir:"asc"},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.page,n=t.nodesPerPage,a=t.orderBy,o=t.orderDir,i=this.props.walletMode===Pt;return s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(Tr.a,{style:{tableLayout:"fixed"}},s.a.createElement(xr.a,null,s.a.createElement(kr.a,null,i&&s.a.createElement(Cr.a,{width:62},"Select"),s.a.createElement(Cr.a,{width:106},s.a.createElement(Ra.a,{active:"bip32Path"===a,direction:o,onClick:function(){return e.sortAddresses("bip32Path")}},"BIP32 Path")),s.a.createElement(Cr.a,{width:78},s.a.createElement(Ra.a,{active:"utxos"===a,direction:o,onClick:function(){return e.sortAddresses("utxos")}},"UTXOs")),s.a.createElement(Cr.a,{width:82},s.a.createElement(Ra.a,{active:"balanceSats"===a,direction:o,onClick:function(){return e.sortAddresses("balanceSats")}},"Balance")),s.a.createElement(Cr.a,{width:98},s.a.createElement(Ra.a,{active:"time"===a,direction:o,onClick:function(){return e.sortAddresses("time")}},"Last Used")),s.a.createElement(Cr.a,null,"Address"))),s.a.createElement(jr.a,null,this.renderNodes())),s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(Na.a,{component:"div",count:this.rowCount(),rowsPerPage:n,page:r,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:this.handlePageChange,onChangeRowsPerPage:this.handleChangeRowsPerPage}))),!i&&this.renderFilters())}}]),r}(s.a.Component);var $a=Object(p.b)((function(e){return Object(W.a)({changeNodes:e.wallet.change.nodes,depositNodes:e.wallet.deposits.nodes,walletMode:e.wallet.common.walletMode,client:e.client},e.settings)}),{})(Ja),eo=r(936),to=r.n(eo),ro=r(935),no=r.n(ro),ao=r(1581),oo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).displayBalanceAction=function(){var t=e.props,r=t.isWallet,n=t.finalizedOutputs,a=t.autoSpend;return r?!a&&!n&&e.hasBalanceError()&&e.isBalanceable():!n&&e.hasBalanceError()&&e.isBalanceable()},e.addChangeAddress=function(){var t=e.props,r=t.changeNode,n=t.number,a=t.setAddress,o=t.setChangeOutput;a(n,r.multisig.address),o(n)},e.renderChangeAdornment=function(){var t=e.props,r=t.changeNode,n=t.number,a=t.changeOutputIndex,o=t.address,i=t.isWallet,c=t.autoSpend;if(i&&c)return{};if(null!==r){var u,l=!1;if(0===a&&""===o)u="Set to wallet change address";else{if(n!==a)return{};u="Your change will go here.",l=!0}return{endAdornment:s.a.createElement(Pr.a,{position:"end"},s.a.createElement(yr.a,{placement:"top",title:u},s.a.createElement("small",null,s.a.createElement(Mt.a,{onClick:e.addChangeAddress,disabled:l},s.a.createElement(no.a,null)))))}}return{}},e.handleAddressChange=function(t){var r=e.props,n=r.number;(0,r.setAddress)(n,t.target.value)},e.hasAddressError=function(){return""!==e.props.addressError},e.handleAmountChange=function(t){var r=e.props,n=r.number;(0,r.setAmount)(n,t.target.value)},e.hasAmountError=function(){return""!==e.props.amountError},e.isNotBalanceable=function(){var t=e.props,r=t.number,n=t.outputs,a=t.feeError,o=t.amountError,i=t.amount,c=t.inputsTotalSats;if(""!==a)return!0;for(var u=0;u<n.length;u+=1)if(u!==r-1&&(""!==n[u].amountError||""===n[u].amount))return!0;var s=e.autoBalancedAmount();return""!==Object(q.validateOutputAmount)(Object(q.bitcoinsToSatoshis)(s),c)||""===o&&s===new X.a(i)},e.isBalanceable=function(){return!e.isNotBalanceable()},e.hasBalanceError=function(){return""!==e.props.balanceError},e.autoBalancedAmount=function(){var t=e.props,r=t.number,n=t.fee,a=t.inputsTotalSats,o=t.outputs.filter((function(e,t){return t!==r-1})).map((function(e){return e.amountSats})).reduce((function(e,t){return e.plus(t)}),new X.a(0)),i=Object(q.bitcoinsToSatoshis)(new X.a(n));return Object(q.satoshisToBitcoins)(a.minus(o.plus(i)))},e.balanceAction=function(){var t=e.props.balanceError;return!e.hasBalanceError()||e.isNotBalanceable()?null:t.split(" ")[0]},e.handleBalance=function(){var t=e.props,r=t.number;(0,t.setAmount)(r,e.autoBalancedAmount().toString())},e.hasError=function(){return e.hasAddressError()||e.hasAmountError()},e.handleDelete=function(){var t=e.props,r=t.number;(0,t.remove)(r)},e.handleMaxSpend=function(t){t.preventDefault();var r=e.props,n=r.number;(0,r.setMaxSpend)(n)},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.outputs,r=e.finalizedOutputs,n=e.address,a=e.amount,o=e.addressError,i=e.amountError,c=e.changeOutputIndex,u=e.autoSpend,l=e.isWallet,f=e.number,d=l?10:1;return s.a.createElement(k.a,{container:!0,spacing:d},s.a.createElement(k.a,{item:!0,xs:7},s.a.createElement(Lt.a,{fullWidth:!0,placeholder:"Address",name:"destination",className:on.a.outputsFormInput,disabled:r,onChange:this.handleAddressChange,value:n,error:this.hasAddressError(),helperText:o,InputProps:this.renderChangeAdornment()})),s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(Lt.a,{fullWidth:!0,placeholder:"Amount",className:on.a.outputsFormInput,name:"amount",disabled:r,onChange:this.handleAmountChange,value:a,error:this.hasAmountError(),helperText:i,InputProps:{startAdornment:s.a.createElement(Pr.a,{position:"start"},l&&u&&f===t.length&&f!==c&&s.a.createElement(x.a,{onClick:this.handleMaxSpend,className:on.a.maxSpend,style:{fontSize:".7rem"}},"MAX")),endAdornment:s.a.createElement(Pr.a,{position:"end"},s.a.createElement(ae.a,null,"BTC"))}})),this.displayBalanceAction()&&s.a.createElement(k.a,{item:!0,xs:1},s.a.createElement(yr.a,{title:"".concat(this.balanceAction()," to ").concat(this.autoBalancedAmount().toString()),placement:"top"},s.a.createElement("small",null,s.a.createElement(Mt.a,{onClick:this.handleBalance},"Increase"===this.balanceAction()?s.a.createElement(nr.a,null):s.a.createElement(ar.a,null))))),!r&&t.length>(c>0&&u?2:1)&&s.a.createElement(k.a,{item:!0,xs:1},s.a.createElement(yr.a,{title:"Remove Output",placement:"top"},s.a.createElement(Mt.a,{onClick:this.handleDelete},s.a.createElement(ao.a,null)))))}}]),r}(s.a.Component);oo.defaultProps={changeNode:{}};var io={setAddress:it,setAmount:ct,remove:st,setChangeOutput:ot,setMaxSpend:function(e){return function(t,r){var n=Xe(r()),a=We(r()),o=r(),i=o.settings,c=i.addressType,u=i.requiredSigners,s=i.totalSigners,l=o.spend.transaction,f=l.outputs,d=l.feeRate,p=n.reduce((function(e,t){return e+t.utxos.length}),0),h=Object(q.estimateMultisigTransactionFee)({addressType:c,numInputs:p,numOutputs:f.length,m:u,n:s,feesPerByteInSatoshis:d}),A=f.reduce((function(e,t){return e.plus(t.amount.length?t.amountSats:0)}),new X.a(0)),m=Object(q.satoshisToBitcoins)(new X.a(a).minus(f.length>1?A:0).minus(h));return m.isLessThanOrEqualTo(Object(q.satoshisToBitcoins)(h))&&f.length>1||m.isLessThan(Z)?t(pt("Not enough available funds for max spend. Clear other outputs or wait for incoming deposits to confirm.")):t(ct(e,m.toFixed()))}}},co=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)(Object(W.a)({},e.spend.transaction),e.spend.transaction.outputs[t.number-1]),{},{changeNode:e.wallet.change.nextNode})}),io)(oo);function uo(){uo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var so=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).titleRef=s.a.createRef(),n.outputsTotal=0,n.componentDidMount=function(){n.initialOutputState(),n.scrollToTitle()},n.scrollToTitle=function(){var e=n.props,t=e.signatureImporters,r=e.isWallet;0!==Object.keys(t).reduce((function(e,r){return e+t[r].finalized}),0)||r||n.titleRef.current.scrollIntoView({behavior:"smooth"})},n.renderOutputs=function(){var e=n.props,t=e.outputs,r=e.changeOutputIndex,a=e.autoSpend;return Object(Sr.map)(t).map((function(e,t){return s.a.createElement(T.a,{key:t,display:a&&r===t+1?"none":"block"},s.a.createElement(k.a,{container:!0},s.a.createElement(co,{number:t+1})))}))},n.inputsTotal=function(){var e=n.props.inputsTotalSats;return Object(q.satoshisToBitcoins)(e)},n.outputsAndFeeTotal=function(){var e=n.props,t=e.outputs,r=e.fee,a=e.updatesComplete,o=e.inputs,i=t.map((function(e){var t=e.amount;return t&&t.length&&!Number.isNaN(t)||(t=0),new X.a(t)})).reduce((function(e,t){return e.plus(t)}),new X.a(0));return r&&o.length&&(i=i.plus(r)),a?(n.outputsTotal=i,i.toFixed(8)):"0.00000000"},n.hasFeeRateFetchError=function(){return""!==n.state.feeRateFetchError},n.hasFeeRateError=function(){return""!==n.props.feeRateError},n.hasFeeError=function(){return""!==n.props.feeError},n.hasBalanceError=function(){return""!==n.props.balanceError},n.hasError=function(){return n.hasFeeRateFetchError()||n.hasFeeRateError()||n.hasFeeError()||n.hasBalanceError()},n.handleAddOutput=function(){(0,n.props.addOutput)()},n.handleFeeRateChange=function(e){var t=n.props.setFeeRate,r=e.target.value;(""===r||Number.isNaN(parseFloat(r,10))||parseFloat(r,10)<1)&&(r="0"),t(r)},n.handleFeeChange=function(e){(0,n.props.setFee)(e.target.value)},n.handleFinalize=function(){(0,n.props.finalizeOutputs)(!0)},n.handleReset=function(){var e=n.props,t=e.resetOutputs,r=e.isWallet;t(),r||setTimeout((function(){return n.initialOutputState()}),0)},n.getFeeEstimate=Object(ne.a)(uo().mark((function e(){var t,r,a,o,i,c;return uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.client,a=t.network,o=t.setFeeRate,c="",e.prev=2,e.next=5,Ce(a,r);case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c="There was an error fetching the fee rate.";case 11:return e.prev=11,o(Number.isNaN(i)?1..toString():i.toString()),n.setState({feeRateFetchError:c}),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[2,8,11,15]])}))),n.gatherSignaturesDisabled=function(){var e=n.props,t=e.finalizedOutputs,r=e.outputs;if(0===e.inputs.length)return!0;if(t||n.hasError())return!0;for(var a=0;a<r.length;a+=1){var o=r[a];if(""===o.address||""===o.amount||""!==o.addressError||""!==o.amountError)return!0}return!1},n.state={feeRateFetchError:""},n}return Object(v.a)(r,[{key:"initialOutputState",value:function(){var e=Object(ne.a)(uo().mark((function e(){var t,r,n,a,o,i,c,u,s;return uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.inputs,n=t.outputs,e.next=3,this.getFeeEstimate();case 3:a=this.props,o=a.inputsTotalSats,i=a.fee,c=a.setOutputAmount,u=Object(q.bitcoinsToSatoshis)(new X.a(i)),s=Object(q.satoshisToBitcoins)(o.minus(u)),r.length&&""===n[0].amount&&c(1,s.toFixed(8));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.feeRate,n=e.fee,a=e.finalizedOutputs,o=e.feeRateError,i=e.feeError,c=e.balanceError,u=e.inputs,l=e.isWallet,f=e.autoSpend,d=this.state.feeRateFetchError,p=u&&u.length>0?n:"0.0000",h=l?10:1;return s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{ref:this.titleRef},s.a.createElement(k.a,{container:!0,spacing:h},s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement(x.a,{variant:"caption",className:on.a.outputsFormLabel},"To")),s.a.createElement(k.a,{item:!0,xs:3},"\xa0"),s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(x.a,{variant:"caption",className:on.a.outputsFormLabel},"Amount"))),s.a.createElement(k.a,null,this.renderOutputs()),s.a.createElement(k.a,{item:!0,container:!0,spacing:h},s.a.createElement(k.a,{item:!0,xs:12},s.a.createElement(R.a,{color:"primary",disabled:a,onClick:this.handleAddOutput},s.a.createElement(to.a,null)," Add output"))),s.a.createElement(k.a,{item:!0,container:!0,spacing:h},s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:3},s.a.createElement(x.a,{variant:"caption",className:on.a.outputsFormLabel},"Fee Rate"),s.a.createElement(Lt.a,{fullWidth:!0,value:t,type:"number",minimum:0,step:1,name:"fee_rate",disabled:a,onChange:this.handleFeeRateChange,error:this.hasFeeRateError(),helperText:d||o,InputProps:{endAdornment:s.a.createElement(Pr.a,{position:"end"},s.a.createElement(yr.a,{placement:"top",title:"Estimate best rate"},s.a.createElement("small",null,s.a.createElement(Mt.a,{onClick:this.getFeeEstimate,disabled:a},s.a.createElement(V.a,null)))),s.a.createElement(ae.a,null,"Sats/byte"))}}))),s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement(T.a,{mt:3},"\xa0")),!l||l&&!f?s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:3},s.a.createElement(x.a,{variant:"caption",className:on.a.outputsFormLabel},"Estimated Fees"),s.a.createElement(Lt.a,{fullWidth:!0,name:"fee_total",disabled:a,value:p,onChange:this.handleFeeChange,error:this.hasFeeError(),helperText:i,InputProps:r.unitLabel("BTC",{readOnly:!0,disableUnderline:!0,style:{color:"gray"}})}))):"",s.a.createElement(k.a,{item:!0,xs:2})),s.a.createElement(k.a,{item:!0,container:!0,spacing:h},s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement(T.a,{mt:7},s.a.createElement(x.a,{variant:"h6"},!l||l&&!f?"Totals":"Output Total"))),s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(T.a,{display:!l||l&&!f?"block":"none",mt:7},s.a.createElement(Lt.a,{fullWidth:!0,label:"Inputs Total",readOnly:!0,value:this.inputsTotal().toFixed(8),disabled:a,InputProps:r.unitLabel("BTC",{readOnly:!0})}))),s.a.createElement(k.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:7},s.a.createElement(Lt.a,{fullWidth:!0,label:!l||l&&!f?"Outputs & Fee Total":"",value:this.outputsAndFeeTotal(),error:this.hasBalanceError(),disabled:a,helperText:c,InputProps:r.unitLabel("BTC",{readOnly:!0,disableUnderline:!0})}))),s.a.createElement(k.a,{item:!0,xs:2}))),!l&&s.a.createElement(T.a,{mt:7},s.a.createElement(k.a,{container:!0,spacing:3,justify:"center"},s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:this.gatherSignaturesDisabled(),onClick:this.handleFinalize},"Gather Signatures")),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"secondary",disabled:a,onClick:this.handleReset},"Reset Outputs")))))}}],[{key:"unitLabel",value:function(e,t){var r={endAdornment:s.a.createElement(Pr.a,{position:"end"},s.a.createElement(ae.a,null,e))};return t&&(r=Object(W.a)(Object(W.a)({},r),t)),r}}]),r}(s.a.Component);so.defaultProps={updatesComplete:!1};var lo={addOutput:at,setOutputAmount:ct,setFeeRate:lt,setFee:ft,finalizeOutputs:dt,resetOutputs:function(){return{type:"RESET_OUTPUTS"}}},fo=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},{network:e.settings.network,client:e.client}),e.spend.transaction),e.client),{},{signatureImporters:e.spend.signatureImporters,change:e.wallet.change})}),lo)(so);function po(){po=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ho=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).buildSignedTransaction=function(){var e=n.props,t=e.network,r=e.inputs,a=e.outputs,o=e.signatureImporters;return Object(q.signedMultisigTransaction)(t,r,a,Object.values(o).map((function(e){return e.signature})))},n.handleBroadcast=Object(ne.a)(po().mark((function e(){var t,r,a,o,i,c,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.client,a=t.network,o=t.setTxid,i=n.buildSignedTransaction(),c="",u="",n.setState({broadcasting:!0}),e.prev=5,e.next=8,je(i.toHex(),a,r);case 8:u=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0),c="There was an error broadcasting the transaction.: ".concat(e.t0);case 15:return e.prev=15,n.setState({txid:u,error:c,broadcasting:!1}),o(u),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,11,15,19]])}))),n.transactionURL=function(){var e=n.props.network,t=n.state.txid;return Object(q.blockExplorerTransactionURL)(t,e)},n.state={error:"",broadcasting:!1,txid:""},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this.state,t=e.error,r=e.broadcasting,n=e.txid,a=this.buildSignedTransaction(),o=a.toHex();return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Broadcast"}),s.a.createElement(B.a,null,s.a.createElement("form",null,a&&s.a.createElement(T.a,{mt:4},s.a.createElement(x.a,{variant:"h6"},"Signed Transaction"),s.a.createElement(Zr,{text:o,code:!0,showIcon:!0})),""===n?s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:!a||r,onClick:this.handleBroadcast},"Broadcast Transaction"),s.a.createElement(ae.a,{error:!0},t),s.a.createElement("small",null,s.a.createElement(ae.a,null,"Warning: Broadcasting this transaction cannot be undone."))):s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{variant:"h5"},s.a.createElement(Zr,{text:n,code:!0,showIcon:!0}),"\xa0",J(this.transactionURL(),s.a.createElement(nn.a,null))),s.a.createElement("p",null,"Transaction successfully broadcast.")))))}}]),r}(s.a.Component);var Ao={setTxid:function(e){return{type:"SET_TXID",value:e}}},mo=Object(p.b)((function(e){return Object(W.a)(Object(W.a)({network:e.settings.network,client:e.client},e.client),{},{signatureImporters:e.spend.signatureImporters,inputs:e.spend.transaction.inputs,outputs:e.spend.transaction.outputs})}),Ao)(ho),bo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.state.showUnsignedTransaction,t=n.props.unsignedTransaction;if(e){var r=t.toHex();return s.a.createElement("div",null,s.a.createElement("small",null,s.a.createElement(R.a,{size:"small",onClick:n.handleHideUnsignedTransaction},"Hide Unsigned Transaction")),s.a.createElement("p",null,s.a.createElement(Zr,{text:r,showIcon:!0})))}return s.a.createElement("small",null,s.a.createElement(R.a,{size:"small",onClick:n.handleShowUnsignedTransaction},"Show Unsigned Transaction"))},n.handleShowUnsignedTransaction=function(){n.setState({showUnsignedTransaction:!0})},n.handleHideUnsignedTransaction=function(){n.setState({showUnsignedTransaction:!1})},n.state={showUnsignedTransaction:!1},n}return Object(v.a)(r)}(s.a.Component);var vo=Object(p.b)((function(e){return{unsignedTransaction:e.spend.transaction.unsignedTransaction}}),{})(bo),go=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).renderKeySelectors=function(){for(var e=n.props.requiredSigners,t=[],r=1;r<=e;r+=1)t.push(s.a.createElement(T.a,{key:r,mt:2},s.a.createElement(da,{number:r})));return t},n.signaturesFinalized=function(){var e=n.props.signatureImporters;return Object.values(e).length>0&&Object.values(e).every((function(e){return e.finalized}))},n.handleReturn=function(){var e=n.props,t=e.resetTransaction,r=e.resetWalletView;t(),r()},n.handleCancel=function(e){var t=n.props,r=t.finalizeOutputs,a=t.requiredSigners,o=t.setRequiredSigners,i=t.setSpendStep;e.preventDefault(),o(a),r(!1),i(0)},n.render=function(){var e=n.state.spent;return s.a.createElement(T.a,null,s.a.createElement(R.a,{href:"#",onClick:n.handleCancel},"Edit Transaction"),s.a.createElement(T.a,{mt:2},s.a.createElement(vo,null)),n.renderKeySelectors(),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{href:"#",onClick:function(e){e.preventDefault(),n.handleReturn()}},"Abandon Transaction")),n.signaturesFinalized()&&s.a.createElement(T.a,{mt:2},s.a.createElement(mo,null)),e&&s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:n.handleReturn},"Return")))},n.state={spent:!1},n}return Object(v.a)(r,[{key:"componentWillUnmount",value:function(){var e=this.props.resetTransaction;this.state.spent&&e()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.txid,n=e.changeSlice,a=e.updateTxSlices;return r.length&&!t.spent?(a(n),{spent:!0}):null}}]),r}(s.a.Component);var yo={finalizeOutputs:dt,setRequiredSigners:rt,updateTxSlices:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;return function(){var a=Object(ne.a)(Et().mark((function a(o,i){var c,u,s,l,f,d,p,h,A,m,b,v,g,y,E,w,S,P,I,O,T,x;return Et().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=i(),u=c.settings.network,s=c.client,l=c.spend.transaction,f=l.changeAddress,d=l.inputs,p=l.txid,h=c.wallet,A=h.deposits,m=A.nextNode,b=A.nodes,v=h.change.nodes,g=function(){var e=Object(ne.a)(Et().mark((function e(t,r){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t,u,s);case 2:return n=e.sent,e.abrupt("return",Object(W.a)({addressUsed:!0,change:De(r),address:t,bip32Path:r},n));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=Object(oe.a)(d),t&&t.multisig.address===f&&y.push(t),E=[],w=new Set,y.forEach((function(e){var t=e.multisig.address;w.has(t)||n.has(t)||(w.add(t),E.push(g(t,e.bip32Path)))})),a.prev=7,a.next=10,Promise.all(E);case 10:S=a.sent,a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(7),a.abrupt("return",o(gt("There was a problem updating wallet state. Try a refresh. Error: ".concat(a.t0.message))));case 16:for(P=0;P<S.length;P+=1)I=S[P],O=I.change?v[I.bip32Path].utxos.length:b[I.bip32Path].utxos.length,I&&I.utxos&&I.utxos.length!==O&&(o({type:I.change?"UPDATE_CHANGE_SLICE":"UPDATE_DEPOSIT_SLICE",value:I}),n.add(I.address));if(n.size===S.length||!r){a.next=19;break}return a.abrupt("return",setTimeout((function(){return o(e(t,r-1,n))}),750));case 19:if(r){a.next=23;break}return T="There was a problem updating the wallet balance.\n      It is recommended you refresh the wallet to make sure UTXO current set is up to date.",p&&p.length&&(T+=" Transaction ID: ".concat(p)),a.abrupt("return",o(gt(T)));case 23:return a.next=25,g(m.multisig.address,m.bip32Path);case 25:if((x=a.sent).utxos.length===b[x.bip32Path].utxos.length){a.next=28;break}return a.abrupt("return",o({type:"UPDATE_DEPOSIT_SLICE",value:x}));case 28:case"end":return a.stop()}}),a,null,[[7,13]])})));return function(e,t){return a.apply(this,arguments)}}()},resetTransaction:function(){return{type:"RESET_TRANSACTION"}},resetWalletView:xt,setSpendStep:mt},Eo=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},e.wallet),e.spend),e.quorum),{},{txid:e.spend.transaction.txid,requiredSigners:e.spend.transaction.requiredSigners,totalSigners:e.spend.transaction.totalSigners,changeSlice:e.wallet.change.nextNode})}),yo)(go),wo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).renderAddresses=function(){var t=e.mapAddresses();return Object.keys(t).map((function(e){return s.a.createElement(kr.a,{key:e},s.a.createElement(Cr.a,null,s.a.createElement("code",null,e)),s.a.createElement(Cr.a,null,t[e].utxos.length),s.a.createElement(Cr.a,null,s.a.createElement("code",null,t[e].amount.toFixed(8))))}))},e.renderOutputAddresses=function(){var t=e.props,r=t.changeAddress;return t.outputs.map((function(e){return s.a.createElement(kr.a,{key:e.address},s.a.createElement(Cr.a,null,s.a.createElement("code",null,e.address),e.address===r?s.a.createElement("small",null,"\xa0(change)"):""),s.a.createElement(Cr.a,null,s.a.createElement("code",null,X()(e.amount).toFixed(8))))}))},e.renderOutputs=function(){return s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Address"),s.a.createElement(Cr.a,null,"Amount (BTC)"))),s.a.createElement(jr.a,null,e.renderOutputAddresses()),s.a.createElement(rn.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"TOTAL:"),s.a.createElement(Cr.a,null,e.outputsTotal()))))},e.renderInputs=function(){var t=e.props.inputsTotalSats;return s.a.createElement(Tr.a,null,s.a.createElement(xr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Address"),s.a.createElement(Cr.a,null,"UTXO count"),s.a.createElement(Cr.a,null,"Amount (BTC)"))),s.a.createElement(jr.a,null,e.renderAddresses()),s.a.createElement(rn.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,{colSpan:2},"TOTAL:"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(t).toString()))))},e.mapAddresses=function(){return e.props.inputs.reduce((function(e,t){var r=e,n=t.confirmed,a=t.txid,o=t.index,i=t.amount;return r[t.multisig.address]=e[t.multisig.address]||{amount:X()(0),utxos:[]},r[t.multisig.address].utxos.push({confirmed:n,txid:a,index:o,amount:i}),r[t.multisig.address].amount=e[t.multisig.address].amount.plus(X()(t.amount)),r}),{})},e.outputsTotal=function(){var t=e.props.outputs;return Object(q.satoshisToBitcoins)(t.reduce((function(e,t){return e.plus(X()(t.amountSats||0))}),X()(0))).toString()},e.render=function(){var t=e.props,r=t.feeRate,n=t.fee,a=t.inputsTotalSats,o=t.editTransaction,i=t.handleSignTransaction;return s.a.createElement(T.a,null,s.a.createElement("h2",null,"Transaction Preview"),s.a.createElement(vo,null),s.a.createElement("h3",null,"Inputs"),e.renderInputs(),s.a.createElement("h3",null,"Outputs"),e.renderOutputs(),s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement("h3",null,"Fee"),s.a.createElement("div",null,X()(n).toFixed(8)," BTC ")),s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement("h3",null,"Fee Rate"),s.a.createElement("div",null,r," sats/byte")),s.a.createElement(k.a,{item:!0,xs:4},s.a.createElement("h3",null,"Total"),s.a.createElement("div",null,Object(q.satoshisToBitcoins)(X()(a||0)).toFixed(8)," ","BTC"))),s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,spacing:2},s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",onClick:function(e){e.preventDefault(),o()}},"Edit Transaction")),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:i},"Sign Transaction")))))},e}return Object(v.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.outputs,r=e.changeAddress,n=e.changeOutputIndex,a=e.changeNode,o=e.setChangeOutputMultisig;t.forEach((function(e){e.address===r&&o(n,a.multisig)}))}}]),r}(s.a.Component);var So={setChangeOutputMultisig:function(e,t){return{type:"SET_CHANGE_OUTPUT_MULTISIG",number:e,value:t}}},Po=Object(p.b)((function(e){return{changeOutputIndex:e.spend.transaction.changeOutputIndex}}),So)(wo),Io=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).outputsAmount=new X.a(0),e.coinSelection=ee,e.feeAmount=new X.a(0),e.componentDidUpdate=function(t){e.props.finalizedOutputs&&!t.finalizedOutputs&&e.showPreview()},e.previewDisabled=function(){var t=e.props,r=t.finalizedOutputs,n=t.outputs,a=t.feeRateError,o=t.feeError,i=t.inputs,c=t.balanceError,u=t.autoSpend;if(0===i.length&&!u)return!0;if(r||a||o||c)return!0;for(var s=0;s<n.length;s+=1){var l=n[s];if(""===l.address||""===l.amount||""!==l.addressError||""!==l.amountError)return!0}return!1},e.showSignTransaction=function(){(0,e.props.setSpendStep)(2)},e.handleShowPreview=function(){var t=e.props,r=t.autoSelectCoins,n=t.autoSpend,a=t.finalizeOutputs;n?r():a(!0)},e.showPreview=function(){(0,e.props.setSpendStep)(1)},e.showCreate=function(){var t=e.props,r=t.finalizeOutputs,n=t.setSpendStep,a=t.resetNodesSpend,o=t.deleteChangeOutput;n(0),r(!1),a(),o()},e.handleSpendMode=function(t){var r=e.props,n=r.updateAutoSpend,a=r.resetNodesSpend,o=r.deleteChangeOutput;n(!t.target.checked),a(),o()},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.autoSpend,n=t.changeAddress,a=t.changeNode,o=t.updateNode,i=t.addNode,c=t.spendingStep,u=t.fee,l=t.feeRate,f=t.inputs,d=t.inputsTotalSats,p=t.outputs;return s.a.createElement(C.a,null,s.a.createElement(B.a,null,s.a.createElement(k.a,{container:!0},2===c&&s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(T.a,null,s.a.createElement(Eo,null))),0===c&&s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(k.a,{container:!0,direction:"row-reverse"},s.a.createElement(T.a,{display:"flex-end"},s.a.createElement(T.a,{p:1},s.a.createElement(Yt.a,{control:s.a.createElement(pn.a,{checked:!r,onChange:this.handleSpendMode}),label:"Manual"})))),s.a.createElement(T.a,{component:"div",display:r?"none":"block"},s.a.createElement($a,{addNode:i,updateNode:o})),s.a.createElement(fo,null),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{onClick:this.handleShowPreview,variant:"contained",color:"primary",disabled:this.previewDisabled()},"Preview Transaction"))),1===c&&s.a.createElement(k.a,{item:!0,md:12},s.a.createElement(T.a,{mt:3},s.a.createElement(Po,{changeAddress:n,changeNode:a,editTransaction:this.showCreate,fee:u,feeRate:l,inputs:f,inputsTotalSats:d,outputs:p,handleSignTransaction:function(){return e.showSignTransaction()}}))))))}}]),r}(s.a.Component);Io.defaultProps={autoSpend:!1,balanceError:null,changeNodes:{},depositNodes:{},finalizedOutputs:!1,feeError:null,feeRateError:null,spendingStep:0};var Oo={autoSelectCoins:function(){return function(e,t){var r,n,a,o=t(),i=o.settings,c=o.spend.transaction,u=o.wallet.change.nextNode.multisig.address,s=i.totalSigners,l=i.requiredSigners,f=i.addressType,d=c.outputs,p=c.feeRate,h=Xe(t());try{var A=ee({outputs:d,feesPerByteInSatoshis:p,m:l,n:s,addressType:f,slices:h}),m=Object(ie.a)(A,2);r=m[0],n=m[1]}catch(E){return e(pt(E.message))}var b={addressType:f,numInputs:r.length,m:l,n:s,feesPerByteInSatoshis:p};if(n){var v=d.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0)),g=r.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0));a=Object(q.estimateMultisigTransactionFee)(Object(W.a)(Object(W.a)({},b),{},{numOutputs:d.length+1}));var y=g.minus(a).minus(v).toFixed(8);e(function(e){var t=e.value,r=e.address;return function(e,n){var a=n().spend.transaction,o=a.outputs,i=a.changeOutputIndex;i||e({type:"ADD_OUTPUT"});var c=i||o.length+1;e(ot(c)),e(ut(r)),e(it(c,r)),e(ct(c,t))}}({address:u,value:Object(q.satoshisToBitcoins)(y).toFixed()}))}else a=Object(q.estimateMultisigTransactionFee)(Object(W.a)(Object(W.a)({},b),{},{numOutputs:d.length}));e(ft(Object(q.satoshisToBitcoins)(a).toFixed())),e(nt(r)),e(dt(!0))}},deleteChangeOutput:function(){return function(e,t){var r=t().spend.transaction.changeOutputIndex;r&&e(st(r))}},updateAutoSpend:ht,setInputs:nt,updateChangeSlice:Ot,updateDepositSlice:It,setAddress:it,resetNodesSpend:function(){return{type:"RESET_NODES_SPEND"}},setFeeRate:lt,addOutput:at,finalizeOutputs:dt,setChangeAddress:ut,setSpendStep:mt},To=Object(p.b)((function(e){return Object(W.a)(Object(W.a)({},e.spend.transaction),{},{changeNodes:e.wallet.change.nodes,changeNode:e.wallet.change.nextNode,depositNodes:e.wallet.deposits.nodes,autoSpend:e.spend.transaction.autoSpend})}),Oo)(Io),xo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).filterAddresses=function(e,t){n.setState(Object(ja.a)({},e.target.value,t),(function(){return n.setDisplaySlices()}))},n.state={filterIncludeSpent:!1,filterIncludeZeroBalance:!1,displaySlices:e.slicesWithBalance.length?Object(oe.a)(e.slicesWithBalance):[]},n}return Object(v.a)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.slicesWithBalance;e.slicesWithBalance.length!==t.length&&this.setDisplaySlices()}},{key:"setDisplaySlices",value:function(){var e=this.props,t=e.slicesWithBalance,r=e.zeroBalanceSlices,n=e.spentSlices,a=this.state,o=a.filterIncludeSpent,i=a.filterIncludeZeroBalance,c=Object(oe.a)(t);o&&c.push.apply(c,Object(oe.a)(n)),i&&c.push.apply(c,Object(oe.a)(r)),this.setState({displaySlices:c})}},{key:"render",value:function(){var e=this.state,t=e.filterIncludeSpent,r=e.filterIncludeZeroBalance,n=e.displaySlices,a=this.props,o=a.client,i=a.network;return s.a.createElement(C.a,null,s.a.createElement(B.a,null,s.a.createElement(k.a,{container:!0,direction:"column"},s.a.createElement(k.a,{item:!0},s.a.createElement(Oa,{slices:n,client:o,network:i,paging:!0})),s.a.createElement(k.a,{item:!0},s.a.createElement(Zn.a,{row:!0},s.a.createElement(Ba.a,{component:"h2"},s.a.createElement(T.a,{mr:3},"Show Additional")),s.a.createElement(Yt.a,{control:s.a.createElement(tn.a,{checked:t,value:"filterIncludeSpent",onChange:this.filterAddresses}),label:"Spent Addresses"}),s.a.createElement(Yt.a,{control:s.a.createElement(tn.a,{checked:r,value:"filterIncludeZeroBalance",onChange:this.filterAddresses}),label:"Zero Balance"}))))))}}]),r}(s.a.PureComponent);var ko=Object(p.b)((function(e){return{slicesWithBalance:qe(e),zeroBalanceSlices:Ze(e),spentSlices:ze(e),walletMode:e.wallet.common.walletMode,client:e.client,network:e.settings.network}}))(xo),Co=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).scrollRef=s.a.createRef(),e.componentDidMount=function(){e.scrollRef.current.scrollIntoView({behavior:"smooth"})},e.render=function(){var t=e.props.walletMode;return s.a.createElement("div",null,s.a.createElement(_r.a,{ref:e.scrollRef,value:t,onChange:e.handleModeChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},e.addressesAreLoaded()&&[s.a.createElement(Lr.a,{label:"Addresses",value:wt,key:0}),s.a.createElement(Lr.a,{label:"Receive",value:St,key:1}),s.a.createElement(Lr.a,{label:"Send",value:Pt,key:2})]),s.a.createElement(T.a,{mt:2},e.renderModeComponent()))},e.renderModeComponent=function(){var t=e.props,r=t.walletMode,n=t.addNode,a=t.updateNode;if(e.addressesAreLoaded()){if(r===St)return s.a.createElement(Ca,null);if(r===Pt)return s.a.createElement(To,{addNode:n,updateNode:a});if(r===wt)return s.a.createElement(ko,null)}var o=e.progress();return[s.a.createElement("div",{style:{textAlign:"center",marginBottom:"5em"},key:0},s.a.createElement(Mr.a,{variant:"indeterminate"})),s.a.createElement(Dr.a,{variant:"determinate",value:o,key:1})]},e.progress=function(){var t=e.props,r=t.change;return 100*(t.deposits.trailingEmptyNodes+r.trailingEmptyNodes)/40},e.addressesAreLoaded=function(){var t=e.props,r=t.change,n=t.deposits;return!!t.nodesLoaded||(n.trailingEmptyNodes>=20||n.fetchUTXOsErrors>=5)&&(r.trailingEmptyNodes>=20||r.fetchUTXOsErrors>=5)},e.handleModeChange=function(t,r){var n=e.props,a=n.setMode,o=n.requiredSigners,i=n.setRequiredSigners,c=n.signatureImporters;r===Pt&&Object.keys(c).length!==o&&i(o),a(r)},e}return Object(v.a)(r)}(s.a.Component);var jo={setMode:function(e){return{type:"UPDATE_WALLET_MODE",value:e}},setRequiredSigners:rt},Bo=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)({},e.wallet),e.wallet.common),{},{requiredSigners:e.spend.transaction.requiredSigners,signatureImporters:e.spend.signatureImporters})}),jo)(Co),Ro=function(e){var t=e.onClearFn,r=e.onDownloadFn;return s.a.createElement(k.a,{container:!0,spacing:2},s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:r},"Download Wallet Details")),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{onClick:function(e){return function(e){e.preventDefault(),sessionStorage&&sessionStorage.removeItem("caravan_config"),t(e)}(e)},variant:"contained",color:"secondary"},"Clear Wallet")))},No=hr({setExtendedPublicKeyImporterName:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME",resetExtendedPublicKeyImporterBIP32Path:"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterBIP32Path:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterMethod:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD",setExtendedPublicKeyImporterExtendedPublicKey:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY",setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT",setExtendedPublicKeyImporterFinalized:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED"}),_o=No.setExtendedPublicKeyImporterName,Lo=No.setExtendedPublicKeyImporterBIP32Path,Mo=No.resetExtendedPublicKeyImporterBIP32Path,Do=No.setExtendedPublicKeyImporterMethod,Uo=No.setExtendedPublicKeyImporterExtendedPublicKey,Fo=No.setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,Go=No.setExtendedPublicKeyImporterFinalized;function Ko(e){return{type:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE",value:e}}function Ho(){Ho=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Qo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).title=function(){var e=n.props,t=e.totalSigners,r=e.requiredSigners,a=e.addressType;return s.a.createElement("span",{className:"justify-content-between d-flex"},"Your ",r,"-of-",t," ",a," Multisig Wallet",s.a.createElement("small",{className:"text-muted"}," Extended Public Keys: ".concat(n.extendedPublicKeyCount(),"/").concat(t)))},n.testConnection=function(){var e=Object(ne.a)(Ho().mark((function e(t,r){var a,o,i;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.network,o=t.client,i=t.setPasswordError,e.prev=1,e.next=4,Ce(a,o);case 4:i(""),n.setState({connectSuccess:!0},(function(){r&&setTimeout(r,750)})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState({connectSuccess:!1}),e.t0.response&&401===e.t0.response.status?i("Unauthorized: Incorrect username and password combination"):i(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),n.extendedPublicKeyCount=function(){var e=n.props.extendedPublicKeyImporters;return Object.values(e).filter((function(e){return e.finalized})).length},n.toggleImporters=function(e,t){e.preventDefault();var r=n.props,a=r.setImportersVisible,o=r.configuring,i=r.resetWallet,c=r.initialLoadComplete,u=r.setGenerating;o||(u(!1),t&&i(),t||c()),a(!o)},n.generate=function(){var e=n.props,t=e.setImportersVisible,r=e.freeze,a=e.setGenerating,o=e.startingAddressIndex,i="m/0/".concat(o),c="m/1/".concat(o);r(!0),t(!1),a(!0),n.setState({connectSuccess:!1},(function(){n.addNode(!1,i,!0),n.addNode(!0,c,!0)}))},n.updateNode=function(e,t){var r=n.props,a=r.updateChangeSlice,o=r.updateDepositSlice;(e?a:o)(t)},n.addNode=function(){var e=Object(ne.a)(Ho().mark((function e(t,r,a){var o;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.generateMultisig(t,r,a);case 2:o=e.sent,n.updateNode(t,Object(W.a)({bip32Path:r},o));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.generateMultisig=function(){var e=Object(ne.a)(Ho().mark((function e(t,r,a){var o,i,c,u,s,l,f,d,p,h;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props,i=o.extendedPublicKeyImporters,c=o.network,u=o.addressType,s=o.requiredSigners,l=n.generateRichExtendedPublicKeys(i),f=t?"1":"0",d=Object(q.generateBraid)(c,u,l,s,f),p=Object(q.deriveMultisigByPath)(d,r),e.next=7,n.fetchUTXOs(t,p,a);case 7:return h=e.sent,e.abrupt("return",Object(W.a)({multisig:p},h));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.fetchUTXOs=function(){var e=Object(ne.a)(Ho().mark((function e(t,r,a){var o,i,c,u,s;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props,i=o.network,c=o.client,e.next=3,Te(r.address,i,c);case 3:if(!(s=e.sent)||s.fetchUTXOsError.length){e.next=8;break}return e.next=7,ke(r.address,i,c);case 7:u=e.sent;case 8:return u&&(s=Object(W.a)(Object(W.a)({},s),{},{addressUsed:u.used})),a&&setTimeout((function(){return n.generateNextNodeIfNecessary(t)})),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.generateNextNodeIfNecessary=function(e){var t=n.props,r=t.change,a=t.deposits,o=t.initialLoadComplete,i=(e?r:a).trailingEmptyNodes,c=(e?r:a).fetchUTXOsErrors,u=Object.keys((e?r:a).nodes);if(i>=20||c>=5)o();else{u.sort((function(e,t){var r=(e||"").split("/"),n=(t||"").split("/");return parseInt(r[2],10)-parseInt(n[2],10)}));var s=(u[u.length-1]||"").split("/"),l=parseInt(s[2],10),f="m/".concat(s[1],"/").concat(l+1);setTimeout((function(){return n.addNode(e,f,!0)}))}},n.refreshNodes=Object(ne.a)(Ho().mark((function e(){var t,r,a,o,i,c;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.change,a=t.deposits,o=t.resetNodesFetchErrors,i=Object.values(a.nodes).concat(Object.values(r.nodes)),c=Math.max(r.fetchUTXOsErrors,a.fetchUTXOsErrors),o(),e.next=6,Promise.all(i.map(function(){var e=Object(ne.a)(Ho().mark((function e(t){var r;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchUTXOs(t.change,t.multisig);case 2:r=e.sent,n.updateNode(t.change,Object(W.a)({bip32Path:t.bip32Path},r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:c>=5&&Math.max(r.fetchUTXOsErrors,a.fetchUTXOsErrors)<5&&console.log("we had errors but now looks good, try to build more");case 7:case"end":return e.stop()}}),e)}))),n.state={connectSuccess:!1,unknownClient:!1},n}return Object(v.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.refreshNodes,n=t.common.nodesLoaded,a=t.setGenerating;this.debouncedTestConnection=Object(Sr.debounce)((function(t){return e.testConnection(t)}),500,{trailing:!0,leading:!1}),r(this.refreshNodes),n&&a(!0)}},{key:"componentDidUpdate",value:function(){var e=Object(ne.a)(Ho().mark((function e(t){var r,n,a,o,i,c,u,s,l;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.client.password,n=this.props,a=n.setPasswordError,o=n.network,i=n.client,c=n.common.nodesLoaded,u=n.setIsWallet,s=n.configuring,l=this.state.unknownClient,"unknown"===i.type&&"public"===t.client.type?this.setState({unknownClient:!0}):s&&"unknown"!==i.type&&l&&this.setState({unknownClient:!1}),r!==i.password&&i.password.length&&this.debouncedTestConnection({network:o,client:i,setPasswordError:a}),!t.common.nodesLoaded&&c&&u();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateRichExtendedPublicKeys",value:function(e){return Object.values(e).map((function(e){var t=q.ExtendedPublicKey.fromBase58(e.extendedPublicKey);return t.setRootFingerprint(e.rootXfp&&!e.rootXfp.toLowerCase().includes("unknown")?e.rootXfp:"00000000"),t.setBip32Path(e.bip32Path&&!e.bip32Path.toLowerCase().includes("unknown")?e.bip32Path:"m".concat("/0".repeat(t.depth))),t.addBase58String(),t}))}},{key:"handlePasswordEnter",value:function(){var e=Object(ne.a)(Ho().mark((function e(t){return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.debouncedTestConnection.cancel(),e.next=4,this.testConnection(this.props,this.generate);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePasswordChange",value:function(){var e=Object(ne.a)(Ho().mark((function e(t){var r,n,a,o;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=this.props,n=r.setPassword,a=r.setPasswordError,o=t.target.value,this.setState({connectSuccess:!1},(function(){n(o),a("")}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"body",value:function(){var e=this,t=this.props,r=t.totalSigners,n=t.configuring,a=t.downloadWalletDetails,o=t.client,i=t.generating,c=t.extendedPublicKeyImporters,u=this.state,l=u.connectSuccess,f=u.unknownClient,d=Object.values(c).some((function(e){return e.conflict}));return this.extendedPublicKeyCount()===r?i&&!n?s.a.createElement(Bo,{addNode:this.addNode,updateNode:this.updateNode}):d?s.a.createElement("p",null,"You must correct the conflict before the wallet can be generated."):s.a.createElement(C.a,null,s.a.createElement(j.a,{title:this.title()}),s.a.createElement(B.a,null,s.a.createElement(R.a,{href:"#",onClick:function(t){return e.toggleImporters(t,!1)}},n?"Hide Key Selection":"Edit Details"),s.a.createElement(Nr,null),s.a.createElement("p",null,"You have imported all\xa0",r," extended public keys. You will need to save this information."),s.a.createElement(Ro,{onClearFn:function(t){return e.toggleImporters(t,!0)},onDownloadFn:a}),f&&s.a.createElement(T.a,{my:5},s.a.createElement(x.a,{variant:"subtitle1"},"This config does not contain client information. Please choose a client to connect to before importing your wallet."),s.a.createElement(gr,{onSuccess:function(){return e.setState({connectSuccess:!0})}})),"private"===o.type&&!f&&s.a.createElement(T.a,{my:5},s.a.createElement(k.a,{container:!0,spacing:2,alignItems:"center"},s.a.createElement(k.a,{item:!0,xs:12},s.a.createElement(x.a,{variant:"subtitle1"},"This config uses a private client. Please enter password if not set.")),s.a.createElement(k.a,{item:!0},s.a.createElement(Lt.a,{id:"client-username",label:"Username",defaultValue:o.username,InputProps:{readOnly:!0,disabled:!0,startAdornment:s.a.createElement(Pr.a,{position:"start"},s.a.createElement(Or.a,null))}})),s.a.createElement(k.a,{item:!0,md:4,xs:10},s.a.createElement("form",{onSubmit:function(t){return e.handlePasswordEnter(t)}},s.a.createElement(Lt.a,{id:"bitcoind-password",fullWidth:!0,type:"password",label:"Password",placeholder:"Enter bitcoind password",value:o.password,onChange:function(t){return e.handlePasswordChange(t)},error:o.passwordError.length>0,helperText:o.passwordError}),l&&s.a.createElement(ae.a,null,"Connection confirmed with password!"))))),s.a.createElement("p",null,"Please confirm that the above information is correct and you wish to generate your wallet."),s.a.createElement(R.a,{id:"confirm-wallet",type:"button",variant:"contained",color:"primary",onClick:this.generate,disabled:"public"!==o.type&&!l},"Confirm"))):s.a.createElement("p",null,"Once you have imported all ".concat(r," extended public keys, "),"your wallet will be generated here.",d&&" You will not be able to continue until you address the conflict.")}},{key:"render",value:function(){return s.a.createElement("div",null,this.body())}}]),r}(s.a.Component);var Vo=Object(W.a)(Object(W.a)({freeze:$t,updateDepositSlice:It,updateChangeSlice:Ot,fetchSliceData:jt,setImportersVisible:Ko,setIsWallet:function(){return{type:"SET_IS_WALLET"}},resetWallet:kt,resetNodesFetchErrors:function(){return{type:"RESET_NODES_FETCH_ERRORS"}}},dr({setPassword:"SET_CLIENT_PASSWORD",setPasswordError:"SET_CLIENT_PASSWORD_ERROR"})),{},{initialLoadComplete:function(){return{type:"INITIAL_LOAD_COMPLETE"}}}),Wo=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),{client:e.client}),e.quorum),e.wallet),e.wallet.common)}),Vo)(Qo),Yo=r(8);function Xo(){Xo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var zo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){n.resetBIP32Path()},n.interaction=function(){var e=n.props,t=e.network,r=e.extendedPublicKeyImporter;return Object(In.ExportExtendedPublicKey)({network:t,keystore:r.method,bip32Path:r.bip32Path,includeXFP:!0})},n.render=function(){var e=n.props.extendedPublicKeyImporter,t=n.state,r=t.status,a=t.extendedPublicKeyError,o=n.interaction();return r===In.UNSUPPORTED?s.a.createElement(ae.a,{className:"text-danger"},o.messageTextFor({status:r})):s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(Lt.a,{fullWidth:!0,label:"BIP32 Path",value:e.bip32Path,onChange:n.handleBIP32PathChange,disabled:r!==In.PENDING,error:n.hasBIP32PathError(),helperText:n.bip32PathError()})),s.a.createElement(k.a,{item:!0,md:6},!n.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:n.resetBIP32Path,disabled:r!==In.PENDING},"Default"))),s.a.createElement(ae.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:n.import,disabled:n.hasBIP32PathError()||r===In.ACTIVE},"Import Extended Public Key")),s.a.createElement(Gn,{messages:o.messagesFor({state:r})}),s.a.createElement(ae.a,{error:!0},a))},n.import=Object(ne.a)(Xo().mark((function e(){var t,r,a,o,i,c;return Xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.validateAndSetExtendedPublicKey,a=t.validateAndSetRootFingerprint,o=t.enableChangeMethod,(0,t.disableChangeMethod)(),n.setState({extendedPublicKeyError:"",status:In.ACTIVE}),e.prev=3,e.next=6,n.interaction().run();case 6:i=e.sent,c=i.xpub,a(i.rootFingerprint,(function(e){n.setState({extendedPublicKeyError:e,status:In.PENDING})})),r(c,(function(e){n.setState({extendedPublicKeyError:e,status:In.PENDING})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),n.setState({extendedPublicKeyError:e.t0.message,status:In.PENDING});case 16:o();case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),n.hasBIP32PathError=function(){var e=n.state.status;return n.interaction().hasMessagesFor({state:e,level:In.ERROR,code:"bip32"})},n.bip32PathError=function(){var e=n.state.status;return n.interaction().messageTextFor({state:e,level:In.ERROR,code:"bip32"})},n.handleBIP32PathChange=function(e){(0,n.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(){}))},n.bip32PathIsDefault=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.defaultBIP32Path;return t.bip32Path===r},n.resetBIP32Path=function(){(0,n.props.resetBIP32Path)()},n.state={extendedPublicKeyError:"",status:n.interaction().isSupported()?In.PENDING:In.UNSUPPORTED},n}return Object(v.a)(r)}(s.a.Component),qo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.props.extendedPublicKeyImporter,t=n.state.error;return s.a.createElement(T.a,{mt:2},s.a.createElement(Lt.a,{fullWidth:!0,name:"publicKey",label:"Extended Public Key",value:e.extendedPublicKey,onChange:n.handleChange,error:n.hasError(),helperText:t}))},n.hasError=function(){return""!==n.state.error},n.setError=function(e){n.setState({error:e})},n.handleChange=function(e){(0,n.props.validateAndSetExtendedPublicKey)(e.target.value,n.setError)},n.state={error:""},n}return Object(v.a)(r)}(s.a.Component),Zo=function(e){var t=e.message;return s.a.createElement("small",null,s.a.createElement(N.a,null,s.a.createElement(_.a,{color:"error.main"},s.a.createElement(L.a,null,s.a.createElement(x.a,{color:"error"},s.a.createElement(Mn.a,null))),s.a.createElement(M.a,null,s.a.createElement(x.a,{color:"error"},t)))))},Jo=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=function(){var e=n.props,t=e.network,r=e.extendedPublicKeyImporter;return new In.ExportExtendedPublicKey({keystore:r.method,bip32Path:r.bip32Path,network:t,includeXFP:!0})},n.render=function(){var e=n.props,t=e.Reader,r=e.disableChangeMethod,a=e.resetBIP32Path,o=e.extendedPublicKeyImporter,i=n.state,c=i.status,u=i.extendedPublicKeyError;return s.a.createElement(Zn.a,null,s.a.createElement(t,{setError:n.setError,hasError:n.hasBIP32PathError(),errorMessage:n.bip32PathError(),bip32PathIsDefault:n.bip32PathIsDefault,handleBIP32PathChange:n.handleBIP32PathChange,resetBIP32Path:a,onReceive:n.onReceive,interaction:n.interaction(),disableChangeMethod:r,extendedPublicKeyImporter:o}),s.a.createElement(Gn,{messages:n.interaction().messagesFor({state:c}),excludeCodes:["bip32"]}),s.a.createElement(ae.a,{error:!0},u))},n.hasBIP32PathError=function(){var e=n.state.status;return n.interaction().hasMessagesFor({state:e,level:In.ERROR,code:"bip32"})},n.bip32PathError=function(){var e=n.state.status;return n.interaction().messageTextFor({state:e,level:In.ERROR,code:"bip32"})},n.handleBIP32PathChange=function(e){(0,n.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(){}))},n.bip32PathIsDefault=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.defaultBIP32Path;return t.bip32Path===r},n.resetBIP32Path=function(){(0,n.props.resetBIP32Path)()},n.setError=function(e){n.setState({extendedPublicKeyError:e})},n.onReceive=function(e){var t=n.props,r=t.validateAndSetBIP32Path,a=t.validateAndSetExtendedPublicKey,o=t.validateAndSetRootFingerprint,i=t.enableChangeMethod;i&&i();try{var c=n.interaction().parse(e),u=c.xpub,s=c.bip32Path;o(c.rootFingerprint,n.setError),r(s,(function(){a(u,n.setError)}),n.setError)}catch(l){n.setError(l.message)}},n.state={status:n.interaction().isSupported()?In.PENDING:In.UNSUPPORTED,extendedPublicKeyError:""},n}return Object(v.a)(r,[{key:"componentDidUpdate",value:function(){this.state.status!==In.PENDING&&this.interaction().isSupported()&&this.setState({status:In.PENDING})}}]),r}(s.a.Component);Jo.defaultProps={enableChangeMethod:null,disableChangeMethod:null};var $o=Jo,ei=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.validateAndSetBIP32Path,a=n.state.COLDCARD_MULTISIG_BIP32_PATH;t.method===In.COLDCARD&&r(a,(function(){}),(function(){}),{})},n.getColdcardBip32Path=function(){var e=n.props,t=e.network,r=e.addressType,a=e.defaultBIP32Path,o=t===q.MAINNET?"0":"1",i="m/45'/".concat(o,"/0");return r===q.P2SH?i:a},n.render=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.validateAndSetExtendedPublicKey,a=e.validateAndSetBIP32Path,o=e.validateAndSetRootFingerprint,i=e.addressType,c=e.network,u=n.state,l=u.extendedPublicKeyError,f=u.COLDCARD_MULTISIG_BIP32_PATH;return s.a.createElement(Zn.a,null,s.a.createElement($o,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:r,validateAndSetBIP32Path:a,validateAndSetRootFingerprint:o,addressType:i,network:c,resetBIP32Path:n.resetColdcardBIP32Path,defaultBIP32Path:f,Reader:ra.a}),s.a.createElement(ae.a,{error:!0},l))},n.resetColdcardBIP32Path=function(){(0,n.props.validateAndSetBIP32Path)(n.state.COLDCARD_MULTISIG_BIP32_PATH,(function(){}),(function(){}))};var a=n.getColdcardBip32Path();return n.state={COLDCARD_MULTISIG_BIP32_PATH:a},n}return Object(v.a)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.validateAndSetBIP32Path,n=t.network,a=t.addressType,o=this.getColdcardBip32Path();e.network===n&&e.addressType===a||(this.setState({COLDCARD_MULTISIG_BIP32_PATH:o}),r(o,(function(){}),(function(){})))}}]),r}(s.a.Component),ti=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){(0,n.props.resetBIP32Path)()},n.interaction=function(){var e=n.props,t=e.network,r=e.extendedPublicKeyImporter;return new In.HermitExportExtendedPublicKey({network:t,bip32Path:r.bip32Path})},n.render=function(){var e=n.props.disableChangeMethod,t=n.state.extendedPublicKeyError;return s.a.createElement(Zn.a,null,s.a.createElement(Yn,{startText:"Import Extended Public Key",interaction:n.interaction(),onStart:e,onSuccess:n.import,onClear:n.onClear}),s.a.createElement(ae.a,{className:"text-danger"},t))},n.setError=function(e){n.setState({extendedPublicKeyError:e})},n.import=function(e){var t=n.props,r=t.validateAndSetBIP32Path,a=t.validateAndSetExtendedPublicKey;(0,t.enableChangeMethod)();var o=e.xpub;r(e.bip32Path,(function(){a(o,n.setError)}),n.setError)},n.onClear=function(){var e=n.props,t=e.reset,r=e.enableChangeMethod;t(!0),n.setError(""),r()},n.state={extendedPublicKeyError:""},n}return Object(v.a)(r)}(s.a.Component),ri=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).title=function(){var e=n.props,t=e.number,r=e.extendedPublicKeyImporter,a=e.setName;return s.a.createElement(Gt,{number:t,name:r.name,setName:a})},n.renderImport=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.number,a=n.state.disableChangeMethod,o="xpub-".concat(r,"-importer-select-label");return s.a.createElement("div",null,s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:o},"Select Method"),s.a.createElement(En.a,{labelId:o,id:"public-key-".concat(r,"-importer-select"),disabled:a,value:t.method,onChange:n.handleMethodChange},s.a.createElement(wn.a,{value:"unknown"},"< Select method >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.COLDCARD},"Coldcard"),s.a.createElement(wn.a,{value:In.LEDGER},"Ledger"),s.a.createElement(wn.a,{value:In.HERMIT},"Hermit"),s.a.createElement(wn.a,{value:"text"},"Enter as text"))),n.renderImportByMethod())},n.renderImportByMethod=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.network,a=e.addressType,o=e.defaultBIP32Path,i=t.method;return i===In.TREZOR||i===In.LEDGER?s.a.createElement(zo,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:n.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:n.validateAndSetBIP32Path,validateAndSetRootFingerprint:n.validateAndSetRootFingerprint,resetBIP32Path:n.resetBIP32Path,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,addressType:a,defaultBIP32Path:o,network:r}):i===In.HERMIT?s.a.createElement(ti,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:n.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:n.validateAndSetBIP32Path,validateAndSetRootFingerprint:n.validateAndSetRootFingerprint,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,addressType:a,defaultBIP32Path:o,network:r,resetBIP32Path:n.resetBIP32Path,reset:n.reset}):i===In.COLDCARD?s.a.createElement(ei,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:n.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:n.validateAndSetBIP32Path,validateAndSetRootFingerprint:n.validateAndSetRootFingerprint,addressType:a,defaultBIP32Path:o,network:r}):"text"===i?s.a.createElement(qo,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:n.validateAndSetExtendedPublicKey}):null},n.handleMethodChange=function(e){var t=n.props,r=t.number,a=t.setMethod,o=t.setExtendedPublicKey;a(r,e.target.value),o(r,"")},n.disableChangeMethod=function(){n.setState({disableChangeMethod:!0})},n.enableChangeMethod=function(){n.setState({disableChangeMethod:!1})},n.finalize=function(){var e=n.props,t=e.number;(0,e.setFinalized)(t,!0)},n.reset=function(e){var t=n.props,r=t.number,a=t.setExtendedPublicKey,o=t.setFinalized;a(r,""),o(r,!1),e&&n.resetBIP32Path()},n.renderBIP32Path=function(){var e=n.props.extendedPublicKeyImporter;return"text"===e.method?s.a.createElement("div",{className:"mt-4"},s.a.createElement("p",null,"Make sure you ",s.a.createElement("strong",null,"record the corresponding BIP32 path."))):s.a.createElement("div",{className:"mt-4"},s.a.createElement("p",null,"The BIP32 path for this extended public key is:"),s.a.createElement("div",{className:"text-center"},s.a.createElement(Zr,{text:e.bip32Path,showIcon:!0})),s.a.createElement("p",{className:"mt-4"},"You will need this BIP32 path to sign for this key later."," ",s.a.createElement("strong",null,"Write down this BIP32 path!")))},n.validateAndSetBIP32Path=function(e,t,r,a){var o=n.props,i=o.number,c=o.setBIP32Path,u=Object(q.validateBIP32Path)(e,a);c(i,e),u?r(u):(r(""),t())},n.resetBIP32Path=function(){var e=n.props,t=e.number;(0,e.resetBIP32Path)(t)},n.renderExtendedPublicKey=function(){var e=n.props,t=e.extendedPublicKeyImporter,r=e.network,a=e.classes,o=n.state.conversionMessage,i=t.method===In.HERMIT&&r===q.NETWORKS.TESTNET?"this should not be an issue as hermit signing is not affected by the conversion.":"this may indicate an invalid network setting, if so correct setting, remove key and try again.";return s.a.createElement("div",null,s.a.createElement("p",null,"The following extended public key was imported:"),s.a.createElement("div",{className:a.xpub},s.a.createElement(Zr,{text:t.extendedPublicKey,showIcon:!0})),n.renderBIP32Path(),""!==o&&s.a.createElement(T.a,{mb:2},s.a.createElement(ae.a,null,o,", ",i," ")),s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){n.reset(t.method===In.HERMIT)}},"Remove Extended Public Key"))},n.validateAndSetExtendedPublicKey=function(e,t,r){var a=n.props,o=a.number,i=a.network,c=a.extendedPublicKeyImporters,u=a.setExtendedPublicKey,s=Object(q.validateExtendedPublicKey)(e,i),l=e;if(""!==s)try{l=Object(q.convertExtendedPublicKey)(e,"testnet"===i?"tpub":"xpub")}catch(p){return t(p.message),void u(o,e)}var f=Object(q.validateExtendedPublicKey)(l,i);if(""!==f)return t(f),void u(o,e);if(u(o,l),l&&Object.values(c).find((function(e,t){return t!==o-1&&e.extendedPublicKey===l})))t("This extended public key has already been imported.");else{t("");var d=l===e?"":"Your extended public key has been converted from ".concat(e.slice(0,4)," to ").concat(l.slice(0,4));n.setState({conversionMessage:d}),n.finalize(),r&&r()}},n.validateAndSetRootFingerprint=function(e,t){var r=n.props,a=r.number,o=r.setExtendedPublicKeyRootXfp,i=Object(q.validateRootFingerprint)(e);i?t(i):o(a,e)},n.state={disableChangeMethod:!1,conversionMessage:""},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.extendedPublicKeyImporter,r=e.finalizedNetwork,n=e.network,a=t.method&&t.conflict,o="";return a&&(o=r!==n?"Warning, you can not mix xpub and tpub.  Do not proceed without resolving by either removing conflicting imported keys or returning network type to original state!":"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!"),s.a.createElement(C.a,null,s.a.createElement(j.a,{title:this.title()}),s.a.createElement(B.a,null,a&&s.a.createElement(Zo,{message:o}),t.finalized?this.renderExtendedPublicKey():this.renderImport()))}}]),r}(s.a.Component);var ni={setName:_o,resetBIP32Path:Mo,setBIP32Path:Lo,setMethod:Do,setExtendedPublicKey:Uo,setExtendedPublicKeyRootXfp:Fo,setFinalized:Go},ai=Object(Yo.a)((function(){return{xpub:{lineHeight:".8rem",overflowWrap:"break-word"}}}))(ri),oi=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),e.quorum),{extendedPublicKeyImporter:e.quorum.extendedPublicKeyImporters[t.number]})}),ni)(ai),ii=r(1569),ci=r(1582),ui=r(1583),si=r(1584),li=["tooltipText","disabled","onClick"],fi=Object(Bt.a)((function(){return{card:{height:"100%",flexDirection:"column",display:"flex"},cardContent:{textAlign:"center",paddingTop:"0px",display:"flex",flex:1}}})),di=Object(Yo.a)({root:{"&.Mui-disabled":{pointerEvents:"auto"}}})(R.a),pi=function(e){var t=e.tooltipText,r=e.disabled,n=e.onClick,a=Object(Qr.a)(e,li),o={disabled:r,component:r?"div":void 0,onClick:r?void 0:n};return s.a.createElement(yr.a,{title:t},s.a.createElement(di,Object.assign({},a,o)))},hi=function(e){var t=e.addresses,r=e.client,n=e.handleRefresh,a=e.onClearConfig,o=e.onDownloadConfig,i=e.onImportAddresses,c=e.refreshing,u=e.walletActivated,l=fi();return s.a.createElement(C.a,{className:l.card},s.a.createElement(j.a,{title:"Wallet Actions"}),s.a.createElement(B.a,{className:l.cardContent},s.a.createElement(k.a,{container:!0,spacing:1,alignItems:"center",justify:"center"},s.a.createElement(k.a,{item:!0,xs:12},s.a.createElement(ii.a,{variant:"outlined"},s.a.createElement(pi,{tooltipText:"Force a refresh for latest wallet state and balance.",disabled:!u,onClick:n,startIcon:c?s.a.createElement(Mr.a,{size:24}):s.a.createElement(ci.a,null)},"Refresh"),s.a.createElement(pi,{tooltipText:"Download wallet configuration to local machine for backup. No security is lost with this, but access to this file provides anyone who has it information about balances.",onClick:o,disabled:!1,startIcon:s.a.createElement(ui.a,null)},"Download Configuration"),s.a.createElement(pi,{tooltipText:"Only clears the wallet config from browser sessions. Funds remain unaffected.",disabled:!u,startIcon:s.a.createElement(si.a,null),onClick:function(e){e.preventDefault(),sessionStorage&&sessionStorage.removeItem("caravan_config"),a(e)}},"Clear Wallet"))),"private"===r.type&&u&&s.a.createElement(k.a,{item:!0},s.a.createElement(gn,{addresses:t,client:r,importCallback:i})))))};hi.defaultProps={walletActivated:!1,refreshing:!1,addresses:[]};var Ai=hi;function mi(){mi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var bi=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).handleImport=function(e){var t=e.target,r=new FileReader;t.files[0]&&t.files[0].size<1048576?(r.onload=function(e){var t=e.target.result;n.setConfigJson(t)},r.readAsText(t.files[0])):n.setState({configError:"Problem uploading file."})},n.refresh=Object(ne.a)(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({refreshing:!0}),e.next=3,n.generatorRefresh();case 3:n.setState({refreshing:!1});case 4:case"end":return e.stop()}}),e)}))),n.resetErrorAndClearTargetValue=function(e){e.target.value="",n.setState({configError:""})},n.importDetails=function(){var e=n.state.configJson,t=n.props,r=t.setTotalSigners,a=t.setRequiredSigners,o=t.setAddressType,i=t.setNetwork,c=t.setStartingAddressIndex,u=t.setExtendedPublicKeyImporterMethod,s=t.setExtendedPublicKeyImporterExtendedPublicKey,l=t.setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,f=t.setExtendedPublicKeyImporterBIP32Path,d=t.setExtendedPublicKeyImporterFinalized,p=t.setExtendedPublicKeyImporterName,h=t.updateWalletNameAction,A=t.setClientType,m=t.setClientUrl,b=t.setClientUsername,v=JSON.parse(e);r(v.quorum.totalSigners),a(v.quorum.requiredSigners),o(v.addressType),"regtest"===v.network?i("testnet"):i(v.network),h(0,v.name),v.client?(A(v.client.type),"private"===v.client.type&&(m(v.client.url),b(v.client.username))):A("unknown"),v.startingAddressIndex&&c(v.startingAddressIndex),v.extendedPublicKeys.forEach((function(e,t){var r=t+1;p(r,e.name),e.method?u(r,e.method):u(r,"unknown"),f(r,e.bip32Path),s(r,e.xpub),e.xfp?l(r,e.xfp):l(r,"unknown"),d(r,!0)}))},n.renderWalletImporter=function(){var e=n.state.configError;return n.props.configuring?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"upload-config"},s.a.createElement("input",{style:{display:"none"},id:"upload-config",name:"upload-config",accept:"application/json",onChange:n.handleImport,onClick:n.resetErrorAndClearTargetValue,type:"file"}),s.a.createElement(R.a,{color:"primary",variant:"contained",component:"span",style:{marginTop:"20px"}},"Import Wallet Configuration")),s.a.createElement(ae.a,{error:!0},e)):""},n.renderSettings=function(){var e=null;return n.props.configuring&&(e=s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(cr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(lr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(rr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(gr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(wr,null)))),e},n.renderExtendedPublicKeyImporters=function(){for(var e=n.props,t=e.totalSigners,r=e.configuring,a=[],o=1;o<=t;o+=1)a.push(s.a.createElement(T.a,{key:o,mt:1===o?0:2,display:r?"block":"none"},s.a.createElement(oi,{key:o,number:o})));return a},n.downloadWalletDetails=function(e){var t=n.props.walletDetailsText;e.preventDefault(),$(t,n.walletDetailsFilename())},n.walletDetailsFilename=function(){var e=n.props,t=e.totalSigners,r=e.requiredSigners,a=e.addressType,o=e.walletName;return"bitcoin-".concat(r,"-of-").concat(t,"-").concat(a,"-").concat(o,".json")},n.totalBalance=function(){var e=n.props,t=e.deposits,r=e.change;return Object.keys(t.nodes).length?Object(q.satoshisToBitcoins)(t.balanceSats.plus(r.balanceSats)).toFixed():""},n.clearConfig=function(e){var t=n.props,r=t.setExtendedPublicKeyImporterVisible,a=t.resetWallet;e.preventDefault(),a(),r(!0),n.setState({generating:!1})},n.render=function(){var e=n.props,t=e.client,r=e.configuring,a=e.confirmedBalance,o=e.walletName,i=e.setName,c=e.deposits,u=e.change,l=e.network,f=e.pendingBalance,d=e.nodesLoaded,p=e.frozen,h=e.unknownAddresses,A=n.state,m=A.refreshing,b=A.generating,v=u.fetchUTXOsErrors+c.fetchUTXOsErrors>0?"Wallet loaded, but with errors...":"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{mt:3},s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0,xs:10,md:6},s.a.createElement(Qt,{editable:!Object.keys(c.nodes).length||!Object.keys(u.nodes).length,walletName:o,setName:i,balance:+Object(q.satoshisToBitcoins)(a).toFixed(),pendingBalance:+Object(q.satoshisToBitcoins)(f).toFixed(),network:l})),s.a.createElement(k.a,{item:!0,xs:10,md:6},(d||p)&&s.a.createElement(Ai,{addresses:h,refreshing:m,walletActivated:d,handleRefresh:function(){return n.refresh()},onClearConfig:function(e){n.clearConfig(e)},onDownloadConfig:function(e){return n.downloadWalletDetails(e)},client:t,onImportAddresses:function(e,t){return n.afterImportAddresses(t)}})))),v.length?s.a.createElement(ae.a,{style:{float:"right",padding:"11px",fontSize:"1.5em"},error:!0},v):"",s.a.createElement(T.a,null,s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0,xs:12},n.renderWalletImporter()),s.a.createElement(k.a,{item:!0,md:r?8:12},n.renderExtendedPublicKeyImporters(),s.a.createElement(T.a,{mt:2},s.a.createElement(Wo,{generating:b,setGenerating:function(e){return n.setGenerating(e)},downloadWalletDetails:n.downloadWalletDetails,refreshNodes:function(e){return n.generatorRefresh=e}}))),n.renderSettings())))},n.state={configError:"",configJson:"",refreshing:!1,generating:!1},n}return Object(v.a)(r,[{key:"componentDidMount",value:function(){if(sessionStorage){var e=sessionStorage.getItem("caravan_config");e&&this.setConfigJson(e)}}},{key:"setConfigJson",value:function(e){var t,n=this;try{var a=JSON.parse(e);t=r.validateConfig(a)}catch(o){t="Invalid JSON"}sessionStorage&&""===t&&sessionStorage.setItem("caravan_config",e),this.setState({configJson:e,configError:t},(function(){""===t&&n.importDetails()}))}},{key:"setGenerating",value:function(e){var t=this.state.generating,r=e;void 0===e&&(r=!t),this.setState({generating:r})}},{key:"afterImportAddresses",value:function(){var e=Object(ne.a)(mi().mark((function e(t,r){var n,a,o,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:return n=this.props,a=n.unknownSlices,o=n.fetchSliceData,i=a.reduce((function(e,r){return t.indexOf(r.multisig.address)>-1&&e.push(r),r}),[]),e.next=6,o(i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"validateProperties",value:function(e,t,r){for(var n=0;n<t.length;n+=1){var a=t[n],o=""!==r?e[r]:e;if(!Object.prototype.hasOwnProperty.call(o,a))return'Configuration missing property "'.concat(""!==r?"".concat(r,"."):"").concat(a,'"')}return""}},{key:"validateConfig",value:function(e){var t=r.validateProperties(e,["name","addressType","network","quorum","extendedPublicKeys"],"");if(""!==t)return t;if(void 0!==e.startingAddressIndex){var n=Object(q.validateBIP32Index)(String(e.startingAddressIndex),{mode:"unhardened "}).replace("BIP32","Starting Address");if(""!==n)return n}if(e.client){var a="public"===e.client.type?["type"]:["type","url","username"],o=r.validateProperties(e,a,"client");if(""!==o)return o}var i=r.validateProperties(e,["requiredSigners","totalSigners"],"quorum");return""!==i?i:r.validateExtendedPublicKeys(e.extendedPublicKeys,e.network)}},{key:"validateExtendedPublicKeys",value:function(e,t){var r=t;"regtest"===t&&(r="testnet");for(var n={name:function(e,t){return"string"===typeof e?"":"Extended public key ".concat(t," name must be a string")},bip32Path:function(t,r){if("text"===e[r-1].method)return"";if("undefined"===typeof e[r-1].method)return"";var n=Object(q.validateBIP32Path)(t);return""!==n?"Extended public key ".concat(r," error: ").concat(n):""},xpub:function(e){return Object(q.validateExtendedPublicKey)(e,r)},method:function(e,t){return["trezor","coldcard","ledger","hermit","xpub","text",void 0].includes(e)?"":"Invalid method for extended public key ".concat(t)}},a=Object.keys(n),o=[],i=0;i<e.length;i+=1){if(o.includes(e[i].xpub))return"Duplicate xpub found.";o.push(e[i].xpub);for(var c=0;c<a.length;c+=1){var u=a[c],s=e[i][u],l=n[u](s,i+1);if(""!==l)return l}}return""}}]),r}(s.a.Component);bi.defaultProps={pendingBalance:0};var vi=Object(W.a)(Object(W.a)({fetchSliceData:jt,resetWallet:kt,setName:Tt,setTotalSigners:qt,setRequiredSigners:Zt,setAddressType:Jt,setNetwork:zt,setStartingAddressIndex:function(e){return{type:"SET_STARTING_ADDRESS_INDEX",value:e}},setExtendedPublicKeyImporterMethod:Do,setExtendedPublicKeyImporterExtendedPublicKey:Uo,setExtendedPublicKeyImporterBIP32Path:Lo,setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:Fo,setExtendedPublicKeyImporterName:_o,setExtendedPublicKeyImporterFinalized:Go,setExtendedPublicKeyImporterVisible:Ko,updateWalletNameAction:Tt},dr({setClientType:"SET_CLIENT_TYPE",setClientUrl:"SET_CLIENT_URL",setClientUsername:"SET_CLIENT_USERNAME",setClientPassword:"SET_CLIENT_PASSWORD"})),{},{updateDepositNode:It,updateChangeNode:Ot}),gi=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),e.quorum),{walletName:e.wallet.common.walletName,nodesLoaded:e.wallet.common.nodesLoaded,walletMode:e.wallet.common.walletMode}),{},{confirmedBalance:n.getConfirmedBalance(e),pendingBalance:n.getPendingBalance(e),walletDetailsText:tt(e),unknownAddresses:$e(e),unknownSlices:Je(e)},e.wallet),{},{client:e.client})}),vi)(bi);var yi=hr({setPublicKeyImporterName:"SET_PUBLIC_KEY_IMPORTER_NAME",resetPublicKeyImporterBIP32Path:"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterBIP32Path:"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterMethod:"SET_PUBLIC_KEY_IMPORTER_METHOD",setPublicKeyImporterPublicKey:"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY",setPublicKeyImporterFinalized:"SET_PUBLIC_KEY_IMPORTER_FINALIZED",movePublicKeyImporterUp:"MOVE_PUBLIC_KEY_IMPORTER_UP",movePublicKeyImporterDown:"MOVE_PUBLIC_KEY_IMPORTER_DOWN"}),Ei=yi.setPublicKeyImporterName,wi=yi.setPublicKeyImporterBIP32Path,Si=yi.resetPublicKeyImporterBIP32Path,Pi=yi.setPublicKeyImporterMethod,Ii=yi.setPublicKeyImporterPublicKey,Oi=yi.setPublicKeyImporterFinalized,Ti=yi.movePublicKeyImporterUp,xi=yi.movePublicKeyImporterDown,ki=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isInConflict=function(){var t=e.props.publicKeyImporters;return Object.values(t).some((function(e){return e.conflict}))},e.publicKeyCount=function(){var t=e.props,r=t.publicKeyImporters,n=t.addressType;return Object.values(r).filter((function(e){var t=e.publicKey;return e.finalized&&!Object(q.validatePublicKey)(t,n)})).length},e.publicKeysAreCanonicallySorted=function(){var t=e.props.publicKeyImporters,r=Object.values(t).map((function(e){return e.publicKey})).filter((function(e){return""!==e})),n=Object.values(t).map((function(e){return e.publicKey})).filter((function(e){return""!==e})).sort();return r.filter((function(e,t){return e===n[t]})).length===r.length},e.canonicallySortPublicKeys=function(){(0,e.props.sortPublicKeyImporters)()},e.generateMultisig=function(){for(var t=e.props,r=t.network,n=t.publicKeyImporters,a=t.totalSigners,o=t.requiredSigners,i=t.addressType,c=t.setMultisigAddress,u=[],s=1;s<=a;s+=1)u.push(n[s].publicKey);var l=q.generateMultisigFromPublicKeys.apply(void 0,[r,i,o].concat(u));return c(l.address),l},e.downloadAddressDetails=function(t){t.preventDefault();var r=e.generateMultisig();$(e.addressDetailsText(r),e.addressDetailsFilename(r))},e.addressDetailsFilename=function(t){var r=e.props,n=r.totalSigners,a=r.requiredSigners,o=r.addressType;return"bitcoin-".concat(a,"-of-").concat(n,"-").concat(o,"-").concat(t.address,".txt")},e.addressDetailsText=function(t){var r=e.props,n=r.addressType,a=r.network,o=r.totalSigners,i=r.requiredSigners,c=Object(q.multisigRedeemScript)(t),u=Object(q.multisigWitnessScript)(t),s=c?"Redeem Script: ".concat(Object(q.scriptToHex)(c)):"",l=u?"Witness Script: ".concat(Object(q.scriptToHex)(u)):"",f=c&&u?"\n\n":"";return"Address: ".concat(t.address,"\n\nType: ").concat(n,"\n\nNetwork: ").concat(a,"\n\nQuorum: ").concat(i,"-of-").concat(o,"\n\nBIP32 Paths:\n").concat(e.publicKeyImporterBIP32Paths(),"\n\n").concat(s).concat(f).concat(l,"\n")},e.publicKeyImporterBIP32Paths=function(){for(var t=e.props.totalSigners,r=[],n=1;n<=t;n+=1)r.push(e.publicKeyImporterBIP32Path(n));return r.join("\n")},e.publicKeyImporterBIP32Path=function(t){var r=e.props.publicKeyImporters[t],n="text"===r.method?"Unknown (make sure you have written this down previously!)":r.bip32Path;return"  * ".concat(r.name,": ").concat(n,": ").concat(r.publicKey)},e.title=function(){var t=e.props,r=t.totalSigners,n=t.requiredSigners,a=t.addressType;return s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{item:!0},n,"-of-",r," Multisig ",a," "),s.a.createElement(k.a,{item:!0},s.a.createElement("small",null,"Public Keys: ".concat(e.publicKeyCount(),"/").concat(r))))},e}return Object(v.a)(r,[{key:"body",value:function(){var e=this.props.totalSigners;if(this.publicKeyCount()===e){var t=this.generateMultisig(),r=this.publicKeysAreCanonicallySorted();return s.a.createElement("div",null,this.isInConflict()&&s.a.createElement(Zo,null),!r&&s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{item:!0,md:8},s.a.createElement(ae.a,{error:!0},"WARNING: These public keys are not in the standard"," ",J("https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki","BIP67 order"),".")),s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.canonicallySortPublicKeys},"Sort Public Keys"))),s.a.createElement(T.a,{mt:2},s.a.createElement(dn,{multisig:t})),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.downloadAddressDetails},"Download Address Details")))}return s.a.createElement("p",null,"Once you have imported all ".concat(e," public keys, "),"your address details will be displayed here.")}},{key:"render",value:function(){return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:this.title()}),s.a.createElement(B.a,null,this.body()))}}]),r}(s.a.Component);var Ci={sortPublicKeyImporters:function(){return{type:"SORT_PUBLIC_KEY_IMPORTERS"}},setMultisigAddress:function(e){return{type:"UPDATE_MULTISIG_ADDRESS",value:e}}},ji=Object(p.b)((function(e){return Object(W.a)(Object(W.a)({},e.settings),e.address)}),Ci)(ki),Bi=r(1585),Ri=r(1586),Ni=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.state,t=e.error,r=e.publicKey;return s.a.createElement(T.a,{mt:2},s.a.createElement(Lt.a,{fullWidth:!0,name:"publicKey",label:"Public Key",value:r,onChange:n.handleChange,error:n.hasError(),helperText:t}),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:n.import,disabled:""===r||n.hasError()},"Add Public Key")))},n.import=function(){var e=n.props,t=e.validatePublicKey,r=e.onImport,a=n.state.publicKey,o=t(a);o?n.setError(o):r({publicKey:a})},n.hasError=function(){return""!==n.state.error},n.setError=function(e){n.setState({error:e})},n.handleChange=function(e){var t=e.target.value,r=(0,n.props.validatePublicKey)(t);n.setState({publicKey:t,error:r})},n.state={error:"",publicKey:""},n}return Object(v.a)(r)}(s.a.Component),_i=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).render=function(){var e=n.state,t=e.bip32Path,r=e.extendedPublicKey,a=e.extendedPublicKeyError,o=e.bip32PathError,i=e.conversionMessage;return s.a.createElement("div",null,s.a.createElement(T.a,{mt:2},s.a.createElement(Lt.a,{fullWidth:!0,name:"extendedPublicKey",label:"Extended Public Key",value:r,onChange:n.handleExtendedPublicKeyChange,error:n.hasExtendedPublicKeyError(),helperText:a})),""!==i&&s.a.createElement(T.a,{mb:2},s.a.createElement(ae.a,null,i,", this may indicate an invalid network setting, if so correct setting, remove key and try again.")),s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:10},s.a.createElement(Lt.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path (relative to xpub)",type:"text",value:t,onChange:n.handleBIP32PathChange,error:n.hasBIP32PathError(),helperText:o}),s.a.createElement(ae.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),s.a.createElement(k.a,{item:!0,md:2},!n.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:n.resetBIP32Path},"Default"))),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:n.import,disabled:""===r||n.hasError()},"Import Public Key"))))},n.import=function(){var e=n.props,t=e.network,r=e.validatePublicKey,a=e.onImport,o=n.state,i=o.extendedPublicKey,c=o.bip32Path,u=Object(q.deriveChildPublicKey)(i,c,t),s=r(u);s?n.setState({bip32PathError:s}):a({publicKey:u,bip32Path:c})},n.hasBIP32PathError=function(){return""!==n.state.bip32PathError},n.hasExtendedPublicKeyError=function(){return""!==n.state.extendedPublicKeyError},n.hasError=function(){return n.hasBIP32PathError()||n.hasExtendedPublicKeyError()},n.handleBIP32PathChange=function(e){var t=e.target.value,r=Object(q.validateBIP32Path)(t,{mode:"unhardened"});n.setState({bip32Path:t,bip32PathError:null!==r&&void 0!==r?r:""})},n.bip32PathIsDefault=function(){return"m/0"===n.state.bip32Path},n.resetBIP32Path=function(){n.setState({bip32Path:"m/0",bip32PathError:""})},n.handleExtendedPublicKeyChange=function(e){var t=n.props.network,r=e.target.value,a=r;if(""!==Object(q.validateExtendedPublicKeyForNetwork)(r,t))try{a=Object(q.convertExtendedPublicKey)(r,"testnet"===t?"tpub":"xpub")}catch(c){return void n.setState({extendedPublicKey:r,extendedPublicKeyError:c.message,conversionMessage:""})}var o=Object(q.validateExtendedPublicKey)(a,t);if(""===o){var i=a===r?"":"Your extended public key has been converted from ".concat(r.slice(0,4)," to ").concat(a.slice(0,4));n.setState({extendedPublicKey:a,extendedPublicKeyError:"",conversionMessage:i})}else n.setState({extendedPublicKey:r,extendedPublicKeyError:o,conversionMessage:""})},n.state={bip32Path:"m/0",extendedPublicKey:"",extendedPublicKeyError:"",bip32PathError:"",conversionMessage:""},n}return Object(v.a)(r)}(s.a.Component),Li=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=function(){var e=n.props,t=e.network,r=e.defaultBIP32Path;return Object(In.ExportPublicKey)({keystore:In.HERMIT,network:t,bip32Path:r})},n.render=function(){var e=n.state.publicKeyError;return s.a.createElement(Zn.a,null,s.a.createElement(Yn,{startText:"Import Public Key",interaction:n.interaction(),onStart:n.handleReaderStart,onSuccess:n.handleReaderSuccess,onClear:n.handleReaderClear}),s.a.createElement(ae.a,{error:!0},e))},n.setError=function(e){n.setState({publicKeyError:e})},n.handleReaderStart=function(){(0,n.props.disableChangeMethod)()},n.handleReaderSuccess=function(e){var t=n.props,r=t.validatePublicKey,a=t.onImport,o=t.enableChangeMethod,i=e.pubkey,c=e.bip32Path;o();var u=Object(q.validateBIP32Path)(c);if(u)n.setError(u);else{var s=r(i);s?n.setError(s):a({publicKey:i,bip32Path:c})}},n.handleReaderClear=function(){var e=n.props.enableChangeMethod;n.setError(""),e()},n.state={publicKeyError:""},n}return Object(v.a)(r)}(s.a.Component);function Mi(){Mi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Di=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).interaction=function(){var e=n.props,t=e.network,r=e.method,a=e.defaultBIP32Path,o=n.state.bip32Path;return Object(In.ExportPublicKey)({network:t,keystore:r,bip32Path:null!==o&&void 0!==o?o:a})},n.render=function(){var e=n.state,t=e.status,r=e.bip32Path,a=e.publicKeyError,o=n.interaction();return t===In.UNSUPPORTED?s.a.createElement(ae.a,{error:!0},o.messageTextFor({status:t})):s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(Lt.a,{fullWidth:!0,label:"BIP32 Path",value:r,onChange:n.handleBIP32PathChange,disabled:t!==In.PENDING,error:n.hasBIP32PathError(),helperText:n.bip32PathError()})),s.a.createElement(k.a,{item:!0,md:6},!n.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:n.resetBIP32Path,disabled:t!==In.PENDING},"Default"))),s.a.createElement(ae.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:n.import,disabled:n.hasBIP32PathError()||t===In.ACTIVE},"Import Public Key")),s.a.createElement(Gn,{messages:o.messagesFor({state:t}),excludeCodes:["bip32"]}),s.a.createElement(ae.a,{error:!0},a))},n.import=Object(ne.a)(Mi().mark((function e(){var t,r,a,o,i,c,u,s;return Mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.enableChangeMethod,a=t.disableChangeMethod,o=t.validatePublicKey,i=t.onImport,c=n.state.bip32Path,a(),n.setState({publicKeyError:"",status:In.ACTIVE}),e.prev=4,e.next=7,n.interaction().run();case 7:u=e.sent,(s=o(u))?n.setState({publicKeyError:s,status:In.PENDING}):i({publicKey:u,bip32Path:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),n.setState({publicKeyError:e.t0.message,status:In.PENDING});case 16:r();case 17:case"end":return e.stop()}}),e,null,[[4,12]])}))),n.hasBIP32PathError=function(){var e=n.state,t=e.bip32PathError,r=e.status;return""!==t||n.interaction().hasMessagesFor({state:r,level:In.ERROR,code:"bip32"})},n.bip32PathError=function(){var e=n.state,t=e.bip32PathError,r=e.status;return""!==t?t:n.interaction().messageTextFor({state:r,level:In.ERROR,code:"bip32"})},n.handleBIP32PathChange=function(e){var t=e.target.value,r=Object(q.validateBIP32Path)(t);n.setState({bip32Path:t,bip32PathError:null!==r&&void 0!==r?r:""})},n.bip32PathIsDefault=function(){return n.state.bip32Path===n.props.defaultBIP32Path},n.resetBIP32Path=function(){var e=n.props.defaultBIP32Path;n.setState({bip32Path:e,bip32PathError:""})},n.state={bip32Path:e.defaultBIP32Path,publicKeyError:"",bip32PathError:"",status:n.interaction().isSupported()?In.PENDING:In.UNSUPPORTED},n}return Object(v.a)(r)}(s.a.Component),Ui=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).title=function(){var e=n.props,t=e.number,r=e.totalSigners,a=e.publicKeyImporter,o=e.setName;return s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{item:!0},s.a.createElement(Gt,{number:t,name:a.name,setName:o})),s.a.createElement(k.a,{item:!0},s.a.createElement(k.a,{container:!0,justify:"flex-end"},s.a.createElement(R.a,{type:"button",variant:"contained",onClick:n.moveUp,disabled:1===t},s.a.createElement(Bi.a,null)),s.a.createElement("span",null,"\xa0"),s.a.createElement(R.a,{type:"button",variant:"contained",onClick:n.moveDown,disabled:t===r},s.a.createElement(Ri.a,null)))))},n.renderImport=function(){var e=n.props,t=e.publicKeyImporter,r=e.number,a=n.state.disableChangeMethod,o="public-key-".concat(r,"-importer-select-label");return s.a.createElement("div",null,s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:o},"Select Method"),s.a.createElement(En.a,{labelId:o,id:"public-key-".concat(r,"-importer-select"),disabled:a,value:t.method,onChange:n.handleMethodChange},s.a.createElement(wn.a,{value:""},"< Select method >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.LEDGER},"Ledger"),s.a.createElement(wn.a,{value:In.HERMIT},"Hermit"),s.a.createElement(wn.a,{value:"xpub"},"Derive from extended public key"),s.a.createElement(wn.a,{value:"text"},"Enter as text"))),n.renderImportByMethod())},n.renderImportByMethod=function(){var e=n.props,t=e.publicKeyImporter,r=e.network,a=e.defaultBIP32Path;return t.method===In.TREZOR||t.method===In.LEDGER?s.a.createElement(Di,{method:t.method,validatePublicKey:n.validatePublicKey,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,defaultBIP32Path:a,network:r,onImport:n.handleImport}):t.method===In.HERMIT?s.a.createElement(Li,{network:r,defaultBIP32Path:a,validatePublicKey:n.validatePublicKey,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,onImport:n.handleImport}):"xpub"===t.method?s.a.createElement(_i,{network:r,validatePublicKey:n.validatePublicKey,onImport:n.handleImport}):"text"===t.method?s.a.createElement(Ni,{validatePublicKey:n.validatePublicKey,onImport:n.handleImport}):null},n.handleMethodChange=function(e){var t=n.props,r=t.number,a=t.setMethod,o=t.setPublicKey;a(r,e.target.value),o(r,"")},n.disableChangeMethod=function(){n.setState({disableChangeMethod:!0})},n.enableChangeMethod=function(){n.setState({disableChangeMethod:!1})},n.finalize=function(){var e=n.props,t=e.number;(0,e.setFinalized)(t,!0)},n.reset=function(e){var t=n.props,r=t.number,a=t.setPublicKey,o=t.resetBIP32Path,i=t.setFinalized;a(r,""),i(r,!1),e&&o(r)},n.moveUp=function(e){var t=n.props,r=t.moveUp,a=t.number;e.preventDefault(),r(a)},n.moveDown=function(e){var t=n.props,r=t.moveDown,a=t.number;e.preventDefault(),r(a)},n.renderBIP32Path=function(){var e=n.props.publicKeyImporter;return"text"!==e.method?s.a.createElement(T.a,{mt:4},s.a.createElement("p",null,"The BIP32 path for this public key is:"),s.a.createElement(k.a,{container:!0,justify:"center"},s.a.createElement(Zr,{text:e.bip32Path,code:!0})),s.a.createElement(T.a,{mt:4},s.a.createElement("p",null,"You will need this BIP32 path to sign for this key later."," ",s.a.createElement("strong",null,"Write down this BIP32 path!")))):null},n.renderPublicKey=function(){var e=n.props.publicKeyImporter;return s.a.createElement("div",null,s.a.createElement("p",null,"The following public key was imported:"),s.a.createElement(k.a,{container:!0,justify:"center"},s.a.createElement(Zr,{text:e.publicKey,showIcon:!0,code:!0})),n.renderBIP32Path(),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){n.reset(e.method===In.HERMIT)}},"Remove Public Key")))},n.handleImport=function(e){var t=e.bip32Path,r=e.publicKey,a=n.props,o=a.number,i=a.setBIP32Path,c=a.setPublicKey;t&&i(o,t),c(o,r),n.finalize()},n.validatePublicKey=function(e){var t=n.props,r=t.number,a=t.addressType,o=t.publicKeyImporters,i=Object(q.validatePublicKey)(e,a);if(i)return i;var c=e&&Object.values(o).find((function(t,n){return n!==r-1&&t.publicKey===e}))?"This public key has already been imported.":null;return c||""},n.state={disableChangeMethod:!1},n}return Object(v.a)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.number,n=t.setFinalized,a=t.addressType,o=t.publicKeyImporter;e.addressType!==a&&this.validatePublicKey(o.publicKey)&&n(r,!1)}},{key:"render",value:function(){var e=this.props.publicKeyImporter,t=this.validatePublicKey(e.publicKey);return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:this.title()}),s.a.createElement(B.a,null,e.method&&"text"!==e.method&&e.conflict&&s.a.createElement(Zo,{message:"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!"}),t.includes("does not support uncompressed public keys")&&s.a.createElement(Zo,{message:t}),e.finalized?this.renderPublicKey():this.renderImport()))}}]),r}(s.a.Component);var Fi={setName:Ei,setBIP32Path:wi,resetBIP32Path:Si,setMethod:Pi,setPublicKey:Ii,setFinalized:Oi,moveUp:Ti,moveDown:xi},Gi=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),e.address),{publicKeyImporter:e.address.publicKeyImporters[t.number]})}),Fi)(Ui),Ki=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props,r=t.address,n=t.client;return s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0,xs:12},s.a.createElement("h1",null,"Address Generator")),s.a.createElement(k.a,{item:!0,md:8},e.renderPublicKeyImporters(),s.a.createElement(T.a,{mt:2},s.a.createElement(ji,null))),s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(cr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(lr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(rr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(gr,{publicNotes:s.a.createElement("span",null,'If you plan to use this address with your own bitcoind node you can import the address created here by switching for "Public" to "Private". Otherwise no action is needed here.'),privateNotes:s.a.createElement("div",null,s.a.createElement(gn,{addresses:[r],client:n}))})))))},e.renderPublicKeyImporters=function(){for(var t=e.props.totalSigners,r=[],n=1;n<=t;n+=1)r.push(s.a.createElement(T.a,{key:n,mt:1===n?0:2},s.a.createElement(Gi,{number:n})));return r},e}return Object(v.a)(r)}(s.a.Component);Ki.defaultProps={address:""};var Hi=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)({},{totalSigners:e.settings.totalSigners}),e.address),{},{client:e.client})}))(Ki),Qi=r(1590),Vi=r(1591),Wi="START_TEST_SUITE_RUN",Yi="SET_CURRENT_TEST_RUN";function Xi(){return{type:Wi}}function zi(e){return{type:Yi,value:e}}var qi="SET_KEYSTORE",Zi="SET_KEYSTORE_NOTE",Ji="SET_KEYSTORE_STATUS";function $i(e,t){return{type:qi,keystoreType:e,version:t}}function ec(e){return{type:Zi,value:e}}function tc(e){return{type:Ji,value:e}}var rc="START_TEST_RUN",nc="END_TEST_RUN",ac="RESET_TEST_RUN",oc="SET_TEST_RUN_NOTE";function ic(e){return{type:rc,testRunIndex:e}}function cc(e,t,r){return{type:nc,testRunIndex:e,status:t,message:r}}function uc(e){return{type:ac,testRunIndex:e}}function sc(e,t){return{type:oc,testRunIndex:e,note:t}}var lc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){var r=e.props,n=r.setNote,a=r.mode,o=r.testRunIndex,i=t.target.value;"testRun"===a?n(o,i):n(i)},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props.note;return s.a.createElement(Lt.a,{name:"notes",label:"Notes",value:e,onChange:this.handleChange,multiline:!0,fullWidth:!0,rows:3})}}]),r}(s.a.Component);lc.defaultProps={testRunIndex:0};var fc={setNote:ec},dc={setNote:sc},pc=Object(p.b)((function(e){return{note:e.keystore.note,mode:"keystore"}}),fc)(lc),hc=Object(p.b)((function(e){return{mode:"testRun",testRunIndex:e.testSuiteRun.currentTestRunIndex,note:e.testSuiteRun.testRuns[e.testSuiteRun.currentTestRunIndex].note}}),dc)(lc);function Ac(){Ac=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var mc=[""].concat(Object(oe.a)(Object.values(In.INDIRECT_KEYSTORES))),bc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).detectVersion=Object(ne.a)(Ac().mark((function t(){var r,n,a,o,i,c;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.type,a=r.setKeystore,o=r.setKeystoreStatus,i=r.setErrorNotification,o(In.ACTIVE),t.prev=2,t.next=5,e.interaction().run();case 5:(c=t.sent)&&a(n,c.spec),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),i(t.t0.message);case 13:o(In.PENDING);case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),e.interaction=function(){var t=e.props.type;return Object(In.GetMetadata)({keystore:t})},e.handleTypeChange=function(t){var r=e.props,n=r.version;(0,r.setKeystore)(t.target.value,n)},e.handleVersionChange=function(t){var r=e.props,n=r.type;(0,r.setKeystore)(n,t.target.value)},e}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.type,r=e.status,n=e.version;return s.a.createElement(T.a,null,s.a.createElement(k.a,{container:!0,spacing:2,justify:"center"},s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:"keystore-select-label"},"Type"),s.a.createElement(En.a,{labelId:"keystore-select-label",id:"keystore-select",value:t,onChange:this.handleTypeChange},s.a.createElement(wn.a,{value:""},"< Select type >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.LEDGER},"Ledger"),s.a.createElement(wn.a,{value:In.COLDCARD},"Coldcard"),s.a.createElement(wn.a,{value:In.HERMIT},"Hermit")))),s.a.createElement(k.a,{item:!0,md:6},s.a.createElement(Lt.a,{name:"version",fullWidth:!0,label:"Version",value:n,disabled:""===t,onChange:this.handleVersionChange})),s.a.createElement(k.a,{item:!0,md:2},s.a.createElement(R.a,{disabled:r===In.ACTIVE||mc.includes(t),onClick:this.detectVersion},r===In.ACTIVE?"Detecting...":"Detect"))),t&&!mc.includes(t)&&s.a.createElement(Gn,{messages:this.interaction().messagesFor({state:r})}),s.a.createElement(pc,null))}}]),r}(s.a.Component),vc=Object(W.a)(Object(W.a)({},i),{},{setErrorNotification:gt}),gc=Object(p.b)((function(e){return Object(W.a)({},e.keystore)}),vc)(bc),yc=r(938),Ec=r.n(yc),wc=r(1572),Sc=r(1587),Pc=r(1588),Ic=r(1589),Oc=r(510);function Tc(){Tc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xc=function(){function e(t){Object(b.a)(this,e),this.params=t||{}}return Object(v.a)(e,[{key:"postprocess",value:function(e){return e}},{key:"interaction",value:function(){throw Error("Define the `interaction` method in your subclass of `Test`.")}},{key:"matches",value:function(e,t){return"object"===typeof e&&"object"===typeof t?Object.keys(t).every((function(r){return e[r]===t[r]})):e===t}},{key:"diff",value:function(e,t){if("string"===typeof e&&"string"===typeof t)return Object(Oc.diffChars)(e,t);if("object"===typeof e&&"object"===typeof t){if(void 0!==e.length&&void 0!==t.length)return Object(Oc.diffArrays)(e,t);if(void 0===e.length&&void 0===t.length)return Object(Oc.diffJson)(e,t)}return null}},{key:"supports",value:function(){return!0}},{key:"name",value:function(){return this.params.name}},{key:"description",value:function(){return this.params.description}},{key:"expected",value:function(){return this.params.expected}},{key:"actual",value:function(){var e=Object(ne.a)(Tc().mark((function e(t){return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this,!t){e.next=5;break}e.t1=this.interaction().parse(t),e.next=8;break;case 5:return e.next=7,this.interaction().run();case 7:e.t1=e.sent;case 8:return e.t2=e.t1,e.abrupt("return",e.t0.postprocess.call(e.t0,e.t2));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=Object(ne.a)(Tc().mark((function e(){var t;return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.actual();case 3:return t=e.sent,e.abrupt("return",this.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"runParse",value:function(){var e=Object(ne.a)(Tc().mark((function e(t){var r,n;return Tc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.actual(t);case 3:return r=e.sent,n=r.rootFingerprint?{pubkey:r.pubkey,xpub:r.xpub||r.tpub,rootFingerprint:r.rootFingerprint}:Object.values(r)[0],e.abrupt("return",this.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resolve",value:function(e){var t=this.expected();return this.matches(t,e)?{status:"success"}:{status:"failure",expected:t,actual:e,diff:this.diff(t,e)}}}]),e}();xc.SUCCESS="success",xc.FAILURE="failure",xc.ERROR="error";var kc=xc,Cc=(r(1515),function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props,r=t.testSuiteRun,n=t.keystore,a=Ec.a.getParser(window.navigator.userAgent);return s.a.createElement(k.a,{container:!0,direction:"column",spacing:3},s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Summary"}),s.a.createElement(B.a,null,s.a.createElement("dl",null,s.a.createElement("dt",null,"OS:"),s.a.createElement("dd",null,a.getOSName()," ",a.getOSVersion()),s.a.createElement("dt",null,"Browser:"),s.a.createElement("dd",null,a.getBrowserName()," ",a.getBrowserVersion()),s.a.createElement("dt",null,"unchained-wallets:"),s.a.createElement("dd",null,"v.",In.VERSION),n.type&&s.a.createElement(T.a,null,s.a.createElement("dt",null,"Keystore:"),s.a.createElement("dd",null,e.keystoreName(n.type)," ",n.version)),n.note&&s.a.createElement(T.a,null,s.a.createElement("dt",null,"Notes:"),s.a.createElement("dd",null,n.note)))))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Tests",subheader:"".concat(r.testRuns.length," Total")}),s.a.createElement(B.a,null,e.renderTests()))))},e.renderTests=function(){var t=e.props,r=t.testSuiteRun;return""===t.keystore.type?s.a.createElement("p",null,"Choose a keystore type to generate a test suite..."):s.a.createElement(T.a,null,s.a.createElement(x.a,{variant:"h6"},s.a.createElement("span",{className:"TestSuiteRunSummary-success"},r.testRuns.filter((function(e){return e.status===kc.SUCCESS})).length," ",s.a.createElement("small",null,"SUCCESS")),"\xa0 / \xa0",s.a.createElement("span",{className:"TestSuiteRunSummary-failure"},r.testRuns.filter((function(e){return e.status===kc.FAILURE})).length," ",s.a.createElement("small",null,"FAIL")),"\xa0 / \xa0",s.a.createElement("span",{className:"TestSuiteRunSummary-error"},r.testRuns.filter((function(e){return e.status===kc.ERROR})).length," ",s.a.createElement("small",null,"ERROR"))),s.a.createElement(wc.a,null),s.a.createElement(N.a,{style:{maxHeight:"200px",overflow:"auto"},dense:!0,component:"nav"},r.testRuns.map(e.renderTestRun)))},e.renderTestRun=function(t,r){var n=e.props.testSuiteRun;return s.a.createElement(_.a,{selected:n.currentTestRunIndex===r,button:!0,key:r,onClick:e.testRunChooser(r),disabled:!n.started},e.renderTestRunResult(t),s.a.createElement(M.a,null,t.test.name(),t.status!==In.PENDING&&t.status!==In.ACTIVE&&s.a.createElement("small",null,"\xa0 (",ta.a.duration(t.endedAt.diff(t.startedAt)).asSeconds(),"s)")),t.note&&s.a.createElement(L.a,null,s.a.createElement(yr.a,{title:t.note},s.a.createElement(Sc.a,null))))},e.renderTestRunResult=function(e){switch(e.status){case In.PENDING:return s.a.createElement(L.a,null,s.a.createElement(Pc.a,{className:"TestSuiteRunSummary-pending"}));case kc.SUCCESS:return s.a.createElement(L.a,null,s.a.createElement(Sn.a,{className:"TestSuiteRunSummary-success"}));case kc.FAILURE:return s.a.createElement(L.a,null,s.a.createElement(Ic.a,{className:"TestSuiteRunSummary-failure"}));case kc.ERROR:return s.a.createElement(L.a,null,s.a.createElement(Pn.a,{className:"TestSuiteRunSummary-error"}));case In.ACTIVE:return s.a.createElement(L.a,null,s.a.createElement(Mr.a,{className:"TestSuiteRunSummary-active"}));default:return null}},e.testRunChooser=function(t){var r=e.props.setCurrentTestRun;return function(){r(t)}},e.keystoreName=function(e){switch(e){case In.TREZOR:return"Trezor";case In.LEDGER:return"Ledger";case In.HERMIT:return"Hermit";case In.COLDCARD:return"Coldcard";default:return""}},e}return Object(v.a)(r)}(s.a.Component)),jc={setCurrentTestRun:zi},Bc=Object(p.b)((function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}}),jc)(Cc);r(1516);function Rc(){Rc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Nc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){document.addEventListener("keydown",e.handleKeyDown)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleKeyDown)},e.handleKeyDown=function(t){var r=e.props,n=r.status,a=r.isLastTest,o=r.nextTest;32===t.keyCode&&"textarea"!==t.target.tagName.toLowerCase()&&(t.preventDefault(),n!==In.ACTIVE&&(n===In.PENDING?e.start():a||o()))},e.handleDownloadPSBTClick=function(){var t=e.props.test,r=t.interaction(),n=t.name().split(" "),a=r.request().toBase64(),o=ta()().format("HHmm");$(a,"".concat(o,"-").concat(n[2],"-").concat(n[1][0],".psbt"))},e.handledDownloadWalletConfigClick=function(){var t=e.props.test,r=t.name().split(" "),n="".concat(r[2].toLowerCase(),"-").concat(r[1][0]),a="# Coldcard Multisig setup file for test suite\n#\nName: ".concat(n,"\nPolicy: 2 of 2\nFormat: ").concat(t.params.format.includes("-")?"P2WSH-P2SH":t.params.format,"\nDerivation: ").concat(t.params.derivation,"\n\n");a+=t.params.extendedPublicKeys.map((function(e){return"".concat(e.rootFingerprint,": ").concat(e.base58String)})).join("\r\n"),$(a+="\r\n","wc-".concat(n,".txt"))},e.render=function(){var t=e.props,r=t.test,n=t.testRunIndex,a=t.status,o=t.keystore;return r?s.a.createElement(T.a,null,s.a.createElement(C.a,null,s.a.createElement(j.a,{title:r.name(),subheader:"Test ".concat(n+1)}),s.a.createElement(B.a,null,r.description(),o.type===In.COLDCARD&&!r.unsignedTransaction&&s.a.createElement(T.a,{align:"center"},s.a.createElement(ra.a,{interaction:r.interaction(),onReceive:e.startParse,onStart:e.start,setError:e.reset,isTest:!0})),o.type===In.COLDCARD&&r.unsignedTransaction&&s.a.createElement(T.a,{align:"center",style:{marginTop:"2em"}},s.a.createElement(na,{handlePSBTDownloadClick:e.handleDownloadPSBTClick,handleWalletConfigDownloadClick:e.handledDownloadWalletConfigClick}),s.a.createElement(ra.b,{interaction:r.interaction(),onReceivePSBT:e.startParse,onStart:e.start,setError:e.reset,fileType:"PSBT",validFileFormats:".psbt"})),e.renderInteractionMessages(),a===In.PENDING&&!Object.values(In.INDIRECT_KEYSTORES).includes(o.type)&&s.a.createElement(T.a,{align:"center"},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:e.start},"Start Test")),o.type===In.HERMIT&&r.interaction().displayer&&a===In.PENDING&&s.a.createElement(T.a,{align:"center"},s.a.createElement(zn,{width:400,string:r.interaction().request()})),o.type===In.HERMIT&&!e.testComplete()&&s.a.createElement(T.a,null,s.a.createElement(Yn,{onStart:e.start,onSuccess:e.resolve,onClear:e.reset,startText:"Scan Hermit Response",interaction:r.interaction()})),e.testComplete()&&e.renderResult(),s.a.createElement(hc,null)),s.a.createElement(D.a,null,a===In.ACTIVE&&s.a.createElement(R.a,{disabled:!0},s.a.createElement(Mr.a,null),"\xa0 Running test..."),e.testComplete()&&s.a.createElement(R.a,{color:"secondary",onClick:e.reset},"Reset Test")))):s.a.createElement(T.a,null,s.a.createElement("p",null,"No test selected."))},e.testComplete=function(){var t=e.props.status;return t===kc.SUCCESS||t===kc.ERROR||t===kc.FAILURE},e.renderInteractionMessages=function(){var t=e.props,r=t.status,n=t.test;return r===In.PENDING||r===In.ACTIVE?s.a.createElement(Gn,{excludeCodes:["hermit.command"],messages:n.interaction().messagesFor({state:r})}):null},e.renderResult=function(){var t=e.props,r=t.status,n=t.message;switch(r){case kc.SUCCESS:return s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(x.a,{variant:"h5",className:"TestRun-success"},s.a.createElement(Sn.a,null),"\xa0 Test passed"));case kc.FAILURE:return s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{align:"center"},s.a.createElement(x.a,{variant:"h5",className:"TestRun-failure"},s.a.createElement(Ic.a,null),"\xa0 Test failed")),n);case kc.ERROR:return s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{align:"center"},s.a.createElement(x.a,{variant:"h5",className:"TestRun-error"},s.a.createElement(Pn.a,null),"\xa0 Test error")),n);default:return null}},e.start=Object(ne.a)(Rc().mark((function t(){var r,n,a,o,i;return Rc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.test,a=r.keystore,o=r.testRunIndex,(0,r.startTestRun)(o),a.type!==In.HERMIT){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n.run();case 6:i=t.sent,e.handleResult(i);case 8:case"end":return t.stop()}}),t)}))),e.startParse=function(){var t=Object(ne.a)(Rc().mark((function t(r){var n,a,o,i;return Rc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.test,o=n.testRunIndex,(0,n.startTestRun)(o),t.next=4,a.runParse(r);case 4:i=t.sent,e.handleResult(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resolve=function(t){var r=e.props.test,n=r.resolve(r.postprocess(t));e.handleResult(n)},e.handleResult=function(t){var r=e.props,n=r.testRunIndex,a=r.endTestRun,o=r.setErrorNotification;t.status===kc.ERROR&&o(t.message),a(n,t.status,e.formatMessage(t))},e.reset=function(){var t=e.props,r=t.testRunIndex;(0,t.resetTestRun)(r)},e.formatMessage=function(t){switch(t.status){case kc.FAILURE:return s.a.createElement(T.a,null,s.a.createElement("dl",null,s.a.createElement("dt",null,"Expected:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},e.formatOutput(t.expected))),s.a.createElement("dt",null,"Actual:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},e.formatOutput(t.actual))),t.diff&&s.a.createElement("div",null,s.a.createElement("dt",null,"Diff:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},t.diff.map(e.formatDiffSegment))))));case kc.ERROR:return s.a.createElement("code",null,t.message);default:return""}},e.formatOutput=function(e){switch(typeof e){case"object":return JSON.stringify(e);case"string":case"number":return e;default:return"Did not recognize output type"}},e.formatDiffSegment=function(t,r){return s.a.createElement("span",{key:r,className:"TestRun-diff-segment-".concat(e.diffSegmentClass(t))},t.value)},e.diffSegmentClass=function(e){return e.added?"added":e.removed?"removed":"common"},e}return Object(v.a)(r)}(s.a.Component),_c=Object(W.a)(Object(W.a)({},c),a),Lc=Object(p.b)((function(e,t){return Object(W.a)(Object(W.a)(Object(W.a)({},{keystore:e.keystore}),e.testSuiteRun.testRuns[t.testRunIndex]||{}),{testRunIndex:t.testRunIndex})}),_c)(Nc);Nc.defaultProps={test:{unsignedTransaction:null,params:{}}};var Mc=Lc,Dc=q.TEST_FIXTURES.keys.open_source.bip39Phrase,Uc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props.keystore;return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{container:!0},s.a.createElement(k.a,{item:!0,md:3},s.a.createElement("ol",null,Dc.slice(0,6).map(r.renderSeedWord))),s.a.createElement(k.a,{item:!0,md:3},s.a.createElement("ol",{start:7},Dc.slice(6,12).map(r.renderSeedWord))),s.a.createElement(k.a,{item:!0,md:3},s.a.createElement("ol",{start:13},Dc.slice(12,18).map(r.renderSeedWord))),s.a.createElement(k.a,{item:!0,md:3},s.a.createElement("ol",{start:19},Dc.slice(18,24).map(r.renderSeedWord)))),e&&e.type===In.COLDCARD&&s.a.createElement(k.a,{style:{marginTop:"2em",marginBottom:"2em"}},"If using the simulator, here's a handy command with the same seed phrase:",s.a.createElement("br",null),s.a.createElement("code",null,"./simulator.py --seed '",Dc.join(" "),"'")))}}],[{key:"renderSeedWord",value:function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("code",null,e))}}]),r}(s.a.Component);Uc.defaultProps={keystore:null};var Fc=Object(p.b)((function(){return{}}),{})(Uc),Gc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){document.addEventListener("keydown",e.handleKeyDown)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleKeyDown)},e.currentTestIsActive=function(){var t=e.props.testSuiteRun;if(!t.started)return!1;var r=t.testRuns[t.currentTestRunIndex];return!!r&&r.status===In.ACTIVE},e.handleKeyDown=function(t){if(e.props.testSuiteRun.started){if(e.currentTestIsActive())return;switch(t.keyCode){case 37:case 38:e.isFirstTest()||e.previousTest();break;case 39:case 40:e.isLastTest()||e.nextTest()}}else{if(32!==t.keyCode)return;var r=t.target.tagName.toLowerCase();if("textarea"===r||"input"===r)return;if(t.preventDefault(),e.startDisabled())return;e.start()}},e.render=function(){var t=e.props.testSuiteRun;return s.a.createElement(T.a,{mt:2},t.started&&s.a.createElement(T.a,{mt:2,mb:2},s.a.createElement(Dr.a,{variant:"determinate",value:t.testRuns.filter((function(e){return e.status!==In.PENDING&&e.status!==In.ACTIVE})).length/t.testRuns.length*100})),s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(Bc,null)),s.a.createElement(k.a,{item:!0,md:8},e.renderBody())))},e.renderSetup=function(){var t=e.props.keystore;return s.a.createElement(k.a,{container:!0,direction:"column",spacing:3},s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Choose Keystore"}),s.a.createElement(B.a,null,s.a.createElement(gc,null),s.a.createElement(T.a,{align:"center",mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:e.startDisabled(),onClick:e.start,type:"submit"},"Begin Test Suite"))))),s.a.createElement(k.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Keystore Setup"}),s.a.createElement(B.a,null,s.a.createElement("p",null,"Ensure your keystore has been initialized with the following seed:"),s.a.createElement(Fc,{keystore:t})))))},e.renderBody=function(){var t=e.props.testSuiteRun;return t.started?s.a.createElement(T.a,null,s.a.createElement(Mc,{isLastTest:e.isLastTest(),nextTest:e.nextTest,testRunIndex:t.currentTestRunIndex}),s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{disabled:e.isFirstTest()||e.currentTestIsActive(),onClick:e.previousTest},s.a.createElement(Qi.a,null)," \xa0 Previous")),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{disabled:e.isLastTest()||e.currentTestIsActive(),onClick:e.nextTest},"Next \xa0 ",s.a.createElement(Vi.a,null)))))):e.renderSetup()},e.start=function(){(0,e.props.startTestSuiteRun)()},e.startDisabled=function(){var t=e.props,r=t.testSuiteRun,n=t.keystore;return""===n.type||n.status===In.ACTIVE||r.started||0===r.testRuns.length},e.isFirstTest=function(){return 0===e.props.testSuiteRun.currentTestRunIndex},e.isLastTest=function(){var t=e.props.testSuiteRun;return t.currentTestRunIndex===t.testRuns.length-1},e.previousTest=function(){var t=e.props,r=t.testSuiteRun,n=t.setCurrentTestRun;r.currentTestRunIndex<1||n(r.currentTestRunIndex-1)},e.nextTest=function(){var t=e.props,r=t.testSuiteRun,n=t.setCurrentTestRun;r.currentTestRunIndex!==r.testRuns.length-1&&n(r.currentTestRunIndex+1)},e}return Object(v.a)(r)}(s.a.Component),Kc=Object(W.a)({},o),Hc=Object(p.b)((function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}}),Kc)(Gc);function Qc(){Qc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(x){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(O([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Vc=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).disabled=function(){},n.hasScriptError=function(){return""!==n.state.scriptError},n.hasFetchUTXOsError=function(){return""!==n.state.fetchUTXOsError},n.hasError=function(){return n.hasScriptError()||n.hasFetchUTXOsError()},n.scriptName=function(){switch(n.props.addressType){case q.P2SH:return"redeem";case q.P2SH_P2WSH:case q.P2WSH:return"witness";default:return null}},n.scriptTitle=function(){var e=n.scriptName();return e.charAt(0).toUpperCase()+e.substring(1)},n.handleScriptChange=function(e){var t=e.target.value,r="";(""===t&&(r="".concat(n.scriptTitle()," script cannot be blank.")),""===r&&(t.includes("\n")||t.includes("\t")||t.includes(" "))&&(r="".concat(n.scriptTitle()," script should not contain spaces, tabs, or newlines.")),""===r)&&(""!==Object(q.validateHex)(t)&&(r="".concat(n.scriptTitle()," script is not valid hex.")));if(""!==t&&""===r)try{n.generateMultisig(t)}catch(a){console.error(a),r="Failed to parse ".concat(n.scriptName()," script.")}n.setState({scriptHex:t,scriptError:r,fetchUTXOsError:"",fetchedUTXOs:!1})},n.generateMultisig=function(e){var t=n.props,r=t.network,a=t.addressType,o=n.state.scriptHex;return e&&(o=e),Object(q.generateMultisigFromHex)(r,a,o)},n.renderDetails=function(){var e=n.state.fetchUTXOsError,t=n.props,r=t.chosePerformSpend,a=t.choseConfirmOwnership,o=t.client,i=n.generateMultisig(),c=r||a;return s.a.createElement("div",null,s.a.createElement(dn,{multisig:i}),s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:n.performSpend,disabled:c},"Spend from this address")),s.a.createElement(k.a,{item:!0},s.a.createElement(R.a,{variant:"contained",size:"large",onClick:n.confirmOwnership,disabled:c},"Confirm ownership"))),s.a.createElement(ae.a,{error:!0},e)),"private"===o.type&&s.a.createElement(T.a,{mt:2},s.a.createElement(gn,{addresses:[i.address],client:o})))},n.performSpend=Object(ne.a)(Qc().mark((function e(){var t,r,a,o,i,c,u,s,l,f,d,p;return Qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.setRequiredSigners,a=t.setTotalSigners,o=t.setInputs,i=t.setFrozen,c=t.choosePerformSpend,u=n.generateMultisig(),e.next=4,n.fetchUTXOs(u);case 4:(s=e.sent)?(l=s.utxos,f=s.balanceSats,d="",f.isLessThanOrEqualTo(0)&&(d="This address has a zero balance."),n.setState({fetchedUTXOs:!0,fetchUTXOsError:d}),""===d&&(p=l.map((function(e){return Object(W.a)(Object(W.a)({},e),{},{multisig:u})})),o(p),r(Object(q.multisigRequiredSigners)(u)),a(Object(q.multisigTotalSigners)(u)),i(!0),c())):n.setState({fetchedUTXOs:!1,fetchUTXOsError:"Failed to fetch UTXOs."});case 6:case"end":return e.stop()}}),e)}))),n.fetchUTXOs=function(){var e=Object(ne.a)(Qc().mark((function e(t){var r,a,o,i;return Qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.network,o=r.client,e.next=3,Te(t.address,a,o);case 3:if(!((i=e.sent)&&i.utxos&&i.utxos.length)){e.next=6;break}return e.abrupt("return",i);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.confirmOwnership=function(){var e=n.props,t=e.chooseConfirmOwnership,r=e.setOwnershipMultisig,a=e.setFrozen;r(n.generateMultisig()),t(),a(!0)},n.state={scriptHex:"",scriptError:"",fetchUTXOsError:"",fetchedUTXOs:!1},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this.state,t=e.scriptHex,r=e.scriptError,n=e.fetchedUTXOs;return s.a.createElement(C.a,null,s.a.createElement(j.a,{title:"Enter ".concat(this.scriptTitle()," Script")}),s.a.createElement(B.a,null,s.a.createElement("form",null,s.a.createElement(Lt.a,{fullWidth:!0,multiline:!0,autoFocus:!0,variant:"outlined",label:"".concat(this.scriptTitle()," Script"),value:t,rows:5,onChange:this.handleScriptChange,disabled:n&&!this.hasFetchUTXOsError(),helperText:r,error:""!==r})),""===t||this.hasScriptError()?s.a.createElement("p",null,"Enter a valid ",this.scriptName()," script to generate an address to spend funds from."):this.renderDetails()))}}]),r}(s.a.Component);var Wc={choosePerformSpend:function(){return{type:"CHOOSE_PERFORM_SPEND"}},setInputs:nt,setTotalSigners:function(e){return{type:"SET_TOTAL_SIGNERS",value:e}},setRequiredSigners:rt,chooseConfirmOwnership:function(){return{type:"CHOOSE_CONFIRM_OWNERSHIP"}},setOwnershipMultisig:function(e){return{type:"SET_OWNERSHIP_MULTISIG",value:e}},setFrozen:$t},Yc=Object(p.b)((function(e){return Object(W.a)(Object(W.a)(Object(W.a)({},e.settings),{client:e.client}),{choseConfirmOwnership:e.spend.ownership.chosen,chosePerformSpend:e.spend.transaction.chosen})}),Wc)(Vc),Xc=r(939),zc=r.n(Xc),qc=r(940),Zc=r.n(qc),Jc=r(472),$c=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).titleRef=s.a.createRef(),n.componentDidMount=function(){n.resetBIP32Path(),n.scrollToTitle()},n.componentDidUpdate=function(){n.scrollToTitle()},n.scrollToTitle=function(){n.titleRef.current.scrollIntoView({behavior:"smooth"})},n.handleMethodChange=function(e){(0,n.props.setMethod)(e.target.value),n.reset()},n.disableChangeMethod=function(){n.setState({disableChangeMethod:!0})},n.enableChangeMethod=function(){n.setState({disableChangeMethod:!1})},n.reset=function(){(0,n.props.reset)()},n.resetBIP32Path=function(){(0,n.props.resetBIP32Path)()},n.validateAndSetBIP32Path=function(e,t,r,a){var o=n.props.setBIP32Path,i=Object(q.validateBIP32Path)(e,a);o(e),i?r(i):(r(""),t())},n.validateAndSetPublicKey=function(e,t,r){var a=n.props.setPublicKey,o=Object(q.validatePublicKey)(e);a(e),o?t&&t(o):(t&&t(""),r&&r())},n.renderConfirmation=function(){var e=n.props,t=e.publicKeys,r=e.publicKeyImporter;if(""===r.publicKey)return null;if(t.includes(r.publicKey)){var a=Object(Jc.a)(L.a)({color:"green"});return s.a.createElement(N.a,null,s.a.createElement(_.a,null,s.a.createElement(a,null,s.a.createElement(zc.a,null)),s.a.createElement(M.a,null,"The public key exported at BIP32 path"," ",s.a.createElement("code",null,r.bip32Path)," is present in the provided redeem script.")))}return s.a.createElement(N.a,null,s.a.createElement(_.a,null,s.a.createElement(L.a,null,s.a.createElement(x.a,{color:"error"},s.a.createElement(Zc.a,null))),s.a.createElement(M.a,null,"The public key exported at BIP32 path"," ",s.a.createElement("code",null,r.bip32Path)," is not present in the provided redeem script.")))},n.renderImportByMethod=function(){var e=n.props,t=e.network,r=e.publicKeyImporter,a=e.defaultBIP32Path;return r.method===In.HERMIT?s.a.createElement(Li,{publicKeyImporter:r,validateAndSetBIP32Path:n.validateAndSetBIP32Path,validateAndSetPublicKey:n.validateAndSetPublicKey,resetBIP32Path:n.resetBIP32Path,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod,reset:n.reset}):r.method===In.TREZOR||r.method===In.LEDGER?s.a.createElement(Di,{network:t,publicKeyImporter:r,validateAndSetBIP32Path:n.validateAndSetBIP32Path,resetBIP32Path:n.resetBIP32Path,defaultBIP32Path:a,validateAndSetPublicKey:n.validateAndSetPublicKey,enableChangeMethod:n.enableChangeMethod,disableChangeMethod:n.disableChangeMethod}):null},n.state={disableChangeMethod:!1},n}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props.publicKeyImporter,t=this.state.disableChangeMethod,r="public-key-importer-select-label",n="".concat(r,"-select");return s.a.createElement(C.a,null,s.a.createElement(j.a,{ref:this.titleRef,title:"Confirm Ownership"}),s.a.createElement(B.a,null,s.a.createElement("form",null,s.a.createElement("p",null,"How will you confirm your ownership of this address?"),s.a.createElement(Vt.a,{fullWidth:!0},s.a.createElement(yn.a,{id:r},"Select Method"),s.a.createElement(En.a,{labelId:n,id:"public-key-importer-select",disabled:t,value:e.method,onChange:this.handleMethodChange},s.a.createElement(wn.a,{value:""},"< Select method >"),s.a.createElement(wn.a,{value:In.TREZOR},"Trezor"),s.a.createElement(wn.a,{value:In.LEDGER},"Ledger"),s.a.createElement(wn.a,{value:In.HERMIT},"Hermit"))),this.renderImportByMethod(),this.renderConfirmation(),""!==e.method&&s.a.createElement(R.a,{variant:"contained",size:"small",color:"secondary",role:"button",onClick:this.reset},"Start Again"))))}}]),r}(s.a.Component);var eu={setMethod:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_METHOD",value:e}},setBIP32Path:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",value:e}},setPublicKey:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY",value:e}},resetBIP32Path:function(){return{type:"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH"}},reset:function(){return{type:"RESET_PUBLIC_KEY_IMPORTER"}}},tu=Object(p.b)((function(e){return e.spend.ownership}),eu)($c),ru=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){return s.a.createElement(T.a,{mt:2},s.a.createElement(k.a,{container:!0,spacing:3},s.a.createElement(k.a,{item:!0,md:8},s.a.createElement(T.a,null,s.a.createElement(Yc,null)),e.renderBody()),s.a.createElement(k.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(lr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(rr,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(gr,null)))))},e.renderBody=function(){var t=e.props,r=t.transaction;return t.ownership.chosen?s.a.createElement(T.a,{mt:2},s.a.createElement(tu,null)):s.a.createElement(T.a,null,e.spendable()&&s.a.createElement(T.a,null,s.a.createElement(T.a,{mt:2},s.a.createElement(C.a,null,s.a.createElement(B.a,null,s.a.createElement(sn,{inputs:r.inputs,inputsTotalSats:r.inputsTotalSats})))),s.a.createElement(T.a,{mt:2},s.a.createElement(C.a,null,s.a.createElement(B.a,null,s.a.createElement(x.a,{variant:"h5"},"Define Outputs"),s.a.createElement(fo,null))))),r.finalizedOutputs&&s.a.createElement("div",null,s.a.createElement(T.a,{mt:2},s.a.createElement(vo,null)),s.a.createElement(T.a,{mt:2},e.renderSignatureImporters())),e.signaturesFinalized()&&s.a.createElement(T.a,{mt:2},s.a.createElement(mo,null)))},e.renderSignatureImporters=function(){for(var t=e.props.transaction,r=[],n=1;n<=t.requiredSigners;n+=1)r.push(s.a.createElement(T.a,{key:n,mt:2},s.a.createElement(sa,{number:n})));return r},e.spendable=function(){return e.props.transaction.inputs.length>0},e.signaturesFinalized=function(){var t=e.props.signatureImporters;return Object.values(t).length>0&&Object.values(t).every((function(e){return e.finalized}))},e.confirmOwnership=function(t){e.setState({addressFinalized:!0,confirmOwnership:t})},e}return Object(v.a)(r)}(s.a.Component);var nu=Object(p.b)((function(e){return e.spend}))(ru),au=r(810),ou=r(941),iu=r.n(ou),cu=Object(Bt.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},menuItem:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingX:e.spacing(3)},menuLink:{color:"inherit",textDecoration:"none"}}})),uu=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"render",value:function(){var e=this.props,t=e.href,r=e.title,n=e.classes,a=e.handleClose;return s.a.createElement("a",{href:t,className:n.menuLink},s.a.createElement(wn.a,{className:n.menuItem,onClick:a},r))}}]),r}(s.a.Component),su=function(){var e=cu(),t=s.a.useState(null),r=Object(ie.a)(t,2),n=r[0],a=r[1];return s.a.createElement("div",{className:e.root},s.a.createElement(en.a,{position:"static"},s.a.createElement(au.a,null,s.a.createElement(x.a,{variant:"h6",className:e.title},s.a.createElement(R.a,{color:"inherit",href:"#/"},"Caravan")),s.a.createElement(R.a,{"aria-controls":"simple-menu","aria-haspopup":"true",color:"inherit",onClick:function(e){a(e.currentTarget)}},s.a.createElement(T.a,{mr:3},s.a.createElement(x.a,null,"Menu")),s.a.createElement(iu.a,null)),s.a.createElement(_a.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){return a(null)}},[{href:"#/wallet",title:"Wallet"},{href:"#/address",title:"Create Address"},{href:"#/script",title:"Script Explorer"},{href:"#/test",title:"Test Suite"},{href:"#/help",title:"Help"}].map((function(t){var r=t.href,n=t.title;return s.a.createElement(uu,{href:r,title:n,classes:e,key:r,handleClose:function(){return a(null)}})}))))))},lu=r(942),fu=r(1517),du=function(){return s.a.createElement(T.a,{mt:2},s.a.createElement("hr",null),s.a.createElement(k.a,{container:!0,justify:"space-between",alignItems:"center"},s.a.createElement(k.a,{item:!0,sm:2},J("https://www.unchained-capital.com",s.a.createElement("img",{src:fu,className:"logo",alt:"Unchained Capital logo",height:"32"}))),s.a.createElement(k.a,{item:!0,sm:5},s.a.createElement("p",null,"Copyright\xa0",new Date(Date.now()).getFullYear()," by Unchained Capital and released under an MIT license.")),s.a.createElement(k.a,{item:!0,sm:2,align:"right"},s.a.createElement("p",null,"v".concat(lu.a," commit: ").concat("4d14ff2")))))},pu=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(b.a)(this,r),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(v.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({errorInfo:t,error:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state,r=t.error,n=t.errorInfo;return n?s.a.createElement(T.a,{m:4},s.a.createElement(T.a,{m:2},s.a.createElement(x.a,{variant:"h3",component:"h1"},"Something went wrong.")),s.a.createElement(T.a,{m:2},s.a.createElement(x.a,{variant:"body1"},"Let us know what happened on"," ",s.a.createElement("a",{href:"https://github.com/unchained-capital/caravan/issues",target:"_blank",rel:"noopener noreferrer"},"github"),".")),s.a.createElement(T.a,{mx:2,my:3},s.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},r&&r.toString(),s.a.createElement("br",null),n.componentStack))):e}}]),r}(s.a.Component),hu=r(719),Au=r(1592),mu={clearErrorNotification:yt},bu=Object(p.b)((function(e){return e.errorNotification}),mu)((function(e){var t=e.open,r=e.message,n=e.clearErrorNotification;return s.a.createElement(hu.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,onClose:n,ContentProps:{"aria-describedby":"error-notification"},message:s.a.createElement("span",{id:"error-notification"},r),action:[s.a.createElement(Mt.a,{key:"close","aria-label":"close",color:"inherit",onClick:n},s.a.createElement(Au.a,null))]})})),vu=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(P.a,null),s.a.createElement(O.SnackbarProvider,{maxSnack:3},s.a.createElement(I.a,{maxWidth:"lg"},s.a.createElement(su,null),s.a.createElement(pu,null,s.a.createElement(w.a,null,s.a.createElement(S.d,null,s.a.createElement(S.b,{path:"/test",component:Hc}),s.a.createElement(S.b,{path:"/address",component:Hi}),s.a.createElement(S.a,{from:"/spend",to:"/script"}),s.a.createElement(S.b,{path:"/script",component:nu}),s.a.createElement(S.b,{path:"/wallet",component:gi}),s.a.createElement(S.b,{path:"/help",component:re}),s.a.createElement(S.b,{path:"/",component:re}))),s.a.createElement(bu,null)),s.a.createElement(du,null))))},gu=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).history=Object(E.a)(),e}return Object(v.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.resetApp;this.unlisten=this.history.listen((function(){e()}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){return s.a.createElement(vu,null)}}]),r}(u.Component);var yu=Object(p.b)(null,(function(e){return{resetApp:function(){return e({type:"RESET_APP_STATE"})}}}))(gu),Eu=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function wu(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Su=function(e,t){return Object(W.a)(Object(W.a)({},e),t)},Pu={network:q.MAINNET,totalSigners:3,requiredSigners:2,addressType:q.P2SH,startingAddressIndex:0,frozen:!1},Iu={type:"public",url:"",username:"",password:"",urlError:"",usernameError:"",passwordError:"",status:"unknown"},Ou={present:!0,bip32Path:"",publicKeys:[],multisig:{},address:"",balanceSats:new X.a(0),utxos:[],change:!1,spend:!1,fetchedUTXOs:!1,fetchUTXOsError:"",addressUsed:!1,addressKnown:!0},Tu={nodes:{},trailingEmptyNodes:0,fetchUTXOsErrors:0,balanceSats:new X.a(0),spendingSats:new X.a(0),nextNode:null};function xu(e,t){var r=Object(W.a)(Object(W.a)(Object(W.a)({},Ou),e.nodes[t.value.bip32Path]||{}),t.value),n={};n[r.bip32Path]=r;var a=Object(W.a)(Object(W.a)({},e),{nodes:Object(W.a)(Object(W.a)({},e.nodes),n)});if("undefined"!==typeof t.value.spend&&(a.spendingSats=t.value.spend?e.spendingSats.plus(r.balanceSats):e.spendingSats.minus(r.balanceSats)),t.value.balanceSats){var o=e.nodes[r.bip32Path]?e.nodes[r.bip32Path].balanceSats:X()(0);a.balanceSats=e.balanceSats.plus(r.balanceSats.minus(o))}var i=0,c=0,u=Object.keys(a.nodes);u.sort((function(e,t){var r=(e||"").split("/"),n=(t||"").split("/");return parseInt(r[2],10)-parseInt(n[2],10)}));for(var s=!1,l=0;l<u.length;l+=1){var f=u[u.length-(l+1)],d=a.nodes[f];d.fetchedUTXOs&&(!d.balanceSats.isEqualTo(0)||d.addressUsed||s?s=!0:i+=1),""!==d.fetchUTXOsError&&(c+=1)}return a.trailingEmptyNodes=i,a.fetchUTXOsErrors=c,a.nextNode=function(e){for(var t=Object.values(e.nodes),r=0;r<t.length;r+=1){var n=t[r];if(n.balanceSats.isEqualTo(0)&&!n.addressUsed)return n}return null}(a),a}function ku(e){var t=Object(W.a)({},e);return Object.values(t.nodes).forEach((function(e){e.spend=!1})),t}var Cu=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tu,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"RESET_NODES_SPEND":return ku(t);case"RESET_NODES_FETCH_ERRORS":return Su(t,{fetchUTXOsErrors:0,nodes:Object.values(t.nodes).reduce((function(e,t){var r=e;return r[t.bip32Path]=Object(W.a)(Object(W.a)({},t),{},{fetchUTXOsError:""}),r}),{})});case e:return xu(t,r);default:return t}}};function ju(e){var t=(new Date).getTime().toString(),r=Object.values(e.extendedPublicKeyImporters).map((function(e){return e.extendedPublicKey})).join("");return"".concat(t,"-").concat(r)}var Bu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:e,bip32Path:Object(q.multisigBIP32Root)(q.P2SH,q.MAINNET),bip32PathModified:!1,method:"",extendedPublicKey:"",rootXfp:"",finalized:!1,conflict:!1}};function Ru(){return{extendedPublicKeyImporters:Object(oe.a)(Array(4).keys()).slice(1).reduce((function(e,t){return Object(W.a)(Object(W.a)({},e),{},Object(ja.a)({},t,Bu("Extended Public Key ".concat(t))))}),{}),defaultBIP32Path:Object(q.multisigBIP32Root)(q.P2SH,q.MAINNET),network:q.MAINNET,addressType:q.P2SH,fingerprint:"",finalizedNetwork:"",finalizedAddressType:"",configuring:!0}}function Nu(e,t){t.finalizedNetwork&&(e.conflict=t.finalizedNetwork!==t.network||t.finalizedAddressType!==t.addressType)}function _u(e,t,r){var n={};n[r]=t.value;var a=Object(W.a)(Object(W.a)({},e),{nodes:{}});return a.extendedPublicKeyImporters[t.number]=Su(e.extendedPublicKeyImporters[t.number],n),Object.values(a.extendedPublicKeyImporters).reduce((function(e,t){return e+t.finalized}),0)===Object.keys(a.extendedPublicKeyImporters).length&&"finalized"===r&&Object.values(a.extendedPublicKeyImporters).every((function(e){return!e.conflict}))&&(a.configuring=!1),Nu(a.extendedPublicKeyImporters[t.number],e),Su(a,{fingerprint:ju(a)})}function Lu(e,t){for(var r=t.value,n={},a=1;a<=r;a+=1)n[a]=e.extendedPublicKeyImporters[a]||Bu("Extended Public Key ".concat(a));var o=0;return Object.keys(n).forEach((function(e){n[e].finalized&&(o+=1)})),Object(W.a)(Object(W.a)({},e),{},{configuring:o<r},{extendedPublicKeyImporters:n})}function Mu(e,t,r){for(var n=1;n<=Object.values(e.extendedPublicKeyImporters).length;n+=1){var a=t.extendedPublicKeyImporters[n];a.bip32PathModified||a.finalized||(a.bip32Path=r),Nu(a,t)}}function Du(e,t){var r=e.addressType,n=t.value,a=Object(q.multisigBIP32Root)(r,n),o=Object(W.a)(Object(W.a)({},e),{network:n,defaultBIP32Path:a});return Mu(e,o,a),o}function Uu(e,t){var r=t.value,n=e.network,a=Object(q.multisigBIP32Root)(r,n),o=Object(W.a)(Object(W.a)({},e),{addressType:r,defaultBIP32Path:a});return Mu(e,o,a),o}function Fu(e,t){var r=Object(W.a)({},e);if(!0===t.value&&""===e.finalizedNetwork)r.finalizedNetwork=e.network,r.finalizedAddressType=e.addressType;else if(!1===t.value&&""!==e.finalizedNetwork){1===Object.values(e.extendedPublicKeyImporters).reduce((function(e,t){return!0===t.finalized?e+1:e}),0)&&(r.finalizedNetwork="",r.finalizedAddressType="",Object.values(r.extendedPublicKeyImporters).forEach((function(e){return e.conflict=!1})))}return r}function Gu(e){var t=(new Date).getTime().toString(),r=Object.values(e.publicKeyImporters).map((function(e){return e.publicKey})).join("");return"".concat(t,"-").concat(r)}var Ku=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:e,bip32Path:Object(q.multisigBIP32Path)(q.P2SH,q.MAINNET),bip32PathModified:!1,method:"",publicKey:"",finalized:!1,conflict:!1}};function Hu(){return{publicKeyImporters:Object(oe.a)(Array(4).keys()).slice(1).reduce((function(e,t){return Object(W.a)(Object(W.a)({},e),{},Object(ja.a)({},t,Ku("Public Key ".concat(t))))}),{}),defaultBIP32Path:Object(q.multisigBIP32Path)(q.P2SH,q.MAINNET),network:q.MAINNET,addressType:q.P2SH,fingerprint:"",finalizedNetwork:"",finalizedAddressType:"",address:""}}function Qu(e,t){if(1===t.number)return e;var r=Object(W.a)({},e),n=e.publicKeyImporters[t.number-1],a=e.publicKeyImporters[t.number];return r.publicKeyImporters[t.number-1]=a,r.publicKeyImporters[t.number]=n,Su(r,{fingerprint:Gu(r)})}function Vu(e,t){if(t.number===Object.values(e.publicKeyImporters).length)return e;var r=Object(W.a)({},e),n=e.publicKeyImporters[t.number+1],a=e.publicKeyImporters[t.number];return r.publicKeyImporters[t.number+1]=a,r.publicKeyImporters[t.number]=n,Su(r,{fingerprint:Gu(r)})}function Wu(e){for(var t=Object.values(e.publicKeyImporters),r=t.map((function(e){return e.publicKey})).sort().map((function(e){return t.find((function(t){return t.publicKey===e}))})),n={},a=1;a<=r.length;a+=1)n[a]=r[a-1];var o=Object(W.a)(Object(W.a)({},e),{publicKeyImporters:n});return Su(o,{fingerprint:Gu(o)})}function Yu(e,t){if(t.finalizedNetwork){var r=Object(W.a)({},t.publicKeyImporters);return r[e].conflict=t.finalizedNetwork!==t.network||t.finalizedAddressType!==t.addressType,Su(t,{publicKeyImporters:r})}return t}function Xu(e,t,r){var n={};n[r]=t.value;var a=Object(W.a)({},e);return a.publicKeyImporters[t.number]=Su(e.publicKeyImporters[t.number],n),a=Yu(t.number,e),Su(a,{fingerprint:Gu(a)})}function zu(e,t){for(var r=t.value,n={},a=1;a<=r;a+=1)n[a]=e.publicKeyImporters[a]||Object(W.a)(Object(W.a)({},Ku()),{name:"Public Key ".concat(a)});var o=Object(W.a)(Object(W.a)({},e),{publicKeyImporters:n,stub:t.type});return Su(o,{fingerprint:Gu(o)})}function qu(e,t){for(var r=Object(W.a)({},e),n=1;n<=Object.values(e.publicKeyImporters).length;n+=1){var a=r.publicKeyImporters[n];a.bip32PathModified||a.finalized||(a.bip32Path=t),r=Yu(n,r)}return r}function Zu(e,t){var r=t.value,n=e.addressType,a=Object(q.multisigBIP32Path)(n,r),o=Object(W.a)(Object(W.a)({},e),{network:r,defaultBIP32Path:a});return o=qu(o,a)}function Ju(e,t){var r=e.network,n=t.value,a=Object(q.multisigBIP32Path)(n,r),o=Object(W.a)(Object(W.a)({},e),{addressType:n,defaultBIP32Path:a});return o=qu(o,a)}function $u(e,t){var r=Object(W.a)({},e);if(!0===t.value&&""===e.finalizedNetwork&&"text"!==r.publicKeyImporters[t.number].method)r.finalizedNetwork=e.network,r.finalizedAddressType=e.addressType;else if(!1===t.value&&""!==e.finalizedNetwork){1===Object.values(e.publicKeyImporters).reduce((function(e,t){return!0===t.finalized&&"text"!==t.method?e+1:e}),0)&&(r.finalizedNetwork="",r.finalizedAddressType="",Object.values(r.publicKeyImporters).forEach((function(e){return e.conflict=!1})))}return r}var es={walletMode:wt,walletName:"My Multisig Wallet",nodesLoaded:!1};function ts(e){return Su(e,{walletMode:wt})}var rs={chosen:!1,publicKeyImporter:Object(W.a)({},{bip32Path:"",method:"",publicKey:""}),network:q.MAINNET,addressType:q.P2SH,publicKeys:[],address:"",defaultBIP32Path:Object(q.multisigBIP32Path)(q.P2SH,q.MAINNET)};function ns(e,t,r){var n={};return n[r]=t.value,Object(W.a)(Object(W.a)({},e),{publicKeyImporter:Object(W.a)(Object(W.a)({},e.publicKeyImporter),n)})}function as(e,t){var r=t.value,n=Object(q.multisigAddressType)(r),a=Object(q.multisigBIP32Path)(n,e.network);return Object(W.a)(Object(W.a)({},e),{network:e.network,addressType:n,publicKeys:Object(q.multisigPublicKeys)(r),address:r.address,defaultBIP32Path:a})}var os={name:"",method:"",publicKeys:[],signature:[],bip32Path:"",finalized:!1},is={};function cs(e,t){for(var r={},n=1;n<=t.value;n+=1)r[n]=Object(W.a)(Object(W.a)({},os),{name:"Signature ".concat(n)});return r}function us(e,t,r){var n={};n[r]=t.value;var a=Object(W.a)({},e);return a[t.number]=Su(e[t.number],n),a}function ss(e,t){var r=Object(W.a)({},e);return r[t.number]=Su(e[t.number],t.value),r}function ls(e,t){var r=e.txid.toLowerCase(),n=t.txid.toLowerCase();return r<n?-1:r>n?1:e.n<t.n?-1:e.n>t.n?1:0}var fs=function(){return{chosen:!1,network:q.MAINNET,inputs:[],inputsTotalSats:new X.a(0),outputs:[{address:"",amount:"",amountSats:"",addressError:"",amountError:""}],changeOutputIndex:0,feeRate:"",feeRateError:"",fee:"",feeError:"",finalizedOutputs:!1,txid:"",balanceError:"",addressType:q.P2SH,requiredSigners:2,totalSigners:3,unsignedTransaction:{},isWallet:!1,autoSpend:!0,changeAddress:"",updatesComplete:!0,signingKeys:[0,0],spendingStep:0}};function ds(e,t){var r=t.value.reduce((function(e,t){return e.plus(t.amountSats)}),new X.a(0));return Su(e,{inputs:t.value.sort(ls),inputsTotalSats:r})}function ps(e,t,r){return Object(q.satoshisToBitcoins)(Object(q.estimateMultisigTransactionFee)({addressType:e.addressType,numInputs:e.inputs.length,numOutputs:r,m:e.requiredSigners,n:e.totalSigners,feesPerByteInSatoshis:t})).toFixed(8).toString()}function hs(e,t){for(var r=Object(W.a)({},e),n=[],a=0;a<r.outputs.length;a+=1)a!==t.number-1?n.push(r.outputs[a]):t.number===r.changeOutputIndex&&(r.changeOutputIndex=0),t.number<r.changeOutputIndex&&(r.changeOutputIndex-=1);return Object(W.a)(Object(W.a)({},r),{outputs:n,fee:ps(r,r.feeRate,n.length)})}function As(e,t){var r=t.value,n=Object(q.validateFeeRate)(r),a=""===n?ps(e,r,e.outputs.length):"";return Su(e,{feeRate:r,feeRateError:n,fee:a,feeError:""})}function ms(e,t){var r=t.value,n=Object(q.bitcoinsToSatoshis)(r),a=Object(q.validateFee)(n,e.inputsTotalSats);return Su(e,{fee:r,feeError:a,feeRateError:""})}function bs(e){var t=e.outputs.concat({address:"",amount:"",amountSats:"",addressError:"",amountError:""});return Object(W.a)(Object(W.a)({},e),{outputs:t,fee:ps(e,e.feeRate,t.length)})}function vs(e,t){var r=Object(oe.a)(e.outputs),n=t.value,a=Object(q.validateAddress)(n,e.network);if(""===a)for(var o=0;o<e.inputs.length;o+=1){var i=e.inputs[o];if(i.multisig&&n===i.multisig.address){a="Output address cannot equal input address.";break}}if(""===a)for(var c=0;c<e.outputs.length;c+=1)if(c!==t.number-1&&e.outputs[c].address===n){a="Duplicate output address.";break}return r[t.number-1].address=n,r[t.number-1].addressError=a,Object(W.a)(Object(W.a)({},e),{outputs:r})}function gs(e,t){var r=Object(oe.a)(e.outputs);return r[t.number-1].multisig=t.value,Object(W.a)(Object(W.a)({},e),{outputs:r})}function ys(e,t){var r=Object(oe.a)(e.outputs),n=t.value,a=Object(q.bitcoinsToSatoshis)(X()(n)),o=Object(q.validateOutputAmount)(a,e.inputsTotalSats);e.isWallet&&"Total input amount must be positive."===o&&(o=""),e.isWallet&&"Output amount is too large."===o&&(o="");var i=X()(n).dp();return i>8&&(n=n.slice(0,8-i)),r[t.number-1].amount=n,r[t.number-1].amountError=o,r[t.number-1].amountSats=o?"":a,Object(W.a)(Object(W.a)({},e),{outputs:r})}function Es(e,t){var r;try{var n=Object(q.unsignedMultisigPSBT)(e.network,e.inputs,e.outputs);r=Object(q.unsignedTransactionObjectFromPSBT)(n)}catch(a){r=Object(q.unsignedMultisigTransaction)(e.network,e.inputs,e.outputs)}return Object(W.a)(Object(W.a)({},e),{finalizedOutputs:t.value,unsignedTransaction:r})}function ws(e,t){return Su(e,{requiredSigners:t.value,signingKeys:Array(t.value).fill(0)})}function Ss(e,t){var r=Object(oe.a)(e.signingKeys);return r[t.number-1]=t.value,Su(e,{signingKeys:r})}function Ps(e){return Su(e,{outputs:[{address:"",amount:"",amountSats:"",addressError:"",amountError:""}],fee:"",balanceError:"",changeOutputIndex:0})}function Is(e){var t=Su(e,Object(W.a)(Object(W.a)({},fs()),{},{totalSigners:e.totalSigners,network:e.network,addressType:e.addressType,isWallet:e.isWallet,changeAddress:e.changeAddress}));return t=Ps(t=ws(t,{value:e.requiredSigners}))}function Os(e){var t=Object(W.a)({},e);if(t.outputs.find((function(e){return""!==e.addressError||""!==e.amountError}))||""!==t.feeError||""!==t.feeRateError||0===t.inputs.length)return Object(W.a)(Object(W.a)({},t),{},{balanceError:""});var r=Object(q.bitcoinsToSatoshis)(new X.a(t.fee)),n=function(e){return e.outputs.reduce((function(e,t){var r=t.amount;return e.plus(Object(q.bitcoinsToSatoshis)(new X.a(r||0)))}),new X.a(0))}(t);if(!t.inputsTotalSats.isEqualTo(n.plus(r))){var a,o=n.plus(r).minus(t.inputsTotalSats);if(o.isNaN())a="Cannot calculate total.";else{t=Su(t,{updatesComplete:!0});var i=o.isLessThan(0)?"Increase":"Decrease";a="".concat(i," by ").concat(Object(q.satoshisToBitcoins)(o.absoluteValue()).toFixed(8),".")}return Object(W.a)(Object(W.a)({},t),{},{balanceError:a})}var c=new X.a(ps(t,"1",0));return new X.a(t.fee).isLessThan(c)?Object(W.a)(Object(W.a)({},t),{},{balanceError:"Fee is too small. Should be no less than ".concat(Object(q.bitcoinsToSatoshis)(c)," satoshis.")}):Object(W.a)(Object(W.a)({},t),{},{balanceError:""})}var Ts={type:"",version:"",note:"",status:In.PENDING},xs=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"postprocess",value:function(e){return e.pubkey?e.pubkey:e}},{key:"name",value:function(){return"Export ".concat(this.params.network," public key at ").concat(this.params.bip32Path)}},{key:"description",value:function(){return s.a.createElement("p",null,"Export a public key at BIP32 path",s.a.createElement("code",null,this.params.bip32Path),".")}},{key:"interaction",value:function(){return Object(In.ExportPublicKey)({keystore:this.params.keystore,network:this.params.network,bip32Path:this.params.bip32Path,includeXFP:!0})}},{key:"expected",value:function(){var e=q.TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path],t=e.pub,r=e.rootFingerprint;return this.params.keystore===In.HERMIT?t:{publicKey:t,rootFingerprint:r}}}]),r}(kc),ks=function(e){switch(e){case In.COLDCARD:return[new xs({keystore:e,network:q.TESTNET,bip32Path:"m/48'/1'/0'/1'/0/0"}),new xs({keystore:e,network:q.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0"}),new xs({keystore:e,network:q.MAINNET,bip32Path:"m/48'/0'/0'/1'/0/0"}),new xs({keystore:e,network:q.MAINNET,bip32Path:"m/48'/0'/0'/2'/0/0"})];default:return[new xs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'/0/0"}),new xs({keystore:e,network:q.TESTNET,bip32Path:"m/48'/1'/0'/1'/0/0"}),new xs({keystore:e,network:q.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0"}),new xs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'/0/0"}),new xs({keystore:e,network:q.MAINNET,bip32Path:"m/48'/0'/0'/1'/0/0"}),new xs({keystore:e,network:q.MAINNET,bip32Path:"m/48'/0'/0'/2'/0/0"})]}},Cs=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"postprocess",value:function(e){return e.pubkey?e.pubkey:e}},{key:"name",value:function(){return"Export ".concat(this.params.network," xpub at ").concat(this.params.bip32Path)}},{key:"description",value:function(){return s.a.createElement("p",null,"Export an extended public key at BIP32 path"," ",s.a.createElement("code",null,this.params.bip32Path))}},{key:"interaction",value:function(){return Object(In.ExportExtendedPublicKey)({keystore:this.params.keystore,network:this.params.network,bip32Path:this.params.bip32Path,includeXFP:!0})}},{key:"expected",value:function(){var e=q.TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path],t=e.xpub,r=e.tpub,n=e.rootFingerprint;return this.params.keystore===In.HERMIT?{xpub:t,bip32Path:this.params.bip32Path}:this.params.network===q.MAINNET||this.params.keystore===In.TREZOR?{xpub:t,rootFingerprint:n}:this.params.keystore===In.LEDGER||this.params.keystore===In.COLDCARD?{xpub:r||t,rootFingerprint:n}:{tpub:r,rootFingerprint:n}}}]),r}(kc),js=function(e){switch(e){case In.COLDCARD:return[new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0/0"})];case In.LEDGER:return[new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1/0"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'/0/0"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'/0/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/4'/99'/2147483647/3/1"})];case In.TREZOR:default:return[new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'/0"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/0'/0/0"}),new Cs({keystore:e,network:q.TESTNET,bip32Path:"m/45'/1'/4'/99'/2147483647/3/1"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/0'/0/0"}),new Cs({keystore:e,network:q.MAINNET,bip32Path:"m/45'/0'/4'/99'/2147483647/3/1"})]}},Bs=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"name",value:function(){return"Confirm ".concat(this.params.network," ").concat(this.params.type," multisig address")}},{key:"description",value:function(){return s.a.createElement(T.a,null,s.a.createElement("p",null,"Confirm the following",this.params.network," ",this.params.type," 2-of-2 multisig address on your device:"),s.a.createElement(Tr.a,null,s.a.createElement(jr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Address:"),s.a.createElement(Cr.a,null,J(Object(q.blockExplorerAddressURL)(this.params.address,this.params.network),s.a.createElement("code",null,this.params.address)))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"BIP32 Path:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,this.params.bip32Path))))))}},{key:"interaction",value:function(){return Object(In.ConfirmMultisigAddress)(Object(W.a)({keystore:this.params.keystore,network:this.params.network,bip32Path:this.params.bip32Path,multisig:this.params.multisig,addressIndex:this.params.addressIndex,policyHmac:this.params.policyHmac},Object(In.braidDetailsToWalletConfig)(JSON.parse(this.params.multisig.braidDetails))))}}]),r}(kc),Rs=function(e){return q.TEST_FIXTURES.multisigs.filter((function(t){return e!==In.LEDGER||t.policyHmac})).map((function(t){var r=null===t||void 0===t?void 0:t.bip32Path.split("/").slice(-1)[0];return new Bs(Object(W.a)(Object(W.a)(Object(W.a)({},t),{keystore:e}),{},{addressIndex:r,expected:t.address}))}))},Ns=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"name",value:function(){return"Sign ".concat(this.params.network," transaction w/ ").concat(this.params.outputs.length," outputs and ").concat(this.params.inputs.length," inputs")}},{key:"postprocess",value:function(e){return e.signatures?e.signatures:e}},{key:"matches",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"description",value:function(){return s.a.createElement(T.a,null,s.a.createElement("p",null,"Sign a transaction which",this.params.description,"."),s.a.createElement("p",null,s.a.createElement("small",null,"This transaction is not meant to be broadcast, but just in case, the output address is fixed and owned by Unchained Capital.")),s.a.createElement(Tr.a,null,s.a.createElement(jr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Output Address:"),s.a.createElement(Cr.a,null,J(Object(q.blockExplorerAddressURL)(this.outputAddress(),this.params.network),s.a.createElement("code",null,this.outputAddress())))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Output Amount:"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(this.outputAmountSats()).toString()," BTC")),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Change Output Address:"),s.a.createElement(Cr.a,null,s.a.createElement("code",null,this.changeOutputAddress()))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Change Output Amount:"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(this.changeOutputAmountSats()).toString()," ","BTC")),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Fees:"),s.a.createElement(Cr.a,null,Object(q.satoshisToBitcoins)(this.feeSats()).toString()," BTC")))))}},{key:"inputsTotalSats",value:function(){return this.params.inputs.reduce((function(e,t){return e+t.amountSats.toNumber()}),0)}},{key:"outputAddress",value:function(){return this.params.outputs[0].address}},{key:"outputAmountSats",value:function(){return this.params.outputs[0].amountSats.toNumber()}},{key:"changeOutputAddress",value:function(){return this.params.outputs[1].address}},{key:"changeOutputAmountSats",value:function(){return this.params.outputs[1].amountSats.toNumber()}},{key:"feeSats",value:function(){return this.inputsTotalSats()-this.outputAmountSats()-this.changeOutputAmountSats()}},{key:"unsignedTransaction",value:function(){var e;try{var t=Object(q.unsignedMultisigPSBT)(this.params.network,this.params.inputs,this.params.outputs);e=Object(q.unsignedTransactionObjectFromPSBT)(t)}catch(r){e=Object(q.unsignedMultisigTransaction)(this.params.network,this.params.inputs,this.params.outputs)}return e}},{key:"interaction",value:function(){return Object(In.SignMultisigTransaction)({keystore:this.params.keystore,network:this.params.network,inputs:this.params.inputs,outputs:this.params.outputs,bip32Paths:this.params.bip32Paths,walletConfig:Object(In.braidDetailsToWalletConfig)(this.params.braidDetails),policyHmac:this.params.policyHmac,psbt:this.params.psbt})}},{key:"expected",value:function(){return this.params.keystore===In.COLDCARD?this.params.byteCeilingSignature:this.params.signature}}]),r}(kc);function _s(e){var t=[];switch(e){case In.HERMIT:return q.TEST_FIXTURES.transactions.forEach((function(r){r.segwit||t.push(new Ns(Object(W.a)(Object(W.a)({},r),{keystore:e})))})),t;case In.LEDGER:return q.TEST_FIXTURES.transactions.filter((function(e){return e.policyHmac&&e.braidDetails})).map((function(t){return new Ns(Object(W.a)(Object(W.a)({},t),{keystore:e}))}));default:return q.TEST_FIXTURES.transactions.map((function(t){return new Ns(Object(W.a)(Object(W.a)({},t),{keystore:e}))}))}}var Ls=ks(In.TREZOR).concat(js(In.TREZOR)).concat(_s(In.TREZOR)).concat(Rs(In.TREZOR)),Ms=function(e){Object(g.a)(r,e);var t=Object(y.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"name",value:function(){return"Confirm ".concat(this.params.network," ").concat(this.params.type," multisig wallet policy")}},{key:"postprocess",value:function(e){return e}},{key:"expected",value:function(){return this.params.policyHmac}},{key:"description",value:function(){return s.a.createElement(T.a,null,s.a.createElement("p",null,'Confirm the wallet policy: "',this.params.network," ",this.params.type," 2-of-2 multisig address&quote;"),s.a.createElement(Tr.a,{style:{tableLayout:"fixed",width:"100%"}},s.a.createElement(jr.a,null,s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Name:"),s.a.createElement(Cr.a,{colSpan:5},this.params.walletConfig.name)),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Expected token:"),s.a.createElement(Cr.a,{colSpan:5},s.a.createElement("code",null,this.params.policyHmac))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,{colSpan:6,style:{textAlign:"center",textTransform:"uppercase"}},"Registering Quorum")),this.params.braidDetails.extendedPublicKeys.map((function(e,t){return s.a.createElement(s.a.Fragment,{key:e.rootFingerprint},s.a.createElement(kr.a,null,s.a.createElement(Cr.a,{colSpan:6,style:{textAlign:"center"}},"Key ",t)),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"xpub:"),s.a.createElement(Cr.a,{style:{wordBreak:"break-word"},colSpan:5},s.a.createElement("code",null,e.base58String))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"xfp:"),s.a.createElement(Cr.a,{style:{wordBreak:"break-word"},colSpan:5},s.a.createElement("code",null,e.rootFingerprint))),s.a.createElement(kr.a,null,s.a.createElement(Cr.a,null,"Path:"),s.a.createElement(Cr.a,{style:{wordBreak:"break-word"},colSpan:5},s.a.createElement("code",null,e.path))))})))))}},{key:"interaction",value:function(){return Object(In.RegisterWalletPolicy)(Object(W.a)({keystore:this.params.keystore,policyHmac:this.params.policyHmac,verify:!0},this.params.walletConfig))}}]),r}(kc),Ds=function(e){return q.TEST_FIXTURES.multisigs.filter((function(e){return e.policyHmac&&e.braidDetails})).map((function(t){return new Ms(Object(W.a)(Object(W.a)(Object(W.a)({},t),{keystore:e}),{},{walletConfig:Object(In.braidDetailsToWalletConfig)(t.braidDetails)}))}))},Us=ks(In.LEDGER).concat(js(In.LEDGER)).concat(_s(In.LEDGER)).concat(Rs(In.LEDGER)).concat(Ds(In.LEDGER)),Fs=ks(In.HERMIT).concat(js(In.HERMIT)).concat(_s(In.HERMIT)),Gs=ks(In.COLDCARD).concat(js(In.COLDCARD)).concat(_s(In.COLDCARD)),Ks={};Ks[In.TREZOR]=Ls,Ks[In.LEDGER]=Us,Ks[In.HERMIT]=Fs,Ks[In.COLDCARD]=Gs;q.TEST_FIXTURES.bip39Phrase;var Hs={startedAt:"",endedAt:"",status:In.PENDING,message:"",note:""},Qs={started:!1,startedAt:"",endedAt:"",testRuns:[],currentTestRunIndex:-1},Vs=function(e){return""===e.keystoreType?[]:(Ks[e.keystoreType]||[]).map((function(e){return Object(W.a)(Object(W.a)({},Hs),{test:e})}))},Ws=function(e,t,r){return Object(W.a)(Object(W.a)({},e),{testRuns:e.testRuns.map((function(e,n){return n===t?Object(W.a)(Object(W.a)({},e),r):e}))})},Ys={message:"",open:!1},Xs=Object(d.c)({ownership:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs,t=arguments.length>1?arguments[1]:void 0,r=ns(e,{value:""},"publicKey");switch(t.type){case"CHOOSE_CONFIRM_OWNERSHIP":return Su(e,{chosen:!0});case"SET_NETWORK":return Su(e,{network:t.value});case"SET_OWNERSHIP_MULTISIG":return as(e,t);case"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return ns(r,t,"bip32Path");case"SET_PUBLIC_KEY_IMPORTER_METHOD":return ns(e,t,"method");case"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY":return ns(e,t,"publicKey");case"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return ns(e,{value:e.defaultBIP32Path},"bip32Path");case"RESET_PUBLIC_KEY_IMPORTER":return Object(W.a)(Object(W.a)({},e),{publicKeyImporter:Object(W.a)(Object(W.a)({},e.publicKeyImporter),{bip32Path:e.defaultBIP32Path,publicKey:""})});default:return e}},transaction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_PERFORM_SPEND":return Su(e,{chosen:!0});case"SET_NETWORK":return Su(e,{network:t.value});case"SET_ADDRESS_TYPE":return Su(e,{addressType:t.value});case"SET_REQUIRED_SIGNERS":return ws(e,t);case"SET_TOTAL_SIGNERS":return Su(e,{totalSigners:t.value});case"SET_INPUTS":return Os(ds(e,t));case"ADD_OUTPUT":return Os(bs(e));case"SET_CHANGE_OUTPUT_INDEX":return Su(e,{changeOutputIndex:t.value});case"SET_CHANGE_OUTPUT_MULTISIG":return gs(e,t);case"SET_OUTPUT_ADDRESS":return Os(vs(e,t));case"SET_OUTPUT_AMOUNT":return Os(ys(e,t));case"DELETE_OUTPUT":return Os(hs(e,t));case"SET_FEE_RATE":return Os(As(e,t));case"SET_FEE":return Os(ms(e,t));case"FINALIZE_OUTPUTS":return Es(e,t);case"RESET_OUTPUTS":return Ps(e);case"SET_TXID":return Su(e,{txid:t.value});case"SET_IS_WALLET":return Su(e,{isWallet:!0});case"RESET_TRANSACTION":return Is(e);case"UPDATE_AUTO_SPEND":return Su(e,{autoSpend:t.value});case"SET_SIGNING_KEY":return Ss(e,t);case"SET_CHANGE_ADDRESS":return Su(e,{changeAddress:t.value});case"RESET_NODES_SPEND":return ds(e,{value:[]});case"SET_BALANCE_ERROR":return Su(e,{balanceError:t.value});case"SET_SPEND_STEP":return Su(e,{spendingStep:t.value});default:return e}},signatureImporters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_TRANSACTION":return Object(W.a)({},is);case"SET_REQUIRED_SIGNERS":return cs(0,t);case"SET_SIGNATURE_IMPORTER_NAME":return us(e,t,"name");case"SET_SIGNATURE_IMPORTER_METHOD":return us(e,t,"method");case"SET_SIGNATURE_IMPORTER_BIP32_PATH":return us(e,t,"bip32Path");case"SET_SIGNATURE_IMPORTER_SIGNATURE":return us(e,t,"signature");case"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS":return us(e,t,"publicKeys");case"SET_SIGNATURE_IMPORTER_FINALIZED":return us(e,t,"finalized");case"SET_SIGNATURE_IMPORTER_COMPLETE":return ss(e,t);default:return e}}}),zs=Object(d.c)({deposits:Cu("UPDATE_DEPOSIT_SLICE"),change:Cu("UPDATE_CHANGE_SLICE"),common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WALLET_MODE":return Su(e,{walletMode:t.value});case"UPDATE_WALLET_NAME":return Su(e,{walletName:t.value});case"RESET_WALLET_VIEW":return ts(e);case"INITIAL_LOAD_COMPLETE":return Su(e,{nodesLoaded:!0});default:return e}}}),qs=Object(d.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return Su(e,{network:t.value});case"SET_TOTAL_SIGNERS":return Su(e,{totalSigners:t.value});case"SET_REQUIRED_SIGNERS":return Su(e,{requiredSigners:t.value});case"SET_STARTING_ADDRESS_INDEX":return Su(e,{startingAddressIndex:t.value});case"SET_ADDRESS_TYPE":return Su(e,{addressType:t.value});case"SET_FROZEN":return Su(e,{frozen:t.value});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_TYPE":return Su(e,{type:t.value});case"SET_CLIENT_URL":return Su(e,{url:t.value});case"SET_CLIENT_USERNAME":return Su(e,{username:t.value});case"SET_CLIENT_PASSWORD":return Su(e,{password:t.value});case"SET_CLIENT_URL_ERROR":return Su(e,{urlError:t.value});case"SET_CLIENT_USERNAME_ERROR":return Su(e,{usernameError:t.value});case"SET_CLIENT_PASSWORD_ERROR":return Su(e,{passwordError:t.value});default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return Zu(e,t);case"SET_ADDRESS_TYPE":return Ju(e,t);case"SET_TOTAL_SIGNERS":return zu(e,t);case"SET_PUBLIC_KEY_IMPORTER_NAME":return Xu(e,t,"name");case"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Xu(Xu(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Xu(Xu(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_METHOD":return Xu(e,t,"method");case"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY":return Xu(e,t,"publicKey");case"SET_PUBLIC_KEY_IMPORTER_FINALIZED":return Xu($u(e,t),t,"finalized");case"MOVE_PUBLIC_KEY_IMPORTER_UP":return Qu(e,t);case"MOVE_PUBLIC_KEY_IMPORTER_DOWN":return Vu(e,t);case"SORT_PUBLIC_KEY_IMPORTERS":return Wu(e);case"UPDATE_MULTISIG_ADDRESS":return Su(e,{address:t.value});default:return e}},spend:Xs,quorum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return Du(e,t);case"SET_ADDRESS_TYPE":return Uu(e,t);case"SET_TOTAL_SIGNERS":return Lu(e,t);case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME":return _u(e,t,"name");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return _u(_u(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return _u(_u(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD":return _u(e,t,"method");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY":return _u(e,t,"extendedPublicKey");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT":return _u(e,t,"rootXfp");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED":return _u(Fu(e,t),t,"finalized");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE":return Object(W.a)(Object(W.a)({},e),{configuring:t.value});default:return e}},wallet:zs,testSuiteRun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qi:return Object(W.a)(Object(W.a)({},e),{testRuns:Vs(t)});case Wi:return Object(W.a)(Object(W.a)({},e),{started:!0,startedAt:ta()(),currentTestRunIndex:0});case Yi:return Object(W.a)(Object(W.a)({},e),{currentTestRunIndex:t.value});case rc:return Ws(e,t.testRunIndex,{startedAt:ta()(),status:In.ACTIVE});case nc:return Ws(e,t.testRunIndex,{endedAt:ta()(),status:t.status,message:t.message});case ac:return Ws(e,t.testRunIndex,Hs);case oc:return Ws(e,t.testRunIndex,{note:t.note});default:return e}},keystore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qi:return Object(W.a)(Object(W.a)({},e),{type:t.keystoreType,version:t.version});case Zi:return Object(W.a)(Object(W.a)({},e),{note:t.value});case Ji:return Object(W.a)(Object(W.a)({},e),{status:t.value});default:return e}},errorNotification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(W.a)(Object(W.a)({},e),{open:!0,message:t.value});case vt:return Object(W.a)(Object(W.a)({},e),{open:!1,message:""});default:return e}}}),Zs=function(e,t){var r=e;return"RESET_WALLET"!==t.type&&"RESET_APP_STATE"!==t.type||(r=void 0),qs(r,t)},Js=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,$s=Object(d.e)(Zs,Js(Object(d.a)(A.a,m.a)));f.a.render(s.a.createElement(p.a,{store:$s},s.a.createElement(yu,null)),document.getElementById("app")),function(){if("serviceWorker"in navigator){if(new URL("/caravan",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/caravan","/service-worker.js");Eu?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):wu(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):wu(e)}))}}()},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TESTNET=t.NETWORKS=t.MAINNET=void 0,t.getNetworkFromPrefix=function(e){switch(e.toLowerCase()){case"xpub":case"ypub":case"zpub":return"mainnet";case"tpub":case"upub":case"vpub":return"testnet";default:throw new Error("Unrecognized extended public key prefix ".concat(e))}},t.networkData=function(e){switch(e){case a.MAINNET:return n.networks.bitcoin;case a.TESTNET:default:return n.networks.testnet}},t.networkLabel=function(e){switch(e){case a.MAINNET:return"Mainnet";case a.TESTNET:default:return"Testnet"}};var n=r(192);t.MAINNET="mainnet";t.TESTNET="testnet";var a={MAINNET:"mainnet",TESTNET:"testnet"};t.NETWORKS=a},187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.P2SH_P2WSH=void 0,t.estimateMultisigP2SH_P2WSHTransactionVSize=function(e){var t=76*e.numInputs+34*e.numOutputs+30,r=72*e.m*e.numInputs+33*e.n*e.numInputs+6*e.numInputs;return Math.ceil(.75*t+.25*(t+r))};t.P2SH_P2WSH="P2SH-P2WSH"},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.P2WSH=void 0,t.calculateBase=i,t.calculateTotalWitnessSize=c,t.estimateMultisigP2WSHTransactionVSize=function(e){var t=i(e.numInputs,e.numOutputs),r=c(e);return function(e,t){var r=3*e+(e+t);return Math.ceil(r/4)}(t,r)},t.getRedeemScriptSize=a,t.getWitnessSize=o;var n=r(398);function a(e){return 1+e+33*e+1+1}function o(e,t){var r=e,o=73*e,i=a(t);return n.encoding.sizeVarint(1+e+1)+1+r+o+1+i}function i(e,t){var r=0;return r+=4,r+=4,r+=n.encoding.sizeVarint(e),r+=41*e,r+=n.encoding.sizeVarint(t),r+=t*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:34,t=8,r=n.encoding.sizeVarint(e);return t+r+e}()}function c(e){var t=e.numInputs,r=e.m,a=e.n,i=0;return i+=1,i+=1,i+=n.encoding.sizeVarint(t),i+=t*o(r,a)}t.P2WSH="P2WSH"},204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZERO=void 0,t.bitcoinsToSatoshis=function(e){return(0,a.default)(e).shiftedBy(8).integerValue(a.default.ROUND_DOWN)},t.hash160=function(e){return o.crypto.ripemd160(o.crypto.sha256(e))},t.satoshisToBitcoins=function(e){return(0,a.default)(e).integerValue(a.default.ROUND_DOWN).shiftedBy(-8)},t.toHexString=function(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},t.validBase64=function(e){return i.test(e)},t.validateHex=function(e){if(e.length%2)return"Invalid hex: odd-length string.";if(!c.test(e))return"Invalid hex: only characters a-f, A-F and 0-9 allowed.";return""},r(189),r(160),r(190),r(224);var n,a=(n=r(223))&&n.__esModule?n:{default:n},o=r(192);var i=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/,c=/^[0-9A-Fa-f]*$/;var u=(0,a.default)(0);t.ZERO=u},232:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MULTISIG_ADDRESS_TYPES=void 0,t.generateMultisigFromHex=function(t,r,a){var o=u.payments.p2ms({output:e.from(a,"hex"),network:(0,n.networkData)(t)});return l(r,o)},t.generateMultisigFromPublicKeys=function(t,r,a){for(var o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];var s=u.payments.p2ms({m:a,pubkeys:i.map((function(t){return e.from(t,"hex")})),network:(0,n.networkData)(t)});return l(r,s)},t.generateMultisigFromRaw=l,t.multisigAddress=function(e){return e.address},t.multisigAddressType=f,t.multisigBraidDetails=function(e){return e.braidDetails?e.braidDetails:null},t.multisigPublicKeys=function(e){return(f(e)===a.P2SH?d(e):p(e)).pubkeys.map(c.toHexString)},t.multisigRedeemScript=d,t.multisigRequiredSigners=function(e){return f(e)===o.P2SH_P2WSH?e.redeem.redeem.m:e.redeem.m},t.multisigScript=function(e){switch(f(e)){case a.P2SH:return d(e);case o.P2SH_P2WSH:case i.P2WSH:return p(e);default:return null}},t.multisigTotalSigners=function(e){return f(e)===o.P2SH_P2WSH?e.redeem.redeem.n:e.redeem.n},t.multisigWitnessScript=p,r(413),r(224);var n=r(163),a=r(261),o=r(187),i=r(188),c=r(204),u=r(192),s={P2SH:a.P2SH,P2SH_P2WSH:o.P2SH_P2WSH,P2WSH:i.P2WSH};function l(e,t){switch(e){case a.P2SH:return u.payments.p2sh({redeem:t});case o.P2SH_P2WSH:return u.payments.p2sh({redeem:u.payments.p2wsh({redeem:t})});case i.P2WSH:return u.payments.p2wsh({redeem:t});default:return null}}function f(e){return e.redeem.redeem?o.P2SH_P2WSH:e.address.match(/^(tb|bc)/)?i.P2WSH:a.P2SH}function d(e){switch(f(e)){case a.P2SH:case o.P2SH_P2WSH:return e.redeem;case i.P2WSH:default:return null}}function p(e){switch(f(e)){case a.P2SH:return null;case o.P2SH_P2WSH:return e.redeem.redeem;case i.P2WSH:return e.redeem;default:return null}}t.MULTISIG_ADDRESS_TYPES=s}).call(this,r(9).Buffer)},261:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.P2SH=void 0,t.estimateMultisigP2SHTransactionVSize=function(e){var t=41*e.numInputs+34*e.numOutputs+30,r=73*e.m*e.numInputs+34*e.n*e.numInputs+4*e.numInputs;return t+r};t.P2SH="P2SH"},286:function(e,t,r){"use strict";(function(e){r(104),r(170),r(443),r(53),r(287),r(146),r(173),r(174),r(147),r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.WARNING=t.UnsupportedInteraction=t.UNSUPPORTED=t.STATES=t.PENDING=t.LEVELS=t.KeystoreInteraction=t.IndirectKeystoreInteraction=t.INFO=t.ERROR=t.DirectKeystoreInteraction=t.ACTIVE=void 0,r(73),r(71),r(72),r(148),r(446),r(358),r(246);var n,a=(n=r(1248))&&n.__esModule?n:{default:n},o=r(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,r){return e[t]=r}}function f(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=f;var p={};function h(){}function A(){}function m(){}var b={};l(b,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==t&&r.call(g,o)&&(b=g);var y=m.prototype=h.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,u){var s=d(e[a],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function S(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=P(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function P(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return A.prototype=m,n(y,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:A,configurable:!0}),A.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(w.prototype),l(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(f(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,c,"next",e)}function c(e){u(o,n,a,i,c,"throw",e)}i(void 0)}))}}function l(){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=f(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}t.UNSUPPORTED="unsupported";t.PENDING="pending";t.ACTIVE="active";t.INFO="info";t.WARNING="warning";t.ERROR="error";var E=["pending","active","unsupported"];t.STATES=E;var w=["info","warning","error"];t.LEVELS=w;var S=function(){function e(){b(this,e),this.environment=a.default.getParser(window.navigator.userAgent)}return g(e,[{key:"isSupported",value:function(){return!0}},{key:"messages",value:function(){return[]}},{key:"messagesFor",value:function(e){var t=e.state,r=e.level,n=e.code,a=e.text,o=e.version;return this.messages().filter((function(e){return(!t||e.state===t)&&((!r||e.level===r)&&(!(n&&!(e.code||"").match(n))&&(!(a&&!(e.text||"").match(a))&&!(o&&!(e.version||"").match(o)))))}))}},{key:"hasMessagesFor",value:function(e){var t=e.state,r=e.level,n=e.code,a=e.text,o=e.version;return this.messagesFor({state:t,level:r,code:n,text:a,version:o}).length>0}},{key:"messageFor",value:function(e){var t=e.state,r=e.level,n=e.code,a=e.text,o=e.version,i=this.messagesFor({state:t,level:r,code:n,text:a,version:o});return i.length>0?i[0]:null}},{key:"messageTextFor",value:function(e){var t=e.state,r=e.level,n=e.code,a=e.text,o=e.version,i=this.messageFor({state:t,level:r,code:n,text:a,version:o});return i?i.text:null}}]),e}();t.KeystoreInteraction=S;var P=function(e){d(r,e);var t=h(r);function r(e){var n,a=e.text,o=e.code;return b(this,r),(n=t.call(this)).text=a,n.code=o,n}return g(r,[{key:"isSupported",value:function(){return!1}},{key:"messages",value:function(){var e=l(m(r.prototype),"messages",this).call(this);return e.push({state:"unsupported",level:"error",code:this.code,text:this.text}),e}},{key:"run",value:function(){var e=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(this.text);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){throw new Error(this.text)}},{key:"parse",value:function(){throw new Error(this.text)}}]),r}(S);t.UnsupportedInteraction=P;var I=function(t){d(n,t);var r=h(n);function n(){var e;return b(this,n),(e=r.call(this)).direct=!0,e}return g(n,[{key:"run",value:function(){var e=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Override the `run` method in this interaction.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){throw new Error("This interaction is direct and does not support a `request` method.")}},{key:"parse",value:function(){throw new Error("This interaction is direct and does not support a `parse` method.")}},{key:"signatureFormatter",value:function(t,r){var n="".concat((0,o.signatureNoSighashType)(t),"01");return"buffer"===r?e.from(n,"hex"):n}},{key:"parseSignature",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return(e||[]).map((function(e){return t.signatureFormatter(e,r)}))}}]),n}(S);t.DirectKeystoreInteraction=I;var O=function(e){d(r,e);var t=h(r);function r(){var e;return b(this,r),(e=t.call(this)).indirect=!0,e.workflow=["parse"],e}return g(r,[{key:"request",value:function(){throw new Error("Override the `request` method in this interaction.")}},{key:"parse",value:function(e){throw new Error("Override the `parse` method in this interaction.")}},{key:"run",value:function(){var e=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("This interaction is indirect and does not support a `run` method.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(S);t.IndirectKeystoreInteraction=O}).call(this,r(9).Buffer)},343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bip32PathToSequence=function(e){return e.split("/").splice(1).map((function(e){return"'"===e.substr(-1)?parseInt(e.slice(0,-1),10)+c:parseInt(e,10)}))},t.bip32SequenceToPath=function(e){return"m/"+e.map((function(e){return e>=c?"".concat(e-c,"'"):e.toString()})).join("/")},t.getParentBIP32Path=function(e){var t=h(e);return t.length?t:e.split("/").slice(0,-1).join("/")},t.getRelativeBIP32Path=function(e,t){if(e===t)return"";var r=h(e);if(r.length)return r;var n=h(t);return n.length?n:t.startsWith(e)?t.slice(e.length+1):"The provided bip32Path does not start with the chroot."},t.hardenedBIP32Index=function(e){return parseInt(e,10)+c},t.multisigBIP32Path=function(e,t,r){var n=m(e,t);if(n)return n+"/".concat(r||"0");return null},t.multisigBIP32Root=m,t.validateBIP32Index=A,t.validateBIP32Path=h,r(418),r(231),r(1103),r(413),r(189),r(160),r(190),r(224),r(779);var n=r(163),a=r(261),o=r(187),i=r(188),c=Math.pow(2,31),u=/^(m\/)?(\d+'?\/)*\d+'?$/,s=/^(m\/)?(\d+'\/)*\d+'$/,l=/^(m\/)?(\d+\/)*\d+$/,f=/^\d+'?$/,d=Math.pow(2,31)-1,p=Math.pow(2,32)-1;function h(e,t){return null===e||void 0===e||""===e?"BIP32 path cannot be blank.":e.match(u)?t&&"hardened"===t.mode&&!e.match(s)?"BIP32 path must be fully-hardened.":t&&"unhardened"===t.mode&&!e.match(l)?"BIP32 path cannot include hardened segments.":function(e){for(var t=0;t<e.length;t++){var r=A(e[t]);if(""!==r)return r}return""}(e.toLowerCase().split("/").slice(1)):"BIP32 path is invalid."}function A(e,t){if(null===e||void 0===e||""===e)return"BIP32 index cannot be blank.";if(!e.match(f))return"BIP32 index is invalid.";var r,n;"'"===e.substr(e.length-1)?(r=e.substr(0,e.length-1),n=!0):(r=e,n=!1);var a=parseInt(r,10);return Number.isNaN(a)||a.toString().length!==r.length?"Invalid BIP32 index.":a>(n?d:p)?"BIP32 index is too high.":t&&"hardened"===t.mode&&!n&&a<=d?"BIP32 index must be hardened.":t&&"unhardened"===t.mode&&(n||a>d)?"BIP32 index cannot be hardened.":""}function m(e,t){var r=t===n.MAINNET?"0'":"1'";switch(e){case a.P2SH:return"m/45'/".concat(r,"/0'");case o.P2SH_P2WSH:return"m/48'/".concat(r,"/0'/1'");case i.P2WSH:return"m/48'/".concat(r,"/0'/2'");default:return null}}},360:function(e,t,r){"use strict";(function(e){function n(e,t,r){for(var n=BigInt(0),a=0;a<r;a++){if(void 0==e[a+t])throw Error("Buffer too small");n+=BigInt(e[a+t])<<BigInt(8*a)}return n}function a(e){if(e<0)throw RangeError("Negative bigint is not a valid varint");if(e>Number.MAX_SAFE_INTEGER)throw RangeError("Too large for a Number");return Number(e)}r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.createVarint=function(t){"number"==typeof t&&(t=a(t));var r=function(e){"number"==typeof e&&(e=a(e));if(e<BigInt(0))throw new RangeError("Negative numbers are not supported");if(e>=BigInt(1)<<BigInt(64))throw new RangeError("Too large for a Bitcoin-style varint");return e<BigInt(253)?1:e<=BigInt(65535)?3:e<=BigInt(4294967295)?5:9}(t);t=BigInt(t);var n=e.alloc(r);1==r?n[0]=Number(t):(n[0]=3==r?253:5===r?254:255,function(e,t,r,n){for(var a=0;a<t;a++){if(void 0==r[a+n])throw Error("Buffer too small");r[a+n]=Number(e%BigInt(256)),e>>=BigInt(8)}}(t,r-1,n,1));return n},t.parseVarint=function(e,t){if(t<0)throw RangeError("Negative offset is invalid");if(void 0==e[t])throw Error("Buffer too small");return e[t]<253?[BigInt(e[t]),1]:(r=253===e[t]?2:254===e[t]?4:8,[n(e,t+1,r),r+1]);var r},t.sanitizeBigintToNumber=a,r(884),r(73)}).call(this,r(9).Buffer)},370:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return O}));var n=r(17),a=r(12),o=r(11),i=r(14),c=r(13),u=r(0),s=r.n(u),l=r(6),f=r.n(l),d=r(931),p=r.n(d),h=r(512),A=r(647),m=r(486),b=r(947),v=r(474),g=r(1537),y=r(5),E=r(383),w=r.n(E);function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(k){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new O(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var A={};u(A,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&r.call(b,o)&&(A=b);var v=h.prototype=d.prototype=Object.create(A);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return x()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),u(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new y(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;I(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var P=function(t){Object(i.a)(u,t);var r=Object(c.a)(u);function u(t){var a;return Object(o.a)(this,u),(a=r.call(this,t)).render=function(){var e=a.props,t=e.maxFileSize,r=e.validFileFormats,n=e.extendedPublicKeyImporter,o=e.handleBIP32PathChange,i=e.resetBIP32Path,c=e.bip32PathIsDefault,u=e.hasError,l=e.errorMessage,f=e.isTest,d=a.state.fileType;return s.a.createElement(h.a,{container:!0,direction:"column"},"JSON"===d&&!f&&s.a.createElement(h.a,{container:!0},s.a.createElement(h.a,{item:!0,md:6},s.a.createElement(A.a,{label:"BIP32 Path",value:n.bip32Path,onChange:o,error:u,helperText:l})),s.a.createElement(h.a,{item:!0,md:6},!c()&&s.a.createElement(m.a,{type:"button",variant:"contained",size:"small",onClick:i},"Default")),s.a.createElement(b.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),s.a.createElement("p",null,"When you are ready, upload the ",d," file from your Coldcard:"),s.a.createElement(v.a,null,s.a.createElement(p.a,{className:u?w.a.dropzoneDull:w.a.dropzone,onDrop:a.onDrop,multiple:!1,minSize:1,maxSize:t,accept:r,disableClick:u},s.a.createElement(g.a,{classes:{root:w.a.uploadIcon}}),s.a.createElement("p",{className:w.a.instruction},"JSON"===d?"Upload The XPUB":"Upload Signed PSBT"))))},a.singleAcceptedFile=function(e,t){return 0===t.length&&1===e.length},a.onDrop=function(){var t=Object(n.a)(S().mark((function t(r,n){var o,i,c,u,s,l,f,d,p;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.props,i=o.onReceive,c=o.onReceivePSBT,u=o.setError,s=o.hasError,l=a.state.fileType,!s){t.next=4;break}return t.abrupt("return");case 4:if(!a.singleAcceptedFile(r,n)){t.next=29;break}if(f=r[0],"JSON"!==l){t.next=14;break}return t.t0=i,t.next=10,f.text();case 10:t.t1=t.sent,(0,t.t0)(t.t1),t.next=27;break;case 14:return t.next=16,f.arrayBuffer();case 16:if(d=t.sent,!(p=e.from(d).toString("hex")).startsWith(y.PSBT_MAGIC_HEX)){t.next=22;break}c(p),t.next=27;break;case 22:return t.t2=c,t.next=25,f.text();case 25:t.t3=t.sent,(0,t.t2)(t.t3);case 27:t.next=30;break;case 29:1===n.length?u("The file you attempted to upload was unacceptable. File type must be .".concat(l.toLowerCase(),".")):n.length>1&&u("This dropzone only accepts a single file.");case 30:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),a.state={fileType:t.fileType||"JSON"},a}return Object(a.a)(u)}(u.Component);P.defaultProps={onReceive:null,onReceivePSBT:null,handleBIP32PathChange:null,resetBIP32Path:null,bip32PathIsDefault:null,errorMessage:"",hasError:f.a.bool,maxFileSize:1048576,fileType:"JSON",validFileFormats:".json",extendedPublicKeyImporter:null,isTest:!1};var I=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r)}(P);I.defaultProps={fileType:"JSON",validFileFormats:".json"};var O=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r)}(P);O.defaultProps={fileType:"PSBT",validFileFormats:".psbt"}}).call(this,r(9).Buffer)},377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimateMultisigTransactionFee=function(e){return(0,a.default)(e.feesPerByteInSatoshis).multipliedBy(f(e))},t.estimateMultisigTransactionFeeRate=function(e){return(0,a.default)(e.feesInSatoshis).dividedBy(f(e))},t.validateFee=function(e,t){var r,n;try{r=(0,a.default)(e)}catch(o){return"Invalid fee."}if(!r.isFinite())return"Invalid fee.";try{n=(0,a.default)(t)}catch(o){return"Invalid total input amount."}if(!n.isFinite())return"Invalid total input amount.";if(r.isLessThan(u.ZERO))return"Fee cannot be negative.";if(n.isLessThanOrEqualTo(u.ZERO))return"Total input amount must be positive.";if(r.isGreaterThan(n))return"Fee is too high.";if(r.isGreaterThan(l))return"Fee is too high.";return""},t.validateFeeRate=function(e){var t;try{t=(0,a.default)(e)}catch(r){return"Invalid fee rate."}if(!t.isFinite())return"Invalid fee rate.";if(t.isLessThan(u.ZERO))return"Fee rate cannot be negative.";if(t.isGreaterThan(s))return"Fee rate is too high.";return""};var n,a=(n=r(223))&&n.__esModule?n:{default:n},o=r(261),i=r(187),c=r(188),u=r(204);var s=(0,a.default)(1e3),l=(0,a.default)(25e5);function f(e){switch(e.addressType){case o.P2SH:return(0,o.estimateMultisigP2SHTransactionVSize)(e);case i.P2SH_P2WSH:return(0,i.estimateMultisigP2SH_P2WSHTransactionVSize)(e);case c.P2WSH:return(0,c.estimateMultisigP2WSHTransactionVSize)(e);default:return null}}},383:function(e,t,r){e.exports={uploadIcon:"ColdcardFileReader_uploadIcon__1gKkv",instruction:"ColdcardFileReader_instruction__2JEz4",dropzone:"ColdcardFileReader_dropzone__32-R_",dropzoneDull:"ColdcardFileReader_dropzoneDull__2lJaF ColdcardFileReader_dropzone__32-R_",uploadContainer:"ColdcardFileReader_uploadContainer__3NUxc"}},414:function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(415),r(271),r(339),r(231),r(272),r(273),r(564),Object.defineProperty(t,"__esModule",{value:!0}),t.Braid=void 0,t.braidAddressType=S,t.braidConfig=E,t.braidExtendedPublicKeys=P,t.braidIndex=O,t.braidNetwork=w,t.braidRequiredSigners=I,t.deriveMultisigByIndex=function(e,t){var r=O(e);return r+="/"+t.toString(),j(e,r)},t.deriveMultisigByPath=j,t.generateBip32DerivationByIndex=function(e,t){var r=O(e);return r+="/"+t.toString(),C(e,r)},t.generateBip32DerivationByPath=C,t.generateBraid=function(e,t,r,n,a){return new y({network:e,addressType:t,extendedPublicKeys:r,requiredSigners:n,index:a})},t.generatePublicKeysAtIndex=function(e,t){var r=O(e);return r+="/"+t.toString(),k(e,r)},t.generatePublicKeysAtPath=k,t.validateBip32PathForBraid=T,r(565),r(774),r(190),r(189),r(418),r(1098),r(566),r(778),r(229),r(208),r(160),r(270);var a,o=r(398),i=(a=r(567))&&a.__esModule?a:{default:a},c=r(343),u=r(163),s=r(232),l=r(568);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(o,e);var t,r,n,a=m(o);function o(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this),!e||!Object.keys(e).length)return b(t,v(t));(0,i.default)(Object.values(s.MULTISIG_ADDRESS_TYPES).includes(e.addressType),"Expected addressType to be one of:  ".concat(Object.values(s.MULTISIG_ADDRESS_TYPES),". You sent ").concat(e.addressType)),t.addressType=e.addressType,(0,i.default)(Object.values(u.NETWORKS).includes(e.network),"Expected network to be one of:  ".concat(u.NETWORKS,".")),t.network=e.network,e.extendedPublicKeys.forEach((function(e){var r=(0,l.validateExtendedPublicKey)("string"===typeof e?e:e.base58String,t.network);(0,i.default)(!r.length,r)})),t.extendedPublicKeys=e.extendedPublicKeys,(0,i.default)("number"===typeof e.requiredSigners),(0,i.default)(e.requiredSigners<=t.extendedPublicKeys.length,"Can't have more requiredSigners than there are keys."),t.requiredSigners=e.requiredSigners;var r=(0,c.validateBIP32Index)(e.index,{mode:"unhardened"});return(0,i.default)(!r.length,r),t.index=e.index,t.sequence=(0,c.bip32PathToSequence)(t.index),t}return t=o,n=[{key:"fromData",value:function(e){return new this(e)}},{key:"fromJSON",value:function(e){return new this(JSON.parse(e))}}],(r=[{key:"toJSON",value:function(){return E(this)}}])&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.Struct);function E(e){return JSON.stringify({network:e.network,addressType:e.addressType,extendedPublicKeys:e.extendedPublicKeys,requiredSigners:e.requiredSigners,index:e.index})}function w(e){return e.network}function S(e){return e.addressType}function P(e){return e.extendedPublicKeys}function I(e){return e.requiredSigners}function O(e){return e.index}function T(e,t){var r=(0,c.validateBIP32Path)(t);(0,i.default)(!r.length,r);var n=t.startsWith("m/")||t.startsWith("/")?t:"/"+t,a=(0,c.bip32PathToSequence)(n);(0,i.default)(a[0].toString()===e.index,"Cannot derive paths outside of the braid's index: ".concat(e.index))}function x(t,r){T(t,r);var n={},a=r.startsWith("m/")?r.slice(2):r;return P(t).forEach((function(o){var i=o.path+"/"+a,c=(0,l.deriveChildPublicKey)("string"===typeof o?o:o.base58String,r,w(t)),u=(0,l.extendedPublicKeyRootFingerprint)(o),s=u||"00000000";n[c]={masterFingerprint:e.from(s,"hex"),path:i,pubkey:e.from(c,"hex")}})),n}function k(e,t){return Object.keys(x(e,t)).sort()}function C(e,t){return Object.values(x(e,t))}function j(e,t){return function(e,t,r){var n=s.generateMultisigFromPublicKeys.apply(void 0,[w(e),S(e),I(e)].concat(f(t)));return n.braidDetails=E(e),n.bip32Derivation=r,n}(e,k(e,t),C(e,t))}t.Braid=y}).call(this,r(9).Buffer)},455:function(e,t,r){"use strict";(function(e){r(104),r(82),r(83),r(53),r(175),r(176),r(149),Object.defineProperty(t,"__esModule",{value:!0}),t.Merkle=void 0,t.hashLeaf=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.crypto.sha256;return p(e.from([0]),t,r)},r(1377),r(73),r(71),r(72),r(42);var n=r(450);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var d=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.crypto.sha256;i(this,t),l(this,"leaves",void 0),l(this,"rootNode",void 0),l(this,"leafNodes",void 0),l(this,"h",void 0),this.leaves=e,this.h=r;var a=this.calculateRoot(e);this.rootNode=a.root,this.leafNodes=a.leaves}return u(t,[{key:"getRoot",value:function(){return this.rootNode.hash}},{key:"size",value:function(){return this.leaves.length}},{key:"getLeaves",value:function(){return this.leaves}},{key:"getLeafHash",value:function(e){return this.leafNodes[e].hash}},{key:"getProof",value:function(e){if(e>=this.leaves.length)throw Error("Index out of bounds");return function e(t){if(!t.parent)return[];if(t.parent.leftChild==t){if(!t.parent.rightChild)throw new Error("Expected right child to exist");return[t.parent.rightChild.hash].concat(a(e(t.parent)))}if(!t.parent.leftChild)throw new Error("Expected left child to exist");return[t.parent.leftChild.hash].concat(a(e(t.parent)))}(this.leafNodes[e])}},{key:"calculateRoot",value:function(t){var r=t.length;if(0==r)return{root:new h(void 0,void 0,e.alloc(32,0)),leaves:[]};if(1==r){var n=new h(void 0,void 0,t[0]);return{root:n,leaves:[n]}}var a=function(e){if(e<2)throw Error("Expected n >= 2");if(function(e){return 0==(e&e-1)}(e))return e/2;return 1<<Math.floor(Math.log2(e))}(r),o=this.calculateRoot(t.slice(0,a)),i=this.calculateRoot(t.slice(a)),c=o.root,u=i.root,s=this.hashNode(c.hash,u.hash),l=new h(c,u,s);return c.parent=l,u.parent=l,{root:l,leaves:o.leaves.concat(i.leaves)}}},{key:"hashNode",value:function(t,r){return this.h(e.concat([e.from([1]),t,r]))}}]),t}();function p(t,r,n){return n(e.concat([t,r]))}t.Merkle=d;var h=function(){function e(t,r,n){i(this,e),l(this,"leftChild",void 0),l(this,"rightChild",void 0),l(this,"parent",void 0),l(this,"hash",void 0),this.leftChild=t,this.rightChild=r,this.hash=n}return u(e,[{key:"isLeaf",value:function(){return void 0==this.leftChild}}]),e}()}).call(this,r(9).Buffer)},5:function(e,t,r){"use strict";r(229),r(208),r(160),r(270),Object.defineProperty(t,"__esModule",{value:!0});var n=r(760);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(1091);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=r(414);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(377);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=r(1111);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=r(573);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(568);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=r(232);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=r(163);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var d=r(781);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=r(261);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=r(187);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var A=r(188);Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var m=r(343);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var b=r(574);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var v=r(1115);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=r(782);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var y=r(783);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var E=r(784);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var w=r(204);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}))},568:function(e,t,r){"use strict";(function(e){r(271),r(1105),r(1108),r(564),r(565),Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedPublicKey=t.EXTENDED_PUBLIC_KEY_VERSIONS=void 0,t.compressPublicKey=j,t.convertExtendedPublicKey=function(t,r){try{var n=t.slice(0,4);T(r),T(n);var a=o.default.decode(t.trim()).slice(4),i=e.concat([e.from(O[r],"hex"),a]);return o.default.encode(i)}catch(c){throw new Error("Unable to convert extended public key: "+c.message)}},t.deriveChildExtendedPublicKey=function e(t,r,n){if("m/"===r.slice(0,2))return e(t,r.slice(2),n);return a.fromBase58(t,(0,l.networkData)(n)).derivePath(r).toBase58()},t.deriveChildPublicKey=function e(t,r,n){if("m/"===r.slice(0,2))return e(t,r.slice(2),n);var o=a.fromBase58(t,(0,l.networkData)(n)).derivePath(r);return(0,u.toHexString)(o.publicKey)},t.deriveExtendedPublicKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.MAINNET,o=new k({path:e,pubkey:t,chaincode:r,parentFingerprint:n,network:a});return o.toBase58()},t.extendedPublicKeyRootFingerprint=function(e){return e.rootFingerprint?e.rootFingerprint:null},t.fingerprintToFixedLengthHex=function(e){return(e+4294967296).toString(16).substr(-8)},t.getFingerprintFromPublicKey=function(t){var r=t;B(t)||(r=j(t));var n=e.from(r,"hex"),a=(0,u.hash160)(n);return(a[0]<<24|a[1]<<16|a[2]<<8|a[3])>>>0},t.getMaskedDerivation=function(e){var t=e.xpub,r=e.bip32Path,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",a=r.toLowerCase().includes(n),o=k.fromBase58(t).depth||0;return a?"m".concat("/0".repeat(o)):r},t.isKeyCompressed=B,t.validateExtendedPublicKey=function(e,t){if(null===e||void 0===e||""===e)return"Extended public key cannot be blank.";var r=t===l.TESTNET?"tpub":"xpub",n="Extended public key must begin with '".concat(r,"'.");if(e.length<4)return n;if(e.slice(0,4)!==r)return n;if(e.length<111)return"Extended public key is too short.";try{k.fromBase58(e)}catch(a){return"Invalid extended public key."}return""},t.validateExtendedPublicKeyForNetwork=function(e,t){var r="'xpub'";t===l.TESTNET&&(r+=" or 'tpub'");var n=e.slice(0,4);if(!(t===l.MAINNET&&"xpub"===n||t===l.TESTNET&&"tpub"===n))return"Extended public key must begin with ".concat(r,".");return""},t.validatePrefix=T,t.validatePublicKey=C,t.validateRootFingerprint=x,r(231),r(272),r(273),r(1109),r(189),r(190),r(566),r(778),r(779),r(229),r(208),r(160),r(270);var n=r(192),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==A(e)&&"function"!==typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(733)),o=p(r(269)),i=r(398),c=p(r(567)),u=r(204),s=r(343),l=r(163),f=r(187),d=r(188);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function b(){return(b="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=v(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var O={xpub:"0488b21e",ypub:"049d7cb2",zpub:"04b24746",Ypub:"0295b43f",Zpub:"02aa7ed3",tpub:"043587cf",upub:"044a5262",vpub:"045f1cf6",Upub:"024289ef",Vpub:"02575483"};function T(e){if(!O[e])throw new Error('Invalid prefix "'.concat(e,'" for extended public key.'));return null}function x(e){(0,c.default)("string"===typeof e,"Root fingerprint must be a string."),(0,c.default)(8===e.length,"Expected hex value of length 8");var t=(0,u.validateHex)(e);(0,c.default)(!t.length,"Root fingerprint must be valid hex")}t.EXTENDED_PUBLIC_KEY_VERSIONS=O;var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(i,e);var t,r,n,a=y(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),P(w(t=a.call(this)),"path",void 0),P(w(t),"sequence",void 0),P(w(t),"index",void 0),P(w(t),"depth",void 0),P(w(t),"chaincode",void 0),P(w(t),"pubkey",void 0),P(w(t),"parentFingerprint",void 0),P(w(t),"network",void 0),P(w(t),"version",void 0),P(w(t),"rootFingerprint",void 0),P(w(t),"base58String",void 0),!e||!Object.keys(e).length)return E(t,w(t));if(e.path){var r=(0,s.validateBIP32Path)(e.path);(0,c.default)(!r.length,r),t.path=e.path,t.sequence=(0,s.bip32PathToSequence)(t.path),t.index=t.sequence[t.sequence.length-1],t.depth=t.path.split("/").length-1}else(0,c.default)(void 0!==e.depth&&void 0!==e.index&&e.depth>=0&&e.index>=0,"Either an absolute bip32 path or index and depth are required to create ExtendedPublicKey"),t.depth=e.depth,t.index=e.index;(0,c.default)(e.pubkey,"pubkey required to create ExtendedPublicKey");var n=C(e.pubkey);(0,c.default)(!n.length,n),t.pubkey=B(e.pubkey)?e.pubkey:j(e.pubkey),(0,c.default)(e.chaincode&&64===e.chaincode.length,"xpub derivation requires 32-byte chaincode");var o=(0,u.validateHex)(e.chaincode);return(0,c.default)(!o.length,o),t.chaincode=e.chaincode,(0,c.default)("number"===typeof e.parentFingerprint),t.parentFingerprint=e.parentFingerprint,e.network?((0,c.default)([l.MAINNET,l.TESTNET].includes(e.network),"Expected network to be one of ".concat(l.MAINNET," or ").concat(l.TESTNET,".")),t.network=e.network):t.network=l.MAINNET,t.version=t.network===l.MAINNET?O.xpub:O.tpub,e.rootFingerprint&&(x(e.rootFingerprint),t.rootFingerprint=e.rootFingerprint),t.base58String=t.toBase58(),t}return t=i,n=[{key:"fromBase58",value:function(e){return i.decode(o.default.decode(e))}},{key:"decode",value:function(e,t){return b(S(i),"decode",this).call(this,e,t)}}],(r=[{key:"write",value:function(e){e.writeString(this.version,"hex"),e.writeU8(this.depth),e.writeU32BE(this.parentFingerprint),e.writeU32BE(this.index),e.writeString(this.chaincode,"hex"),e.writeString(this.pubkey,"hex")}},{key:"setNetwork",value:function(e){(0,c.default)([l.MAINNET,l.TESTNET].includes(e),"Expected network to be one of ".concat(l.MAINNET," or ").concat(l.TESTNET,".")),this.network=e,this.version=this.network===l.MAINNET?O.xpub:O.tpub}},{key:"setBip32Path",value:function(e){var t=(0,s.validateBIP32Path)(e);(0,c.default)(!t.length,t),this.path=e}},{key:"setRootFingerprint",value:function(e){x(e),this.rootFingerprint=e}},{key:"encode",value:function(e){return b(S(i.prototype),"encode",this).call(this,e)}},{key:"toBase58",value:function(){return o.default.encode(this.encode())}},{key:"addBase58String",value:function(){this.base58String=this.toBase58()}},{key:"read",value:function(e){return this.version=e.readString(4,"hex"),this.depth=e.readU8(),this.parentFingerprint=e.readU32BE(),this.index=e.readU32BE(),this.chaincode=e.readString(32,"hex"),this.pubkey=e.readString(33,"hex"),this.base58String=this.toBase58(),this}}])&&m(t.prototype,r),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.Struct);function C(t,r){if(null===t||void 0===t||""===t)return"Public key cannot be blank.";var a=(0,u.validateHex)(t);if(""!==a)return a;try{n.ECPair.fromPublicKey(e.from(t,"hex"))}catch(o){return"Invalid public key."}return!B(t)&&r&&[f.P2SH_P2WSH,d.P2WSH].includes(r)?"".concat(r," does not support uncompressed public keys."):""}function j(t){var r=e.from(t,"hex"),n=0!==(1&r[64])?3:2,a=e.alloc(1);return a[0]=n,e.concat([a,r.slice(1,33)]).toString("hex")}function B(t){var r=t;return e.isBuffer(t)||(r=e.from(t,"hex")),33===r.length&&(2===r[0]||3===r[0])}t.ExtendedPublicKey=k}).call(this,r(9).Buffer)},573:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortInputs=function(e){return e.sort((function(e,t){return e.txid>t.txid?1:e.txid<t.txid||e.index<t.index?-1:1}))},t.validateMultisigInput=o,t.validateMultisigInputs=function(e,t){if(!e||0===e.length)return"At least one input is required.";for(var r=[],n=0;n<e.length;n++){var i=e[n];if(t&&i.multisig&&!(0,a.multisigBraidDetails)(i.multisig))return"At least one input cannot be traced back to its set of extended public keys.";var c=o(i);if(c)return c;var u="".concat(i.txid,":").concat(i.index);if(r.includes(u))return"Duplicate input: ".concat(u);r.push(u)}return""},t.validateTransactionID=i,t.validateTransactionIndex=c,r(566),r(774);var n=r(204),a=r(232);function o(e){if(!e.txid)return"Does not have a transaction ID ('txid') property.";var t=i(e.txid);return t||(0===e.index||e.index?(t=c(e.index))||(e.multisig?"":"Does not have a multisig object ('multisig') property."):"Does not have a transaction index ('index') property.")}function i(e){if(null===e||void 0===e||""===e)return"TXID cannot be blank.";var t=(0,n.validateHex)(e);return t?"TXID is invalid (".concat(t,")"):64!==e.length?"TXID is invalid (must be ".concat(64,"-characters)"):""}function c(e){if(null===e||void 0===e||""===e)return"Index cannot be blank.";var t=parseInt(e,10);return isFinite(t)?t<0?"Index cannot be negative.":"":"Index is invalid"}},574:function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(572),r(229),r(208),r(270),r(231),r(272),r(273),Object.defineProperty(t,"__esModule",{value:!0}),t.PSBT_MAGIC_HEX=t.PSBT_MAGIC_BYTES=t.PSBT_MAGIC_B64=void 0,t.addSignaturesToPSBT=function(e,t,r,n){var a=y(t,{network:(0,A.networkData)(e)});return null===a?null:(n.forEach((function(e,t){var n=r[t];a=function(e,t,r,n){var a=[{pubkey:r,signature:n}];if(e.data.updateInput(t,{partialSig:a}),!e.validateSignaturesOfInput(t,r))throw new Error("One or more invalid signatures.");return e}(a,t,n,e)})),a.toBase64())},t.autoLoadPSBT=y,t.parseSignatureArrayFromPSBT=function(e){var t=y(e);if(null===t)return null;var r=S(t),n=Array.from(Array(r).fill().map((function(){return[]}))),a=t.data.inputs;if(!(r>=1))return null;for(var o=0;o<a.length;o+=1)for(var i=0;i<r;i+=1){var c=a[o].partialSig[i].signature.toString("hex");n[i].push(c)}return 1===r?n[0]:n},t.parseSignaturesFromPSBT=function(e){var t=y(e);if(null===t)return null;var r=S(t),n={},a="",o=t.data.inputs;if(!(r>=1))return null;for(var i=0;i<o.length;i++)for(var u=0;u<r;u++)(a=(0,c.toHexString)(Array.prototype.slice.call(o[i].partialSig[u].pubkey)))in n?n[a].push(o[i].partialSig[u].signature.toString("hex")):n[a]=[o[i].partialSig[u].signature.toString("hex")];return n},t.psbtInputFormatter=function(t){var r=function(e){return o.Transaction.fromHex(e.transactionHex).outs[e.index]}(t),n=e.from(t.transactionHex,"hex"),a=null!==(0,u.multisigWitnessScript)(t.multisig)?{witnessUtxo:r}:{nonWitnessUtxo:n},i=w(t.multisig),c=function(e){var t=e.bip32Path?(0,s.bip32PathToSequence)(e.bip32Path).slice(-1)[0]:0;return E(e.multisig,t)}(t);return b(b(b({hash:t.txid,index:t.index},a),i),{},{bip32Derivation:c})},t.psbtOutputFormatter=function(e){var t={},r=[];if(e.multisig)return t=w(e.multisig),r=function(e){return E(e.multisig)}(e),b(b({address:e.address,value:(0,l.default)(e.amountSats).toNumber()},t),{},{bip32Derivation:r});return b({address:e.address,value:(0,l.default)(e.amountSats).toNumber()},e)},t.translatePSBT=function(e,t,r,n){if(t!==f.P2SH)throw new Error("Unsupported addressType -- only P2SH is supported right now");var a=y(r,{network:(0,A.networkData)(e)});if(null===a)return null;var c=function(e,t){return e.data.inputs.map((function(e){var r=e.bip32Derivation.filter((function(e){return e.path.startsWith(t.path)&&e.masterFingerprint.toString("hex")===t.xfp}));if(!r.length)throw new Error("Signing key details not included in PSBT");return r[0]}))}(a,n),s=function(e,t,r){return r.txInputs.map((function(n,a){var c=r.data.inputs[a],s=c.nonWitnessUtxo.toString("hex"),l=o.Transaction.fromHex(s),f=(0,u.generateMultisigFromHex)(e,t,c.redeemScript.toString("hex"));return{amountSats:l.outs[n.index].value,index:n.index,transactionHex:s,txid:(0,i.reverseBuffer)(n.hash).toString("hex"),multisig:f}}))}(e,t,a),l=function(e){return e.txOutputs.map((function(e){return{address:e.address,amountSats:e.value}}))}(a);return{unchainedInputs:s,unchainedOutputs:l,bip32Derivations:c}},r(1113),r(271),r(339),r(418),r(419),r(189),r(160),r(224),r(190);var a,o=r(192),i=r(336),c=r(204),u=r(232),s=r(343),l=(a=r(223))&&a.__esModule?a:{default:a},f=r(261),d=r(188),p=r(187),h=r(414),A=r(163);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.PSBT_MAGIC_HEX="70736274ff";t.PSBT_MAGIC_B64="cHNidP8";var g=e.from([112,115,98,116,255]);function y(e,t){return"string"!==typeof e?null:"70736274ff"===e.substring(0,10)?o.Psbt.fromHex(e,t):"cHNidP8"===e.substring(0,7)?o.Psbt.fromBase64(e,t):null}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.bip32Derivation)return e.bip32Derivation;var r=JSON.parse((0,u.multisigBraidDetails)(e)),n=(0,h.generateBraid)(r.network,r.addressType,r.extendedPublicKeys,r.requiredSigners,r.index);return(0,h.generateBip32DerivationByIndex)(n,t)}function w(e){var t={};switch((0,u.multisigAddressType)(e)){case f.P2SH:t.redeemScript=(0,u.multisigRedeemScript)(e).output;break;case d.P2WSH:t.witnessScript=(0,u.multisigWitnessScript)(e).output;break;case p.P2SH_P2WSH:t.witnessScript=(0,u.multisigWitnessScript)(e).output,t.redeemScript=(0,u.multisigRedeemScript)(e).output}return t}function S(e){var t=e&&e.data&&e.data.inputs&&e.data.inputs[0]?e.data.inputs[0].partialSig:void 0;return void 0===t?0:t.length}t.PSBT_MAGIC_BYTES=g}).call(this,r(9).Buffer)},576:function(e,t,r){},606:function(e,t,r){"use strict";(function(e){r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.encodeSegwitAddress=t.encodeBc32Data=t.decodeSegwitAddress=t.decodeBc32Data=t.Bech32Version=void 0,r(82),r(83),r(53),r(1256);var n,a=(n=r(1260))&&n.__esModule?n:{default:n};var o={Origin:1,bis:2};t.Bech32Version=o;var i=function(e,t,r,n){for(var a=0,o=0,i=[],c=(1<<r)-1,u=0;u<e.length;++u){var s=e[u];if(s<0||s>>t!==0)return null;for(a=a<<t|s,o+=t;o>=r;)o-=r,i.push(a>>o&c)}if(n)o>0&&i.push(a<<r-o&c);else if(o>=t||a<<r-o&c)return null;return i},c=function(e,t){var r=a.default.decode(t);if(null===r||r.hrp!==e||r.data.length<1||r.data[0]>16)return null;var n=i(Uint8Array.from(r.data.slice(1)),5,8,!1);return null===n||n.length<2||n.length>40||0===r.data[0]&&20!==n.length&&32!==n.length?null:{version:r.data[0],program:n}};t.decodeSegwitAddress=c;t.encodeSegwitAddress=function(e,t,r){var n=i(r,8,5,!0);if(!n)return null;var u=a.default.encode(e,[t].concat(n),o.Origin);return null===c(e,u)?null:u};t.encodeBc32Data=function(t){var r=e.from(t,"hex"),n=i(r,8,5,!0);if(n)return a.default.encode(void 0,n,o.bis);throw new Error("invalid input")};t.decodeBc32Data=function(t){var r=a.default.decode(t);if(r){var n=i(e.from(r.data),5,8,!1);return n?e.from(n).toString("hex"):null}return null}}).call(this,r(9).Buffer)},625:function(e,t,r){"use strict";(function(e){r(175),r(176),r(104),r(82),r(83),r(53),r(149),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferWriter=t.BufferReader=void 0,t.unsafeFrom64bitLE=d,t.unsafeTo64bitLE=f,r(884),r(73),r(71),r(72),r(42);var n=r(360);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){s=!0,a=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function f(t){if(t>Number.MAX_SAFE_INTEGER)throw new Error("Can't convert numbers > MAX_SAFE_INT");for(var r=e.alloc(8,0),n=0;n<r.length;n++){var a=255&t;r[n]=a,t=(t-a)/256}return r}function d(e){var t=0;if(8!=e.length)throw new Error("Expected Bufffer of lenght 8");if(0!=e[7])throw new Error("Can't encode numbers > MAX_SAFE_INT");if(e[6]>31)throw new Error("Can't encode numbers > MAX_SAFE_INT");for(var r=e.length-1;r>=0;r--)t=256*t+e[r];return t}var p=function(){function t(){var e,r,n;i(this,t),e=this,n=[],(r=l(r="bufs"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}return u(t,[{key:"write",value:function(t,r){var n=e.alloc(t);r(n),this.bufs.push(n)}},{key:"writeUInt8",value:function(e){this.write(1,(function(t){return t.writeUInt8(e,0)}))}},{key:"writeInt32",value:function(e){this.write(4,(function(t){return t.writeInt32LE(e,0)}))}},{key:"writeUInt32",value:function(e){this.write(4,(function(t){return t.writeUInt32LE(e,0)}))}},{key:"writeUInt64",value:function(e){var t=f(e);this.writeSlice(t)}},{key:"writeVarInt",value:function(e){this.bufs.push((0,n.createVarint)(e))}},{key:"writeSlice",value:function(t){this.bufs.push(e.from(t))}},{key:"writeVarSlice",value:function(e){this.writeVarInt(e.length),this.writeSlice(e)}},{key:"buffer",value:function(){return e.concat(this.bufs)}}]),t}();t.BufferWriter=p;var h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.buffer=t,this.offset=r}return u(e,[{key:"available",value:function(){return this.buffer.length-this.offset}},{key:"readUInt8",value:function(){var e=this.buffer.readUInt8(this.offset);return this.offset++,e}},{key:"readInt32",value:function(){var e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt32",value:function(){var e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt64",value:function(){return d(this.readSlice(8))}},{key:"readVarInt",value:function(){var e=a((0,n.parseVarint)(this.buffer,this.offset),2),t=e[0],r=e[1];return this.offset+=r,t}},{key:"readSlice",value:function(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readVarSlice",value:function(){var e=(0,n.sanitizeBigintToNumber)(this.readVarInt());return this.readSlice(e)}},{key:"readVector",value:function(){for(var e=this.readVarInt(),t=[],r=0;r<e;r++)t.push(this.readVarSlice());return t}}]),e}();t.BufferReader=h}).call(this,r(9).Buffer)},7:function(e,t,r){"use strict";r(437),r(353),r(354),r(170),r(246),r(172),r(132),r(53),r(285),r(42),Object.defineProperty(t,"__esModule",{value:!0});var n={VERSION:!0,MULTISIG_ROOT:!0,DIRECT_KEYSTORES:!0,INDIRECT_KEYSTORES:!0,KEYSTORES:!0,GetMetadata:!0,ExportPublicKey:!0,SignMessage:!0,ExportExtendedPublicKey:!0,SignMultisigTransaction:!0,ConfirmMultisigAddress:!0,RegisterWalletPolicy:!0,ConfigAdapter:!0};t.ConfigAdapter=function(e){var t=e.KEYSTORE,r=e.jsonConfig,n=e.policyHmac;switch(t){case i.COLDCARD:return new i.ColdcardMultisigWalletConfig({jsonConfig:r});case s.LEDGER:var a;return a="string"===typeof r?JSON.parse(r):r,new s.LedgerRegisterWalletPolicy(b(b({},a),{},{policyHmac:n}));default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when translating external spend configuration files."})}},t.ConfirmMultisigAddress=function(e){var t=e.keystore,r=e.network,n=e.bip32Path,a=e.multisig,i=e.publicKey,c=e.name,u=e.addressIndex,d=e.policyHmac;switch(t){case l.TREZOR:return new l.TrezorConfirmMultisigAddress({network:r,bip32Path:n,multisig:a,publicKey:i});case s.LEDGER:var p=JSON.parse(a.braidDetails),h=(0,f.braidDetailsToWalletConfig)(p);return new s.LedgerConfirmMultisigAddress(b(b({},h),{},{expected:a.address,name:c,braidIndex:Number(p.index),addressIndex:u,policyHmac:d}));default:return new o.UnsupportedInteraction({code:o.UNSUPPORTED,text:"This keystore is not supported when confirming multisig addresses."})}},t.DIRECT_KEYSTORES=void 0,t.ExportExtendedPublicKey=function(e){var t=e.keystore,r=e.network,n=e.bip32Path,a=e.includeXFP;switch(t){case i.COLDCARD:return new i.ColdcardExportExtendedPublicKey({bip32Path:n,network:r});case c.CUSTOM:return new c.CustomExportExtendedPublicKey({bip32Path:n,network:r});case u.HERMIT:return new u.HermitExportExtendedPublicKey({bip32Path:n});case s.LEDGER:return new s.LedgerExportExtendedPublicKey({bip32Path:n,network:r,includeXFP:a});case l.TREZOR:return new l.TrezorExportExtendedPublicKey({bip32Path:n,network:r,includeXFP:a});default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when exporting extended public keys."})}},t.ExportPublicKey=function(e){var t=e.keystore,r=e.network,n=e.bip32Path,a=e.includeXFP;switch(t){case i.COLDCARD:return new i.ColdcardExportPublicKey({network:r,bip32Path:n});case s.LEDGER:return new s.LedgerExportPublicKey({bip32Path:n,includeXFP:a});case l.TREZOR:return new l.TrezorExportPublicKey({network:r,bip32Path:n,includeXFP:a});default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when exporting public keys."})}},t.GetMetadata=function(e){switch(e.keystore){case s.LEDGER:return new s.LedgerGetMetadata;case l.TREZOR:return new l.TrezorGetMetadata;default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore does not return a version."})}},t.MULTISIG_ROOT=t.KEYSTORES=t.INDIRECT_KEYSTORES=void 0,t.RegisterWalletPolicy=function(e){var t=e.keystore,r=e.policyHmac,n=e.verify,a=void 0!==n&&n,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,h);switch(t){case s.LEDGER:return new s.LedgerRegisterWalletPolicy(b(b({},i),{},{policyHmac:r,verify:a}));default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when translating external spend configuration files."})}},t.SignMessage=function(e){var t=e.keystore,r=e.bip32Path,n=e.message;switch(t){case s.LEDGER:return new s.LedgerSignMessage({bip32Path:r,message:n});case l.TREZOR:return new l.TrezorSignMessage({bip32Path:r,message:n});default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when signing a message."})}},t.SignMultisigTransaction=function(e){var t=e.keystore,r=e.network,n=e.inputs,a=e.outputs,f=e.bip32Paths,p=e.psbt,h=e.keyDetails,A=e.returnSignatureArray,m=void 0!==A&&A,v=e.walletConfig,g=e.policyHmac,y=e.progressCallback;switch(t){case i.COLDCARD:return new i.ColdcardSignMultisigTransaction({network:r,inputs:n,outputs:a,bip32Paths:f,psbt:p});case c.CUSTOM:return new c.CustomSignMultisigTransaction({network:r,inputs:n,outputs:a,bip32Paths:f,psbt:p});case u.HERMIT:return new u.HermitSignMultisigTransaction({psbt:p,returnSignatureArray:m});case s.LEDGER:var E=p;return E||(E=(0,d.unsignedMultisigPSBT)(r,n,a).toBase64()),new s.LedgerSignMultisigTransaction({network:r,inputs:n,outputs:a,bip32Paths:f,psbt:E,keyDetails:h,returnSignatureArray:m,v2Options:b(b({},v),{},{policyHmac:g,psbt:E,progressCallback:y})});case s.LEDGER_V2:return new s.LedgerV2SignMultisigTransaction(b(b({},v),{},{policyHmac:g,psbt:p,progressCallback:y}));case l.TREZOR:return new l.TrezorSignMultisigTransaction({network:r,inputs:n,outputs:a,bip32Paths:f,psbt:p,keyDetails:h,returnSignatureArray:m});default:return new o.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when signing multisig transactions."})}},t.VERSION=void 0,r(71),r(72),r(73),r(104);var a=r(1242),o=r(286);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(1249);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=r(1250);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=r(1251);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(1267);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=r(1439);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=r(886);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var d=r(5),p=r(849);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=["keystore","policyHmac","verify"];function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=a.version;t.VERSION=g;t.MULTISIG_ROOT="m/45'";var y={TREZOR:l.TREZOR,LEDGER:s.LEDGER};t.DIRECT_KEYSTORES=y;var E={HERMIT:u.HERMIT,COLDCARD:i.COLDCARD,CUSTOM:c.CUSTOM};t.INDIRECT_KEYSTORES=E;var w=b(b({},y),E);t.KEYSTORES=w},760:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddress=function(e,t){if(!e||""===e.trim())return"Address cannot be blank.";var r=t===o.TESTNET?"^(tb1|bcrt1|[mn2])":"^(bc1|[13])",n=e.match(i),c=r+(n?"[ac-hj-np-z02-9]+$":"[A-HJ-NP-Za-km-z1-9]+$");if(!e.match(c))return t===o.TESTNET?"Address must start with one of 'tb1', 'm', 'n', or '2' followed by letters or digits.":"Address must start with either of 'bc1', '1' or '3' followed by letters or digits.";return(0,a.default)(e)?"":"Address is invalid."},r(413);var n,a=(n=r(1090))&&n.__esModule?n:{default:n},o=r(163);var i=/^(tb|bc)/},781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateOutput=c,t.validateOutputAmount=s,t.validateOutputs=function(e,t,r){if(!t||0===t.length)return"At least one output is required.";for(var n=0;n<t.length;n++){var a=t[n],o=c(e,a,r);if(o)return o}return""};var n,a=(n=r(223))&&n.__esModule?n:{default:n},o=r(204),i=r(760);function c(e,t,r){if(0!==t.amountSats&&!t.amountSats)return"Does not have an 'amountSats' property.";var n=s(t.amountSats,r);return n||(t.address?(n=(0,i.validateAddress)(t.address,e))?"Has an invalid 'address' property: ".concat(n,"."):"":"Does not have an 'address' property.")}var u=(0,a.default)(546);function s(e,t){var r,n;try{r=(0,a.default)(e)}catch(i){return"Invalid output amount."}if(!r.isFinite())return"Invalid output amount.";if(r.isLessThanOrEqualTo(o.ZERO))return"Output amount must be positive.";if(r.isLessThanOrEqualTo(u))return"Output amount is too small.";if(void 0!==t){try{n=(0,a.default)(t)}catch(i){return"Invalid total input amount."}if(!n.isFinite())return"Invalid total input amount.";if(n.isLessThanOrEqualTo(o.ZERO))return"Total input amount must be positive.";if(r.isGreaterThan(n))return"Output amount is too large."}return""}},782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scriptToHex=function(e){return e.output.toString("hex")},t.scriptToOps=function(e){return n.script.toASM(e.output)},r(189),r(160);var n=r(192)},783:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.signatureNoSighashType=f,t.validateMultisigSignature=function(t,r,l,d,p){for(var h=function(e,t,r,a){var l=(0,s.unsignedMultisigTransaction)(e,t,r),f=t[a];return(0,u.multisigAddressType)(f.multisig)===c.P2WSH||(0,u.multisigAddressType)(f.multisig)===i.P2SH_P2WSH?l.hashForWitnessV0(a,(0,u.multisigWitnessScript)(f.multisig).output,(0,n.default)(f.amountSats).toNumber(),o.Transaction.SIGHASH_ALL):l.hashForSignature(a,(0,u.multisigRedeemScript)(f.multisig).output,o.Transaction.SIGHASH_ALL)}(t,r,l,d),A=function(t){var r=e.from(t,"hex"),n=a.default.decode(r),o=n.r,i=n.s,c=o.byteLength>32?o.slice(1):o,u=e.alloc(64);return u.set(e.from(c),32-c.byteLength),u.set(e.from(i),64-i.byteLength),u}(f(p)),m=r[d],b=(0,u.multisigPublicKeys)(m.multisig),v=0;v<(0,u.multisigTotalSigners)(m.multisig);v++){var g=b[v],y=e.from(g,"hex");if(o.ECPair.fromPublicKey(y).verify(h,A))return g}return!1},r(190);var n=l(r(223)),a=l(r(551)),o=r(192),i=r(187),c=r(188),u=r(232),s=r(784);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return parseInt(e.slice(2,4),16)===(e.length-4)/2?e:e.slice(0,-2)}}).call(this,r(9).Buffer)},784:function(e,t,r){"use strict";(function(e){r(415),r(189),r(190),r(271),r(339),r(572),r(229),r(208),r(160),r(270),Object.defineProperty(t,"__esModule",{value:!0}),t.signedMultisigTransaction=function(t,r,n,a){var i=S(t,r,n);if(!a||0===a.length)throw new Error("At least one transaction signature is required.");a.forEach((function(e,t){if(e.length<r.length)throw new Error("Insufficient input signatures for transaction signature ".concat(t+1,": require ").concat(r.length,", received ").concat(e.length,"."))}));for(var f=o.Transaction.fromHex(i.toHex()),d=function(i){var d=r[i],p=a.map((function(e){return e[i]})).filter((function(e){return Boolean(e)})),h=(0,s.multisigRequiredSigners)(d.multisig);if(p.length<h)throw new Error("Insufficient signatures for input  ".concat(i+1,": require ").concat(h,",  received ").concat(p.length,"."));var A={};p.forEach((function(e){var a;try{a=(0,l.validateMultisigSignature)(t,r,n,i,e)}catch(o){throw new Error("Invalid signature for input ".concat(i+1,": ").concat(e," (").concat(o,")"))}if(A[a])throw new Error("Duplicate signature for input ".concat(i+1,": ").concat(e));A[a]=e}));var m,b=(0,s.multisigPublicKeys)(d.multisig).map((function(e){return A[e]})).filter((function(e){return e?(0,l.signatureNoSighashType)(e):e}));if((0,s.multisigAddressType)(d.multisig)===u.P2WSH){var v=P(d.multisig,b);f.setWitness(i,v)}else if((0,s.multisigAddressType)(d.multisig)===c.P2SH_P2WSH){var y=P(d.multisig,b);f.setWitness(i,y);var E=(0,s.multisigRedeemScript)(d.multisig);f.ins[i].script=e.from([E.output.length].concat(function(e){if(Array.isArray(e))return g(e)}(m=E.output)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||function(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}else{var w=function(t,r){var n=r.map((function(e){return"".concat((0,l.signatureNoSighashType)(e),"01")})).join(" "),a="OP_0 ".concat(n),i=o.script.fromASM(a),c=o.payments.p2ms({network:t.network,output:e.from((0,s.multisigRedeemScript)(t).output,"hex"),input:i});return(0,s.generateMultisigFromRaw)((0,s.multisigAddressType)(t),c)}(d.multisig,b);f.ins[i].script=w.input}},p=0;p<r.length;p++)d(p);return f},t.unsignedMultisigPSBT=function(t,r,n){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,f.validateMultisigInputs)(r,!0);(0,a.default)(!u.length,u);var s=(0,d.validateOutputs)(t,n);(0,a.default)(!s.length,s);var l=new o.Psbt({network:(0,i.networkData)(t)});l.setVersion(1);var p=[];if(r.forEach((function(e){var t=(0,h.psbtInputFormatter)(E({},e));l.addInput(t);var r=e.multisig.braidDetails;r&&c&&A.Braid.fromData(JSON.parse(r)).extendedPublicKeys.forEach((function(e){var t=new m.ExtendedPublicKey(e);p.find((function(e){return e.toBase58()===t.toBase58()}))||p.push(t)}))})),c&&p.length>0){var b=p.map((function(t){return{extendedPubkey:t.encode(),masterFingerprint:e.from(t.rootFingerprint,"hex"),path:t.path}}));l.updateGlobal({globalXpub:b})}var v=n.map((function(e){return(0,h.psbtOutputFormatter)(E({},e))}));return l.addOutputs(v),l.txn=l.data.globalMap.unsignedTx.tx.toHex(),l},t.unsignedMultisigTransaction=S,t.unsignedTransactionObjectFromPSBT=function(e){return o.Transaction.fromHex(e.txn)},r(231),r(272),r(273),r(419),r(224),r(1119);var n=b(r(223)),a=b(r(567)),o=r(192),i=r(163),c=r(187),u=r(188),s=r(232),l=r(783),f=r(573),d=r(781),p=r(782),h=r(574),A=r(414),m=r(568);function b(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r){var c=(0,f.validateMultisigInputs)(t);(0,a.default)(!c.length,c);var u=(0,d.validateOutputs)(e,r);(0,a.default)(!u.length,u);var s=new o.TransactionBuilder;s.setVersion(1),s.network=(0,i.networkData)(e);for(var l=0;l<t.length;l+=1){var p=t[l];s.addInput(p.txid,p.index)}for(var h=0;h<r.length;h+=1){var A=r[h];s.addOutput(A.address,(0,n.default)(A.amountSats).toNumber())}return s.buildIncomplete()}function P(t,r){var n=[""].concat(r.map((function(e){return(0,l.signatureNoSighashType)(e)+"01"}))),a=(0,s.multisigWitnessScript)(t);return n.push((0,p.scriptToHex)(a)),n.map((function(t){return e.from(t,"hex")}))}}).call(this,r(9).Buffer)},849:function(e,t,r){"use strict";r(104),r(82),r(83),r(53),r(175),r(176),r(149),r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.BCUREncoder=t.BCURDecoder=void 0,r(73),r(71),r(72),r(602),r(603);var n=r(1254);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;c(this,e),this.hexString=t,this.fragmentCapacity=r}return s(e,[{key:"parts",value:function(){return(0,n.encodeUR)(this.hexString,this.fragmentCapacity)}}]),e}();t.BCUREncoder=f;var d=function(){function e(){c(this,e),this.reset()}return s(e,[{key:"reset",value:function(){this.summary={success:!1,current:0,length:0,workloads:[],result:""},this.error=null}},{key:"receivePart",value:function(e){try{var t=this.summary.workloads.includes(e)?this.summary.workloads:[].concat(o(this.summary.workloads),[e]);this.summary=(0,n.smartDecodeUR)(t)}catch(r){this.error=r}}},{key:"progress",value:function(){return{totalParts:this.summary.length,partsReceived:this.summary.current}}},{key:"isComplete",value:function(){return this.summary.success||Boolean(this.error)}},{key:"isSuccess",value:function(){return this.summary.success}},{key:"data",value:function(){return this.isSuccess()?this.summary.result:null}},{key:"errorMessage",value:function(){return this.error?this.error.message:null}}]),e}();t.BCURDecoder=d},850:function(e,t,r){"use strict";(function(e){r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.encodeSimpleCBOR=t.decodeSimpleCBOR=t.composeHeader=void 0,r(82),r(83),r(53);var n=function(t){var r;if(t>0&&t<=23)r=e.from([64+t]);else if(t>=24&&t<=255){var n=e.alloc(1);n.writeUInt8(t,0),r=e.concat([e.from([88]),n])}else if(t>=256&&t<=65535){var a=e.alloc(2);a.writeUInt16BE(t,0),r=e.concat([e.from([89]),a])}else{if(!(t>=65536&&t<=Math.pow(2,32)-1))throw new Error("length exceeded");var o=e.alloc(4);o.writeUInt32BE(t,0),r=e.concat([e.from([96]),o])}return r};t.composeHeader=n;t.encodeSimpleCBOR=function(t){var r=e.from(t,"hex");if(r.length<=0||r.length>=Math.pow(2,32))throw new Error("data is too large");var a=n(r.length);return e.concat([a,r]).toString("hex")};t.decodeSimpleCBOR=function(t){var r=e.from(t,"hex");if(r.length<=0)throw new Error("invalid input");var n=r[0];if(n<88){var a=n-64;return r.slice(1,1+a).toString("hex")}if(88==n){var o=r.slice(1,2).readUInt8(0);return r.slice(2,2+o).toString("hex")}if(89==n){var i=r.slice(1,3).readUInt16BE(0);return r.slice(3,3+i).toString("hex")}if(96==n){var c=r.slice(1,5).readUInt32BE(0);return r.slice(5,5+c).toString("hex")}throw new Error("invalid input")}}).call(this,r(9).Buffer)},853:function(e,t,r){"use strict";r(42),Object.defineProperty(t,"__esModule",{value:!0}),t.sha256Hash=t.compose3=void 0;var n,a=(n=r(214))&&n.__esModule?n:{default:n};t.sha256Hash=function(e){return(0,a.default)("sha256").update(e).digest()};t.compose3=function(e,t,r){return function(n){return e(t(r(n)))}}},858:function(e,t,r){"use strict";r(42),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppClient",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DefaultWalletPolicy",{enumerable:!0,get:function(){return o.DefaultWalletPolicy}}),Object.defineProperty(t,"PsbtV2",{enumerable:!0,get:function(){return i.PsbtV2}}),Object.defineProperty(t,"WalletPolicy",{enumerable:!0,get:function(){return o.WalletPolicy}}),t.default=void 0;var n,a=(n=r(1272))&&n.__esModule?n:{default:n},o=r(1381),i=r(885);var c=a.default;t.default=c},885:function(e,t,r){"use strict";(function(e){r(149),r(176),r(104),r(353),r(354),r(246),r(285),r(146),r(173),r(437),r(174),r(147),Object.defineProperty(t,"__esModule",{value:!0}),t.psbtOut=t.psbtIn=t.psbtGlobal=t.PsbtV2=t.NoSuchEntry=void 0,r(82),r(83),r(611),r(170),r(172),r(132),r(53),r(175),r(867),r(73),r(71),r(72),r(42);var n,a,o,i=r(625),c=r(360);function u(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){var t="function"===typeof Map?new Map:void 0;return(A=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)})(e)}function m(e,t,r){return(m=b()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&v(a,r.prototype),a}).apply(null,arguments)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}t.psbtGlobal=n,function(e){e[e.TX_VERSION=2]="TX_VERSION",e[e.FALLBACK_LOCKTIME=3]="FALLBACK_LOCKTIME",e[e.INPUT_COUNT=4]="INPUT_COUNT",e[e.OUTPUT_COUNT=5]="OUTPUT_COUNT",e[e.TX_MODIFIABLE=6]="TX_MODIFIABLE",e[e.VERSION=251]="VERSION"}(n||(t.psbtGlobal=n={})),t.psbtIn=a,function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.PREVIOUS_TXID=14]="PREVIOUS_TXID",e[e.OUTPUT_INDEX=15]="OUTPUT_INDEX",e[e.SEQUENCE=16]="SEQUENCE",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION"}(a||(t.psbtIn=a={})),t.psbtOut=o,function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.BIP_32_DERIVATION=2]="BIP_32_DERIVATION",e[e.AMOUNT=3]="AMOUNT",e[e.SCRIPT=4]="SCRIPT",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(o||(t.psbtOut=o={}));var S=e.from([112,115,98,116,255]),P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,e);var t=function(e){var t=b();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}(r);function r(){return p(this,r),t.apply(this,arguments)}return d(r)}(A(Error));t.NoSuchEntry=P;var I=function(){function t(){p(this,t),E(this,"globalMap",new Map),E(this,"inputMaps",[]),E(this,"outputMaps",[])}return d(t,[{key:"setGlobalTxVersion",value:function(e){this.setGlobal(n.TX_VERSION,R(e))}},{key:"getGlobalTxVersion",value:function(){return this.getGlobal(n.TX_VERSION).readUInt32LE(0)}},{key:"setGlobalFallbackLocktime",value:function(e){this.setGlobal(n.FALLBACK_LOCKTIME,R(e))}},{key:"getGlobalFallbackLocktime",value:function(){var e;return null===(e=this.getGlobalOptional(n.FALLBACK_LOCKTIME))||void 0===e?void 0:e.readUInt32LE(0)}},{key:"setGlobalInputCount",value:function(e){this.setGlobal(n.INPUT_COUNT,N(e))}},{key:"getGlobalInputCount",value:function(){return _(this.getGlobal(n.INPUT_COUNT))}},{key:"setGlobalOutputCount",value:function(e){this.setGlobal(n.OUTPUT_COUNT,N(e))}},{key:"getGlobalOutputCount",value:function(){return _(this.getGlobal(n.OUTPUT_COUNT))}},{key:"setGlobalTxModifiable",value:function(e){this.setGlobal(n.TX_MODIFIABLE,e)}},{key:"getGlobalTxModifiable",value:function(){return this.getGlobalOptional(n.TX_MODIFIABLE)}},{key:"setGlobalPsbtVersion",value:function(e){this.setGlobal(n.VERSION,R(e))}},{key:"getGlobalPsbtVersion",value:function(){return this.getGlobal(n.VERSION).readUInt32LE(0)}},{key:"setInputNonWitnessUtxo",value:function(e,t){this.setInput(e,a.NON_WITNESS_UTXO,j(),t)}},{key:"getInputNonWitnessUtxo",value:function(e){return this.getInputOptional(e,a.NON_WITNESS_UTXO,j())}},{key:"setInputWitnessUtxo",value:function(e,t,r){var n=new i.BufferWriter;n.writeSlice(t),n.writeVarSlice(r),this.setInput(e,a.WITNESS_UTXO,j(),n.buffer())}},{key:"getInputWitnessUtxo",value:function(e){var t=this.getInputOptional(e,a.WITNESS_UTXO,j());if(t){var r=new i.BufferReader(t);return{amount:r.readSlice(8),scriptPubKey:r.readVarSlice()}}}},{key:"setInputPartialSig",value:function(e,t,r){this.setInput(e,a.PARTIAL_SIG,t,r)}},{key:"getInputPartialSig",value:function(e,t){return this.getInputOptional(e,a.PARTIAL_SIG,t)}},{key:"setInputSighashType",value:function(e,t){this.setInput(e,a.SIGHASH_TYPE,j(),R(t))}},{key:"getInputSighashType",value:function(e){var t=this.getInputOptional(e,a.SIGHASH_TYPE,j());if(t)return t.readUInt32LE(0)}},{key:"setInputRedeemScript",value:function(e,t){this.setInput(e,a.REDEEM_SCRIPT,j(),t)}},{key:"getInputRedeemScript",value:function(e){return this.getInputOptional(e,a.REDEEM_SCRIPT,j())}},{key:"setInputWitnessScript",value:function(e,t){this.setInput(e,a.WITNESS_SCRIPT,j(),t)}},{key:"getInputWitnessScript",value:function(e){return this.getInputOptional(e,a.WITNESS_SCRIPT,j())}},{key:"setInputBip32Derivation",value:function(e,t,r,n){if(33!=t.length)throw new Error("Invalid pubkey length: "+t.length);this.setInput(e,a.BIP32_DERIVATION,t,this.encodeBip32Derivation(r,n))}},{key:"getInputBip32Derivation",value:function(e,t){var r=this.getInputOptional(e,a.BIP32_DERIVATION,t);if(r)return this.decodeBip32Derivation(r)}},{key:"setInputFinalScriptsig",value:function(e,t){this.setInput(e,a.FINAL_SCRIPTSIG,j(),t)}},{key:"getInputFinalScriptsig",value:function(e){return this.getInputOptional(e,a.FINAL_SCRIPTSIG,j())}},{key:"setInputFinalScriptwitness",value:function(e,t){this.setInput(e,a.FINAL_SCRIPTWITNESS,j(),t)}},{key:"getInputFinalScriptwitness",value:function(e){return this.getInput(e,a.FINAL_SCRIPTWITNESS,j())}},{key:"setInputPreviousTxId",value:function(e,t){this.setInput(e,a.PREVIOUS_TXID,j(),t)}},{key:"getInputPreviousTxid",value:function(e){return this.getInput(e,a.PREVIOUS_TXID,j())}},{key:"setInputOutputIndex",value:function(e,t){this.setInput(e,a.OUTPUT_INDEX,j(),R(t))}},{key:"getInputOutputIndex",value:function(e){return this.getInput(e,a.OUTPUT_INDEX,j()).readUInt32LE(0)}},{key:"setInputSequence",value:function(e,t){this.setInput(e,a.SEQUENCE,j(),R(t))}},{key:"getInputSequence",value:function(e){var t,r;return null!==(t=null===(r=this.getInputOptional(e,a.SEQUENCE,j()))||void 0===r?void 0:r.readUInt32LE(0))&&void 0!==t?t:4294967295}},{key:"setInputTapKeySig",value:function(e,t){this.setInput(e,a.TAP_KEY_SIG,j(),t)}},{key:"getInputTapKeySig",value:function(e){return this.getInputOptional(e,a.TAP_KEY_SIG,j())}},{key:"setInputTapBip32Derivation",value:function(e,t,r,n,o){if(32!=t.length)throw new Error("Invalid pubkey length: "+t.length);var i=this.encodeTapBip32Derivation(r,n,o);this.setInput(e,a.TAP_BIP32_DERIVATION,t,i)}},{key:"getInputTapBip32Derivation",value:function(e,t){var r=this.getInput(e,a.TAP_BIP32_DERIVATION,t);return this.decodeTapBip32Derivation(r)}},{key:"getInputKeyDatas",value:function(e,t){return this.getKeyDatas(this.inputMaps[e],t)}},{key:"setOutputRedeemScript",value:function(e,t){this.setOutput(e,o.REDEEM_SCRIPT,j(),t)}},{key:"getOutputRedeemScript",value:function(e){return this.getOutput(e,o.REDEEM_SCRIPT,j())}},{key:"setOutputBip32Derivation",value:function(e,t,r,n){this.setOutput(e,o.BIP_32_DERIVATION,t,this.encodeBip32Derivation(r,n))}},{key:"getOutputBip32Derivation",value:function(e,t){var r=this.getOutput(e,o.BIP_32_DERIVATION,t);return this.decodeBip32Derivation(r)}},{key:"setOutputAmount",value:function(e,t){var r;this.setOutput(e,o.AMOUNT,j(),(r=t,(0,i.unsafeTo64bitLE)(r)))}},{key:"getOutputAmount",value:function(e){var t=this.getOutput(e,o.AMOUNT,j());return(0,i.unsafeFrom64bitLE)(t)}},{key:"setOutputScript",value:function(e,t){this.setOutput(e,o.SCRIPT,j(),t)}},{key:"getOutputScript",value:function(e){return this.getOutput(e,o.SCRIPT,j())}},{key:"setOutputTapBip32Derivation",value:function(e,t,r,n,a){var i=this.encodeTapBip32Derivation(r,n,a);this.setOutput(e,o.TAP_BIP32_DERIVATION,t,i)}},{key:"getOutputTapBip32Derivation",value:function(e,t){var r=this.getOutput(e,o.TAP_BIP32_DERIVATION,t);return this.decodeTapBip32Derivation(r)}},{key:"deleteInputEntries",value:function(e,t){var r=this;this.inputMaps[e].forEach((function(e,n,a){r.isKeyType(n,t)&&a.delete(n)}))}},{key:"copy",value:function(e){this.copyMap(this.globalMap,e.globalMap),this.copyMaps(this.inputMaps,e.inputMaps),this.copyMaps(this.outputMaps,e.outputMaps)}},{key:"copyMaps",value:function(e,t){var r=this;e.forEach((function(e,n){var a=new Map;r.copyMap(e,a),t[n]=a}))}},{key:"copyMap",value:function(t,r){t.forEach((function(t,n){return r.set(n,e.from(t))}))}},{key:"serialize",value:function(){var t=new i.BufferWriter;return t.writeSlice(e.from([112,115,98,116,255])),C(t,this.globalMap),this.inputMaps.forEach((function(e){C(t,e)})),this.outputMaps.forEach((function(e){C(t,e)})),t.buffer()}},{key:"deserialize",value:function(e){var t=new i.BufferReader(e);if(!t.readSlice(5).equals(S))throw new Error("Invalid magic bytes");for(;this.readKeyPair(this.globalMap,t););for(var r=0;r<this.getGlobalInputCount();r++)for(this.inputMaps[r]=new Map;this.readKeyPair(this.inputMaps[r],t););for(var n=0;n<this.getGlobalOutputCount();n++)for(this.outputMaps[n]=new Map;this.readKeyPair(this.outputMaps[n],t););}},{key:"readKeyPair",value:function(e,t){var r=(0,c.sanitizeBigintToNumber)(t.readVarInt());return 0!=r&&(B(e,t.readUInt8(),t.readSlice(r-1),t.readVarSlice()),!0)}},{key:"getKeyDatas",value:function(t,r){var n=this,a=[];return t.forEach((function(t,o){n.isKeyType(o,[r])&&a.push(e.from(o.substring(2),"hex"))})),a}},{key:"isKeyType",value:function(t,r){var n=e.from(t.substring(0,2),"hex").readUInt8(0);return r.some((function(e){return e==n}))}},{key:"setGlobal",value:function(t,r){var n=new T(t,e.from([]));this.globalMap.set(n.toString(),r)}},{key:"getGlobal",value:function(e){return O(this.globalMap,e,j(),!1)}},{key:"getGlobalOptional",value:function(e){return O(this.globalMap,e,j(),!0)}},{key:"setInput",value:function(e,t,r,n){B(this.getMap(e,this.inputMaps),t,r,n)}},{key:"getInput",value:function(e,t,r){return O(this.inputMaps[e],t,r,!1)}},{key:"getInputOptional",value:function(e,t,r){return O(this.inputMaps[e],t,r,!0)}},{key:"setOutput",value:function(e,t,r,n){B(this.getMap(e,this.outputMaps),t,r,n)}},{key:"getOutput",value:function(e,t,r){return O(this.outputMaps[e],t,r,!1)}},{key:"getMap",value:function(e,t){return t[e]?t[e]:t[e]=new Map}},{key:"encodeBip32Derivation",value:function(e,t){var r=new i.BufferWriter;return this.writeBip32Derivation(r,e,t),r.buffer()}},{key:"decodeBip32Derivation",value:function(e){var t=new i.BufferReader(e);return this.readBip32Derivation(t)}},{key:"writeBip32Derivation",value:function(e,t,r){e.writeSlice(t),r.forEach((function(t){e.writeUInt32(t)}))}},{key:"readBip32Derivation",value:function(e){for(var t=e.readSlice(4),r=[];e.offset<e.buffer.length;)r.push(e.readUInt32());return{masterFingerprint:t,path:r}}},{key:"encodeTapBip32Derivation",value:function(e,t,r){var n=new i.BufferWriter;return n.writeVarInt(e.length),e.forEach((function(e){n.writeSlice(e)})),this.writeBip32Derivation(n,t,r),n.buffer()}},{key:"decodeTapBip32Derivation",value:function(e){for(var t=new i.BufferReader(e),r=(0,c.sanitizeBigintToNumber)(t.readVarInt()),n=[],a=0;a<r;a++)n.push(t.readSlice(32));return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({hashes:n},this.readBip32Derivation(t))}}]),t}();function O(t,r,n,a){if(!t)throw Error("No such map");var o=new T(r,n),i=t.get(o.toString());if(!i){if(a)return;throw new P(o.toString())}return e.from(i)}t.PsbtV2=I;var T=function(){function e(t,r){p(this,e),E(this,"keyType",void 0),E(this,"keyData",void 0),this.keyType=t,this.keyData=r}return d(e,[{key:"toString",value:function(){var e=new i.BufferWriter;return this.toBuffer(e),e.buffer().toString("hex")}},{key:"serialize",value:function(e){e.writeVarInt(1+this.keyData.length),this.toBuffer(e)}},{key:"toBuffer",value:function(e){e.writeUInt8(this.keyType),e.writeSlice(this.keyData)}}]),e}(),x=function(){function e(t,r){p(this,e),E(this,"key",void 0),E(this,"value",void 0),this.key=t,this.value=r}return d(e,[{key:"serialize",value:function(e){this.key.serialize(e),e.writeVarSlice(this.value)}}]),e}();function k(e){return new T(e.readUInt8(0),e.slice(1))}function C(t,r){var n,a=u(r.keys());try{for(a.s();!(n=a.n()).done;){var o=n.value,i=r.get(o);new x(k(e.from(o,"hex")),i).serialize(t)}}catch(c){a.e(c)}finally{a.f()}t.writeUInt8(0)}function j(){return e.from([])}function B(e,t,r,n){var a=new T(t,r);e.set(a.toString(),n)}function R(t){var r=e.alloc(4);return r.writeUInt32LE(t,0),r}function N(e){var t=new i.BufferWriter;return t.writeVarInt(e),t.buffer()}function _(e){return(0,c.sanitizeBigintToNumber)(new i.BufferReader(e).readVarInt())}}).call(this,r(9).Buffer)},886:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMultisigPolicyTemplate=t.validateMultisigPolicyScriptType=t.validateMultisigPolicyKeys=t.getTotalSignerCountFromTemplate=t.getPolicyTemplateFromWalletConfig=t.getKeyOriginsFromWalletConfig=t.braidDetailsToWalletConfig=t.MultisigWalletPolicy=t.KeyOrigin=void 0,r(358),r(605),r(611),r(82),r(83),r(53),r(104),r(148),r(73),r(71),r(72),r(42);var n=r(5),a=r(858);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var f=function(){function e(t){var r=t.xfp,a=t.bip32Path,i=t.xpub,c=t.network;o(this,e),s(this,"xfp",void 0),s(this,"bip32Path",void 0),s(this,"xpub",void 0),(0,n.validateRootFingerprint)(r),this.xfp=r,(0,n.validateBIP32Path)(a),this.bip32Path=a,(0,n.validateExtendedPublicKey)(i,c),this.xpub=i}return c(e,[{key:"toString",value:function(){var e=this.bip32Path;return"m"===this.bip32Path[0]&&(e=this.bip32Path.slice(1)),"[".concat(this.xfp).concat(e,"]").concat(this.xpub)}}]),e}();t.KeyOrigin=f;t.getPolicyTemplateFromWalletConfig=function(e){var t,r=Number(e.requiredSigners),n=!1;switch(e.addressType){case"P2SH":t="sh";break;case"P2WSH":t="wsh";break;case"P2TR":t="tr";break;case"P2SH-P2WSH":t="wsh",n=!0;break;default:throw new Error("Unknown address type: ".concat(e.addressType))}var a=e.extendedPublicKeys.map((function(e,t){return"@".concat(t,"/**")})).join(","),o="".concat(t,"(sortedmulti(").concat(r,",").concat(a,"))");return n?"sh(".concat(o,")"):o};t.getKeyOriginsFromWalletConfig=function(e){return e.extendedPublicKeys.map((function(t){return new f({xfp:t.xfp,xpub:t.xpub,bip32Path:t.bip32Path,network:e.network})}))};var d=function(){function e(t){var r=t.name,n=t.template,a=t.keyOrigins;o(this,e),s(this,"name",void 0),s(this,"template",void 0),s(this,"keyOrigins",void 0),r.length>64?(console.warn("Wallet policy name too long. (".concat(r.length,") greater than max of 64 chars.")),this.name="".concat(r.slice(0,61),"...")):this.name=r,m(n),this.template=n;var i=A(n);if(i!==a.length)throw new Error("Expected ".concat(i," key origins but ").concat(a.length," were passed"));this.keyOrigins=a}return c(e,[{key:"toJSON",value:function(){return JSON.stringify({name:this.name,template:this.template,keyOrigins:this.keyOrigins})}},{key:"toLedgerPolicy",value:function(){return new a.WalletPolicy(this.name,this.template,this.keyOrigins.map((function(e){return e.toString()})))}}]),e}();t.MultisigWalletPolicy=d;var p=function(e){var t=["sh","wsh"];if(!t.some((function(t){return e.startsWith(t)})))throw new Error("Invalid script type in template ".concat(e,". Only script types ").concat(t.join(", ")," accepted"))};t.validateMultisigPolicyScriptType=p;var h=function(e){var t=Number(e.match(/\d+/)[0]);if(!t)throw new Error("Expected to find a required number of signers from the quorum");var r=A(e);if(!r||r<t)throw new Error("Required signers in policy ".concat(e," is ")+"".concat(t," but found only ").concat(r," total keys"))};t.validateMultisigPolicyKeys=h;var A=function(e){return e.match(/@\d+\/\*\*/g).length};t.getTotalSignerCountFromTemplate=A;var m=function(e){p(e),h(e)};t.validateMultisigPolicyTemplate=m;t.braidDetailsToWalletConfig=function(e){return{network:e.network,extendedPublicKeys:e.extendedPublicKeys.map((function(e){return{xpub:e.base58String,bip32Path:e.path,xfp:e.rootFingerprint}})),requiredSigners:e.requiredSigners,name:"".concat(e.requiredSigners,"-of-").concat(e.extendedPublicKeys.length," ").concat(e.addressType," ").concat(e.network," wallet"),addressType:e.addressType}}},942:function(e){e.exports=JSON.parse('{"a":"0.3.13"}')},951:function(e,t,r){e.exports=r(1519)},985:function(e,t){},987:function(e,t){}},[[951,1,2]]]);
//# sourceMappingURL=main.3fda3829.chunk.js.map