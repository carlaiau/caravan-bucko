{"version":3,"sources":["../../unchained-bitcoin/lib/block_explorer.js","../../unchained-bitcoin/lib/fixtures.js","../../unchained-bitcoin/lib/psbtv2.js","../../unchained-bitcoin/lib/types/index.js","components/ScriptExplorer/styles.module.scss","../../unchained-wallets/lib/coldcard.js","../../unchained-wallets/lib/custom.js","../../unchained-wallets/lib/hermit.js","../../unchained-wallets/lib/vendor/bcur/index.js","../../unchained-wallets/lib/vendor/bcur/encodeUR.js","../../unchained-wallets/lib/vendor/bech32/bech32.js","../../unchained-wallets/lib/vendor/bcur/decodeUR.js","../../unchained-wallets/lib/ledger.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/appClient.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/bip32.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/clientCommands.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/merkelizedPsbt.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/merkleMap.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/policy.js","../../unchained-wallets/lib/policy.js","../../unchained-wallets/lib/trezor.js","images/logo.png","utils/constants.js","utils/ExternalLink.jsx","utils/index.js","components/Disclaimer.jsx","components/Help.jsx","block_explorer.js","bitcoind.js","blockchain.js","utils/slices.js","selectors/wallet.js","actions/transactionActions.js","actions/errorNotificationActions.js","actions/walletActions.js","actions/braidActions.js","components/BitcoinIcon.jsx","components/EditableName.jsx","components/Wallet/WalletInfoCard.jsx","actions/settingsActions.js","components/NetworkPicker.jsx","components/QuorumPicker.jsx","components/AddressTypePicker.jsx","actions/utils.js","actions/clientActions.js","components/ClientPicker/PrivateClientSettings.jsx","components/ClientPicker/index.jsx","components/StartingAddressIndexPicker.jsx","components/Wallet/ConfirmWallet.jsx","proptypes/utils.js","proptypes/slice.js","proptypes/client.js","proptypes/settings.js","components/Copyable.jsx","components/ScriptExplorer/UTXOSet.jsx","components/MultisigDetails.jsx","components/ImportAddressesButton.jsx","actions/signatureImporterActions.js","components/ScriptExplorer/TextSignatureImporter.jsx","components/InteractionMessages.jsx","components/ScriptExplorer/DirectSignatureImporter.jsx","components/Hermit/HermitReader.jsx","components/Hermit/HermitDisplayer.jsx","components/Hermit/HermitSignatureImporter.jsx","components/ScriptExplorer/IndirectSignatureImporter.jsx","components/Coldcard/ColdcardSigningButtons.jsx","components/Coldcard/ColdcardSigner.jsx","components/Coldcard/ColdcardSignatureImporter.jsx","components/ScriptExplorer/SignatureImporter.jsx","components/Wallet/ExtendedPublicKeySelector.jsx","components/Slices/ConfirmAddress.jsx","components/Slices/SliceDetails.jsx","components/Slices/SlicesTable.jsx","components/Wallet/WalletDeposit.jsx","components/Wallet/AddressExpander.jsx","components/Wallet/Node.jsx","components/Wallet/NodeSet.jsx","components/ScriptExplorer/OutputEntry.jsx","components/ScriptExplorer/OutputsForm.jsx","components/Wallet/constants.js","components/ScriptExplorer/Transaction.jsx","components/UnsignedTransaction.jsx","components/Wallet/WalletSign.jsx","components/Wallet/TransactionPreview.jsx","components/Wallet/WalletSpend.jsx","components/Slices/SlicesTableContainer.jsx","components/Wallet/WalletControl.jsx","components/Wallet/WalletConfigInteractionButtons.jsx","actions/extendedPublicKeyImporterActions.js","components/Wallet/WalletGenerator.jsx","components/Wallet/DirectExtendedPublicKeyImporter.jsx","components/Wallet/TextExtendedPublicKeyImporter.jsx","components/CreateAddress/Conflict.jsx","components/Wallet/IndirectExtendedPublicKeyImporter.jsx","components/Coldcard/ColdcardExtendedPublicKeyImporter.jsx","components/Hermit/HermitExtendedPublicKeyImporter.jsx","components/Wallet/ExtendedPublicKeyImporter.jsx","components/Wallet/WalletActionsPanel.jsx","components/Wallet/index.jsx","actions/publicKeyImporterActions.js","components/CreateAddress/AddressGenerator.jsx","components/CreateAddress/TextPublicKeyImporter.jsx","components/CreateAddress/ExtendedPublicKeyPublicKeyImporter.jsx","components/CreateAddress/HermitPublicKeyImporter.jsx","components/CreateAddress/HardwareWalletPublicKeyImporter.jsx","components/CreateAddress/PublicKeyImporter.jsx","components/CreateAddress/index.jsx","actions/testSuiteRunActions.js","actions/keystoreActions.js","actions/testRunActions.js","components/TestSuiteRun/Note.jsx","components/TestSuiteRun/KeystorePicker.jsx","tests/Test.js","components/TestSuiteRun/TestSuiteRunSummary.jsx","components/TestSuiteRun/TestRun.jsx","components/TestSuiteRun/Seed.jsx","components/TestSuiteRun/index.jsx","components/ScriptExplorer/ScriptEntry.jsx","actions/ownershipActions.js","components/ScriptExplorer/ConfirmOwnership.jsx","components/ScriptExplorer/index.jsx","components/Navbar.jsx","components/Footer.jsx","components/ErrorBoundary.jsx","components/ErrorNotification.jsx","components/App.jsx","components/AppContainer.jsx","registerServiceWorker.js","reducers/utils.js","reducers/settingsReducer.js","reducers/clientReducer.js","reducers/braidReducer.js","reducers/quorumReducer.js","reducers/addressReducer.js","reducers/walletReducer.js","reducers/ownershipReducer.js","reducers/signatureImportersReducer.js","reducers/transactionReducer.js","reducers/keystoreReducer.js","tests/publicKeys.jsx","tests/extendedPublicKeys.jsx","tests/addresses.jsx","tests/signing.jsx","tests/trezor.js","tests/registration.jsx","tests/ledger.js","tests/hermit.js","tests/coldcard.js","tests/index.js","reducers/testSuiteRunReducer.js","reducers/errorNotificationReducer.js","reducers/index.js","index.jsx","../../unchained-bitcoin/lib/networks.js","../../unchained-bitcoin/lib/p2sh_p2wsh.js","../../unchained-bitcoin/lib/p2wsh.js","../../unchained-bitcoin/lib/utils.js","../../unchained-bitcoin/lib/multisig.js","../../unchained-bitcoin/lib/p2sh.js","../../unchained-wallets/lib/interaction.js","../../unchained-bitcoin/lib/paths.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/varint.js","components/Coldcard/ColdcardFileReader.jsx","../../unchained-bitcoin/lib/fees.js","components/Coldcard/ColdcardFileReader.module.scss","../../unchained-bitcoin/lib/braid.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/merkle.js","../../unchained-bitcoin/lib/index.js","../../unchained-bitcoin/lib/keys.js","../../unchained-bitcoin/lib/inputs.js","../../unchained-bitcoin/lib/psbt.js","../../unchained-wallets/lib/vendor/bech32/index.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/buffertools.js","../../unchained-wallets/lib/index.js","../../unchained-bitcoin/lib/addresses.js","../../unchained-bitcoin/lib/outputs.js","../../unchained-bitcoin/lib/script.js","../../unchained-bitcoin/lib/signatures.js","../../unchained-bitcoin/lib/transactions.js","../../unchained-wallets/lib/bcur.js","../../unchained-wallets/lib/vendor/bcur/miniCbor.js","../../unchained-wallets/lib/vendor/bcur/utils.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/index.js","../../unchained-wallets/lib/vendor/ledger-bitcoin/src/psbtv2.js"],"names":["Object","defineProperty","exports","value","blockExplorerAPIURL","path","network","concat","blockExplorerBaseURL","blockExplorerAddressURL","address","blockExplorerURL","blockExplorerTransactionURL","txid","_networks","require","TESTNET","TEST_FIXTURES","ROOT_FINGERPRINT","obj","_TESTNET","_MAINNET","_RECEIVING_ADDRESSES","_TESTNET2","_MAINNET2","_CHANGE_ADDRESSES","_bignumber","__esModule","default","_multisig","_inputs","_p2sh","_p2sh_p2wsh","_p2wsh","_braid","_typeof","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","keys","length","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","call","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","o","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","arg","input","hint","prim","toPrimitive","undefined","res","String","Number","_toPrimitive","_toPropertyKey","configurable","writable","RECEIVING_ADDRESSES","P2SH","P2SH_P2WSH","P2WSH","MAINNET","CHANGE_ADDRESSES","NODES","pub","xpub","tpub","zpub","ypub","Ypub","Zpub","upub","vpub","Upub","Jpub","chaincode","parentFingerprint","rootFingerprint","index","depth","extendedPublicKey","base58String","pubkey","version","open_source","unchained","BRAIDS","addressType","extendedPublicKeys","stringExtendedPublicKeys","requiredSigners","pubKeySets","0","1","48349","bip32Derivations","masterFingerprint","Buffer","MULTISIGS","type","bip32Path","policyHmac","publicKey","publicKeys","changePublicKeys","redeemScriptOps","redeemScriptHex","scriptOps","scriptHex","utxos","amountSats","transactionHex","transaction","outputs","bip32Derivation","redeemScript","hex","signature","byteCeilingSignature","changeBip32Derivation","braidDetails","changeBraidDetails","psbtNoChange","psbt","psbtWithGlobalXpub","psbtPartiallySigned","psbtOrderedPartiallySigned","witnessScriptOps","witnessScriptHex","witnessScript","map","multisig","generateMultisigFromPublicKeys","braidConfig","description","utxo","output","multisigScript","multisigRedeemScript","multisigWitnessScript","multisigScriptOps","multisigScriptHex","TRANSACTIONS","inputs","sortInputs","bip32Paths","segwit","format","derivation","walletName","singleMultisigTransaction","bip39Phrase","nodes","reduce","openSourceNodes","node","_NODES$node","rest","unchainedNodes","braids","multisigs","transactions","PsbtV2Maps","PsbtV2","getPsbtVersionNumber","_map$get3","buf","bufferize","Map","br","_bufio","BufferReader","_psbt","PSBT_MAGIC_BYTES","readAndSetKeyPairs","get","KeyType","PSBT_GLOBAL_VERSION","readUInt32LE","PsbtGlobalTxModifiableBits","_bitcoinjsLib","_utils","_paths","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_slicedToArray","_arrayWithHoles","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","err","return","_iterableToArrayLimit","_nonIterableRest","_createForOfIteratorHelper","allowArrayLike","it","F","s","_e2","f","normalCompletion","didErr","step","_e3","PSBT_MAP_SEPARATOR","BIP_32_NODE_REGEX","ERROR_PSBT_NOT_VALID","Error","isBuffer","validateHex","validBase64","getNonUniqueKeyTypeValues","maps","keytype","_step","values","_iterator","entries","_step$value","startsWith","getOptionalMappedBytesAsHex","_map$get$toString","_map$get","getOptionalMappedBytesAsUInt","_map$get$readUInt32LE","_map$get2","parseDerivationPathNodesToBytes","_path$match","validationMessage","validateBIP32Path","_step2","bw","BufferWriter","_iterator2","match","num","parseInt","writeU32","render","nextByte","readBytes","equals","keyLen","readUInt8","readVarBytes","set","serializeMap","writeVarint","writeString","writeBytes","_this$globalMap$get$r","_this$globalMap$get","_this$globalMap$get$r2","_this$globalMap$get2","globalMap","has","PSBT_GLOBAL_TX_VERSION","PSBT_GLOBAL_INPUT_COUNT","PSBT_GLOBAL_OUTPUT_COUNT","inputCount","inputMaps","outputCount","_i2","_map","outputMaps","_step3","_iterator3","_step4","_iterator4","_map2","to","copyMap","copyMaps","_this","m","to_index","v","k","_PsbtV2Maps","subClass","superClass","create","_inherits","_super","_this2","PSBT_IN_PREVIOUS_TXID","PSBT_IN_OUTPUT_INDEX","_step5","_iterator5","PSBT_IN_REQUIRED_TIME_LOCKTIME","locktime","_step6","_iterator6","PSBT_IN_REQUIRED_HEIGHT_LOCKTIME","_locktime","PSBT_OUT_AMOUNT","PSBT_OUT_SCRIPT","fingerprint","PSBT_GLOBAL_XPUB","pathBytes","_ref","previousTxId","outputIndex","sequence","nonWitnessUtxo","witnessUtxo","writeI32","PSBT_IN_SEQUENCE","PSBT_IN_NON_WITNESS_UTXO","PSBT_IN_WITNESS_UTXO","PSBT_IN_REDEEM_SCRIPT","PSBT_IN_WITNESS_SCRIPT","_step7","_iterator7","bip32","PSBT_IN_BIP32_DERIVATION","newInputs","_","_ref2","amount","script","writeI64","PSBT_OUT_REDEEM_SCRIPT","PSBT_OUT_WITNESS_SCRIPT","_step8","_iterator8","PSBT_OUT_BIP32_DERIVATION","newOutputs","val","readInt32LE","_this$globalMap$get$r3","_this$globalMap$get3","PSBT_GLOBAL_FALLBACK_LOCKTIME","delete","count","writeU8","_this$globalMap$get4","PSBT_GLOBAL_TX_MODIFIABLE","modifiable","INPUTS","OUTPUTS","SIGHASH_SINGLE","_this$globalMap$get$r4","_this$globalMap$get5","PSBT_GLOBAL_PROPRIETARY","PSBT_IN_PARTIAL_SIG","PSBT_IN_SIGHASH_TYPE","PSBT_IN_FINAL_SCRIPTSIG","PSBT_IN_FINAL_SCRIPTWITNESS","PSBT_IN_POR_COMMITMENT","PSBT_IN_RIPEMD160","PSBT_IN_SHA256","PSBT_IN_HASH160","PSBT_IN_HASH256","_step9","txids","_iterator9","_step10","indexes","_iterator10","PSBT_IN_TAP_KEY_SIG","PSBT_IN_TAP_SCRIPT_SIG","PSBT_IN_TAP_LEAF_SCRIPT","PSBT_IN_TAP_BIP32_DERIVATION","PSBT_IN_TAP_INTERNAL_KEY","PSBT_IN_TAP_MERKLE_ROOT","PSBT_IN_PROPRIETARY","_step11","_iterator11","readBigInt64LE","_step12","_iterator12","PSBT_OUT_TAP_INTERNAL_KEY","PSBT_OUT_TAP_TREE","PSBT_OUT_TAP_BIP32_DERIVATION","PSBT_OUT_PROPRIETARY","heightLocks","timeLocks","heights","times","Math","max","_psbtv0GlobalMap$glob","psbtv0Buf","psbtv0","Psbt","fromBuffer","psbtv2","psbtv0GlobalMap","data","getTransaction","_step13","_iterator13","globalXpub","addGlobalXpub","extendedPubkey","_step14","txInputs","_iterator14","_step14$value","txInput","_step15","_iterator15","_input$witnessUtxo","_step15$value","_index","_txInput","addInput","hash","_step16","txOutputs","_iterator16","_step16$value","_index2","txOutput","_step17","_iterator17","_step17$value","_index3","_txOutput","addOutput","_keys","_addresses","module","ColdcardSignMultisigTransaction","ColdcardMultisigWalletConfig","ColdcardInteraction","ColdcardExportPublicKey","ColdcardExportExtendedPublicKey","COLDCARD_WALLET_CONFIG_VERSION","COLDCARD_BASE_BIP32_PATHS","COLDCARD","_unchainedBitcoin","_interaction","_get","property","receiver","base","_superPropBase","desc","hasOwnProperty","replace","COLDCARD_BASE_CHROOTS","_IndirectKeystoreInte","IndirectKeystoreInteraction","ColdcardMultisigSettingsFileParser","_ColdcardInteraction","_super2","find","net","bip32ValidationErrorMessage","bip32ValidationError","validateColdcardBip32Path","messages","state","PENDING","level","ERROR","code","text","INFO","chroot","bip32PathError","coldcardChroot","chrootForBIP32Path","relativePath","getRelativeBIP32Path","relativePathError","mode","unknownColdcardParentBip32PathError","file","JSON","parse","error","p2sh_deriv","p2sh","p2wsh_deriv","p2wsh","p2wsh_p2sh_deriv","p2wsh_p2sh","p2sh_p2wsh_deriv","p2sh_p2wsh","xpubClass","ExtendedPublicKey","fromBase58","xfp","xfpFromWithinXpub","fingerprintToFixedLengthHex","toLowerCase","knownColdcardChroot","includes","prefix","baseXpub","convertExtendedPublicKey","deriveChildExtendedPublicKey","_ColdcardMultisigSett","_super3","xpubJSONFile","deriveDeeperXpubIfNecessary","_ColdcardMultisigSett2","_super4","_ref3","_ColdcardInteraction2","_super5","_ref4","unsignedMultisigPSBT","ACTIVE","psbtObject","signatures","parseSignaturesFromPSBT","_ref5","jsonConfig","uuid","quorum","totalSigners","every","isNaN","repeat","join","CustomSignMultisigTransaction","CustomInteraction","CustomExportExtendedPublicKey","CUSTOM","_CustomInteraction","validationErrorMessages","validateRootFingerprint","pkLen","substring","message","numSlashes","split","bipDepth","_CustomInteraction2","HermitSignMultisigTransaction","HermitInteraction","HermitExportExtendedPublicKey","HERMIT","_bcur","commandMessage","instructions","command","DESCRIPTOR_REGEXP","RegExp","_HermitInteraction","descriptorHex","_HermitInteraction2","_ref2$returnSignature","returnSignatureArray","workflow","unshift","unsignedPSBTHex","BCUREncoder","parts","signedPSBTHex","_decodeUR","decodeUR","_encodeUR","encodeUR","extractSingleWorkload","smartDecodeUR","_miniCbor","_bech","composeUR","payload","composeDigest","digest","composeSequencing","total","composeHeadersToFragments","fragments","compose3","fragmentCapacity","cborPayload","encodeSimpleCBOR","bc32Payload","encodeBc32Data","sha256Hash","bc32Digest","str","toUpperCase","CHARSET","GENERATOR","polymod","chk","top","hrpExpand","hrp","ret","charCodeAt","verifyChecksum","header","check","Bech32Version","Origin","_default","encode","combined","bech32Version","mod","createChecksum","charAt","decode","bechString","hasLower","hasUpper","pos","lastIndexOf","d","bis","decodeBc32","checkAndGetSequence","pieces","_pieces","checkDigest","decoded","decodeBc32Data","checkURHeader","UR","dealWithSingleWorkload","workload","fragment","_digest","_fragment","dealWithMultipleWorkloads","workloads","fill","_checkAndGetSequence2","getBC32Payload","decodeSimpleCBOR","onlyUniq","_extractSingleWorkloa2","success","current","LedgerV2SignMultisigTransaction","LedgerSignMultisigTransaction","LedgerSignMessage","LedgerRegisterWalletPolicy","LedgerInteraction","LedgerGetMetadata","LedgerExportPublicKey","LedgerExportExtendedPublicKey","LedgerDashboardInteraction","LedgerConfirmMultisigAddress","LedgerBitcoinV2WithRegistrationInteraction","LedgerBitcoinInteraction","LEDGER_V2","LEDGER_RIGHT_BUTTON","LEDGER_LEFT_BUTTON","LEDGER_BOTH_BUTTONS","LEDGER","_splitTransaction","_serializeTransaction","_getAppAndVersion","_ledgerBitcoin","_policy","_hwTransportWebusb","_interopRequireDefault","_hwAppBtc","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","fn","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","__await","then","unwrapped","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","Promise","reverse","pop","skipTempReset","prev","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","TransportU2F","_DirectKeystoreIntera","_len","_key","_withTransport","_callee","callback","transport","_transport","_context","environment","satisfies","firefox","t0","t1","withTransport","_callee2","response","_context2","getAppAndVersion","appVersion","_x2","_isLegacyApp","_callee3","_version$split","_version$split2","majorVersion","minorVersion","_context3","setAppVersion","_this3","_callee4","app","_context4","isLegacyApp","AppClient","_x3","_callee5","_context5","close","console","_x4","DirectKeystoreInteraction","_LedgerInteraction","_LedgerInteraction2","_this4","_len2","_key2","_isAppSupported","_callee6","_context6","isSupported","isLegacySupported","isV2Supported","_run","_callee7","_context7","isAppSupported","_LedgerDashboardInter","_run2","_callee9","_this5","_context9","_callee8","rawResult","_context8","setScrambleKey","send","parseMetadata","_x5","byteArray","targetId","readUIntBE","seVersionLength","seVersion","flagsLength","flags","mcuVersionLength","mcuVersion","versionString","allocUnsafeSlow","_ref6","flag","_split2","patchVersion","_split4","mcuMajorVersion","mcuMinorVersion","MODEL_RANGES","minTargetId","model","range","spec","major","minor","patch","string","LedgerExportHDNode","_LedgerBitcoinInterac","_ref7","_this6","indices","bip32PathToSequence","hardened0","hardenedBIP32Index","hardened44","hardened100","_getFingerprint","_callee10","root","fp","_args10","_context10","getMultisigRootPublicKey","getParentPublicKey","getFingerprintFromPublicKey","getXfp","_getXfp","_callee12","_context12","getFingerprint","withApp","_ref8","_callee11","_context11","getMasterFingerprint","_x6","_this7","_ref9","_callee13","parentPath","_context13","getParentBIP32Path","getWalletPublicKey","_x7","_ref10","_callee14","_context14","_x8","_this8","_ref11","_callee15","_context15","_x9","_LedgerExportHDNode","_super6","_ref12","_this9","_ref12$includeXFP","includeXFP","_run3","_callee16","_context16","parsePublicKey","compressPublicKey","_LedgerExportHDNode2","_super7","_ref13","_this10","_run4","_callee18","walletPublicKey","_rootFingerprint","_xpub","_this11","_context18","deriveExtendedPublicKey","chainCode","_ref14","_callee17","_context17","getExtendedPubkey","_x10","_LedgerBitcoinInterac2","_super8","_ref15","_this12","keyDetails","_ref15$returnSignatur","v2Options","_translatePSBT","translatePSBT","unchainedInputs","unchainedOutputs","b32d","pubkeys","WARNING","preProcessingTime","postProcessingTime","anySegwitInputs","action","_run5","_callee20","interaction","_this13","_context20","run","_ref16","_callee19","transactionSignature","_context19","setExchangeTimeout","signP2SHTransaction","ledgerInputs","associatedKeysets","ledgerKeysets","outputScriptHex","ledgerOutputScriptHex","lockTime","sigHashType","transactionVersion","addSignaturesToPSBT","parseSignature","_x11","_x12","multisigAddressType","inputTransaction","splitTransaction","scriptFn","scriptToHex","_this14","ledgerBIP32Path","txHex","unsignedMultisigTransaction","toHex","splitTx","serializeTransactionOutputs","_LedgerBitcoinInterac3","_super9","_ref17","_this15","_run6","_callee22","_this16","_context22","_ref18","_callee21","vrs","_context21","signMessageNew","_x13","_x14","_LedgerBitcoinInterac4","_super10","_ref19","_this17","braid","keyOrigins","getKeyOriginsFromBraid","template","getPolicyTemplateFromBraid","walletPolicy","MultisigWalletPolicy","_registerWallet","_callee24","verify","_this18","_args24","_context24","_ref20","_callee23","policy","_yield$app$registerWa","_yield$app$registerWa2","policyId","buff","_context23","toLedgerPolicy","registerWallet","_x15","_LedgerBitcoinV2WithR","_super11","_ref21","_this19","_ref21$verify","_run7","_callee25","_context25","_LedgerBitcoinV2WithR2","_super12","_ref22","_this20","addressIndex","display","expected","braidIndex","_this21","_ref23","_callee26","_context26","getWalletAddress","_x16","_run8","_callee27","_context27","getAddress","_LedgerBitcoinV2WithR3","_super13","_ref24","_this22","progressCallback","psbtVersion","FromV0","_signPsbt","_callee29","_this23","_context29","_ref25","_callee28","_context28","signPsbt","_x17","sig","_run9","_callee30","_context30","SIGNATURES","_bip","_clientCommands","_merkelizedPsbt","_merkle","_varint","BitcoinIns","FrameworkIns","_makeRequest","ins","cci","hwRequest","commandResponse","readUInt16BE","execute","CONTINUE_INTERRUPTED","_getExtendedPubkey","pathElements","_args2","pathStringToArray","makeRequest","GET_PUBKEY","pathElementsToBuffer","clientInterpreter","serializedWalletPolicy","ClientCommandInterpreter","addKnownWalletPolicy","serialize","REGISTER_WALLET","createVarint","subarray","_getWalletAddress","walletHMAC","change","addressIndexBuffer","isInteger","alloc","writeUInt32BE","GET_WALLET_ADDRESS","getId","merkelizedPsbt","inputMapsRoot","outputMapsRoot","yielded","inputAndSig","_parseVarint","_parseVarint2","inputIndex","inputIndexLen","pubkeyLen","MerkelizedPsbt","addKnownMapping","globalMerkleMap","inputMerkleMaps","outputMerkleMaps","addKnownList","inputMapCommitments","Merkle","hashLeaf","getRoot","outputMapCommitments","SIGN_PSBT","getGlobalKeysValuesRoot","getGlobalInputCount","getGlobalOutputCount","getYielded","parseVarint","_getMasterFingerprint","fpr","GET_MASTER_FINGERPRINT","_signMessage","nChunks","chunks","chunksRoot","ceil","SIGN_MESSAGE","bip32asBuffer","getXpubComponents","xpubBuf","_bs58check","readUInt32BE","hardenedPathOf","pathArrayToString","_bip32Path","fromPathArray","pubkeyFromXpub","paths","buffer","element","fromString","toPathArray","YieldCommand","GetPreimageCommand","GetMoreElementsCommand","GetMerkleLeafProofCommand","GetMerkleLeafIndexCommand","ClientCommandCode","_buffertools","ClientCommand","_ClientCommand","results","YIELD","request","_ClientCommand2","known_preimages","queue","GET_PREIMAGE","req","req_hash_hex","known_preimage","preimage_len_varint","max_payload_size","payload_size","min","_ClientCommand3","known_trees","GET_MERKLE_LEAF_PROOF","tree_size","leaf_index","reqBuf","hash_hex","readSlice","sanitizeBigintToNumber","readVarInt","mt","size","_this$queue","proof","getProof","n_response_elements","floor","n_leftover_elements","getLeafHash","_ClientCommand4","GET_MERKLE_LEAF_INDEX","root_hash","root_hash_hex","leef_hash","leef_hash_hex","found","_i3","_ClientCommand5","GET_MORE_ELEMENTS","element_len","some","el","max_elements","n_returned_elements","returned_elements","splice","_i4","_commands","preimages","roots","cmd","commands","preimage","crypto","sha256","elements","addKnownPreimage","mm","wp","descriptorTemplate","cmdCode","_merkleMap","_PsbtV","copy","createMerkleMap","commitment","sortedKeysStrings","sort","sortedKeys","MerkleMap","keysTree","valuesTree","WalletPolicy","DefaultWalletPolicy","keyBuffers","writeUInt8","writeVarSlice","writeVarInt","writeSlice","_WalletPolicy","validateMultisigPolicyTemplate","validateMultisigPolicyScriptType","validateMultisigPolicyKeys","getTotalSignerCountFromTemplate","KeyOrigin","validateExtendedPublicKey","scriptType","nested","signersString","warn","totalSignerCount","stringify","ko","acceptedScripts","TrezorSignMultisigTransaction","TrezorSignMessage","TrezorInteraction","TrezorGetMetadata","TrezorExportPublicKey","TrezorExportHDNode","TrezorExportExtendedPublicKey","TrezorConfirmMultisigAddress","TREZOR_RIGHT_BUTTON","TREZOR_PUSH_AND_HOLD_BUTTON","TREZOR_LEFT_BUTTON","TREZOR_BOTH_BUTTONS","TREZOR","trezorCoin","_ADDRESS_SCRIPT_TYPES","TrezorConnect","ADDRESS_SCRIPT_TYPES","env_variables","process","TREZOR_CONNECT_URL","REACT_APP_TREZOR_CONNECT_URL","TREZOR_BLOCKBOOK_URL","REACT_APP_TREZOR_BLOCKBOOK_URL","TREZOR_DEV","REACT_APP_TREZOR_DEV","init","connectSrc","lazyLoad","manifest","email","appUrl","NODE_ENV","_this$connectParams","_this$connectParams2","params","connectParams","signTransaction","blockchainSetCustomBackend","coin","blockchainLink","url","parsePayload","_TrezorInteraction","getFeatures","major_version","minor_version","patch_version","label","pin_protection","passphrase_protection","pin","passphrase","_TrezorInteraction2","keyMaterial","serializedPath","MULTISIG_ROOT","getPublicKey","bundle","crossChain","_TrezorExportHDNode","_this$extractDetailsF","extractDetailsFromPayload","_TrezorExportHDNode2","_this$extractDetailsF2","_TrezorInteraction3","multisigRequiredSigners","multisigPublicKeys","script_type","trezorPublicKey","prev_hash","prev_index","address_n","trezorInput","toFixed","trezorOutput","_TrezorInteraction4","showOnTrezor","multisigAddress","keyPair","ECPair","fromPublicKey","payments","p2pkh","networkData","_TrezorInteraction5","signMessage","testnet_network","child_num","chain_code","public_key","DUST_IN_BTC","satoshisToBitcoins","BigNumber","React","createElement","href","rel","downloadFile","body","filename","blob","Blob","window","navigator","msSaveOrOpenBlob","msSaveBlob","elem","document","URL","createObjectURL","download","appendChild","click","removeChild","naiveCoinSelection","options","changeRequired","slices","_slices$reduce","balance","balanceSats","plus","numInputs","walletBalance","outputTotal","selectedUtxos","inputTotal","spendAll","config","numOutputs","estimatedFees","estimateMultisigTransactionFee","toNumber","isGreaterThan","minus","isLessThanOrEqualTo","isSpendAll","j","feesWithoutChange","feesWithChange","inputOutputDiff","isGreaterThanOrEqualTo","Disclaimer","Card","CardHeader","title","CardContent","Help","Box","mb","Typography","variant","Grid","container","spacing","item","md","direction","alignItems","justify","xs","Button","data-cy","color","startIcon","AccountBalanceWallet","SportsVolleyball","List","ListItem","ListItemIcon","Description","ListItemText","externalLink","YouTube","GitHub","CardActions","BugReport","Speed","catch","_blockExplorerGetAddresesUTXOs","utxosResult","axios","all","transactionResult","confirmed","status","vout","time","block_time","_blockExplorerGetAddressStatus","addressesult","addressData","used","chain_stats","funded_txo_count","mempool_stats","_blockExplorerGetFeeEstimate","feeEstimatesResult","feeEstimates","_blockExplorerBroadcastTransaction","broadcastResult","post","callBitcoind","_callBitcoind","auth","headers","Accept","jsonrpc","id","resp","isWalletAddressNotFoundError","bitcoindParams","client","username","password","_bitcoindListUnspent","addresses","addressParam","promises","previousTransactions","mapindex","confirmations","bitcoinsToSatoshis","blocktime","bitcoindGetAddressStatus","_bitcoindGetAddressStatus","_bitcoindEstimateSmartFee","_ref3$numBlocks","numBlocks","feeRate","feerate","_bitcoindSendRawTransaction","log","bitcoindImportMulti","rescan","scriptPubKey","timestamp","fetchAddressUTXOsUnsorted","blockExplorerGetAddresesUTXOs","bitcoindListUnspent","fetchAddressUTXOs","_fetchAddressUTXOs","unsortedUTXOs","updates","fetchedUTXOs","fetchUTXOsError","addressKnown","accumulator","currentValue","getAddressStatus","blockExplorerGetAddressStatus","fetchFeeEstimate","blockExplorerGetFeeEstimate","bitcoindEstimateSmartFee","broadcastTransaction","blockExplorerBroadcastTransaction","bitcoindSendRawTransaction","initSortDir","order","compareSlicesByPath","a","b","orderDir","aint","bint","compareSlicesByBalance","isEqualTo","compareSlicesByUTXOCount","compareSlicesByTime","lastUsed","lastUsedTime","amax","bmax","isChange","prefixLength","DEFAULT_PREFIX","getDepositSlices","wallet","deposits","getWalletSlices","getTotalSigners","settings","extendedPublicKeyImporterBIP32Path","number","extendedPublicKeyImporter","extendedPublicKeyImporters","rootXfp","getTotalBalance","createSelector","getPendingBalance","currentSlice","getConfirmedBalance","totalBalance","pendingBalance","getSlicesWithLastUsed","addressUsed","maxtime","Date","toLocaleDateString","getSpendableSlices","getSpentSlices","getSlicesWithBalance","getZeroBalanceSlices","getUnknownAddressSlices","getUnknownAddresses","getDepositableSlices","getWalletDetailsText","common","extendedPublicKeyImporterBIP32Paths","startingAddressIndex","clientDetails","setRequiredSigners","setInputs","setChangeOutputIndex","setOutputAddress","setOutputAmount","amountString","setChangeAddressAction","deleteOutput","setFeeRate","valueString","setFee","finalizeOutputs","finalized","setBalanceError","updateAutoSpendAction","setSigningKey","extendedPublicKeyImporterIndex","setSpendStep","SET_ERROR_NOTIFICATION","CLEAR_ERROR_NOTIFICATION","setErrorNotification","clearErrorNotification","WALLET_MODES","updateDepositSliceAction","updateChangeSliceAction","updateWalletNameAction","resetWalletView","resetWallet","fetchSliceData","dispatch","getState","_getState","sliceDataPromises","addressStatus","updater","updatedSlice","BitcoinIcon","SvgIcon","htmlColor","xmlns","aria-hidden","focusable","data-prefix","data-icon","className","role","viewBox","defaultProps","EditableName","_React$Component","componentDidMount","setState","newName","_this$state","editing","TextField","autoFocus","onChange","handleChange","onFocus","event","setTimeout","select","onKeyDown","submit","hasError","helperText","IconButton","onClick","disabled","Check","cancel","Clear","startEditing","Edit","style","cursor","preventDefault","_this$props","setName","Component","useStyles","makeStyles","theme","height","fontSize","gutter","paddingLeft","paddingRight","paddingTop","WalletInfoCard","_ref$balance","editable","classes","Fragment","fontWeight","NETWORKS","setNetwork","setTotalSigners","setAddressType","setFrozen","NetworkPicker","handleNetworkChange","frozen","FormControl","component","RadioGroup","FormControlLabel","control","Radio","checked","FormHelperText","mapDispatchToProps","setNetworkAction","connect","QuorumPicker","renderIncrementRequiredSigners","handleIncrementRequiredSigners","AddCircle","renderDecrementRequiredSigners","_this$props2","handleDecrementRequiredSigners","RemoveCircle","renderIncrementTotalSigners","_this$props3","handleIncrementTotalSigners","renderDecrementTotalSigners","_this$props4","handleDecrementTotalSigners","_this$props5","_this$props6","_this$props7","_this$props8","_this$props9","setTotalSignersAction","setRequiredSignersAction","AddressTypePicker","handleTypeChange","setType","actionWrapper","wrappedActions","mapping","actionIndex","wrappedMapping","actionFunctionNames","actionFunctionName","actionType","numberedActionWrapper","wrappedNumberedActions","PrivateClientSettings","handleUrlChange","handleUsernameChange","handlePasswordChange","urlError","usernameError","passwordError","privateNotes","connectSuccess","connectError","testConnection","fullWidth","ClientPicker","setUrl","urlEdited","setUrlError","validateUrl","setUsername","setUsernameError","validateUsername","setPassword","setPasswordError","validatePassword","onSuccess","host","exec","StartingAddressIndexPicker","handleIndexChange","setStartingAddressIndex","validateBIP32Index","startingAddressIndexField","startingAddressIndexError","handleCustomIndexChange","customIndex","Tooltip","WalletConfirmation","Alert","severity","Table","TableHead","TableRow","TableCell","TableBody","renderConfirmationInfo","importer","bigNumberPropTypes","c","PropTypes","arrayOf","isRequired","bool","array","shape","copyText","Copyable","newline","children","showIcon","showText","otherProps","_excluded","_useState","useState","_useState2","copied","setCopied","_useState3","_useState4","timer","setTimer","enqueueSnackbar","useSnackbar","useEffect","clearTimeout","TextComponent","assign","stopPropagation","CopyToClipboard","onCopy","timerTimeout","shortenedText","preventDuplicate","showSnackbarMessage","fontStyle","overflowWrap","FileCopy","UTXOSet","filterInputs","localInputs","transactionStoreInputs","filterToMyInputs","included","toggleInput","toggleAll","setInputsAndUpdateDisplay","setTo","toggled","incomingInputs","existingTransactionInputs","setSpendCheckbox","inputsToSpend","satsSelected","inputsSatsSelected","totalInputsToSpend","notMyInputs","numLocalInputsToSpend","renderInputs","showSelection","finalizedOutputs","confirmedStyle","styles","utxoTxid","unconfirmed","confirmedTitle","hover","Checkbox","data-testid","OpenInNew","inputsTotalSats","selectAll","prevProps","prevMyInputsBeingSpent","myInputsBeingSpent","isFullSpend","spend","_this$props4$showSele","hideSelectAllInHeader","_this$state2","TableFooter","colSpan","setInputsAction","MultisigDetails","renderScript","ops","scriptToOps","sm","showAddress","maxWidth","align","Chip","networkLabel","multisigTotalSigners","tooltip","ImportAddressesButton","_ref$addresses","importCallback","imported","setImported","importError","setImportError","_useState5","_useState6","setRescanPreference","_useState7","_useState8","addressesError","setAddressesError","_useState9","_useState10","enableImport","setEnableImport","checkAddress","_status","errorMessage","statusText","pluralOrSingularAddress","capitalize","_importAddresses","responseError","successes","addr","rescanTooltip","ml","Switch","InfoIcon","_wrappedNumberedActio","setSignatureImporterName","setSignatureImporterMethod","setSignatureImporterBIP32Path","setSignatureImporterPublicKeys","setSignatureImporterSignature","setSignatureImporterFinalized","setSignatureImporterComplete","TextSignatureImporter","signatureJSON","multiline","rows","finalize","setError","parseError","validateAndSetSignature","MessagesList","maxHeight","overflow","dense","renderMessage","messageIcon","renderMessageBodyAndSubmessages","renderMessageBody","image","src","mimeType","alt","Info","Warning","VersionTabPanel","_React$Component2","_this2$props","currentVersion","hidden","aria-labelledby","filteredMessages","_this2$props2","InteractionMessages","_React$Component3","_this3$filteredMessag","versions","Paper","square","Tabs","aria-label","Tab","aria-controls","newValue","_this3$props","excludeCodes","excludeCode","DirectSignatureImporter","resetBIP32Path","signatureImporter","walletConfig","keystore","SignMultisigTransaction","isWallet","UNSUPPORTED","messageTextFor","handleBIP32PathChange","hasBIP32PathError","bip32PathIsDefault","renderAction","renderDeviceConfirmInfo","messagesFor","fee","renderTargets","signatureError","sign","hasMessagesFor","_this$state3","setBIP32PathError","validateAndSetBIP32Path","defaultBIP32Path","disableChangeMethod","enableChangeMethod","stateUpdate","HermitReader","_Component","width","startText","messageFor","handleStart","QrReader","delay","onError","handleError","onScan","handleScan","facingMode","handleStop","onStart","onClear","HermitDisplayer","QRCode","HermitSignatureImporter","import","clear","IndirectSignatureImporter","Signer","FormGroup","onReceive","onReceivePSBT","setActive","signatureData","signatureSetsKeys","errorType","ColdcardSigningButtons","handlePSBTDownloadClick","handleWalletConfigDownloadClick","ColdcardSigner","toBase64","moment","walletDetailsText","reshapeConfig","walletDetails","ConfigAdapter","KEYSTORE","adapt","ColdcardPSBTReader","ColdcardSignatureImporter","SignatureImporter","titleRef","createRef","scrollToTitle","componentDidUpdate","getCurrent","scrollIntoView","behavior","renderImport","notMyTurn","labelId","InputLabel","Select","handleMethodChange","MenuItem","renderImportByMethod","signatureImporters","setMethod","setSignature","setPublicKeys","setFinalized","multisigBIP32Root","multisigBIP32Path","setBIP32Path","errback","renderSignature","inputsSignatures","_this$props10","setComplete","numSignatureSets","finalizedSignatureImporters","inputNumber","inputSignature","validateMultisigSignature","finalizedSignatureImporterNum","finalizedSignatureImporter","signaturesToCheck","filterKnownSignatures","signatureSetNumber","signatureSet","publicKeySet","_this$props11","knownSignatures","x","ref","setSigningKeyAction","ownProps","ExtendedPublicKeySelector","signingKeys","updateKeySelection","selection","renderKeySelectorMenu","renderSignatureImporter","getAssociatedExtendedPublicKeyImporter","associatedExtendedPublicKeyImporter","handleKeyChange","renderKeySelectorMenuItems","extendedPublicKeyImporterNotUsed","derivedKey","deriveChildPublicKey","importerIndex","publicKeyIndex","extendedPublicKeyImporterNum","importMethod","initialInteractionState","keySelected","deviceType","hasInteraction","interactionState","interactionError","interactionMessage","interactionReducer","ConfirmAddress","_useReducer","useReducer","_useReducer2","setInteraction","_confirmOnDevice","_event","fullBip32Path","ConfirmMultisigAddress","SuccessIcon","ErrorIcon","flexGrow","backgroundColor","palette","background","paper","createTab","tab","tooltipTab","a11yProps","arrow","TabPanel","other","SliceDetails","_React$useState","_React$useState2","tabIndex","setTabIndex","tabs","panel","my","AppBar","position","newIndex","centered","boxShadow","grey","spent","textDecoration","SlicesTable","search","paging","detailPanelType","showTitle","emptyRowsWhenPaging","pageSize","pageSizeOptions","toolbar","columns","field","rowData","defaultSort","customSort","sorting","column","MaterialTable","detailPanel","depositTimer","WalletDeposit","getNextDepositAddress","depositIndex","getDepositAddress","updateDepositSlice","depositableSlices","clearInterval","setInterval","resetDepositAddressIndex","handleAmountChange","decimal","amountError","qrString","InputProps","endAdornment","InputAdornment","resetWalletViewAction","withSnackbar","anchor","AddressExpander","defaultMode","addressContent","expandMode","showMenu","showMenuIcon","LaunchIcon","MoreVertIcon","handleMenu","float","hasAdditionalOptions","aria-haspopup","Menu","anchorEl","keepMounted","open","onClose","handleClose","selected","canConfirm","panelExpand","expanded","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMoreIcon","ExpansionPanelDetails","expandContent","renderAddressConfirmation","confirmAddressDescription","confirmOnDevice","resetInteractionState","Node","generate","indeterminate","markSpending","updateNode","walletMode","spending","handleSpend","maxUtxoDate","renderAddress","braidNode","present","addNode","updateAutoSpend","getAttribute","setFeeRateAction","updateAutoSpendActionImport","NodeSet","sortAddresses","orderBy","page","renderFilters","filterIncludeSpent","filterIncludeZeroBalance","row","FormLabel","mr","filterAddresses","_this$setState","getNodeSet","changeNodes","depositNodes","returnValue","nodeSet","amin","bmin","nodesObject","currentNode","renderNodes","_this$state4","nodesPerPage","startingIndex","nodesRows","whichOne","nodeRow","handlePageChange","handleChangeRowsPerPage","pageCount","rowCount","_this$state5","tableLayout","TableSortLabel","active","TablePagination","rowsPerPage","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","OutputEntry","displayBalanceAction","autoSpend","hasBalanceError","isBalanceable","addChangeAddress","changeNode","setAddress","setChangeOutput","renderChangeAdornment","changeOutputIndex","disable","placement","AccountBalanceWalletOutlinedIcon","handleAddressChange","hasAddressError","addressError","setAmount","hasAmountError","isNotBalanceable","feeError","newAmount","autoBalancedAmount","validateOutputAmount","balanceError","outputTotalSats","feeSats","balanceAction","handleBalance","handleDelete","remove","handleMaxSpend","setMaxSpend","gridSpacing","placeholder","outputsFormInput","startAdornment","maxSpend","Delete","spendableSlices","confirmedBalance","_getState2","_getState2$settings","_getState2$spend$tran","estimatedFee","feesPerByteInSatoshis","totalOutputValue","spendAllAmount","isLessThan","nextNode","OutputsForm","outputsTotal","initialOutputState","renderOutputs","inputsTotal","outputsAndFeeTotal","updatesComplete","hasFeeRateFetchError","feeRateFetchError","hasFeeRateError","feeRateError","hasFeeError","handleAddOutput","handleFeeRateChange","rate","parseFloat","handleFeeChange","handleFinalize","handleReset","resetOutputs","getFeeEstimate","feeEstimate","gatherSignaturesDisabled","_initialOutputState","outputAmount","feeDisplay","outputsFormLabel","AddIcon","minimum","unitLabel","readOnly","disableUnderline","inputProps","addOutputAction","setOutputAmountAction","setFeeAction","finalizeOutputsAction","Transaction","buildSignedTransaction","signedMultisigTransaction","handleBroadcast","setTxid","signedTransaction","broadcasting","transactionURL","signedTransactionHex","UnsignedTransaction","showUnsignedTransaction","unsignedTransaction","handleHideUnsignedTransaction","handleShowUnsignedTransaction","WalletSign","renderKeySelectors","keySelectors","keySelectorNum","signaturesFinalized","handleReturn","resetTransaction","handleCancel","changeSlice","updateTxSlices","retries","skipAddresses","Set","changeAddress","_getState2$wallet","_getState2$wallet$dep","nextDepositSlice","depositSlices","changeSlices","fetchSliceStatus","sliceUpdates","addressSet","queriedSlices","utxoCount","add","setSpendStepAction","TransactionPreview","renderAddresses","addressWithUtxos","mapAddresses","renderOutputAddresses","mapped","mappedAddresses","editTransaction","handleSignTransaction","setChangeOutputMultisig","WalletSpend","outputsAmount","coinSelection","feeAmount","showPreview","previewDisabled","showSignTransaction","handleShowPreview","autoSelectCoins","showCreate","resetNodesSpend","deleteChangeOutput","handleSpendMode","spendingStep","_naiveCoinSelection","_naiveCoinSelection2","changeAmount","_getState$spend$trans","updateChangeSlice","setChangeAddress","SlicesTableContainer","_React$PureComponent","setDisplaySlices","displaySlices","slicesWithBalance","newProps","zeroBalanceSlices","spentSlices","newDisplaySlices","PureComponent","WalletControl","scrollRef","handleModeChange","indicatorColor","textColor","addressesAreLoaded","renderModeComponent","progress","textAlign","marginBottom","CircularProgress","LinearProgress","trailingEmptyNodes","nodesLoaded","fetchUTXOsErrors","setMode","WalletConfigInteractionButtons","onClearFn","onDownloadFn","sessionStorage","removeItem","handleClearClick","setExtendedPublicKeyImporterName","resetExtendedPublicKeyImporterBIP32Path","setExtendedPublicKeyImporterBIP32Path","setExtendedPublicKeyImporterMethod","setExtendedPublicKeyImporterExtendedPublicKey","setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint","setExtendedPublicKeyImporterFinalized","setExtendedPublicKeyImporterVisible","WalletGenerator","extendedPublicKeyCount","cb","toggleImporters","setImportersVisible","configuring","initialLoadComplete","setGenerating","freeze","startingDepositBIP32Suffix","startingChangeBIP32Suffix","update","attemptToKeepGenerating","multisigUpdates","generateMultisig","utxoUpdates","generateRichExtendedPublicKeys","generateBraid","deriveMultisigByPath","fetchUTXOs","generateNextNodeIfNecessary","allBIP32Paths","p1","p2","p1Segments","p2Segments","pathSegments","maxIndex","nextBIP32Path","refreshNodes","resetNodesFetchErrors","allNodes","previousFetchErrors","unknownClient","debouncedTestConnection","debounce","trailing","leading","_componentDidUpdate","prevPassword","setIsWallet","setRootFingerprint","setBip32Path","addBase58String","_handlePasswordEnter","_handlePasswordChange","_this$props12","downloadWalletDetails","generating","hasConflict","conflict","ConfirmWallet","defaultValue","AccountCircleIcon","onSubmit","handlePasswordEnter","fetchSliceDataAction","resetWalletAction","DirectExtendedPublicKeyImporter","ExportExtendedPublicKey","extendedPublicKeyError","validateAndSetExtendedPublicKey","validateAndSetRootFingerprint","TextExtendedPublicKeyImporter","Conflict","IndirectExtendedPublicKeyImporter","Reader","_this$interaction$par","ColdcardExtendedPublicKeyImporter","COLDCARD_MULTISIG_BIP32_PATH","getColdcardBip32Path","coinPath","coldcardP2SHPath","resetColdcardBIP32Path","ColdcardJSONReader","coldcardBIP32Path","HermitExtendedPublicKeyImporter","ExtendedPublicKeyImporter","setExtendedPublicKey","renderBIP32Path","renderExtendedPublicKey","conversionMessage","conversionAppend","networkError","actualExtendedPublicKey","validationError","setExtendedPublicKeyRootXfp","finalizedNetwork","conflictMessage","ExtendedPublicKeyImporterWithStyles","withStyles","lineHeight","card","flexDirection","cardContent","flex","pointerEvents","MuiButton","ButtonWithTooltip","tooltipText","adjustedButtonProps","WalletActionsPanel","handleRefresh","onClearConfig","onDownloadConfig","onImportAddresses","refreshing","walletActivated","ButtonGroup","RefreshOutlined","GetAppOutlined","ExitToAppOutlined","CreateWallet","handleImport","fileReader","FileReader","files","onload","configJson","setConfigJson","readAsText","configError","refresh","generatorRefresh","resetErrorAndClearTargetValue","importDetails","setClientType","setClientUrl","setClientUsername","walletConfiguration","renderWalletImporter","htmlFor","accept","marginTop","renderSettings","renderExtendedPublicKeyImporters","walletDetailsFilename","clearConfig","unknownAddresses","walletLoadError","afterImportAddresses","padding","getItem","validateConfig","setItem","_val","_afterImportAddresses","importedAddresses","unknownSlices","importedSlices","properties","configObj","validProperties","validateProperties","clientProperties","validClient","validQuorum","validateExtendedPublicKeys","xpubs","tmpNetwork","xpubFields","pathError","seen","xpubIndex","keyIndex","valueError","updateWalletNameActionImport","setAddressTypeAction","setExtendedPublicKeyImporterMethodAction","setExtendedPublicKeyImporterExtendedPublicKeyAction","setExtendedPublicKeyImporterBIP32PathAction","setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprintAction","setExtendedPublicKeyImporterNameAction","setExtendedPublicKeyImporterFinalizedAction","setExtendedPublicKeyImporterVisibleAction","setClientPassword","updateDepositNode","updateChangeNode","walletSelectors","setPublicKeyImporterName","resetPublicKeyImporterBIP32Path","setPublicKeyImporterBIP32Path","setPublicKeyImporterMethod","setPublicKeyImporterPublicKey","setPublicKeyImporterFinalized","movePublicKeyImporterUp","movePublicKeyImporterDown","AddressGenerator","isInConflict","publicKeyImporters","publicKeyCount","validatePublicKey","publicKeysAreCanonicallySorted","publicKeyImporter","sortedPublicKeys","canonicallySortPublicKeys","sortPublicKeyImporters","setMultisigAddress","publicKeyImporterNum","downloadAddressDetails","addressDetailsText","addressDetailsFilename","redeemScriptLine","witnessScriptLine","scriptsSpacer","publicKeyImporterBIP32Paths","publicKeyImporterBIP32Path","canonicallySorted","TextPublicKeyImporter","onImport","ExtendedPublicKeyPublicKeyImporter","handleExtendedPublicKeyChange","hasExtendedPublicKeyError","validateExtendedPublicKeyForNetwork","HermitPublicKeyImporter","ExportPublicKey","publicKeyError","handleReaderStart","handleReaderSuccess","handleReaderClear","nextPublicKey","HardwareWalletPublicKeyImporter","PublicKeyImporter","moveUp","ArrowUpward","moveDown","ArrowDownward","setPublicKey","shouldResetBIP32Path","renderPublicKey","baseValidatePublicKey","duplicateError","publicKeyImporterIndex","CreateAddress","renderPublicKeyImporters","publicNotes","START_TEST_SUITE_RUN","SET_CURRENT_TEST_RUN","startTestSuiteRun","setCurrentTestRun","runIndex","SET_KEYSTORE","SET_KEYSTORE_NOTE","SET_KEYSTORE_STATUS","setKeystore","keystoreType","setKeystoreNote","setKeystoreStatus","START_TEST_RUN","END_TEST_RUN","RESET_TEST_RUN","SET_TEST_RUN_NOTE","startTestRun","testRunIndex","endTestRun","resetTestRun","setTestRunNote","note","NoteBase","setNote","newNote","mapDispatchToKeystoreNoteProps","mapDispatchToTestRunNoteProps","KeystoreNote","TestRunNote","testSuiteRun","currentTestRunIndex","testRuns","NO_VERSION_DETECTION","INDIRECT_KEYSTORES","KeystorePickerBase","detectVersion","GetMetadata","handleVersionChange","keystoreActions","setErrorNotificationAction","KeystorePicker","Test","thing","actual","diffChars","diffArrays","diffJson","_actual","t2","postprocess","_runParse","sendToResolver","matches","diff","SUCCESS","FAILURE","TestSuiteRunSummaryBase","Bowser","getParser","userAgent","getOSName","getOSVersion","getBrowserName","getBrowserVersion","UNCHAINED_WALLETS_VERSION","keystoreName","subheader","renderTests","testRun","Divider","renderTestRun","button","testRunChooser","started","renderTestRunResult","duration","endedAt","startedAt","asSeconds","NoteIcon","PendingIcon","FailureIcon","setCurrentTestRunAction","TestSuiteRunSummary","TestRunBase","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","isLastTest","nextTest","keyCode","tagName","start","handleDownloadPSBTClick","nameBits","handledDownloadWalletConfigClick","startParse","isTest","fileType","validFileFormats","renderInteractionMessages","displayer","testComplete","renderResult","handleResult","runParse","formatMessage","formatOutput","formatDiffSegment","segment","diffSegmentClass","added","removed","testRunActions","errorNotificationActions","TestRun","SeedBase","renderSeedWord","word","Seed","TestSuiteRunBase","currentTestIsActive","isFirstTest","previousTest","tag","startDisabled","renderBody","renderSetup","ArrowBack","ArrowForward","testSuiteRunActions","TestSuiteRun","ScriptEntry","hasScriptError","scriptError","hasFetchUTXOsError","scriptName","scriptTitle","handleScriptChange","newScriptHex","generateMultisigFromHex","renderDetails","chosePerformSpend","choseConfirmOwnership","buttonsDisabled","performSpend","confirmOwnership","choosePerformSpend","fetchUTXOsResult","chooseConfirmOwnership","setOwnershipMultisig","setFrozenAction","ownership","chosen","ConfirmOwnership","validateAndSetPublicKey","renderConfirmation","GreenListItemIcon","styled","CheckIcon","ClearIcon","selectLabelId","Spend","spendable","renderSignatureImporters","signatureImporterNum","addressFinalized","menuButton","marginRight","menuItem","paddingBottom","paddingX","menuLink","NavItem","Navbar","setAnchorEl","Toolbar","currentTarget","MenuIcon","logo","Footer","now","getFullYear","ErrorBoundary","errorInfo","mx","whiteSpace","componentStack","clearErrorNotificationAction","ErrorNotification","errorNotification","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","Close","App","CssBaseline","SnackbarProvider","maxSnack","Container","Router","Route","Redirect","ScriptExplorer","Wallet","AppContainer","history","createBrowserHistory","resetApp","unlisten","listen","isLocalhost","location","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateState","initialState","intialSliceState","spendingSats","updateSlice","newSlices","updatedState","currentNodeBalance","nodeFoundWithValue","otherNode","getNextNode","resetSpend","thisNode","updatedNodes","getTime","initialExtendedPublicKeyImporterState","bip32PathModified","createInitialState","importers","finalizedAddressType","setConflict","updateExtendedPublicKeyImporterState","extendedPublicKeyImporterChange","newState","sum","updateTotalSigners","finalizedCount","updateImporterPaths","updateNetwork","updateAddressType","updateFinalizedSettings","initialPublicKeyImporterState","abovePublicKeyImporter","belowPublicKeyImporter","sortedPublicKeyImporters","publicKeyImportersChange","updatePublicKeyImporterState","publicKeyImporterChange","stub","resetWalletViews","updateMultisig","initialSignatureImporterState","updateSignatureImporterState","signatureImporterChange","finalizeSignatureImporterState","y","updateInputs","setFeeForRate","feeRateString","nout","updateFeeRate","validateFeeRate","updateFee","feeString","validateFee","updateOutputAddress","validateAddress","updateOutputMultisig","updateOutputAmount","dp","unsignedTransactionPSBT","unsignedTransactionObjectFromPSBT","updateRequiredSigners","updateSigningKey","outputInitialStateForMode","resetTransactionState","validateTransaction","calcOutputTotalSats","absoluteValue","minFee","ExportPublicKeyTest","_Test","_TEST_FIXTURES$keys$o","publicKeyTests","ExportExtendedPublicKeyTest","extendedPublicKeyTests","ConfirmMultisigAddressTest","braidDetailsToWalletConfig","addressTests","fixture","SignMultisigTransactionTest","outputAddress","outputAmountSats","changeOutputAddress","changeOutputAmountSats","unsignedTx","signingTests","RegisterWalletPolicyTest","textTransform","wordBreak","RegisterWalletPolicy","registrationTests","SUITE","trezorTests","ledgerTests","hermitTests","coldcardTests","initialTestRunState","testRunsForKeystore","updatedTestRun","spendReducers","combineReducers","keyResetState","walletReducers","braidReducer","appReducer","rootReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","ReduxPromise","thunk","ReactDOM","Provider","getElementById","origin","fetch","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","SIGNET","REGTEST","getNetworkFromPrefix","networks","bitcoin","testnet","estimateMultisigP2SH_P2WSHTransactionVSize","baseSize","witnessSize","calculateBase","calculateTotalWitnessSize","estimateMultisigP2WSHTransactionVSize","txWeight","calculateVSize","getRedeemScriptSize","getWitnessSize","opDataBytes","signaturesSize","redeemScriptSize","encoding","sizeVarint","inputsCount","outputsCount","PREVHASH_BYTES","scriptPubkeySize","VAL_BYTES","scriptLengthBytes","txoutSize","ZERO","btc","shiftedBy","integerValue","ROUND_DOWN","hash160","ripemd160","satoshis","toHexString","byte","inputString","VALID_BASE64_REGEX","VALID_HEX_REGEX","MULTISIG_ADDRESS_TYPES","p2ms","generateMultisigFromRaw","multisigBraidDetails","redeem","estimateMultisigP2SHTransactionVSize","sigSize","UnsupportedInteraction","STATES","LEVELS","KeystoreInteraction","_bowser","_KeystoreInteraction","_KeystoreInteraction2","direct","signatureWithSigHashByte","signatureNoSighashType","signatureFormatter","_KeystoreInteraction3","indirect","pathString","pathSegment","substr","HARDENING_OFFSET","bip32SequenceToPath","validated","parentBIP32Path","childBIP32Path","validatedParent","validatedChild","pow","BIP32_PATH_REGEX","BIP32_HARDENED_PATH_REGEX","BIP32_UNHARDENED_PATH_REGEX","BIP32_INDEX_REGEX","MAX_BIP32_HARDENED_NODE_INDEX","MAX_BIP32_NODE_INDEX","segmentStrings","validateBIP32PathSegments","indexString","numberString","hardened","smallEndianToBigint","offset","BigInt","RangeError","MAX_SAFE_INTEGER","getVarintSize","bigintToSmallEndian","ColdcardFileReaderBase","maxFileSize","Dropzone","dropzoneDull","dropzone","onDrop","multiple","minSize","maxSize","disableClick","UploadIcon","uploadIcon","instruction","singleAcceptedFile","acceptedFiles","rejectedFiles","psbtData","psbtHex","arrayBuffer","PSBT_MAGIC_HEX","t3","_ColdcardFileReaderBa","_ColdcardFileReaderBa2","multipliedBy","estimateMultisigTransactionVSize","estimateMultisigTransactionFeeRate","feesInSatoshis","dividedBy","fs","its","isFinite","MAX_FEE_SATS","feeRateSatsPerVbyte","fr","MAX_FEE_RATE_SATS_PER_VBYTE","Braid","braidAddressType","braidExtendedPublicKeys","braidNetwork","braidRequiredSigners","deriveMultisigByIndex","pathToDerive","generateBip32DerivationByIndex","generateBip32DerivationByPath","generatePublicKeysAtIndex","generatePublicKeysAtPath","validateBip32PathForBraid","_assert","_Struct","xpubValidationError","Struct","pathToCheck","pathSequence","derivePublicKeyObjectsAtPath","dataRichPubKeyObjects","actualPathSuffix","completePath","extendedPublicKeyRootFingerprint","generateBraidAwareMultisigFromPublicKeys","hashFunction","hashConcat","leaves","hasher","h","calculateRoot","rootNode","leafNodes","proveNode","parent","leftChild","rightChild","newNode","leftCount","isPowerOf2","log2","highestPowerOf2LessThan","leftBranch","rightBranch","hashNode","left","right","bufA","bufB","_block_explorer","_fees","_fixtures","_outputs","_psbtv","_script","_signatures","_transactions","_types","EXTENDED_PUBLIC_KEY_VERSIONS","targetPrefix","sourcePrefix","validatePrefix","extendedPublicKeyNoPrefix","trim","extendedPublicKeyNewPrefix","derivePath","toBase58","child","_pubkey","isKeyCompressed","pubkeyBuffer","getMaskedDerivation","toMask","unknownBip32","xpubString","requiredPrefix","notXpubError","nodeInterop","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","WeakMap","cacheBabelInterop","cacheNodeInterop","Vpub","rootXfpError","pubKeyError","chaincodeError","extra","writeU32BE","readString","readU8","readU32BE","pubkeyHex","prefixBuffer","input1","input2","validateMultisigInput","validateMultisigInputs","braidRequired","utxoIDs","utxoID","validateTransactionID","validateTransactionIndex","PSBT_MAGIC_B64","psbtWithSignatures","autoLoadPSBT","idx","partialSig","updateInput","validateSignaturesOfInput","addSignatureToPSBT","parseSignatureArrayFromPSBT","psbtFromFile","numSigners","getNumSigners","signatureArrays","pubKey","psbtInputFormatter","fromHex","outs","getWitnessOutputScriptFromInput","utxoToVerify","multisigScripts","psbtMultisigLock","getBip32Derivation","psbtInputDerivation","psbtOutputFormatter","psbtOutputDerivation","signingKeyDetails","localPSBT","filterRelevantBip32Derivations","dataInput","fundingTxHex","fundingTx","_bufferutils","reverseBuffer","getUnchainedInputsFromPSBT","getUnchainedOutputsFromPSBT","fromBase64","multisigLock","partialSignatures","encodeSegwitAddress","decodeSegwitAddress","convertBits","fromBits","toBits","pad","acc","bits","maxv","dec","Uint8Array","program","u82u5","unsafeFrom64bitLE","unsafeTo64bitLE","_byte","bufs","write","writeInt32LE","writeUInt32LE","bytes","vi","vi_size","vector","readVarSlice","_exportNames","VERSION","DIRECT_KEYSTORES","KEYSTORES","SignMessage","_coldcard","_trezor","_ledger","fromData","_custom","_hermit","_ref5$returnSignature","_package","magic_byte_regex","isBech32","BECH32_ADDRESS_MAGIC_BYTE_REGEX","address_regex","_bitcoinAddressValidation","validateOutput","validateOutputs","DUST_LIMIT_SATS","toASM","hashForWitnessV0","SIGHASH_ALL","hashForSignature","multisigSignatureHash","signatureBuffer","encodedSignerInputSignatureBuffer","decodedSignerInputSignatureBuffer","r","rToUse","byteLength","multisigSignatureBuffer","publicKeyBuffer","transactionSignatures","transactionSignatureIndex","_loop","inputSignatures","requiredSignatures","inputSignaturesByPublicKey","sortedSignatures","witness","multisigWitnessField","setWitness","_witness","scriptSig","_scriptSig","signersInputSignatures","signatureOps","inputScript","inputScriptBuffer","fromASM","rawMultisig","multisigScriptSig","includeGlobalXpubs","multisigInputError","multisigOutputError","setVersion","globalExtendedPublicKeys","formattedInput","extendedPublicKeyData","existingExtendedPublicKey","globalXpubs","updateGlobal","psbtOutputs","addOutputs","txn","tx","transactionBuilder","TransactionBuilder","buildIncomplete","wit","BCURDecoder","hexString","summary","part","totalParts","partsReceived","isSuccess","composeHeader","headerLength","_headerLength","writeUInt16BE","_headerLength2","bufferData","dataBuffer","dataLength","_dataLength","_dataLength2","_dataLength3","_sha","g","_appClient","psbtOut","psbtIn","psbtGlobal","NoSuchEntry","_wrapNativeSuper","Class","_cache","Function","Wrapper","_construct","Parent","_Error","setGlobal","TX_VERSION","uint32LE","getGlobal","FALLBACK_LOCKTIME","_this$getGlobalOption","getGlobalOptional","INPUT_COUNT","varint","fromVarint","OUTPUT_COUNT","TX_MODIFIABLE","setInput","NON_WITNESS_UTXO","getInputOptional","WITNESS_UTXO","PARTIAL_SIG","sigHashtype","SIGHASH_TYPE","REDEEM_SCRIPT","WITNESS_SCRIPT","BIP32_DERIVATION","encodeBip32Derivation","decodeBip32Derivation","FINAL_SCRIPTSIG","scriptWitness","FINAL_SCRIPTWITNESS","getInput","PREVIOUS_TXID","OUTPUT_INDEX","SEQUENCE","_this$getInputOptiona","_this$getInputOptiona2","TAP_KEY_SIG","hashes","encodeTapBip32Derivation","TAP_BIP32_DERIVATION","decodeTapBip32Derivation","keyType","getKeyDatas","setOutput","getOutput","BIP_32_DERIVATION","AMOUNT","SCRIPT","keyTypes","_v","isKeyType","readKeyPair","hexKey","Key","keyData","getMap","writeBip32Derivation","readBip32Derivation","writeUInt32","readUInt32","hashCount","acceptUndefined","toBuffer","KeyPair","createKey"],"mappings":"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","file":"static/js/main.6e6f9250.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.blockExplorerAPIURL = blockExplorerAPIURL;\nexports.blockExplorerAddressURL = blockExplorerAddressURL;\nexports.blockExplorerTransactionURL = blockExplorerTransactionURL;\nexports.blockExplorerURL = blockExplorerURL;\nvar _networks = require(\"./networks\");\n/**\n * This module provides functions for creating URLs for Blockstream's\n * [block explorer]{@link https://blockstream.info}.\n *\n * This module does NOT provide implementations of HTTP requests which\n * fetch data from these URLs.\n * \n * @module block_explorer\n */\n\nvar BASE_URL_MAINNET = 'https://blockstream.info';\nvar BASE_URL_TESTNET = 'https://blockstream.info/testnet';\nfunction blockExplorerBaseURL(network) {\n  return network === _networks.TESTNET ? BASE_URL_TESTNET : BASE_URL_MAINNET;\n}\n\n/**\n * Returns the block explorer URL for the given path and network.\n * \n * @param {string} path - the explorer path\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} the block explorer url\n * @example\n * import {MAINNET, TESTNET, blockExplorerURL} from \"unchained-bitcoin\";\n * const path = \"/block/00000000000000000011341d69792271766e4683e29b3ea169eacc59bde10a57\";\n * console.log(blockExplorerURL(path, MAINNET)) // https://blockstream.info/block/00000000000000000011341d69792271766e4683e29b3ea169eacc59bde10a57\n * console.log(blockExplorerURL(path, TESTNET)) // https://blockstream.info/block/testnet/00000000000000000011341d69792271766e4683e29b3ea169eacc59bde10a57\n */\nfunction blockExplorerURL(path, network) {\n  return \"\".concat(blockExplorerBaseURL(network)).concat(path);\n}\n\n/**\n * Returns the block explorer API URL for the given path and network.\n * \n * @param {string} path - the API path\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} the full block explorer url\n * @example\n * import {MAINNET, TESTNET, blockExplorerAPIURL} from \"unchained-bitcoin\";\n * const path = \"/tx/1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\";\n * console.log(blockExplorerAPIURL(path, MAINNET)); // https://blockstream.info/api/tx/1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\n * console.log(blockExplorerAPIURL(path, TESTNET)); // https://blockstream.info/testnet/api/tx/1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\n */\nfunction blockExplorerAPIURL(path, network) {\n  return \"\".concat(blockExplorerBaseURL(network), \"/api\").concat(path);\n}\n\n/**\n * Return the block explorer URL for the given transaction ID and network.\n * \n * @param {string} txid - the transaction id\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} the full transaction URL\n * @example\n * import {MAINNET, TESTNET, blockExplorerTransactionURL} from \"unchained-bitcoin\";\n * const txid = \"1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\";\n * console.log(blockExplorerTransactionURL(txid, MAINNET)); // https://blockstream.info/tx/1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\n * console.log(blockExplorerTransactionURL(txid, TESTNET)); // https://blockstream.info/testnet/tx/1814a10fb22e9551a17a94a1e68971e19b4f59eaf1689e0af85b97929b3b9ae0\n */\nfunction blockExplorerTransactionURL(txid, network) {\n  return blockExplorerURL(\"/tx/\".concat(txid), network);\n}\n\n/**\n * Return the block explorer URL for the given address and network.\n * \n * @param {string} address - the address\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} full URL for address lookup\n * @example\n * import {MAINNET, TESTNET, blockExplorerAddressURL} from \"unchained-bitcoin\";\n * const address = \"39YqNoLULDpbjmeCTdGJ42DQhrQLzRcMdX\";\n * console.log(blockExplorerAddressURL(address, MAINNET)); // https://blockstream.info/address/39YqNoLULDpbjmeCTdGJ42DQhrQLzRcMdX\n * console.log(blockExplorerAddressURL(address, TESTNET)); // https://blockstream.info/testnet/address/39YqNoLULDpbjmeCTdGJ42DQhrQLzRcMdX\n */\nfunction blockExplorerAddressURL(address, network) {\n  return blockExplorerURL(\"/address/\".concat(address), network);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TEST_FIXTURES = exports.ROOT_FINGERPRINT = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.array.map\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _multisig = require(\"./multisig\");\nvar _inputs = require(\"./inputs\");\nvar _p2sh = require(\"./p2sh\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _networks = require(\"./networks\");\nvar _braid = require(\"./braid\");\nvar _TESTNET, _MAINNET, _RECEIVING_ADDRESSES, _TESTNET2, _MAINNET2, _CHANGE_ADDRESSES;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar RECEIVING_ADDRESSES = (_RECEIVING_ADDRESSES = {}, _defineProperty(_RECEIVING_ADDRESSES, _networks.TESTNET, (_TESTNET = {}, _defineProperty(_TESTNET, _p2sh.P2SH, \"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR\"), _defineProperty(_TESTNET, _p2sh_p2wsh.P2SH_P2WSH, \"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR\"), _defineProperty(_TESTNET, _p2wsh.P2WSH, \"tb1q9hj5j7mh9f7t6cwdvz34nj6pyzva5ftj2ecarcdqph5wc3n49hyqchh3cg\"), _TESTNET)), _defineProperty(_RECEIVING_ADDRESSES, _networks.MAINNET, (_MAINNET = {}, _defineProperty(_MAINNET, _p2sh.P2SH, \"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs\"), _defineProperty(_MAINNET, _p2sh_p2wsh.P2SH_P2WSH, \"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs\"), _defineProperty(_MAINNET, _p2wsh.P2WSH, \"bc1qxkl8fcuas3fv6mk79tk7d0nsug0909qcgvpjuj2asgltnafp46nsn4jnrh\"), _MAINNET)), _RECEIVING_ADDRESSES);\nvar CHANGE_ADDRESSES = (_CHANGE_ADDRESSES = {}, _defineProperty(_CHANGE_ADDRESSES, _networks.TESTNET, (_TESTNET2 = {}, _defineProperty(_TESTNET2, _p2sh.P2SH, \"2NB3tTnpcUanDenNhWbXxymTJhheWtj5Mu1\"), _defineProperty(_TESTNET2, _p2sh_p2wsh.P2SH_P2WSH, \"2MyCBSwFWSXpagqKtrnckNtNQBnKdUZRhKc\"), _defineProperty(_TESTNET2, _p2wsh.P2WSH, \"tb1qhjtyry0qwm5l6v5v7y27hc6m60vm0d8exlr3cswdrxsgaygqvd2q5zsl0n\"), _TESTNET2)), _defineProperty(_CHANGE_ADDRESSES, _networks.MAINNET, (_MAINNET2 = {}, _defineProperty(_MAINNET2, _p2sh.P2SH, \"36NMegVbRPbMv9RC4Ge2aKLUQHYXKbyooZ\"), _defineProperty(_MAINNET2, _p2sh_p2wsh.P2SH_P2WSH, \"32M6VKsKw1X2EXFawpcHosMEhSxswLHRwX\"), _defineProperty(_MAINNET2, _p2wsh.P2WSH, \"bc1qnzky4hcwcutvktfstp0u3kmtgxkjvscl25snvg45xu3ausv2lapqrvmkeh\"), _MAINNET2)), _CHANGE_ADDRESSES);\nvar BIP39_PHRASE = [\"merge\", \"alley\", \"lucky\", \"axis\", \"penalty\", \"manage\", \"latin\", \"gasp\", \"virus\", \"captain\", \"wheel\", \"deal\", \"chase\", \"fragile\", \"chapter\", \"boss\", \"zero\", \"dirt\", \"stadium\", \"tooth\", \"physical\", \"valve\", \"kid\", \"plunge\"];\nvar ROOT_FINGERPRINT = \"f57ec65d\";\nexports.ROOT_FINGERPRINT = ROOT_FINGERPRINT;\nvar NODES = {\n  \"m/45'/0'/0'\": {\n    pub: \"0387cb4929c287665fbda011b1afbebb0e691a5ee11ee9a561fcd6adba266afe03\",\n    xpub: \"xpub6CCHViYn5VzKFqrKjAzSSqP8XXSU5fEC6ZYSncX5pvSKoRLrPDcF8cEaZkrQvvnuwRUXeKVjoGmAqvbwVkNBFLaRiqcdVhWPyuShUrbcZsv\",\n    tpub: \"tpubDCZv1xNTnmwmXe3BBMyXekiVreY853jFeC8k9AaEAqCDYi1ZTSTLH3uQonwCTRk9jL1SFu1cLNbDY76YtcDR8n2inSMwBEAdZs37EpYS9px\",\n    zpub: \"zpub6qrp73tcNs5GxSEZPtZgs1a8sTjMxuDBvnatMQJrawC5ucyJtXwNNjYrcAmavk6kkhi99GgribUGcVq4w9CCqowdTX1UfX9NXMZzG2XWQdj\",\n    ypub: \"ypub6X2YoPDhEBXo793SZXn4evUdhVav2HDh1g4fa1QyCvpCrXA5dsmokftiaxozvqSqM4bLPo6JFw7ijDDWDSnC3aG2bBK45cKtFdWLsUKgtyo\",\n    Ypub: \"Ypub6hvdvcx8o96AXiCpWCF3UzpSRHdBEduHKwiLVGgWahecUhizQHA5qnkePfmUVGfjaXfKGP6R99WDrNqGWfw9C4NhReRTV1nt9MnDTNALmuh\",\n    Zpub: \"Zpub72kuEHd3wpdeP1PwLZ2fh5uwbFmdBFtnF4EZGfaPxi2VXoYDewKeTrQnQsj4VBKezAn81rgybormjfSqENM9zJ4JHz7t4vcNR5qrqv8qja7\",\n    upub: \"upub5DhVaiY2dTMshxGyE6dZpa6d1d18FoFhMDynSRqRguJge7uAdF7ZGRGAW8yewCq9iW87Pti4RHhXC4mFLf88rdXd7pXMjy3wAjFmK6jyHiX\",\n    vpub: \"vpub5YXktPCwn8uMZFU64TRC2fC8Bb9aCRFCGLW1DpjK4ugZhDiPsuH7tUvJXLwEw7V589Ev9NJcsx455MNp4MY9esDDzADnKssRSTKQhgCrtoZ\",\n    Upub: \"Upub5QbahxGUCQvF8XSMAm6YeeSRjR3PU9wHfVdTMh6y4g96GJU5PeVqMY86Jqw8Ve43wyC6GUiBJW62KEP1dtH617eHxHdm9NWw4TXdu1aWzdx\",\n    Jpub: \"Vpub5jRr1cwPM6TiypdU17tArjXvuPBqQmvnac9g95zrSgWyKQHJeJfPybnEL3tiVYhyMcJu1xJjmASaCWzaMah6oMKtpdLBjHLRLBbHHcy3jDH\",\n    chaincode: \"470bb034dbc8e7b5f5c0b19f747e3e768f0cc9ff298361b2741e1b7fd70d376d\",\n    parentFingerprint: 1240308660,\n    rootFingerprint: ROOT_FINGERPRINT,\n    index: 2147483648,\n    depth: 3\n  },\n  \"m/45'/0'/0'/0\": {\n    pub: \"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee\",\n    xpub: \"xpub6EW9kGJQLjEGWpuKjViLuEw3pkNX5k2DzXhM3ctfHawh12aLXnrzYuRcvwTfv2VD2a8uzFCDJfLnrrD9Z46NbLyPHUQbbb4QyxKjf6c1gh4\",\n    tpub: \"tpubDEsnGW8641Bind6BBghS7AGR9sUB58XHYAHeQAwodVhakKF3c1i5hM6TAyYTSXSSpUfpbpi5qmAqZ2hkwuwcUnRgM59uH7ieZuv9RAEJ5Rp\",\n    chaincode: \"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3\",\n    parentFingerprint: 2213579839,\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/0'/0'/0/0\": {\n    pub: \"03102f0df5e34ffa1178a5310952221b8e26b3e761a9e328832c750a2de252f21a\",\n    xpub: \"xpub6FjSpitFpSJB9BpSVwp3eJzhpaQFLbLefD1f3qaGRmok2Z2FDeSNsy5CL9TLwM3HpcV2kAyTNf2W1uUXs1jbeXGWjdWnsaqnUQ9PyWAYVhQ\",\n    tpub: \"tpubDG75LxhwXiFdQz1Hx8o8rEL59hVuKyqiCqbxQPdQmgZdmqgxHsHU2Qk2aBY8TqzXcX1wMkVKukrYi5y9FsaqXxiooEG6Z7W24MjojRNcVtA\",\n    chaincode: \"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3\",\n    parentFingerprint: 724365675,\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/1/0/0\": {\n    xpub: \"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G\",\n    extendedPublicKey: {\n      base58String: \"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G\",\n      chaincode: \"da92ac213968ea1a2c26dde7d83e556939519e5195c84120f3b803630c45194a\",\n      depth: 4,\n      index: 0,\n      parentFingerprint: 384854823,\n      path: \"m/45'/1/0/0\",\n      pubkey: \"0226a8fce14d91bd85b2b61bdc994e75975c9b443d02a0428a7c9755228f35cba9\",\n      rootFingerprint: ROOT_FINGERPRINT,\n      version: \"043587cf\"\n    }\n  },\n  \"m/45'/1/1/0\": {\n    xpub: \"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ\",\n    extendedPublicKey: {\n      base58String: \"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ\",\n      chaincode: \"ff6e55a2ae1b0b14824a08130fc3029d3d193ee0c1eb922696d3658f641a0e2b\",\n      depth: 4,\n      index: 0,\n      parentFingerprint: 2525848640,\n      path: \"m/45'/1/1/0\",\n      pubkey: \"02ca80ff7fdc10be77b65da0b82cada1646f0c113e6cc10a5feb0dfb5d0487793e\",\n      rootFingerprint: ROOT_FINGERPRINT,\n      version: \"043587cf\"\n    }\n  },\n  \"m/45'\": {\n    pub: \"03c060f4c111a276807fc3a88966cc1d3a683eef9226a034ee2cd6982b478fa8e2\",\n    xpub: \"xpub69h9wvon4GzP2S3cLmiBsNdznt29YXBk2TSyQueZsacKZyzMqMR1Fj5JwSiKu8agDRiLWPfw9gSChLW2Yfgpe4tzuhLUD2vFfGsfbtTA3r7\",\n    tpub: \"tpubDA4nUAdTmYwqJEETnxhH5HyN817oXugoa63GmThiDVNDKGf4uaG6QAk9BUo7RdXv1LFF7yBognGFPWzdwXY4XWMHyJ5mtZaVFEU5MtMfj7H\",\n    rootFingerprint: \"f57ec65d\"\n  },\n  \"m/45'/0\": {\n    pub: \"02b04ac39b566b7353b5bf8e164be83bf90b090e7516170e88a8cb6c88a860f0a3\",\n    tpub: \"tpubDBAj15fFkLimiBmDqapikSS4qkmvAS8LijMey9S9fAyjq65ERgjuzaa6GonVQXugcrBzfpEoH6SPBzevfowZgYJ3apWcHbMPaNJnBRkbsRY\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/0/0\": {\n    xpub: \"xpub6CsGPeBifUqr2szHmpFuNZ7Yd2ZnJtr95kPKu13LT96ZvTUthRsZbunhdyRp4HkQ93Gqr78mC9KEMVmGxcG6bFR4xT3GKpkdtgpr8T85JXP\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/1/0\": {\n    pub: \"036b5cfe4b7f29cb36e5261ad74f8a4f8602f77628e8d9d120f5580d3ccafaef74\",\n    tpub: \"tpubDDhFRuipvJKBgPBDFooShZNtnkLwMkGDZXA1KBUd8xruQ8AA4QdZaiQYWj1hDpDW8r7va9D7GHeEp5ZzMsj5uDRX4s3hk4eQgJm8jMAqkLC\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/0'/4'/99'/2147483647/3/1\": {\n    pub: \"0211aa5c03e290dc0110103c3d3f817500e76061d35ea89072286cb6f7962eda81\",\n    xpub: \"xpub6LCRwXBN9moqsJKhToW6K5qfBfTguMXuZw67q1BUuaWRyYD56P1zhqbyXsHqoo4WPsjUfeiJPu4JXnhtUz6cHbYgX6AFfDhUnPfCvbZD3JZ\",\n    tpub: \"tpubDLa4Tm13s3mJ96WYuzVBX1B2WnZLtk2y7ZgRBZEdFVGKipsnAbs5rHGomuNdLJ1kBnGPHEEAvztMDyCVsqwrB2zyaguZLkMiNMFcgX4e2rG\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/1'/0'/0/0\": {\n    pub: \"037226e92491b2cf9691152fc2e9a0a7cff8f9ab7ad1b24b6f6506d7c8bf18911b\",\n    tpub: \"tpubDFqzhdm1iDvKkHNwVMxFnWZjBX4m1QQK4qNELiux6RXteZdPidpymFeWFKm5koNvjTiwPZb4i456pW5JBymaCcKumuhN7DYLwX9wwGAJ71H\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/48'/0'/0'/1'/0/0\": {\n    pub: \"02c63c7ae511c9902e885da3e2fbb4a8f227eefc7f53eda3cad4d8f9389331b5be\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/48'/1'/0'/1'/0/0\": {\n    pub: \"03ff8a79f5016243a3959e2216e51cf90034cf510b379a34e6fdf565b19852baa2\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    Upub: \"Upub5T4XUooQzDXL58NCHk8ZCw9BsRSLCtnyHeZEExAq1XdnBFXiXVrHFuvvmh3TnCR7XmKHxkwqdACv68z7QKT1vwru9L1SZSsw8B2fuBvtSa6\",\n    tpub: \"tpubDKSvECbEtm6ZgXE7kmn2Sbr81JzJhDGVzz2Arnn86R5a3i42w2mxNoPHcA9MRPtS36zy5d4m7FWWiCrVY1fXJ9YvSjNMB4DJ2tRDifqJQmp\"\n  },\n  \"m/48'/0'/0'/2'/0/0\": {\n    pub: \"032817ba5e2b76f6e2fab1d985224516f2b77a9c181e210def81ec2be8e17007c9\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/48'/1'/0'/2'/0/0\": {\n    pub: \"03ecf349ecf63fcd0ece9de7eb1abfb8f8b243fecc443bd62ef47744f0f6b7eef6\",\n    tpub: \"tpubDKVKJjFQrticLSSf77TWYmvFq6XTALifW1shoo4snhfh7YGhMHcsCB2WwvfAbQGQDJy8EwuD6kjfvYPqSxJptSKqZDvzxQFcpYy88iS85kd\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  \"m/45'/1'/0'\": {\n    xpub: \"tpubDDQubdBx9cbs16zUhpiM135EpvjSbVz7SGJyGg4rvRVEYdncZy3Kzjg6NjuFWcShiCyNqviWTBiZPb25p4WcaLppVmAuiPMrkR1kahNoioL\",\n    rootFingerprint: ROOT_FINGERPRINT\n  },\n  // P2SH-TESTNET\n  \"m/45'/1'/100'\": {\n    xpub: \"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1\",\n      chaincode: \"eabe09a77940dd3e125be81bc25fcf04c611544f431967531bea80b12f2e72d2\",\n      depth: 3,\n      index: 2147483748,\n      parentFingerprint: 3168392141,\n      path: \"m/45'/1'/100'\",\n      pubkey: \"02d419c2e37078468af97e07e240343a7e8691ef5dcca9fe59a7c774db9e6c4e62\",\n      rootFingerprint: ROOT_FINGERPRINT,\n      version: \"043587cf\"\n    },\n    unchained: {\n      base58String: \"tpubDDinbKDXyddTUKcX6mv936Ux5utCJteq5S6EEKhfpM8CqN2rMAcccv6GecsB3cPt8eGL4e4K2eaZ9Jis9TGf7mbwBsRTN7ngnFR7yJZxBKC\",\n      chaincode: \"1ade7f9d6099898d9851af05b488b94ad3ad4fcabab3970b8ee975fb0e33c517\",\n      depth: 3,\n      index: 2147483748,\n      parentFingerprint: 3872018966,\n      path: \"m/45'/1'/100'\",\n      pubkey: \"03b30cf103f4775c366cdc9394dc42b9cfa9d05eb02fd07a2f98a8b1b22d867fec\",\n      rootFingerprint: \"00000001\",\n      version: \"043587cf\"\n    }\n  },\n  // P2SH_P2WSH-TESTNET\n  \"m/48'/1'/100'/1'\": {\n    xpub: \"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am\",\n      chaincode: \"8f60b5470713d119000eb9f20716eaa21e4c7c96b1d8a605790e2a9621874b7b\",\n      depth: 4,\n      index: 2147483649,\n      parentFingerprint: 3880777331,\n      path: \"m/48'/1'/100'/1'\",\n      pubkey: \"0374d98c47224e55e6244cfb407638d77ff1127f02c895983b5fe2d9174f37cd0c\",\n      rootFingerprint: \"f57ec65d\",\n      version: \"043587cf\"\n    },\n    unchained: {\n      base58String: \"tpubDErWN5qfdLwY9ZJo9HWpxjcuEFuEBVHSbQbPqF35LQr3etWNGirKcgAa93DZ4DmtHm36p2gTf4aj6KybLqHaS3UePM5LtPqtb3d3dYVDs2F\",\n      chaincode: \"0683fed20bd4e656ef5d6cb91dac510a80f1e425976dcc8b92060cca5a8fe0a9\",\n      depth: 4,\n      index: 2147483649,\n      parentFingerprint: 2163434281,\n      path: \"m/48'/1'/100'/1'\",\n      pubkey: \"02fe3c640406f273d9acdd63ce45282cb9017c91e07b4b0118451823df95fd7821\",\n      rootFingerprint: \"00000002\",\n      version: \"043587cf\"\n    }\n  },\n  // P2WSH-TESTNET\n  \"m/48'/1'/100'/2'\": {\n    xpub: \"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM\",\n      chaincode: \"b0d7d9283b766e79259dc38263ce06b474eeaefb3fab5f53946aaec6cd525f13\",\n      depth: 4,\n      index: 2147483650,\n      parentFingerprint: 3880777331,\n      path: \"m/48'/1'/100'/2'\",\n      pubkey: \"0277d88e9d1395e980debe59476a17f202ba27c866d3637877e84958f2c65458ff\",\n      rootFingerprint: \"f57ec65d\",\n      version: \"043587cf\"\n    },\n    unchained: {\n      base58String: \"tpubDErWN5qfdLwYE94mh12oWr4uURDDNKCjKVhCEcAgZ7jKnnAwq5tcTF2iEk3VuznkJuk2G8SCHft9gS6aKbBd18ptYWPqKLRSTRQY7e2rrDj\",\n      chaincode: \"d2be31d3de92e6183d5a4bb918048fdf960ba9438d391afb5f7ac69a1c24caf1\",\n      depth: 4,\n      index: 2147483650,\n      parentFingerprint: 2163434281,\n      path: \"m/48'/1'/100'/2'\",\n      pubkey: \"03a602ec9955461233f89560337ff7af353b838471d7f1625768b4e290544a154f\",\n      rootFingerprint: \"00000003\",\n      version: \"043587cf\"\n    }\n  },\n  // P2SH-MAINNET\n  \"m/45'/0'/100'\": {\n    xpub: \"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH\",\n      chaincode: \"8f8521ebe6ac7fd6d6c468aa25cad78e34e9a4c02211a00bf2c6069ffdb11722\",\n      depth: 3,\n      index: 2147483748,\n      parentFingerprint: 1240308660,\n      path: \"m/45'/0'/100'\",\n      pubkey: \"028257b519520e4a611b0fbf062bef41e815145b85e621887d267c695f2c508259\",\n      rootFingerprint: \"f57ec65d\",\n      version: \"0488b21e\"\n    },\n    unchained: {\n      base58String: \"xpub6Ca5CwTgRASgkXbXE5TeddTP9mPCbYHreCpmGt9dhz9y6femstHGCoFESHHKKRcm414xMKnuLjP9LDS7TwaJC9n5gxua6XB1rwPcC6hqDub\",\n      chaincode: \"17f7729ba7f11cc95c201d023c0a7f8315101ef1ee5bd6fc8193f440eef4483f\",\n      depth: 3,\n      index: 2147483748,\n      parentFingerprint: 2097768017,\n      path: \"m/45'/0'/100'\",\n      pubkey: \"03540225fdc5f92c686f3ffa3fe7a912c66e94f7988bd6db92d466d7917ff7447c\",\n      rootFingerprint: \"00000004\",\n      version: \"0488b21e\"\n    }\n  },\n  // P2SH_P2WSH-MAINNET\n  \"m/48'/0'/100'/1'\": {\n    xpub: \"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH\",\n      chaincode: \"cd1a105c93ed7c2bc01e99445f81e8674bcea6042405cb4244af2c598ab995b4\",\n      depth: 4,\n      index: 2147483649,\n      parentFingerprint: 194150729,\n      path: \"m/48'/0'/100'/1'\",\n      pubkey: \"030d7b4de2784978a3352adaacf3182c737de75f1c07778019aad15b0b99b640a4\",\n      rootFingerprint: \"f57ec65d\",\n      version: \"0488b21e\"\n    },\n    unchained: {\n      base58String: \"xpub6EwJjKaiocGvo9f7XSGXGwzo1GLB1URxSZ5Ccp1wqdxNkhrSoqNQkC2CeMsU675urdmFJLHSX62xz56HGcnn6u21wRy6uipovmzaE65PfBp\",\n      chaincode: \"a4b98329bb145e79fa7485653f2b9dc4d8ca9519ee0f00093809dc1d3d8b3cd2\",\n      depth: 4,\n      index: 2147483649,\n      parentFingerprint: 3203536812,\n      path: \"m/48'/0'/100'/1'\",\n      pubkey: \"0366e35ecc712f790e698e502ba2b3ed00645c6994b59c8884aded1eb29af87ef2\",\n      rootFingerprint: \"00000005\",\n      version: \"0488b21e\"\n    }\n  },\n  // P2WSH-MAINNET\n  \"m/48'/0'/100'/2'\": {\n    xpub: \"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc\",\n    rootFingerprint: ROOT_FINGERPRINT,\n    open_source: {\n      base58String: \"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc\",\n      chaincode: \"6b2c97052334fd0333464fd7d7b6ed9b7bae25f9bcabfa54f15e041ac22971fc\",\n      depth: 4,\n      index: 2147483650,\n      parentFingerprint: 194150729,\n      path: \"m/48'/0'/100'/2'\",\n      pubkey: \"038fce535133ea87f989ca0908f7e8de0fa965d0a6649b71bf5c74244ece64d490\",\n      rootFingerprint: \"f57ec65d\",\n      version: \"0488b21e\"\n    },\n    unchained: {\n      base58String: \"xpub6EwJjKaiocGvqSuM2jRZSuQ9HEddiFUFu9RdjE47zG7kXVNDQpJ3GyvskwYiLmvU4SBTNZyv8UH53QcmFEE23YwozE61V3dwzZJEFQr6H2b\",\n      chaincode: \"8b7900c703cdd0f752b13b7a95ee9cb0d5a0df7fb9bfe4678b074edd3dc59a11\",\n      depth: 4,\n      index: 2147483650,\n      parentFingerprint: 3203536812,\n      path: \"m/48'/0'/100'/2'\",\n      pubkey: \"030a3dd68cd8d3a896209c9eee0a6b8ec28783458882ce1a7362d8b60b34de3097\",\n      rootFingerprint: \"00000006\",\n      version: \"0488b21e\"\n    }\n  }\n};\nvar BRAIDS = [{\n  network: _networks.TESTNET,\n  addressType: _p2sh.P2SH,\n  extendedPublicKeys: [NODES[\"m/45'/1'/100'\"].open_source, NODES[\"m/45'/1'/100'\"].unchained],\n  stringExtendedPublicKeys: [NODES[\"m/45'/1'/100'\"].open_source.base58String, NODES[\"m/45'/1'/100'\"].unchained.base58String],\n  requiredSigners: 2,\n  index: \"0\",\n  pubKeySets: {\n    index: {\n      0: [\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\"],\n      1: [\"0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19\", \"03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27\"],\n      48349: [\"0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38\", \"037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981\"]\n    },\n    path: {\n      \"0/0\": [\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\"]\n    }\n  },\n  bip32Derivations: {\n    index: {\n      0: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/1'/100'/0/0\",\n        pubkey: Buffer.from(\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n        path: \"m/45'/1'/100'/0/0\",\n        pubkey: Buffer.from(\"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\", \"hex\")\n      }],\n      1: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/1'/100'/0/1\",\n        pubkey: Buffer.from(\"0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n        path: \"m/45'/1'/100'/0/1\",\n        pubkey: Buffer.from(\"03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27\", \"hex\")\n      }],\n      48349: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/1'/100'/0/48349\",\n        pubkey: Buffer.from(\"0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n        path: \"m/45'/1'/100'/0/48349\",\n        pubkey: Buffer.from(\"037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981\", \"hex\")\n      }]\n    },\n    path: {\n      \"0/0\": [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/1'/100'/0/0\",\n        pubkey: Buffer.from(\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n        path: \"m/45'/1'/100'/0/0\",\n        pubkey: Buffer.from(\"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\", \"hex\")\n      }]\n    }\n  }\n}];\nvar MULTISIGS_BASE = [{\n  network: _networks.TESTNET,\n  type: _p2sh.P2SH,\n  bip32Path: \"m/45'/1'/100'/0/0\",\n  policyHmac: \"6fb498be86e7accd2b264c6d129e2b1bf5edad95dbc194db962ca8958c4af0c9\",\n  publicKey: \"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\",\n  publicKeys: [\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\"],\n  changePublicKeys: [\"021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585\", \"03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0\"],\n  redeemScriptOps: \"OP_2 02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4 03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba OP_2 OP_CHECKMULTISIG\",\n  redeemScriptHex: \"522102a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d42103938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba52ae\",\n  scriptOps: \"OP_HASH160 8479072d5a550ee0900b5af7e70af575527a879d OP_EQUAL\",\n  scriptHex: \"a9148479072d5a550ee0900b5af7e70af575527a879d87\",\n  address: \"2N5KgAnFFpmk5TRMiCicRZDQS8FFNCKqKf1\",\n  utxos: [{\n    txid: \"65e7ef764030dabfb46e3ae1c357b0666d0dda722c9809fb73245d6d68665284\",\n    index: 1,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    value: 100000,\n    transactionHex: \"0200000000010149c912d0e5e46f6ef933038c7fb7e1d665db9ae56b67fa57fe4c3476a95cf954000000001716001400e2f78f987a5a4493cf062994dbde49d040a922feffffff02631418000000000017a914c7ab6d103180a48181847d35732e93e0ce9ab07387a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202f538752e408b4817e7751ef243eee67d2242ca2061e8e6c9f22873247f10a8d02205b4622314efd733f12fc6557bc2f323ff2cbc1604ad97a351807e1be80875bc8012102e92335f6ecb1862f0eea0b99297f21bdb9beb9a1e8f41113788f5add306ca9fcee9b1800\"\n  }, {\n    txid: \"ae9e1aa8312e102e806fa11d8e65965a624f88459e6bb5bcf48156a0c53e022a\",\n    index: 1,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    value: 100000,\n    transactionHex: \"0200000000010101745e1daa28c1705dbf73edd183e5ef91ad0918d97ad3e2ec2c69b548086f4d00000000171600142b0b522ba87db1646898118860449fcb2c69dae3feffffff02329642000000000017a9140f894f7e3b70b8741f830e066b6ef508a9f7479d87a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202dc887e5d623bd974968285e9c8165cfa9facd943caf0f8472e7acef632fb94302205c60434061e6a4e45360d3b3c901a9c1dd148b38dd6c9623cd8fa2677587e632012102366538692ffb9622e75a05dc2004d85efa0ebc27b99961e694d88f9ede2b57cae49b1800\"\n  }, {\n    txid: \"f243c1fbb85dd49da91477b89c76636202721be9c7df5ee6eee0c6a10861ae44\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    value: 100000,\n    transactionHex: \"02000000000101e5d6a0ffc5f8387a90c463bf614ae53609b72988c44afc6a577f22666bc971a7000000001716001428386489d15b1cddfd245b506b8ff2d909b18d36feffffff02a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d8786ce18050000000017a914d2fb0a8958e55d4c6c3ff58f970fdbba3006ec078702473044022007a7186e6afb93de749b3a905d1c7437f470f97095ea410538b6ac33d15a947802205a66118c7dc2e14d7325a122eb0021f54e1dbd5dfb8fd56b253fa3782716af3d012103f5951ccccf00964d54eefa78280ae083e0f0f0cc6382fd27b3fbfdfeda8dd2c7b29b1800\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.TESTNET][_p2sh.P2SH],\n      amountSats: \"291590\",\n      value: 291590\n    }, {\n      address: CHANGE_ADDRESSES[_networks.TESTNET][_p2sh.P2SH],\n      amountSats: \"7535\",\n      value: 7535,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/1'/100'/1/0\",\n        pubkey: Buffer.from(\"03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n        path: \"m/45'/1'/100'/1/0\",\n        pubkey: Buffer.from(\"021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585\", \"hex\")\n      }],\n      redeemScript: Buffer.from(\"5221021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd515852103a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad052ae\", \"hex\")\n    }],\n    hex: \"0100000003845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650100000000ffffffff2a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0100000000ffffffff44ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f20000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc367876f1d00000000000017a914c34d63a6720866070490a8cb244c6bdc7ce2fa138700000000\",\n    signature: [\"3045022100c82920c7d99e0a4055a8459c53362d15f5f8ce275322be8fd2045b43a5ae7f8d0220478b3856327a4b7809a1f858159bd437e4d93ca480e35bbe21c5cd914b6d722a01\", \"304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01\", \"30450221008af4884f2bfbd4565e58c1e7d0f4cb36f8ebc210466d165c48311ddc40df7dc8022017196f4355f66621de0fed97002cfbd6ef7163c882a709f04e5dd0bbe960bcbd01\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    byteCeilingSignature: [\"3044022004e0fcf5a1df39db158d754361f933fa07ceceb6a230e51658f3daa5d55013780220274f6257aa8b6a10f2f901340fdc083926b7c3b2acd3ba5304c8d3d41383131901\", \"304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01\", \"3044022030a64cec8dc9affe3380264f81292b2bc41036a815d157f2cadeff4ef360e043022042d385ff128b7ed6a3f4197182de1b7d7960420a9183756b600b2f6fa2d4a7cc01\"]\n  },\n  bip32Derivation: [{\n    masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n    path: \"m/45'/1'/100'/0/0\",\n    pubkey: Buffer.from(\"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4\", \"hex\")\n  }, {\n    masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n    path: \"m/45'/1'/100'/0/0\",\n    pubkey: Buffer.from(\"03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba\", \"hex\")\n  }],\n  changeBip32Derivation: [{\n    masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n    path: \"m/45'/1'/100'/1/0\",\n    pubkey: Buffer.from(\"03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0\", \"hex\")\n  }, {\n    masterFingerprint: Buffer.from(\"00000001\", \"hex\"),\n    path: \"m/45'/1'/100'/1/0\",\n    pubkey: Buffer.from(\"021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585\", \"hex\")\n  }],\n  braidDetails: {\n    network: _networks.TESTNET,\n    addressType: _p2sh.P2SH,\n    extendedPublicKeys: [NODES[\"m/45'/1'/100'\"].open_source, NODES[\"m/45'/1'/100'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  changeBraidDetails: {\n    network: _networks.TESTNET,\n    addressType: _p2sh.P2SH,\n    extendedPublicKeys: [NODES[\"m/45'/1'/100'\"].open_source, NODES[\"m/45'/1'/100'\"].unchained],\n    requiredSigners: 2,\n    index: \"1\"\n  },\n  psbtNoChange: \"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\",\n  psbt: \"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\",\n  psbtWithGlobalXpub: \"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\",\n  psbtPartiallySigned: \"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\",\n  // FIXME: it appears ^that^ isn't ordering the pubkeys lexicographically... Doesn't seem to matter, it's still valid.\n  psbtOrderedPartiallySigned: \"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\"\n}, {\n  network: _networks.TESTNET,\n  type: _p2sh_p2wsh.P2SH_P2WSH,\n  bip32Path: \"m/48'/1'/100'/1'/0/0\",\n  policyHmac: \"e472b8592c1543d3befc248b204d1403d7ed0fde10d12c96f09b3495cd4fb933\",\n  publicKey: \"026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422\",\n  publicKeys: [\"025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c\", \"026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422\"],\n  witnessScriptOps: \"OP_2 025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c 026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422 OP_2 OP_CHECKMULTISIG\",\n  witnessScriptHex: \"5221025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c21026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a42252ae\",\n  redeemScriptOps: \"OP_0 deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1\",\n  redeemScriptHex: \"0020deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1\",\n  scriptOps: \"OP_HASH160 dac0270cbf87a65c0cf4fd2295eb44c756b288ec OP_EQUAL\",\n  scriptHex: \"a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87\",\n  address: \"2NDBsV6VBe4d2Ukp2XB644dg2xZ2SuWGkyG\",\n  utxos: [{\n    txid: \"429da41d05db69d7c006e91b15031e6d47faab15adba3c97059eeea093c36a23\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"02000000000101845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650000000017160014a89baf1e6b16698bf34927d4a1f71270a57972d6feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec871d8d16000000000017a91471e39bcec3aead7b1d45ad04aea8ad231be756768702473044022067dbe8b2623bd3948bfca811f934c1b512d7add1a09ff70a5b0e083edccbee780220325924a596ce2b567797b53eaa7eec3f6a989427829479ea5619ed72aaeffea40121023251e686167dbea8774b3510a78caa67550d566bd078c1285aa69ec0c561f767ee9b1800\"\n  }, {\n    txid: \"d8edcd3ef4293a2554a147f048442d735fb54b901c1e39ffdb59448c1abae812\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"02000000000101236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d4201000000171600149df8fa8c17c034dd0e4f96c1eb0110113037ff71feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87d70515000000000017a9144b1d195a2cf70e3233aaf8e229d9d2a2da1b7845870247304402205c2e3d2cb7c8aa461aabb5c74210f795ec018db703910c9556f8b222012bb3ad02200f8c63fd859b575a6a762df0019f18ad917cf9de1e128e33bc540c4e5356b9ea012103280eb7fdde76317c63664c46bfe7602f6ff64a0dc22695c7e7093f34b40c5536ee9b1800\"\n  }, {\n    txid: \"ff43f4cc8473341ce9effb91d715a4deb4e8a8cb669dd1d119a3a30552a829d1\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"02000000000101eef67cc41c10722be710952296866ea13ed1608acdf15e453e8d874e6a15c6d50000000017160014a989c1c6a3dbbf44d508d5f36df2d08c97e9fca4feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87a5b90d000000000017a914d0324b98895786d859ae3ee3df0c384249f1a4ab870247304402200621a08b242b807a0c39b6e0bf302e503b9a2596acdd218b176cb62afba31824022027bb2cc91b5ae57500a2e3c440d4d45cc42617f4db665a1b25974122b3789ddd01210209bb437e2e4658c6eb92c20a1ef459a2d1da50757dfba0c49a19dd3dbd621d87e09b1800\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.TESTNET][_p2sh_p2wsh.P2SH_P2WSH],\n      amountSats: \"291590\"\n    }, {\n      address: CHANGE_ADDRESSES[_networks.TESTNET][_p2sh_p2wsh.P2SH_P2WSH],\n      amountSats: \"7922\",\n      value: 7922,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/48'/1'/100'/1'/1/0\",\n        pubkey: Buffer.from(\"02ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000002\", \"hex\"),\n        path: \"m/48'/1'/100'/1'/1/0\",\n        pubkey: Buffer.from(\"02489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c7\", \"hex\")\n      }],\n      redeemScript: Buffer.from(\"0020d6a0f404c62823b51ca0468c3d58e8a210d8afb377372060a58e0ad1471466e0\", \"hex\"),\n      witnessScript: Buffer.from(\"522102489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c72102ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba52ae\", \"hex\")\n    }],\n    hex: \"0100000003236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d420000000000ffffffff12e8ba1a8c4459dbff391e1c904bb55f732d4448f047a154253a29f43ecdedd80000000000ffffffffd129a85205a3a319d1d19d66cba8e8b4dea415d791fbefe91c347384ccf443ff0000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc36787f21e00000000000017a914413d62d98e2bbbf3f8f35f1d00cff58ee25eea178700000000\",\n    signature: [\"3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01\", \"3045022100d23276b4de50e1fa41140e03d295551e868fb51bdf6cca303087be2bb2bf15b30220399b2f7678879eda4e59124cd7f3137b8ef9c2c1770119a2b5124503decc4b0501\", \"3045022100af3b112d039fb101483a87639b96439fa32d654a971d060afafa7a2ee08f3abc0220513fd7823d06d89c3cb58107ea9e94042cffe57ae5e6a7fe9c965cc3e961677401\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    byteCeilingSignature: [\"3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01\", \"304402200d890939820ede1525454bf673e1b3682cb21e80f52304e57cc8e5d6882fe3bb022030f44d9c4213d38dc649feebcd48a3bd24de896da137e86618881a85915cdc0501\", \"3044022065bbb9e3ab14a82680bb845de2e55b84d224f773722807f78c7be69aa1ede2bb02206bbcd5bf52039bc3049e683a441efdcde011435625b8709c59cf9680c2837f2501\"]\n  },\n  braidDetails: {\n    network: _networks.TESTNET,\n    addressType: _p2sh_p2wsh.P2SH_P2WSH,\n    extendedPublicKeys: [NODES[\"m/48'/1'/100'/1'\"].open_source, NODES[\"m/48'/1'/100'/1'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  psbtNoChange: \"cHNidP8BAKUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wEGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnhwAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBzvpdkWMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHO+l2RYwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwc76XZFjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAA==\",\n  psbt: \"cHNidP8BAMUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wIGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnh/IeAAAAAAAAF6kUQT1i2Y4ru/P4818dAM/1juJe6heHAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHAAAAAIwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwcAAAAAjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBwAAAACMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACDWoPQExigjtRygRow9WOiiENivs3c3IGCljgrRRxRm4AEBR1IhAkib+qPcM+XSMlKV2dE2fzWkX84JyW22RW/HEpONwsDHIQKt5E/GVopKM0sXlxQFNHB6XdYMJHpZUjxXetnrWdeYulKuIgICSJv6o9wz5dIyUpXZ0TZ/NaRfzgnJbbZFb8cSk43CwMccAAAAAjAAAIABAACAZAAAgAEAAIABAAAAAAAAACICAq3kT8ZWikozSxeXFAU0cHpd1gwkellSPFd62etZ15i6HPV+xl0wAACAAQAAgGQAAIABAACAAQAAAAAAAAAA\",\n  psbtWithGlobalXpub: \"cHNidP8BAMUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wIGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnh/IeAAAAAAAAF6kUQT1i2Y4ru/P4818dAM/1juJe6heHAAAAAE8BBIiyHgSA82MpgAAAAQaD/tIL1OZW711suR2sUQqA8eQll23Mi5IGDMpaj+CpAv48ZAQG8nPZrN1jzkUoLLkBfJHge0sBGEUYI9+V/XghFAAAAAIwAACAAQAAgGQAAIABAACATwEEiLIeBOdP9nOAAAABj2C1RwcT0RkADrnyBxbqoh5MfJax2KYFeQ4qliGHS3sDdNmMRyJOVeYkTPtAdjjXf/ESfwLIlZg7X+LZF083zQwU9X7GXTAAAIABAACAZAAAgAEAAIAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBwAAAACMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHAAAAAIwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwcAAAAAjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAAEAIgAg1qD0BMYoI7UcoEaMPVjoohDYr7N3NyBgpY4K0UcUZuABAUdSIQJIm/qj3DPl0jJSldnRNn81pF/OCclttkVvxxKTjcLAxyECreRPxlaKSjNLF5cUBTRwel3WDCR6WVI8V3rZ61nXmLpSriICAkib+qPcM+XSMlKV2dE2fzWkX84JyW22RW/HEpONwsDHHAAAAAIwAACAAQAAgGQAAIABAACAAQAAAAAAAAAiAgKt5E/GVopKM0sXlxQFNHB6XdYMJHpZUjxXetnrWdeYuhz1fsZdMAAAgAEAAIBkAACAAQAAgAEAAAAAAAAAAA==\",\n  psbtPartiallySigned: \"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\"\n}, {\n  network: _networks.TESTNET,\n  type: _p2wsh.P2WSH,\n  bip32Path: \"m/48'/1'/100'/2'/0/0\",\n  policyHmac: \"df0127563de3e9c98a9970f599b39c504e4b3ed77da208d315e5da511d9afabc\",\n  publicKey: \"03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469\",\n  publicKeys: [\"035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d\", \"03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469\"],\n  witnessScriptOps: \"OP_2 035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d 03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469 OP_2 OP_CHECKMULTISIG\",\n  witnessScriptHex: \"5221035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d2103bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b7246952ae\",\n  scriptOps: \"OP_0 ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068\",\n  scriptHex: \"0020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068\",\n  address: \"tb1qhgj3fnwn50pq966rjnj4pg8uz9ktsd8nge32qxd73ffvvg636p5q54g7m0\",\n  utxos: [{\n    txid: \"84df8dcc9b86e8c7bb39ce0ba9f577ec750f0b64df97a5c9559cf39243a1f501\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"020000000001018342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80000000000feffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068a9873f0000000000160014208e4178e48f2d270a06475ad8caeb2e01f55ae80247304402205369dedb14963e0bfa22748a546e03e47fcf994c85944ae0d6b507d15ebba57d022073cdd6c8af057aabac652ec438de7fc7e201d6a3b8619e54a2db5c1b509865e9012103ba504ae1099d8f38163c90540fa10e09cac4fa2df95b8b91bc2aba01571c27d9ee9b1800\"\n  }, {\n    txid: \"f010998e033355636c2ba34af753cd6d5f198889a379bc30625bb38f646f3d72\",\n    index: 0,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"0200000000010144ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f201000000171600142ff3a6303add9138957b880c73a331cf718a418ffeffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068364717050000000016001403f4d726aec3c06aa8a31b230e9997288faea72a02473044022032368bd2b2441840850b62f86bfa4434854b5e83da1e5cac43cd613a88f91839022042b2f9f7ea20c97d889a89b0f7cb649b8bb3acc20c4207b5665e235b340766a101210216bb0c99eb498379d5c7b7ad0f3afb9ff3eec9be622fffe821c5456003f22c02ee9b1800\"\n  }, {\n    txid: \"f8b3867a14b39c537e8fbda669c5f956bb31744bf396a7e5b2a68ba43a874283\",\n    index: 1,\n    amountSats: \"100000\",\n    // 0.001 BTC\n    transactionHex: \"020000000001012a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0000000017160014c4733d80022a7a3dde9a7e3112b39e390500713cfeffffff02e20e410000000000160014060213b00b3d902d2bd7e90c4b7e9e34830d2f9da086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d0680247304402201504b1dbf14cf216c7de1fa78dd649a319b2274361034aaa9bc82473632650d1022013da0cb0bb740a95010821e451e7fc699bb2489e71c20093d8d3cd3f4e8c2efc012102db49c46b1a64061d15d0faa234e8da59defe0f4164009e73be9be540265cf0caee9b1800\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.TESTNET][_p2wsh.P2WSH],\n      amountSats: \"291590\"\n    }, {\n      address: CHANGE_ADDRESSES[_networks.TESTNET][_p2wsh.P2WSH],\n      amountSats: \"8023\",\n      value: 8023,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/48'/1'/100'/2'/1/0\",\n        pubkey: Buffer.from(\"02f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e5\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000003\", \"hex\"),\n        path: \"m/48'/1'/100'/2'/1/0\",\n        pubkey: Buffer.from(\"03610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f\", \"hex\")\n      }],\n      witnessScript: Buffer.from(\"522102f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e52103610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f52ae\", \"hex\")\n    }],\n    hex: \"010000000301f5a14392f39c55c9a597df640b0f75ec77f5a90bce39bbc7e8869bcc8ddf840000000000ffffffff723d6f648fb35b6230bc79a38988195f6dcd53f74aa32b6c635533038e9910f00000000000ffffffff8342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80100000000ffffffff0206730400000000002200202de5497b772a7cbd61cd60a359cb412099da25725671d1e1a00de8ec46752dc8571f000000000000220020bc964191e076e9fd328cf115ebe35bd3d9b7b4f937c71c41cd19a08e9100635400000000\",\n    signature: [\"304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01\", \"304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501\", \"30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    // Here all signatures were already <= 71 bytes in length, so duplicate\n    byteCeilingSignature: [\"304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01\", \"304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501\", \"30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01\"]\n  },\n  braidDetails: {\n    network: _networks.TESTNET,\n    addressType: _p2wsh.P2WSH,\n    extendedPublicKeys: [NODES[\"m/48'/1'/100'/2'\"].open_source, NODES[\"m/48'/1'/100'/2'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  psbtNoChange: \"cHNidP8BALABAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wEGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAAA\",\n  psbt: \"cHNidP8BANsBAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wIGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IVx8AAAAAAAAiACC8lkGR4Hbp/TKM8RXr41vT2be0+TfHHEHNGaCOkQBjVAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAvRfqG4axOacDxg8dp25FXdAWGx4skxJW+BATB5q4CnlIQNhC+wD5FnH+ijJo2xMnbbixLwq5OJ2SqPQNVmccFLjP1KuIgIC9F+obhrE5pwPGDx2nbkVd0BYbHiyTElb4EBMHmrgKeUc9X7GXTAAAIABAACAZAAAgAIAAIABAAAAAAAAACICA2EL7APkWcf6KMmjbEydtuLEvCrk4nZKo9A1WZxwUuM/HAAAAAMwAACAAQAAgGQAAIACAACAAQAAAAAAAAAA\",\n  psbtWithGlobalXpub: \"cHNidP8BANsBAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wIGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IVx8AAAAAAAAiACC8lkGR4Hbp/TKM8RXr41vT2be0+TfHHEHNGaCOkQBjVAAAAABPAQSIsh4EgPNjKYAAAALSvjHT3pLmGD1aS7kYBI/flgupQ405GvtfesaaHCTK8QOmAuyZVUYSM/iVYDN/9681O4OEcdfxYldotOKQVEoVTxQAAAADMAAAgAEAAIBkAACAAgAAgE8BBIiyHgTnT/ZzgAAAArDX2Sg7dm55JZ3DgmPOBrR07q77P6tfU5RqrsbNUl8TAnfYjp0TlemA3r5ZR2oX8gK6J8hm02N4d+hJWPLGVFj/FPV+xl0wAACAAQAAgGQAAIACAACAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAEBK6CGAQAAAAAAIgAguiUUzdOjwgLrQ5TlUKD8EWy4NPNGYqAZvopSxiNR0GgBBUdSIQNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LSEDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGlSriIGA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtHAAAAAMwAACAAQAAgGQAAIACAACAAAAAAAAAAAAiBgO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaRz1fsZdMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAAAABAUdSIQL0X6huGsTmnA8YPHaduRV3QFhseLJMSVvgQEweauAp5SEDYQvsA+RZx/ooyaNsTJ224sS8KuTidkqj0DVZnHBS4z9SriICAvRfqG4axOacDxg8dp25FXdAWGx4skxJW+BATB5q4CnlHPV+xl0wAACAAQAAgGQAAIACAACAAQAAAAAAAAAiAgNhC+wD5FnH+ijJo2xMnbbixLwq5OJ2SqPQNVmccFLjPxwAAAADMAAAgAEAAIBkAACAAgAAgAEAAAAAAAAAAA==\",\n  psbtPartiallySigned: \"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\"\n}, {\n  network: _networks.MAINNET,\n  type: _p2sh.P2SH,\n  bip32Path: \"m/45'/0'/100'/0/0\",\n  publicKey: \"02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79\",\n  publicKeys: [\"02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79\", \"02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a\"],\n  redeemScriptOps: \"OP_2 02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79 02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a OP_2 OP_CHECKMULTISIG\",\n  redeemScriptHex: \"522102583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace792102b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a52ae\",\n  scriptOps: \"OP_HASH160 f18bcbf45f7805fe663339d838d5c8a086d79e53 OP_EQUAL\",\n  scriptHex: \"a914f18bcbf45f7805fe663339d838d5c8a086d79e5387\",\n  address: \"3PiCF26aq57Wo5DJEbFNTVwD1bLCUEpAYZ\",\n  utxos: [{\n    txid: \"456813be8389d17e945c0b91b5112938a7268bb7c6721147bce6521eeabde7b0\",\n    index: 0,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"0200000000010216ac0943cd43bb8168c591016a0a5439b3124427bf5df0582f68f2ae52fc86560000000017160014f827ea2db54a62d5027b411ff9d2d6e9234796a8feffffffd9bde17e907b90631edc22f83a4f849d9527e4a3d3b3096fdfc8131eeb8c4c8201000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387ac0700000000000017a914df0aa2a92361822c637c0e44fb1cae2f1a22f0df870247304402204f91360c63c8ce6c98ebec06a6710e5f016cac8d8733c3855401f821f437c5650220611c87d76c2e72accb892cff110f0837d6d60942fdaea2edf86098af355016570121033c5f5b6c028649dedbe089033d6736788199041567b510d88448d0d1bcd5675d024730440220296ce4c551c6945176d8f057c9d05d7a21aa7ccb4c1d8d692c8937b00e3a9be4022024a514a72e4c52ee9c7bcf5c60dd7fb8ee4e83059d0869d85a6659e4d6737535012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900\"\n  }, {\n    txid: \"5bbf64e036e46bf93dadc770f0415f6566453b9ae2d932df00fd5b5e49bdbbd5\",\n    index: 1,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"0200000000010133f0ca4e94d7ad6673a3777ed56fbcf0d2ebc5f6578578746c989ba2ec20cfaa0300000017160014c530831acb421c9ac89d1a83113acf4b46b3a2affeffffff02f00602000000000017a914939b4923002a1f44854a671be64cf55846d4f5f887102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387024730440220044dac81ef05b655fb6e72a21423f2db9fd4fc938243ba8293f7f0f24c7e56e202201fa946e11c0be1eeae81fe2418a8d30bf39048fc110e6aaf253149ef47dc8d28012103fb20014d5c613fc2d5a588cf6ea9292afa843a8e5f14dfe9d4e18e5cb158ecee99490900\"\n  }, {\n    txid: \"74c11de1a3f1a5daa06441d78d7fb45609b3415721466c6256bffd881451cda5\",\n    index: 0,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000101d748779bd254dce3523c691a9ce1bf8836d524ba97d26cc24127e3367a2027f600000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387025b00000000000017a9145d0e078b76ff5e990bf628bf28f593d217caaeb9870247304402206b99e2475b2424db1e47fdb9689036fa44d5c9dea3e5419f26759eed86920c91022011c38e5e69280e62353088d5bf28ecf15a3ff348edcad8c31e441f9f57da172a012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.MAINNET][_p2sh.P2SH],\n      amountSats: \"21590\"\n    }, {\n      address: CHANGE_ADDRESSES[_networks.MAINNET][_p2sh.P2SH],\n      amountSats: \"7535\",\n      value: 7535,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/45'/0'/100'/1/0\",\n        pubkey: Buffer.from(\"0360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000004\", \"hex\"),\n        path: \"m/45'/0'/100'/1/0\",\n        pubkey: Buffer.from(\"039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb3\", \"hex\")\n      }],\n      redeemScript: Buffer.from(\"52210360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe21039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb352ae\", \"hex\")\n    }],\n    hex: \"0100000003b0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be1368450000000000ffffffffd5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b0100000000ffffffffa5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740000000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b9876f1d00000000000017a914335131487569e42724cb7fe4818a348aa6bc7afa8700000000\",\n    signature: [\"30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01\", \"3045022100f401617786808a938b0ae8a954ea32a0466eb6f49ae0b196fc0ae50ff43036f002200f72df0f6bb0710eeb61999a96d005f9853183ecbdad7bc5fb65f1169796f49d01\", \"3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    byteCeilingSignature: [\"30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01\", \"3044022000cd3b6d7c190049e051421d50310da4ca0f46471b517f41b18e2a26897454f8022026fd1a3e0874a9ca7f8c359a9044b38c2f5be3004b1fe10d6da51c3cbab546af01\", \"3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01\"]\n  },\n  braidDetails: {\n    network: _networks.MAINNET,\n    addressType: _p2sh.P2SH,\n    extendedPublicKeys: [NODES[\"m/45'/0'/100'\"].open_source, NODES[\"m/45'/0'/100'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  psbtNoChange: \"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\",\n  psbt: \"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\",\n  psbtWithGlobalXpub: \"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\",\n  psbtPartiallySigned: \"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\"\n}, {\n  network: _networks.MAINNET,\n  type: _p2sh_p2wsh.P2SH_P2WSH,\n  bip32Path: \"m/48'/0'/100'/1'/0/0\",\n  publicKey: \"0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c\",\n  publicKeys: [\"0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86\", \"0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c\"],\n  witnessScriptOps: \"OP_2 0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86 0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c OP_2 OP_CHECKMULTISIG\",\n  witnessScriptHex: \"52210328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86210342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c52ae\",\n  redeemScriptOps: \"OP_0 049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5\",\n  redeemScriptHex: \"0020049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5\",\n  scriptOps: \"OP_HASH160 1abcf8cea321ca874de4beb4f975077fe864a54a OP_EQUAL\",\n  scriptHex: \"a9141abcf8cea321ca874de4beb4f975077fe864a54a87\",\n  address: \"348PsXezZAHcW7RjmCoMJ8PHWx1QBTXJvm\",\n  utxos: [{\n    txid: \"2062282a8c6644740d4a5c85a74ad21c6a0fda8d753e8a4bdfba09a26d20eb40\",\n    index: 1,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000104e7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c010000001716001458ff1cdc218f9baaf9a5ac278206e8f8cc2d55a2feffffffb0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be13684501000000171600144245d8387278181e8f5d61e35427fa055f891ccefeffffffb68f87f28f11710b7005426340c4c4d9795c331f027549bd383b6f179d709a280000000000feffffff79d037447d0706083212ec168a5b3e24f97bd7a9e0099b105b042781853780810000000017160014ec62a1ca200abdc755c8b34faae78202b6dd3fc3feffffff02920500000000000017a91449e9133aaffa9192d802655f2db8fa1db9eec00887102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022069c0985164d17c746fb818179f969740e39d6569ec5a144a83c72de2473b6b8002204f62217bbb2b34efedda454c85dfa960788d4c7f538c7fdf22c5074f5a2c78bb012103e74f757ceb0288ac7c051b7db87fb059a19eac05a480c65c913068a6f80d23b80247304402200f827b64e5feb6071f5d4278e4fa3643e164316ab897f53df0482658e753110202201143f4348812122322876aa29a7285cc8ea51a3e32fb0392fd2e6422d63793f501210350de53693c9da7f849cab9479304ee2b2af317f28ee00ed1e112cd95bc200bd2024730440220025e0eff09b09817e8d595c01bfd2fdba6082e2c4f8f286545f9a2a2e9f148ba02205725704e14c2969a1afcf0084dd29bdbc5136b75438158ecf76992e3c24b561f012102e24e7df260cb56ffbcdb52bea6f8c8bc267d849f5799cf919e32574568ed85d602473044022011bbd9ec6338f174fa0a386acb1fb4dfe348343b2eed5017b11e96151ad214ca02207e7bb5443f34d33147f28fafb4cd661dccc7c6993ad7c58ed47197c85b48c849012102587990c5f71d9e4c894069589845c5f2649b83006160b9d1b8f31bab54133a9399490900\"\n  }, {\n    txid: \"4c211951fa39a412d3f5f42013022eefd16954694cc37c57bff769ef909ef9e7\",\n    index: 0,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000101a5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740100000017160014eeeff0e10da2973449331a9e48f246b18488e965feffffff02102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a87bd2a00000000000017a91445a77947cf42db7fec41cec25c28af0b73becf2e8702473044022044858a87117fd8af2fa92db123935019d76ee9157fb9a48a9cd97ee085b128f90220572b799eae6f3f8cf6aa287450ff46b21588840dabeeb63e57c6f3f320f49eea0121025abd982f0c9ebbb7238900326af437c393eb2c5e875f5bd63152ddd756e5049a99490900\"\n  }, {\n    txid: \"c5d0e548e2332450057ce5bd2a6fb720b2c8bd6f595ed11fdba71488b1bf7b31\",\n    index: 1,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000101d5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b00000000171600140e021c1c3313ef991acd0c5d9f63ca12ce110005feffffff02abd601000000000017a9145d27db58f13d4851260174d9dc9eacdf62074a4e87102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022077b4f0f2d1480443f8b29ed68a29b606b83a3ebbda4349bf813c33330b7f4aa902202061823fd25330b6c0adb68afce4546ada193eb63982f28a7562bc605ea6b0e5012102930a7b8a6fd51a8ce36039bacf160239cfb7dbc72dc1a051aaac333bc7f8e7924e490900\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.MAINNET][_p2sh_p2wsh.P2SH_P2WSH],\n      amountSats: \"21590\"\n    }, {\n      address: CHANGE_ADDRESSES[_networks.MAINNET][_p2sh_p2wsh.P2SH_P2WSH],\n      amountSats: \"7922\",\n      value: 7922,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/48'/0'/100'/1'/1/0\",\n        pubkey: Buffer.from(\"029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b1\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000005\", \"hex\"),\n        path: \"m/48'/0'/100'/1'/1/0\",\n        pubkey: Buffer.from(\"0272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be7\", \"hex\")\n      }],\n      redeemScript: Buffer.from(\"0020581e9806610ac1c8249dc3446e01f8365ecfc506462379d6948baa0d128c519a\", \"hex\"),\n      witnessScript: Buffer.from(\"52210272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be721029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b152ae\", \"hex\")\n    }],\n    hex: \"010000000340eb206da209badf4b8a3e758dda0f6a1cd24aa7855c4a0d7444668c2a2862200100000000ffffffffe7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c0000000000ffffffff317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c50100000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b987f21e00000000000017a91407339e0dab9b912f9972f96e7d6c6d09e38b7c828700000000\",\n    signature: [\"3045022100e218d80acbbf41b2ad630d7c4b7eb345934466cf205ac119bd41ce2bd3ab0daa022048a1238dc01d06ed57cf5715d5e74397fcb433001b1e39a6821d653ea0ac683601\", \"3045022100bdfd743229bafc6ff66524413528ac920d8bc5ba002f5112d24a6c19f2035247022073b55186e98329c3d0790d701107491d8a06ccc593f87b00df511bf41fe4d5c101\", \"30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    byteCeilingSignature: [\"3044022043898cd12541009f4612dc263af1542c785f76d0d17d174d9a6f70d86aa8a5b50220332b539f6afec6de56e399205ef83c9feb4568dff3ca1795ce56081a45978dd401\", \"3044022002953c3d45efc91aab969abfdbe603458a5738a00f8faa5415df6dba0e305a8002200cae08ed7df228c4fdc7725429090dabbad6e5abee729f78519df21ee7fd75f101\", \"30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01\"]\n  },\n  braidDetails: {\n    network: _networks.MAINNET,\n    addressType: _p2sh_p2wsh.P2SH_P2WSH,\n    extendedPublicKeys: [NODES[\"m/48'/0'/100'/1'\"].open_source, NODES[\"m/48'/0'/100'/1'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  psbtNoChange: \"cHNidP8BAKUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhzvpdkWMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHO+l2RYwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74Yc76XZFjAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAA==\",\n  psbt: \"cHNidP8BAMUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wJWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5h/IeAAAAAAAAF6kUBzOeDaubkS+ZcvlufWxtCeOLfIKHAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHAAAAAUwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YcAAAABTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhwAAAAFMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACBYHpgGYQrByCSdw0RuAfg2Xs/FBkYjedaUi6oNEoxRmgEBR1IhAnKDT2UkRJEOHMFXuZ9S/WBSgmoR+QmYeaVUkPa4GQvnIQKZl/nHCUiB0kGxOxTYVnze3KzNQRhExV/gmwuMobJUsVKuIgICcoNPZSREkQ4cwVe5n1L9YFKCahH5CZh5pVSQ9rgZC+ccAAAABTAAAIAAAACAZAAAgAEAAIABAAAAAAAAACICApmX+ccJSIHSQbE7FNhWfN7crM1BGETFX+CbC4yhslSxHPV+xl0wAACAAAAAgGQAAIABAACAAQAAAAAAAAAA\",\n  psbtWithGlobalXpub: \"cHNidP8BAMUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wJWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5h/IeAAAAAAAAF6kUBzOeDaubkS+ZcvlufWxtCeOLfIKHAAAAAE8BBIiyHgQLkoFJgAAAAc0aEFyT7XwrwB6ZRF+B6GdLzqYEJAXLQkSvLFmKuZW0Aw17TeJ4SXijNSrarPMYLHN9518cB3eAGarRWwuZtkCkFPV+xl0wAACAAAAAgGQAAIABAACATwEEiLIeBL7yF6yAAAABpLmDKbsUXnn6dIVlPyudxNjKlRnuDwAJOAncHT2LPNIDZuNezHEveQ5pjlArorPtAGRcaZS1nIiEre0espr4fvIUAAAABTAAAIAAAACAZAAAgAEAAIAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhwAAAAFMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHAAAAAUwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YcAAAABTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAAEAIgAgWB6YBmEKwcgkncNEbgH4Nl7PxQZGI3nWlIuqDRKMUZoBAUdSIQJyg09lJESRDhzBV7mfUv1gUoJqEfkJmHmlVJD2uBkL5yECmZf5xwlIgdJBsTsU2FZ83tyszUEYRMVf4JsLjKGyVLFSriICAnKDT2UkRJEOHMFXuZ9S/WBSgmoR+QmYeaVUkPa4GQvnHAAAAAUwAACAAAAAgGQAAIABAACAAQAAAAAAAAAiAgKZl/nHCUiB0kGxOxTYVnze3KzNQRhExV/gmwuMobJUsRz1fsZdMAAAgAAAAIBkAACAAQAAgAEAAAAAAAAAAA==\",\n  psbtPartiallySigned: \"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\"\n}, {\n  network: _networks.MAINNET,\n  type: _p2wsh.P2WSH,\n  bip32Path: \"m/48'/0'/100'/2'/0/0\",\n  publicKey: \"0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4\",\n  publicKeys: [\"02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b\", \"0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4\"],\n  witnessScriptOps: \"OP_2 02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b 0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4 OP_2 OP_CHECKMULTISIG\",\n  witnessScriptHex: \"522102e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b210369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f452ae\",\n  scriptOps: \"OP_0 497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9\",\n  scriptHex: \"0020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9\",\n  address: \"bc1qf9asympax4r6xrndsqrw8p0qxe40tm9zkk69tkrc8p6eg8ju075sjeekkt\",\n  utxos: [{\n    txid: \"4ab356fef8b8205a3b96b4924e8e94f18c4b8ecdefa0bb1ee28ce19f091c3f58\",\n    index: 0,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"020000000001011aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0100000000feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa94c76010000000000160014553e9be0af92386ae6b4065262dc97fdee9979170247304402206407b5c1fa2fd49b92e6f1802a0eed9e75f55c3db1ea179f077072d0c6e9031602205823ba8d01a6b96db9334affcb9b1e7dfb434cfdc1389287016d6b68c5c2cf0c0121029de99c2fec6fad0a90fb5a7792775477b8d82fa4f213903a2f67d3e2c1d802eb99490900\"\n  }, {\n    txid: \"a21b384dc72b9ef2559339cecd5ad2652171589b1e479497817b617734859d90\",\n    index: 1,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000101583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0100000000feffffff02c04601000000000016001416d8412d77ae6d6280c60091a7197a3f98546c911027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa90247304402204fada6ffa61f578f647ace8c8d02b678ff95ed0feca83b3a4750a97c5aa3ddca02203dc438b53e7aef6bd4f9152e37d6cbce4e64306932cc27f7e2072d764990cb530121020b500126d56d6f17b28e90f254b4b38c260ecd8e941b65c557b8af6c767027dd99490900\"\n  }, {\n    txid: \"af6e299c95d19abe3d99da27198355c4b52b4746ac985ab622284e286957a31a\",\n    index: 0,\n    amountSats: \"10000\",\n    // 0.0001 BTC\n    transactionHex: \"02000000000101317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c500000000171600147e88fb2bc740d5efffef8b6f53d5eb68b83317b6feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9d8a50100000000001600144ddfedfd823ee5dc953f4792a855b262a85ed77c0247304402202fc8347a8801fbbd13db5bd2694cdabb2c3428b6cfa6edda02ff16bc6cacb6b8022054604d07510ede500197deefe9d39abe277fb97a837ae40ea815b6aa38f0329701210247348c03f596b52730429ea89df4b3d75b219fd3c30cbcb66dae04779e0de6d236490900\"\n  }],\n  transaction: {\n    outputs: [{\n      address: RECEIVING_ADDRESSES[_networks.MAINNET][_p2wsh.P2WSH],\n      amountSats: \"21590\"\n    }, {\n      address: CHANGE_ADDRESSES[_networks.MAINNET][_p2wsh.P2WSH],\n      amountSats: \"8023\",\n      value: 8023,\n      bip32Derivation: [{\n        masterFingerprint: Buffer.from(\"f57ec65d\", \"hex\"),\n        path: \"m/48'/0'/100'/2'/1/0\",\n        pubkey: Buffer.from(\"038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae2174510\", \"hex\")\n      }, {\n        masterFingerprint: Buffer.from(\"00000006\", \"hex\"),\n        path: \"m/48'/0'/100'/2'/1/0\",\n        pubkey: Buffer.from(\"0318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e7\", \"hex\")\n      }],\n      witnessScript: Buffer.from(\"52210318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e721038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae217451052ae\", \"hex\")\n    }],\n    hex: \"0100000003583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0000000000ffffffff909d853477617b819794471e9b58712165d25acdce399355f29e2bc74d381ba20100000000ffffffff1aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0000000000ffffffff02565400000000000022002035be74e39d8452cd6ede2aede6be70e21e57941843032e495d823eb9f521aea7571f00000000000022002098ac4adf0ec716cb2d30585fc8db6b41ad26431f55213622b43723de418aff4200000000\",\n    signature: [\"304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01\", \"304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201\", \"3045022100ce3fea96bde970eab9aab5a3d8a00e1be5515cdd534db0d7c8a1755408c2c9c402204842d008cbacd7ce5df38035d55682ee03036751563d7b20253966bdb131a44801\"],\n    // Coldcard is now grinding nonces on signatures to produce low s-value (71 bytes or fewer ... e.g. starts with 0x3044 ...)\n    byteCeilingSignature: [\"304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01\", \"304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201\", \"304402202dd767bfc22fe0c68703d32359e2d649d499426df47e76cdf298d62a8094631e0220133c0516991eb18885e5b2171d5bdbbab58e635c2412ec14b7f3db9f5fa2ef1a01\"]\n  },\n  braidDetails: {\n    network: _networks.MAINNET,\n    addressType: _p2wsh.P2WSH,\n    extendedPublicKeys: [NODES[\"m/48'/0'/100'/2'\"].open_source, NODES[\"m/48'/0'/100'/2'\"].unchained],\n    requiredSigners: 2,\n    index: \"0\"\n  },\n  psbtNoChange: \"cHNidP8BAKUBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAA==\",\n  psbt: \"cHNidP8BANsBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wJWVAAAAAAAACIAIDW+dOOdhFLNbt4q7ea+cOIeV5QYQwMuSV2CPrn1Ia6nVx8AAAAAAAAiACCYrErfDscWyy0wWF/I22tBrSZDH1UhNiK0NyPeQYr/QgAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAximCvyap+MZH55JBRxwdk92iNmlZ7MnwJXlo/dfiEfnIQOLXilfFPaoSPVbfWLv3e9Gedw2Hs2l9s0HTMJK4hdFEFKuIgIDGKYK/Jqn4xkfnkkFHHB2T3aI2aVnsyfAleWj91+IR+ccAAAABjAAAIAAAACAZAAAgAIAAIABAAAAAAAAACICA4teKV8U9qhI9Vt9Yu/d70Z53DYezaX2zQdMwkriF0UQHPV+xl0wAACAAAAAgGQAAIACAACAAQAAAAAAAAAA\",\n  psbtWithGlobalXpub: \"cHNidP8BANsBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wJWVAAAAAAAACIAIDW+dOOdhFLNbt4q7ea+cOIeV5QYQwMuSV2CPrn1Ia6nVx8AAAAAAAAiACCYrErfDscWyy0wWF/I22tBrSZDH1UhNiK0NyPeQYr/QgAAAABPAQSIsh4EC5KBSYAAAAJrLJcFIzT9AzNGT9fXtu2be64l+byr+lTxXgQawilx/AOPzlNRM+qH+YnKCQj36N4PqWXQpmSbcb9cdCROzmTUkBT1fsZdMAAAgAAAAIBkAACAAgAAgE8BBIiyHgS+8hesgAAAAot5AMcDzdD3UrE7epXunLDVoN9/ub/kZ4sHTt09xZoRAwo91ozY06iWIJye7gprjsKHg0WIgs4ac2LYtgs03jCXFAAAAAYwAACAAAAAgGQAAIACAACAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAEBKxAnAAAAAAAAIgAgSXsCbD01R6MObYAG44XgNmr17KK1tFXYeDh1lB5cf6kBBUdSIQLiG3MYz71IK9u2ZEFCC5AY5bRAv5sM3t1CdibYHzJgWyEDaedPyVQ1W296z5u+xbhhwYaFK3WahfklWOQgoCAgR/RSriIGAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbHAAAAAYwAACAAAAAgGQAAIACAACAAAAAAAAAAAAiBgNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9Bz1fsZdMAAAgAAAAIBkAACAAgAAgAAAAAAAAAAAAAABAUdSIQMYpgr8mqfjGR+eSQUccHZPdojZpWezJ8CV5aP3X4hH5yEDi14pXxT2qEj1W31i793vRnncNh7NpfbNB0zCSuIXRRBSriICAximCvyap+MZH55JBRxwdk92iNmlZ7MnwJXlo/dfiEfnHAAAAAYwAACAAAAAgGQAAIACAACAAQAAAAAAAAAiAgOLXilfFPaoSPVbfWLv3e9Gedw2Hs2l9s0HTMJK4hdFEBz1fsZdMAAAgAAAAIBkAACAAgAAgAEAAAAAAAAAAA==\",\n  psbtPartiallySigned: \"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\"\n}];\nvar MULTISIGS = MULTISIGS_BASE.map(function (test) {\n  var multisig = _multisig.generateMultisigFromPublicKeys.apply(void 0, [test.network, test.type, 2].concat(_toConsumableArray(test.publicKeys)));\n  multisig.braidDetails = (0, _braid.braidConfig)(test.braidDetails);\n  multisig.bip32Derivation = test.bip32Derivation;\n  return _objectSpread(_objectSpread({}, test), {\n    description: \"\".concat(test.network, \" \").concat(test.type, \" 2-of-2 multisig address\"),\n    utxos: test.utxos.map(function (utxo) {\n      return _objectSpread(_objectSpread(_objectSpread({}, utxo), {\n        amountSats: (0, _bignumber.default)(utxo.amountSats),\n        multisig: multisig\n      }), {}, {\n        bip32Path: test.bip32Path // this only works because all of these fixtures are single address.\n      });\n    }),\n\n    transaction: _objectSpread(_objectSpread({}, test.transaction), {\n      outputs: test.transaction.outputs.map(function (output) {\n        return _objectSpread(_objectSpread({}, output), {\n          amountSats: (0, _bignumber.default)(output.amountSats)\n        });\n      })\n    }),\n    multisig: multisig,\n    multisigScript: test.type === _p2sh.P2SH ? (0, _multisig.multisigRedeemScript)(multisig) : (0, _multisig.multisigWitnessScript)(multisig),\n    multisigScriptOps: test.type === _p2sh.P2SH ? test.redeemScriptOps : test.witnessScriptOps,\n    multisigScriptHex: test.type === _p2sh.P2SH ? test.redeemScriptHex : test.witnessScriptHex\n  });\n});\n\n// function selectFirstUTXOFromEach(tests) {\n//   let unsortedUTXOs = [];\n//   let unsortedBIP32Paths = [];\n//   let unsortedPublicKeys = [];\n//   tests.forEach((test) => {\n//     unsortedUTXOs.push(test.utxos[0]);\n//     unsortedBIP32Paths.push(test.bip32Path);\n//     unsortedPublicKeys.push(test.publicKey);\n//   });\n//   const sortedUTXOs = sortInputs(unsortedUTXOs);\n//   const sortedBIP32Paths = [];\n//   const sortedPublicKeys = [];\n//   sortedUTXOs.forEach((utxo) => {\n//     const unsortedIndex = unsortedUTXOs.findIndex((otherUTXO) => (otherUTXO.txid === utxo.txid && otherUTXO.index === utxo.index));\n//     sortedBIP32Paths.push(unsortedBIP32Paths[unsortedIndex]);\n//     sortedPublicKeys.push(unsortedPublicKeys[unsortedIndex]);\n//   });\n//   return {\n//     inputs: sortedUTXOs,\n//     bip32Paths: sortedBIP32Paths,\n//     publicKeys: sortedPublicKeys,\n//   };\n// }\n\nfunction singleMultisigTransaction(test) {\n  return _objectSpread(_objectSpread({}, {\n    name: \"Sign \".concat(test.description),\n    description: \"spends multiple UTXOs from a single \".concat(test.description),\n    network: test.network,\n    inputs: (0, _inputs.sortInputs)(test.utxos),\n    bip32Paths: test.utxos.map(function () {\n      return test.bip32Path;\n    }),\n    publicKeys: test.utxos.map(function () {\n      return test.publicKey;\n    }),\n    segwit: test.type !== _p2sh.P2SH,\n    psbt: test.psbt,\n    psbtWithGlobalXpub: test.psbtWithGlobalXpub,\n    format: test.type,\n    derivation: test.bip32Path.slice(0, -4),\n    extendedPublicKeys: test.braidDetails.extendedPublicKeys,\n    braidDetails: test.braidDetails,\n    walletName: test.walletName,\n    policyHmac: test.policyHmac\n  }), test.transaction);\n}\nvar TRANSACTIONS = MULTISIGS.map(function (test) {\n  return singleMultisigTransaction(test);\n}).concat([\n  // {\n  //   ...selectFirstUTXOFromEach(MULTISIGS.filter((test) => test.network === TESTNET)),\n  //   ...{\n  //     name: `Sign across ${TESTNET} 2-of-2 multisig address types`,\n  //     description: `spends a UTXO from each ${TESTNET} 2-of-2 address type`,\n  //     network: TESTNET,\n  //     segwit: true,\n  //     outputs: [\n  //       {\n  //         address: RECEIVING_ADDRESSES[TESTNET],\n  //         amountSats: BigNumber('291590'),\n  //       }\n  //     ],\n  //   },\n  //   hex: \"0100000003236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d420000000000ffffffff845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650100000000ffffffff01f5a14392f39c55c9a597df640b0f75ec77f5a90bce39bbc7e8869bcc8ddf840000000000ffffffff01067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc3678700000000\",\n  //   signature: [\"30440220583a0f9f0dec594d16cee927dc10d10e99b075c2cbdaad75daf1adf1a9f34900022058311ae12f952a4707f8c4966a50ed96b21e049ef35afc91e77c9a1b991f93b801\",\"304502210084f12880a76b33e4bbf7bc896e76ccd726f59e24876261d1f9c999a2203d10c70220327e7daf28cf6dca83ff24c2b1dbded308e71f11941c14fa2b3bb1623d240b7201\",\"3045022100aeeaa8c07be892ff1dcbbcf76ab6f202fa3f6b3f41e0476294f8df2d0afb457f02206d7eecc49e1ff32f1f25b7649a127e4334c0f9272aa92051364f5094b3d796ad01\"],\n  // },\n  // {\n  //   ...selectFirstUTXOFromEach(MULTISIGS.filter((test) => test.network === MAINNET)),\n  //   ...{\n  //     name: `Sign across ${MAINNET} 2-of-2 multisig address types`,\n  //     description: `spends a UTXO from each ${MAINNET} 2-of-2 address type`,\n  //     network: MAINNET,\n  //     segwit: true,\n  //     outputs: [\n  //       {\n  //         address: RECEIVING_ADDRESSES[MAINNET],\n  //         amountSats: BigNumber('21590'),\n  //       }\n  //     ],\n  //     hex: \"010000000340eb206da209badf4b8a3e758dda0f6a1cd24aa7855c4a0d7444668c2a2862200100000000ffffffffb0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be1368450000000000ffffffff583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0000000000ffffffff01565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b98700000000\",\n  //     signature: [\"304502210088188fe088e22872e06ddad13c2586f6abb5d8040b2bb919bf00f6a855e3788902202517f77ae39ac37c0522864dfb996dc86272f328ee4d7b614cad17899f5bbc3a01\",\"3044022078e151ce21dab691a35f8aa2a080478cd15369653bc8ecd250019e62f2d1557102204349f260f9233558b8a71c9e2dc9888b6666451de97ea12b890ee7526f9f404001\",\"3044022005e44b81d321ce6cc27e7d64cf482844e0dd30220a776c62199d2fac33c6a41502201beacca9c4d4f00d31c797b9441222e67ada8d4e0706d1cd29805af363de615c01\"],\n  //   }\n  // },\n]);\n\n/**\n * A set of test fixtures mostly built from the same [BIP39 seed phrase]{@link https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki}.\n *\n * Initializing your keystore with this seed phrase will allow you to replicate many of the unit (and integration)\n * tests in this library on your hardware/software.  This is also useful for functional testing.\n *\n * Includes the following properties:\n * - `keys` - given the multisig nature of these fixtures, they involve keys from multiple sources\n * -   `open_source` - open source fixtures\n * -     `bip39Phrase` -- the BIP39 seed phrase used for all other fixtures\n * -     `nodes` -- an object mapping BIP32 paths to the corresponding [HD node]{@link module:fixtures.HDNode} derived from the BIP39 seed phrase above.\n * -   `unchained` - unchained fixtures\n * -     `nodes` -- an object mapping BIP32 paths to the corresponding [HD node]{@link module:fixtures.HDNode} derived from unchained seed phrase (not shared).\n * - `multisigs` -- an array of [multisig addresses]{@link module:fixtures.MultisigAddress} derived from the HD nodes above.\n * - `braids` -- an array of [braids]{@link module.braid.Braid} derived from the open_source + unchained HD nodes above.\n * - `transactions` -- an array of [transactions]{@link module:fixtures.MultisigTransaction} from the multisig address above.\n *\n * @example\n * import {TEST_FIXTURES} from \"unchained-bitcoin\";\n * console.log(TEST_FIXTURES.keys.open_source.bip39Phrase);\n * // merge alley lucky axis penalty manage latin gasp virus captain wheel deal chase fragile chapter boss zero dirt stadium tooth physical valve kid plunge\n *\n */\nvar TEST_FIXTURES = {\n  keys: {\n    open_source: {\n      bip39Phrase: BIP39_PHRASE,\n      nodes: Object.keys(NODES).reduce(function (openSourceNodes, node) {\n        var _NODES$node = NODES[node],\n          unchained = _NODES$node.unchained,\n          rest = _objectWithoutProperties(_NODES$node, [\"unchained\"]);\n        if (!unchained) {\n          openSourceNodes[node] = NODES[node];\n        } else {\n          // keep the node but drop the unchained part\n          openSourceNodes[node] = rest;\n        }\n        return openSourceNodes;\n      }, {})\n    },\n    unchained: {\n      nodes: Object.keys(NODES).reduce(function (unchainedNodes, node) {\n        var unchained = NODES[node].unchained;\n        if (unchained) unchainedNodes[node] = unchained;\n        return unchainedNodes;\n      }, {})\n    }\n  },\n  braids: BRAIDS,\n  multisigs: MULTISIGS,\n  transactions: TRANSACTIONS\n};\n\n/**\n * An HD node fixture derived from the BIP39 seed phrase fixture.\n *\n * Not all HD node fixtures have all properties below.\n *\n * @typedef HDNode\n * @type {Object}\n * @property {string} pub - the (compressed) public key in hex\n * @property {string} xpub - the extended public key formatted for mainnet\n * @property {string} tpub - the extended public key formatted for testnet\n */\n\n/**\n * A multisig address fixture.  At least one of the public\n * keys in the redeem/witness script for each address is derived from\n * the BIP39 seed phrase fixture.\n *\n * @typedef MultisigAddress\n * @type {Object}\n * @property {module:networks.NETWORKS} network - bitcoin network\n * @property {module:multisig.MULTISIG_ADDRESS_TYPES} type - multisig address type\n * @property {string} description - describes the multisig address\n * @property {string} bip32Path - BIP32 derivation path to the public key used in this address from the BIP39 seed phrase fixture\n * @property {string} publicKey - (compressed) public key (in hex) corresponding to BIP32 path\n * @property {string[]} publicKeys - (compressed) public keys (in hex) (order matters)\n * @property {string} multisigScriptHex - multisig script in hex (redeem/witneess script as appropriate)\n * @property {string} multisigScriptOps - multisig script in opcodes (redeem/witneess script as appropriate)\n * @property {string} redeemScriptHex - redeem script in hex (missing for P2WSH)\n * @property {string} redeemScriptOps - redeem script in opcodes (missing for P2WSH)\n * @property {string} witnessScriptHex - witness script in hex (missing for P2SH)\n * @property {string} witnessScriptOps - witness script in opcodes (missing for P2SH)\n * @property {string} address - bitcoin address\n * @property {string} scriptHex - script in hex\n * @property {string} scriptOps - script in opcodes\n * @property {module:multisig.Multisig} multisig - `Multisig` object for address\n * @property {module:transactions.UTXO[]} utxos - UTXOs at this address\n * @property {module.braid.Braid} braidDetails - details to construct the braid where this Multisig address resides\n * @property {module.braid.Braid} changeBraidDetails - details to construct the change braid where the Change Multisig address resides (if needed)\n * @property {string} psbt - unsigned psbt of the Transaction\n * @property {string} psbtPartiallySigned - psbt that has a single set of signatures inside for the open source words\n *\n */\n\n/**\n * A transaction fixture with inputs from one or more multisig\n * addresses.\n *\n * Each address contains at least one public key derived from the\n * BIP39 seed phrase fixture.\n *\n * The signatures in these transaction fixtures can therefore be\n * created by any keystore which loads this seed phrase.\n *\n * The inputs to these transactions should survive as the other\n * signature(s) required to spend them cannot be produced publicly\n * (their private keys are held by Unchained Capital).\n *\n * @typedef MultisigTransaction\n * @type {Object}\n * @property {string} description - describes the transaction\n * @property {module:networks.NETWORKS} network - bitcoin network\n * @property {boolean} segwit - does the transaction have segwit inputs?\n * @property {string[]} bip32Paths - BIP32 paths to the public key derived from the BIP39 seed phrase fixture, one per input\n * @property {string[]} publicKeys - (compressed) public keys  (in hex) corresponding to each BIP32 path, one per input\n * @property {module:transactions.UTXO[]} inputs - transaction inputs\n * @property {module:transactions.TransactionOutput[]} outputs - transaction outputs\n * @property {string} hex - unsigned transaction in hex\n * @property {string[]} signature - one signature for the transaction (consisting of one signature per input)\n *\n */\nexports.TEST_FIXTURES = TEST_FIXTURES;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.function.name\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PsbtV2Maps = exports.PsbtV2 = void 0;\nexports.getPsbtVersionNumber = getPsbtVersionNumber;\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.map\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.map\");\nvar _bufio = require(\"bufio\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _utils = require(\"./utils\");\nvar _paths = require(\"./paths\");\nvar _psbt = require(\"./psbt.js\");\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n// These keytypes are hex bytes, but here they are used as string enums to\n// assist in Map lookups. See type Key above for more info.\nvar KeyType; // Provided to friendly-format the PSBT_GLOBAL_TX_MODIFIABLE bitmask from\n// PsbtV2.PSBT_GLOBAL_TX_MODIFIABLE which returns PsbtGlobalTxModifiableBits[].\n(function (KeyType) {\n  KeyType[\"PSBT_GLOBAL_XPUB\"] = \"01\";\n  KeyType[\"PSBT_GLOBAL_TX_VERSION\"] = \"02\";\n  KeyType[\"PSBT_GLOBAL_FALLBACK_LOCKTIME\"] = \"03\";\n  KeyType[\"PSBT_GLOBAL_INPUT_COUNT\"] = \"04\";\n  KeyType[\"PSBT_GLOBAL_OUTPUT_COUNT\"] = \"05\";\n  KeyType[\"PSBT_GLOBAL_TX_MODIFIABLE\"] = \"06\";\n  KeyType[\"PSBT_GLOBAL_VERSION\"] = \"fb\";\n  KeyType[\"PSBT_GLOBAL_PROPRIETARY\"] = \"fc\";\n  KeyType[\"PSBT_IN_NON_WITNESS_UTXO\"] = \"00\";\n  KeyType[\"PSBT_IN_WITNESS_UTXO\"] = \"01\";\n  KeyType[\"PSBT_IN_PARTIAL_SIG\"] = \"02\";\n  KeyType[\"PSBT_IN_SIGHASH_TYPE\"] = \"03\";\n  KeyType[\"PSBT_IN_REDEEM_SCRIPT\"] = \"04\";\n  KeyType[\"PSBT_IN_WITNESS_SCRIPT\"] = \"05\";\n  KeyType[\"PSBT_IN_BIP32_DERIVATION\"] = \"06\";\n  KeyType[\"PSBT_IN_FINAL_SCRIPTSIG\"] = \"07\";\n  KeyType[\"PSBT_IN_FINAL_SCRIPTWITNESS\"] = \"08\";\n  KeyType[\"PSBT_IN_POR_COMMITMENT\"] = \"09\";\n  KeyType[\"PSBT_IN_RIPEMD160\"] = \"0a\";\n  KeyType[\"PSBT_IN_SHA256\"] = \"0b\";\n  KeyType[\"PSBT_IN_HASH160\"] = \"0c\";\n  KeyType[\"PSBT_IN_HASH256\"] = \"0d\";\n  KeyType[\"PSBT_IN_PREVIOUS_TXID\"] = \"0e\";\n  KeyType[\"PSBT_IN_OUTPUT_INDEX\"] = \"0f\";\n  KeyType[\"PSBT_IN_SEQUENCE\"] = \"10\";\n  KeyType[\"PSBT_IN_REQUIRED_TIME_LOCKTIME\"] = \"11\";\n  KeyType[\"PSBT_IN_REQUIRED_HEIGHT_LOCKTIME\"] = \"12\";\n  KeyType[\"PSBT_IN_TAP_KEY_SIG\"] = \"13\";\n  KeyType[\"PSBT_IN_TAP_SCRIPT_SIG\"] = \"14\";\n  KeyType[\"PSBT_IN_TAP_LEAF_SCRIPT\"] = \"15\";\n  KeyType[\"PSBT_IN_TAP_BIP32_DERIVATION\"] = \"16\";\n  KeyType[\"PSBT_IN_TAP_INTERNAL_KEY\"] = \"17\";\n  KeyType[\"PSBT_IN_TAP_MERKLE_ROOT\"] = \"18\";\n  KeyType[\"PSBT_IN_PROPRIETARY\"] = \"fc\";\n  KeyType[\"PSBT_OUT_REDEEM_SCRIPT\"] = \"00\";\n  KeyType[\"PSBT_OUT_WITNESS_SCRIPT\"] = \"01\";\n  KeyType[\"PSBT_OUT_BIP32_DERIVATION\"] = \"02\";\n  KeyType[\"PSBT_OUT_AMOUNT\"] = \"03\";\n  KeyType[\"PSBT_OUT_SCRIPT\"] = \"04\";\n  KeyType[\"PSBT_OUT_TAP_INTERNAL_KEY\"] = \"05\";\n  KeyType[\"PSBT_OUT_TAP_TREE\"] = \"06\";\n  KeyType[\"PSBT_OUT_TAP_BIP32_DERIVATION\"] = \"07\";\n  KeyType[\"PSBT_OUT_PROPRIETARY\"] = \"fc\";\n})(KeyType || (KeyType = {}));\nvar PsbtGlobalTxModifiableBits; // 0b000000100\n/*\nGlobal Constants\n */\n(function (PsbtGlobalTxModifiableBits) {\n  PsbtGlobalTxModifiableBits[\"INPUTS\"] = \"INPUTS\";\n  PsbtGlobalTxModifiableBits[\"OUTPUTS\"] = \"OUTPUTS\";\n  PsbtGlobalTxModifiableBits[\"SIGHASH_SINGLE\"] = \"SIGHASH_SINGLE\";\n})(PsbtGlobalTxModifiableBits || (PsbtGlobalTxModifiableBits = {}));\nvar PSBT_MAP_SEPARATOR = Buffer.from([0x00]);\nvar BIP_32_NODE_REGEX = /(\\/[0-9]+'?)/gi;\nvar BIP_32_HARDENING_OFFSET = 0x80000000;\nvar ERROR_PSBT_NOT_VALID = Error(\"Not a valid psbt\");\n\n/*\nHelper Functions\n*/\n\n// Return psbt as Buffer.\nfunction bufferize(psbt) {\n  if (Buffer.isBuffer(psbt)) {\n    return psbt;\n  }\n  if (typeof psbt === \"string\") {\n    if ((0, _utils.validateHex)(psbt) === \"\") {\n      return Buffer.from(psbt, \"hex\");\n    }\n    if ((0, _utils.validBase64)(psbt)) {\n      return Buffer.from(psbt, \"base64\");\n    }\n  }\n  throw ERROR_PSBT_NOT_VALID;\n}\n\n// Some keytypes have keydata which allows for multiple unique keys of the same\n// keytype. Getters which return values from these keys should search and return\n// values from all keys of that keytype. This function matches on the first byte\n// of each key string (hex encoded) and returns all values associated with those\n// keys as an array of string (hex encoded) values.\nfunction getNonUniqueKeyTypeValues(maps, keytype) {\n  if (Array.isArray(maps)) {\n    // It's a set of input or output maps, so recursively check each map and set\n    // values.\n    var _values = maps.map(function (map) {\n      return (\n        // TODO: Figure out a better way to type this\n        getNonUniqueKeyTypeValues(map, keytype)\n      );\n    });\n    return _values;\n  }\n  var map = maps; // Not an array\n  var values = [];\n  var _iterator = _createForOfIteratorHelper(map.entries()),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      if (key.startsWith(keytype)) {\n        values.push({\n          key: key,\n          value: (value === null || value === void 0 ? void 0 : value.toString(\"hex\")) || null\n        });\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return values;\n}\n\n// A getter helper for optional keytypes which returns lists of values as hex\n// strings.\nfunction getOptionalMappedBytesAsHex(maps, keytype) {\n  return maps.map(function (map) {\n    var _map$get$toString, _map$get;\n    return (_map$get$toString = (_map$get = map.get(keytype)) === null || _map$get === void 0 ? void 0 : _map$get.toString(\"hex\")) !== null && _map$get$toString !== void 0 ? _map$get$toString : null;\n  });\n}\n\n// A getter helper for optional keytypes which returns lists of values as\n// numbers.\nfunction getOptionalMappedBytesAsUInt(maps, keytype) {\n  return maps.map(function (map) {\n    var _map$get$readUInt32LE, _map$get2;\n    return (_map$get$readUInt32LE = (_map$get2 = map.get(keytype)) === null || _map$get2 === void 0 ? void 0 : _map$get2.readUInt32LE()) !== null && _map$get$readUInt32LE !== void 0 ? _map$get$readUInt32LE : null;\n  });\n}\n\n// Accepts a BIP0032 path as a string and returns a Buffer containing uint32\n// values for each path node.\nfunction parseDerivationPathNodesToBytes(path) {\n  var _path$match;\n  var validationMessage = (0, _paths.validateBIP32Path)(path);\n  if (validationMessage !== \"\") {\n    throw Error(validationMessage);\n  }\n  var bw = new _bufio.BufferWriter();\n  var _iterator2 = _createForOfIteratorHelper((_path$match = path.match(BIP_32_NODE_REGEX)) !== null && _path$match !== void 0 ? _path$match : []),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var node = _step2.value;\n      // Skip slash and parse int\n      var num = parseInt(node.slice(1), 10);\n      if (node.indexOf(\"'\") > -1) {\n        // Hardened node needs hardening\n        num += BIP_32_HARDENING_OFFSET;\n      }\n      bw.writeU32(num);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return bw.render();\n}\n\n// Takes a BufferReader and a Map then reads keypairs until it gets to a map\n// separator (keyLen 0x00 byte);\nfunction readAndSetKeyPairs(map, br) {\n  var nextByte = br.readBytes(1);\n  if (nextByte.equals(PSBT_MAP_SEPARATOR)) {\n    return;\n  }\n  var keyLen = nextByte.readUInt8();\n  var key = br.readBytes(keyLen);\n  var value = br.readVarBytes();\n  map.set(key.toString(\"hex\"), value);\n  readAndSetKeyPairs(map, br);\n}\n\n// Serializes a Map containing keypairs, includes keylen, and writes to the\n// BufferWriter.\nfunction serializeMap(map, bw) {\n  map.forEach(function (value, key) {\n    // Add <keylen><keytype><keydata>\n    var keyBuf = Buffer.from(key, \"hex\");\n    var keyLen = keyBuf.length;\n    bw.writeVarint(keyLen);\n    bw.writeString(key, \"hex\");\n\n    // Add <valuelen><valuedata>\n    bw.writeVarint(value.length);\n    bw.writeBytes(value);\n  });\n  bw.writeBytes(PSBT_MAP_SEPARATOR);\n}\nvar PsbtV2Maps = /*#__PURE__*/function () {\n  // These maps directly correspond to the maps defined in BIP0174\n\n  function PsbtV2Maps(psbt) {\n    var _this$globalMap$get$r, _this$globalMap$get, _this$globalMap$get$r2, _this$globalMap$get2;\n    _classCallCheck(this, PsbtV2Maps);\n    _defineProperty(this, \"globalMap\", new Map());\n    _defineProperty(this, \"inputMaps\", []);\n    _defineProperty(this, \"outputMaps\", []);\n    if (!psbt) {\n      this.globalMap.set(KeyType.PSBT_GLOBAL_VERSION, Buffer.from([0x02, 0x00, 0x00, 0x00]));\n      return;\n    }\n    var buf = bufferize(psbt);\n    var br = new _bufio.BufferReader(buf);\n    if (!br.readBytes(_psbt.PSBT_MAGIC_BYTES.length, true).equals(_psbt.PSBT_MAGIC_BYTES)) {\n      throw ERROR_PSBT_NOT_VALID;\n    }\n    // Build globalMap\n    readAndSetKeyPairs(this.globalMap, br);\n    if (!this.globalMap.has(KeyType.PSBT_GLOBAL_TX_VERSION) || !this.globalMap.has(KeyType.PSBT_GLOBAL_INPUT_COUNT) || !this.globalMap.has(KeyType.PSBT_GLOBAL_OUTPUT_COUNT) || this.globalMap.has(\"00\") // PsbtV2 must exclude key 0x00\n    ) {\n      throw Error(\"Provided psbtV2 not valid. Missing required global values.\");\n    }\n\n    // Build inputMaps\n    var inputCount = (_this$globalMap$get$r = (_this$globalMap$get = this.globalMap.get(KeyType.PSBT_GLOBAL_INPUT_COUNT)) === null || _this$globalMap$get === void 0 ? void 0 : _this$globalMap$get.readUInt8()) !== null && _this$globalMap$get$r !== void 0 ? _this$globalMap$get$r : 0;\n    for (var i = 0; i < inputCount; i++) {\n      var map = new Map();\n      readAndSetKeyPairs(map, br);\n      this.inputMaps.push(map);\n    }\n\n    // Build outputMaps\n    var outputCount = (_this$globalMap$get$r2 = (_this$globalMap$get2 = this.globalMap.get(KeyType.PSBT_GLOBAL_OUTPUT_COUNT)) === null || _this$globalMap$get2 === void 0 ? void 0 : _this$globalMap$get2.readUInt8()) !== null && _this$globalMap$get$r2 !== void 0 ? _this$globalMap$get$r2 : 0;\n    for (var _i2 = 0; _i2 < outputCount; _i2++) {\n      var _map = new Map();\n      readAndSetKeyPairs(_map, br);\n      this.outputMaps.push(_map);\n    }\n  }\n\n  // Return the current state of the psbt as a string in the specified format.\n  _createClass(PsbtV2Maps, [{\n    key: \"serialize\",\n    value: function serialize() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"base64\";\n      // Build hex string from maps\n      var bw = new _bufio.BufferWriter();\n      bw.writeBytes(_psbt.PSBT_MAGIC_BYTES);\n      serializeMap(this.globalMap, bw);\n      var _iterator3 = _createForOfIteratorHelper(this.inputMaps),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var map = _step3.value;\n          serializeMap(map, bw);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var _iterator4 = _createForOfIteratorHelper(this.outputMaps),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _map2 = _step4.value;\n          serializeMap(_map2, bw);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      return bw.render().toString(format);\n    } // NOTE: This set of copy methods is made available to\n    // achieve parity with the PSBT api required by ledger-bitcoin\n    // for creating merklized PSBTs. HOWEVER, it is not recommended\n    // to use this when avoidable as copying maps bypasses the validation\n    // defined in the constructor, so it could create a psbtv2 in an invalid psbt status.\n    // PsbtV2.serialize is preferable whenever possible.\n  }, {\n    key: \"copy\",\n    value: function copy(to) {\n      this.copyMap(this.globalMap, to.globalMap);\n      this.copyMaps(this.inputMaps, to.inputMaps);\n      this.copyMaps(this.outputMaps, to.outputMaps);\n    }\n  }, {\n    key: \"copyMaps\",\n    value: function copyMaps(from, to) {\n      var _this = this;\n      from.forEach(function (m, index) {\n        var to_index = new Map();\n        _this.copyMap(m, to_index);\n        to[index] = to_index;\n      });\n    } // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"copyMap\",\n    value: function copyMap(from, to) {\n      from.forEach(function (v, k) {\n        return to.set(k, Buffer.from(v));\n      });\n    }\n  }]);\n  return PsbtV2Maps;\n}();\nexports.PsbtV2Maps = PsbtV2Maps;\nvar PsbtV2 = /*#__PURE__*/function (_PsbtV2Maps) {\n  _inherits(PsbtV2, _PsbtV2Maps);\n  var _super = _createSuper(PsbtV2);\n  function PsbtV2(psbt) {\n    var _this2;\n    _classCallCheck(this, PsbtV2);\n    _this2 = _super.call(this, psbt);\n    if (_this2.PSBT_IN_PREVIOUS_TXID === undefined || _this2.PSBT_IN_OUTPUT_INDEX === undefined) {\n      throw Error(\"Provided psbtV2 not valid. Missing required input values.\");\n    }\n    var _iterator5 = _createForOfIteratorHelper(_this2.PSBT_IN_REQUIRED_TIME_LOCKTIME),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var locktime = _step5.value;\n        if (locktime && locktime < 500000000) {\n          throw Error(\"Provided psbtV2 not valid. An input time locktime is less than 500000000.\");\n        }\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n    var _iterator6 = _createForOfIteratorHelper(_this2.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME),\n      _step6;\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var _locktime = _step6.value;\n        if (_locktime && _locktime >= 500000000) {\n          throw Error(\"Provided psbtV2 not valid. An input hight locktime is gte 500000000.\");\n        }\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n    if (_this2.PSBT_OUT_AMOUNT === undefined || _this2.PSBT_OUT_SCRIPT === undefined) {\n      throw Error(\"Provided psbtV2 not valid. Missing required output values.\");\n    }\n    return _this2;\n  }\n\n  /**\n   * Globals Getters/Setters\n   */\n  _createClass(PsbtV2, [{\n    key: \"addGlobalXpub\",\n    value: function addGlobalXpub(xpub, fingerprint, path) {\n      var bw = new _bufio.BufferWriter();\n      bw.writeBytes(Buffer.from(KeyType.PSBT_GLOBAL_XPUB, \"hex\"));\n      bw.writeBytes(xpub);\n      var key = bw.render().toString(\"hex\");\n      bw.writeBytes(fingerprint);\n      var pathBytes = parseDerivationPathNodesToBytes(path);\n      bw.writeBytes(pathBytes);\n      var value = bw.render();\n      this.globalMap.set(key, value);\n    }\n  }, {\n    key: \"addInput\",\n    value: function addInput(_ref) {\n      var previousTxId = _ref.previousTxId,\n        outputIndex = _ref.outputIndex,\n        sequence = _ref.sequence,\n        nonWitnessUtxo = _ref.nonWitnessUtxo,\n        witnessUtxo = _ref.witnessUtxo,\n        redeemScript = _ref.redeemScript,\n        witnessScript = _ref.witnessScript,\n        bip32Derivation = _ref.bip32Derivation;\n      // TODO: Maybe this needs to check PSBT_GLOBAL_TX_MODIFIABLE before\n      // performing the operation.\n      var map = new Map();\n      var bw = new _bufio.BufferWriter();\n      if (Buffer.isBuffer(previousTxId)) {\n        bw.writeBytes(previousTxId);\n      } else {\n        bw.writeString(previousTxId, \"hex\");\n      }\n      map.set(KeyType.PSBT_IN_PREVIOUS_TXID, bw.render());\n      bw.writeI32(outputIndex);\n      map.set(KeyType.PSBT_IN_OUTPUT_INDEX, bw.render());\n      if (sequence) {\n        bw.writeI32(sequence);\n        map.set(KeyType.PSBT_IN_SEQUENCE, bw.render());\n      }\n      if (nonWitnessUtxo) {\n        bw.writeBytes(nonWitnessUtxo);\n        map.set(KeyType.PSBT_IN_NON_WITNESS_UTXO, bw.render());\n      }\n      if (witnessUtxo) {\n        bw.writeBytes(witnessUtxo);\n        map.set(KeyType.PSBT_IN_WITNESS_UTXO, bw.render());\n      }\n      if (redeemScript) {\n        bw.writeBytes(redeemScript);\n        map.set(KeyType.PSBT_IN_REDEEM_SCRIPT, bw.render());\n      }\n      if (witnessScript) {\n        bw.writeBytes(witnessScript);\n        map.set(KeyType.PSBT_IN_WITNESS_SCRIPT, bw.render());\n      }\n      if (bip32Derivation) {\n        var _iterator7 = _createForOfIteratorHelper(bip32Derivation),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var bip32 = _step7.value;\n            bw.writeString(KeyType.PSBT_IN_BIP32_DERIVATION, \"hex\");\n            bw.writeBytes(bip32.pubkey);\n            var key = bw.render().toString(\"hex\");\n            bw.writeBytes(bip32.masterFingerprint);\n            bw.writeBytes(parseDerivationPathNodesToBytes(bip32.path));\n            map.set(key, bw.render());\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n      }\n      this.inputMaps.push(map);\n    } // Removes an input-map from inputMaps\n  }, {\n    key: \"deleteInput\",\n    value: function deleteInput(index) {\n      // TODO: Maybe this needs to check PSBT_GLOBAL_TX_MODIFIABLE before\n      // performing the operation.\n      var newInputs = this.inputMaps.filter(function (_, i) {\n        return i !== index;\n      });\n      this.PSBT_GLOBAL_INPUT_COUNT = newInputs.length;\n      this.inputMaps = newInputs;\n    }\n  }, {\n    key: \"addOutput\",\n    value: function addOutput(_ref2) {\n      var amount = _ref2.amount,\n        script = _ref2.script,\n        redeemScript = _ref2.redeemScript,\n        witnessScript = _ref2.witnessScript,\n        bip32Derivation = _ref2.bip32Derivation;\n      // TODO: Maybe this needs to check PSBT_GLOBAL_TX_MODIFIABLE before\n      // performing the operation.\n      var map = new Map();\n      var bw = new _bufio.BufferWriter();\n      bw.writeI64(amount);\n      map.set(KeyType.PSBT_OUT_AMOUNT, bw.render());\n      bw.writeBytes(script);\n      map.set(KeyType.PSBT_OUT_SCRIPT, bw.render());\n      if (redeemScript) {\n        bw.writeBytes(script);\n        map.set(KeyType.PSBT_OUT_REDEEM_SCRIPT, bw.render());\n      }\n      if (witnessScript) {\n        bw.writeBytes(script);\n        map.set(KeyType.PSBT_OUT_WITNESS_SCRIPT, bw.render());\n      }\n      if (bip32Derivation) {\n        var _iterator8 = _createForOfIteratorHelper(bip32Derivation),\n          _step8;\n        try {\n          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n            var bip32 = _step8.value;\n            bw.writeString(KeyType.PSBT_OUT_BIP32_DERIVATION, \"hex\");\n            bw.writeBytes(bip32.pubkey);\n            var key = bw.render().toString(\"hex\");\n            bw.writeBytes(bip32.masterFingerprint);\n            bw.writeBytes(parseDerivationPathNodesToBytes(bip32.path));\n            map.set(key, bw.render());\n          }\n        } catch (err) {\n          _iterator8.e(err);\n        } finally {\n          _iterator8.f();\n        }\n      }\n      this.outputMaps.push(map);\n    } // Removes an output-map from outputMaps\n  }, {\n    key: \"deleteOutput\",\n    value: function deleteOutput(index) {\n      // TODO: Maybe this needs to check PSBT_GLOBAL_TX_MODIFIABLE before\n      // performing the operation.\n      var newOutputs = this.outputMaps.filter(function (_, i) {\n        return i !== index;\n      });\n      this.PSBT_GLOBAL_OUTPUT_COUNT = newOutputs.length;\n      this.outputMaps = newOutputs;\n    } // Attempt to return a PsbtV2 by converting from a PsbtV0 string or Buffer\n  }, {\n    key: \"PSBT_GLOBAL_XPUB\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.globalMap, KeyType.PSBT_GLOBAL_XPUB);\n    }\n  }, {\n    key: \"PSBT_GLOBAL_TX_VERSION\",\n    get: function get() {\n      var val = this.globalMap.get(KeyType.PSBT_GLOBAL_TX_VERSION);\n      if (val === undefined) {\n        throw Error(\"PSBT_GLOBAL_TX_VERSION not set\");\n      }\n      return val.readInt32LE(0);\n    },\n    set: function set(version) {\n      var bw = new _bufio.BufferWriter();\n      bw.writeI32(version);\n      this.globalMap.set(KeyType.PSBT_GLOBAL_TX_VERSION, bw.render());\n    }\n  }, {\n    key: \"PSBT_GLOBAL_FALLBACK_LOCKTIME\",\n    get: function get() {\n      var _this$globalMap$get$r3, _this$globalMap$get3;\n      return (_this$globalMap$get$r3 = (_this$globalMap$get3 = this.globalMap.get(KeyType.PSBT_GLOBAL_FALLBACK_LOCKTIME)) === null || _this$globalMap$get3 === void 0 ? void 0 : _this$globalMap$get3.readUInt32LE()) !== null && _this$globalMap$get$r3 !== void 0 ? _this$globalMap$get$r3 : null;\n    },\n    set: function set(locktime) {\n      if (locktime === null) {\n        this.globalMap.delete(KeyType.PSBT_GLOBAL_FALLBACK_LOCKTIME);\n      } else {\n        var bw = new _bufio.BufferWriter();\n        bw.writeI32(locktime);\n        this.globalMap.set(KeyType.PSBT_GLOBAL_FALLBACK_LOCKTIME, bw.render());\n      }\n    }\n  }, {\n    key: \"PSBT_GLOBAL_INPUT_COUNT\",\n    get: function get() {\n      var val = this.globalMap.get(KeyType.PSBT_GLOBAL_INPUT_COUNT);\n      if (val === undefined) {\n        throw Error(\"PSBT_GLOBAL_INPUT_COUNT not set\");\n      }\n      return val.readUInt8();\n    },\n    set: function set(count) {\n      var bw = new _bufio.BufferWriter();\n      bw.writeU8(count);\n      this.globalMap.set(KeyType.PSBT_GLOBAL_INPUT_COUNT, bw.render());\n    }\n  }, {\n    key: \"PSBT_GLOBAL_OUTPUT_COUNT\",\n    get: function get() {\n      var val = this.globalMap.get(KeyType.PSBT_GLOBAL_OUTPUT_COUNT);\n      if (val === undefined) {\n        throw Error(\"PSBT_GLOBAL_OUTPUT_COUNT not set\");\n      }\n      return val.readUInt8();\n    },\n    set: function set(count) {\n      var bw = new _bufio.BufferWriter();\n      bw.writeU8(count);\n      this.globalMap.set(KeyType.PSBT_GLOBAL_OUTPUT_COUNT, bw.render());\n    }\n  }, {\n    key: \"PSBT_GLOBAL_TX_MODIFIABLE\",\n    get: function get() {\n      var _this$globalMap$get4;\n      var val = ((_this$globalMap$get4 = this.globalMap.get(KeyType.PSBT_GLOBAL_TX_MODIFIABLE)) === null || _this$globalMap$get4 === void 0 ? void 0 : _this$globalMap$get4.readUInt8()) || 0;\n      var modifiable = [];\n      if (val & 1) {\n        modifiable.push(PsbtGlobalTxModifiableBits.INPUTS);\n      }\n      if (val & 2) {\n        modifiable.push(PsbtGlobalTxModifiableBits.OUTPUTS);\n      }\n      if (val & 4) {\n        modifiable.push(PsbtGlobalTxModifiableBits.SIGHASH_SINGLE);\n      }\n      return modifiable;\n    }\n  }, {\n    key: \"PSBT_GLOBAL_VERSION\",\n    get: function get() {\n      var _this$globalMap$get$r4, _this$globalMap$get5;\n      return (_this$globalMap$get$r4 = (_this$globalMap$get5 = this.globalMap.get(KeyType.PSBT_GLOBAL_VERSION)) === null || _this$globalMap$get5 === void 0 ? void 0 : _this$globalMap$get5.readUInt32LE()) !== null && _this$globalMap$get$r4 !== void 0 ? _this$globalMap$get$r4 : null;\n    }\n  }, {\n    key: \"PSBT_GLOBAL_PROPRIETARY\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.globalMap, KeyType.PSBT_GLOBAL_PROPRIETARY);\n    }\n    /**\n     * Input Getters/Setters\n     */\n  }, {\n    key: \"PSBT_IN_NON_WITNESS_UTXO\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_NON_WITNESS_UTXO);\n    }\n  }, {\n    key: \"PSBT_IN_WITNESS_UTXO\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_WITNESS_UTXO);\n    }\n  }, {\n    key: \"PSBT_IN_PARTIAL_SIG\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_PARTIAL_SIG);\n    }\n  }, {\n    key: \"PSBT_IN_SIGHASH_TYPE\",\n    get: function get() {\n      return getOptionalMappedBytesAsUInt(this.inputMaps, KeyType.PSBT_IN_SIGHASH_TYPE);\n    }\n  }, {\n    key: \"PSBT_IN_REDEEM_SCRIPT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_REDEEM_SCRIPT);\n    }\n  }, {\n    key: \"PSBT_IN_WITNESS_SCRIPT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_WITNESS_SCRIPT);\n    }\n  }, {\n    key: \"PSBT_IN_BIP32_DERIVATION\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_BIP32_DERIVATION);\n    }\n  }, {\n    key: \"PSBT_IN_FINAL_SCRIPTSIG\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_FINAL_SCRIPTSIG);\n    }\n  }, {\n    key: \"PSBT_IN_FINAL_SCRIPTWITNESS\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_FINAL_SCRIPTWITNESS);\n    }\n  }, {\n    key: \"PSBT_IN_POR_COMMITMENT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_POR_COMMITMENT);\n    }\n  }, {\n    key: \"PSBT_IN_RIPEMD160\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_RIPEMD160);\n    }\n  }, {\n    key: \"PSBT_IN_SHA256\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_SHA256);\n    }\n  }, {\n    key: \"PSBT_IN_HASH160\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_HASH160);\n    }\n  }, {\n    key: \"PSBT_IN_HASH256\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_HASH256);\n    }\n  }, {\n    key: \"PSBT_IN_PREVIOUS_TXID\",\n    get: function get() {\n      var txids = [];\n      var _iterator9 = _createForOfIteratorHelper(this.inputMaps),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var map = _step9.value;\n          var txid = map.get(KeyType.PSBT_IN_PREVIOUS_TXID);\n          if (!txid) {\n            throw Error(\"PSBT_IN_PREVIOUS_TXID not set for an input\");\n          }\n          txids.push(txid.toString(\"hex\"));\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n      return txids;\n    }\n  }, {\n    key: \"PSBT_IN_OUTPUT_INDEX\",\n    get: function get() {\n      var indexes = [];\n      var _iterator10 = _createForOfIteratorHelper(this.inputMaps),\n        _step10;\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var map = _step10.value;\n          var txid = map.get(KeyType.PSBT_IN_OUTPUT_INDEX);\n          if (!txid) {\n            throw Error(\"PSBT_IN_OUTPUT_INDEX not set for an input\");\n          }\n          indexes.push(txid.readUInt32LE());\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n      return indexes;\n    }\n  }, {\n    key: \"PSBT_IN_SEQUENCE\",\n    get: function get() {\n      return getOptionalMappedBytesAsUInt(this.inputMaps, KeyType.PSBT_IN_SEQUENCE);\n    }\n  }, {\n    key: \"PSBT_IN_REQUIRED_TIME_LOCKTIME\",\n    get: function get() {\n      return getOptionalMappedBytesAsUInt(this.inputMaps, KeyType.PSBT_IN_REQUIRED_TIME_LOCKTIME);\n    }\n  }, {\n    key: \"PSBT_IN_REQUIRED_HEIGHT_LOCKTIME\",\n    get: function get() {\n      return getOptionalMappedBytesAsUInt(this.inputMaps, KeyType.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_KEY_SIG\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_TAP_KEY_SIG);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_SCRIPT_SIG\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_TAP_SCRIPT_SIG);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_LEAF_SCRIPT\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_TAP_LEAF_SCRIPT);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_BIP32_DERIVATION\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_TAP_BIP32_DERIVATION);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_INTERNAL_KEY\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_TAP_INTERNAL_KEY);\n    }\n  }, {\n    key: \"PSBT_IN_TAP_MERKLE_ROOT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.inputMaps, KeyType.PSBT_IN_TAP_MERKLE_ROOT);\n    }\n  }, {\n    key: \"PSBT_IN_PROPRIETARY\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.inputMaps, KeyType.PSBT_IN_PROPRIETARY);\n    }\n    /**\n     * Output Getters/Setters\n     */\n  }, {\n    key: \"PSBT_OUT_REDEEM_SCRIPT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.outputMaps, KeyType.PSBT_OUT_REDEEM_SCRIPT);\n    }\n  }, {\n    key: \"PSBT_OUT_WITNESS_SCRIPT\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.outputMaps, KeyType.PSBT_OUT_WITNESS_SCRIPT);\n    }\n  }, {\n    key: \"PSBT_OUT_BIP32_DERIVATION\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.outputMaps, KeyType.PSBT_OUT_BIP32_DERIVATION);\n    }\n  }, {\n    key: \"PSBT_OUT_AMOUNT\",\n    get: function get() {\n      var indexes = [];\n      var _iterator11 = _createForOfIteratorHelper(this.outputMaps),\n        _step11;\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var map = _step11.value;\n          var txid = map.get(KeyType.PSBT_OUT_AMOUNT);\n          if (!txid) {\n            throw Error(\"PSBT_OUT_AMOUNT not set for an output\");\n          }\n          indexes.push(txid.readBigInt64LE());\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n      return indexes;\n    }\n  }, {\n    key: \"PSBT_OUT_SCRIPT\",\n    get: function get() {\n      var indexes = [];\n      var _iterator12 = _createForOfIteratorHelper(this.outputMaps),\n        _step12;\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var map = _step12.value;\n          var txid = map.get(KeyType.PSBT_OUT_SCRIPT);\n          if (!txid) {\n            throw Error(\"PSBT_OUT_SCRIPT not set for an output\");\n          }\n          indexes.push(txid.toString(\"hex\"));\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n      return indexes;\n    }\n  }, {\n    key: \"PSBT_OUT_TAP_INTERNAL_KEY\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.outputMaps, KeyType.PSBT_OUT_TAP_INTERNAL_KEY);\n    }\n  }, {\n    key: \"PSBT_OUT_TAP_TREE\",\n    get: function get() {\n      return getOptionalMappedBytesAsHex(this.outputMaps, KeyType.PSBT_OUT_TAP_TREE);\n    }\n  }, {\n    key: \"PSBT_OUT_TAP_BIP32_DERIVATION\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.outputMaps, KeyType.PSBT_OUT_TAP_BIP32_DERIVATION);\n    }\n  }, {\n    key: \"PSBT_OUT_PROPRIETARY\",\n    get: function get() {\n      return getNonUniqueKeyTypeValues(this.outputMaps, KeyType.PSBT_OUT_PROPRIETARY);\n    }\n    /**\n     * Other Getters/Setters\n     */\n  }, {\n    key: \"nLockTime\",\n    get: function get() {\n      // From BIP0370: The nLockTime field of a transaction is determined by\n      // inspecting the PSBT_GLOBAL_FALLBACK_LOCKTIME and each input's\n      // PSBT_IN_REQUIRED_TIME_LOCKTIME and PSBT_IN_REQUIRED_HEIGHT_LOCKTIME\n      // fields.\n      //\n      // First collect total locks\n      var inputCount = this.PSBT_GLOBAL_INPUT_COUNT;\n      var heightLocks = this.PSBT_IN_REQUIRED_HEIGHT_LOCKTIME;\n      var timeLocks = this.PSBT_IN_REQUIRED_TIME_LOCKTIME;\n      var heights = [];\n      var times = [];\n      for (var i = 0; i < this.PSBT_GLOBAL_INPUT_COUNT; i++) {\n        if (heightLocks[i] !== null) {\n          heights.push(heightLocks[i]);\n        }\n        if (timeLocks[i] !== null) {\n          times.push(timeLocks[i]);\n        }\n      }\n\n      // From BIP0370: If none of the inputs have a PSBT_IN_REQUIRED_TIME_LOCKTIME\n      // and *(or) PSBT_IN_REQUIRED_HEIGHT_LOCKTIME, then\n      // PSBT_GLOBAL_FALLBACK_LOCKTIME must be used. If\n      // PSBT_GLOBAL_FALLBACK_LOCKTIME is not provided, then it is assumed to be\n      // 0.\n      if (heights.length === 0 && times.length === 0) {\n        return this.PSBT_GLOBAL_FALLBACK_LOCKTIME || 0;\n      }\n\n      // From BIP0370: If one or more inputs have a PSBT_IN_REQUIRED_TIME_LOCKTIME\n      // or PSBT_IN_REQUIRED_HEIGHT_LOCKTIME, then the field chosen is the one\n      // which is supported by all of the inputs. This can be determined by\n      // looking at all of the inputs which specify a locktime in either of those\n      // fields, and choosing the field which is present in all of those inputs.\n      // Inputs not specifying a lock time field can take both types of lock\n      // times, as can those that specify both. The lock time chosen is then the\n      // maximum value of the chosen type of lock time.\n      //\n      // If a PSBT has both types of locktimes possible because one or more inputs\n      // specify both PSBT_IN_REQUIRED_TIME_LOCKTIME and\n      // PSBT_IN_REQUIRED_HEIGHT_LOCKTIME, then locktime determined by looking at\n      // the PSBT_IN_REQUIRED_HEIGHT_LOCKTIME fields of the inputs must be chosen.\n      if (heights.length === inputCount || heights.length > times.length) {\n        return Math.max.apply(Math, heights);\n      }\n      if (times.length > heights.length) {\n        return Math.max.apply(Math, times);\n      }\n      return null;\n    }\n  }], [{\n    key: \"FromV0\",\n    value: function FromV0(psbt) {\n      var _psbtv0GlobalMap$glob;\n      var psbtv0Buf = bufferize(psbt);\n      var psbtv0 = _bitcoinjsLib.Psbt.fromBuffer(psbtv0Buf);\n      var psbtv2 = new PsbtV2();\n      var psbtv0GlobalMap = psbtv0.data.globalMap;\n      psbtv2.PSBT_GLOBAL_TX_VERSION = psbtv0.data.getTransaction().readInt32LE(0);\n      psbtv2.PSBT_GLOBAL_INPUT_COUNT = psbtv0.data.inputs.length;\n      psbtv2.PSBT_GLOBAL_OUTPUT_COUNT = psbtv0.data.outputs.length;\n      psbtv2.PSBT_GLOBAL_FALLBACK_LOCKTIME = 0; // Is this necessary?\n      var _iterator13 = _createForOfIteratorHelper((_psbtv0GlobalMap$glob = psbtv0GlobalMap.globalXpub) !== null && _psbtv0GlobalMap$glob !== void 0 ? _psbtv0GlobalMap$glob : []),\n        _step13;\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var globalXpub = _step13.value;\n          psbtv2.addGlobalXpub(globalXpub.extendedPubkey, globalXpub.masterFingerprint, globalXpub.path);\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n      var txInputs = [];\n      var _iterator14 = _createForOfIteratorHelper(psbtv0.txInputs.entries()),\n        _step14;\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var _step14$value = _slicedToArray(_step14.value, 2),\n            index = _step14$value[0],\n            txInput = _step14$value[1];\n          txInputs[index] = txInput;\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n      var _iterator15 = _createForOfIteratorHelper(psbtv0.data.inputs.entries()),\n        _step15;\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var _input$witnessUtxo;\n          var _step15$value = _slicedToArray(_step15.value, 2),\n            _index = _step15$value[0],\n            input = _step15$value[1];\n          var _txInput = txInputs[_index];\n          psbtv2.addInput({\n            previousTxId: _txInput.hash,\n            outputIndex: _txInput.index,\n            sequence: _txInput.sequence,\n            nonWitnessUtxo: input.nonWitnessUtxo,\n            witnessUtxo: (_input$witnessUtxo = input.witnessUtxo) === null || _input$witnessUtxo === void 0 ? void 0 : _input$witnessUtxo.script,\n            redeemScript: input.redeemScript,\n            witnessScript: input.witnessScript,\n            bip32Derivation: input.bip32Derivation\n          });\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n      var txOutputs = [];\n      var _iterator16 = _createForOfIteratorHelper(psbtv0.txOutputs.entries()),\n        _step16;\n      try {\n        for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n          var _step16$value = _slicedToArray(_step16.value, 2),\n            _index2 = _step16$value[0],\n            txOutput = _step16$value[1];\n          txOutputs[_index2] = txOutput;\n        }\n      } catch (err) {\n        _iterator16.e(err);\n      } finally {\n        _iterator16.f();\n      }\n      var _iterator17 = _createForOfIteratorHelper(psbtv0.data.outputs.entries()),\n        _step17;\n      try {\n        for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n          var _step17$value = _slicedToArray(_step17.value, 2),\n            _index3 = _step17$value[0],\n            output = _step17$value[1];\n          var _txOutput = txOutputs[_index3];\n          psbtv2.addOutput({\n            amount: _txOutput.value,\n            script: _txOutput.script,\n            redeemScript: output.redeemScript,\n            witnessScript: output.witnessScript,\n            bip32Derivation: output.bip32Derivation\n          });\n        }\n      } catch (err) {\n        _iterator17.e(err);\n      } finally {\n        _iterator17.f();\n      }\n      return psbtv2;\n    }\n  }]);\n  return PsbtV2;\n}(PsbtV2Maps);\n/**\n * Attempts to extract the version number as uint32LE from raw psbt regardless\n * of psbt validity.\n * @param {string | Buffer} psbt - hex, base64 or buffer of psbt\n * @returns {number} version number\n */\nexports.PsbtV2 = PsbtV2;\nfunction getPsbtVersionNumber(psbt) {\n  var _map$get3;\n  var buf = bufferize(psbt);\n  var map = new Map();\n  var br = new _bufio.BufferReader(buf.slice(_psbt.PSBT_MAGIC_BYTES.length));\n  readAndSetKeyPairs(map, br);\n  return ((_map$get3 = map.get(KeyType.PSBT_GLOBAL_VERSION)) === null || _map$get3 === void 0 ? void 0 : _map$get3.readUInt32LE()) || 0;\n}","\"use strict\";\n\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _keys = require(\"./keys\");\nObject.keys(_keys).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _keys[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _keys[key];\n    }\n  });\n});\nvar _addresses = require(\"./addresses\");\nObject.keys(_addresses).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _addresses[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _addresses[key];\n    }\n  });\n});\nvar _networks = require(\"./networks\");\nObject.keys(_networks).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _networks[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _networks[key];\n    }\n  });\n});\nvar _braid = require(\"./braid\");\nObject.keys(_braid).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _braid[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _braid[key];\n    }\n  });\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feeMagicBtn\":\"styles_feeMagicBtn__QX0iX\",\"utxoTxid\":\"styles_utxoTxid__1p6kt\",\"outputsFormInput\":\"styles_outputsFormInput__3Osdm\",\"unconfirmed\":\"styles_unconfirmed__3KzJ4\",\"spent\":\"styles_spent__10i2F\",\"outputsFormLabel\":\"styles_outputsFormLabel__NZOnp\",\"maxSpend\":\"styles_maxSpend__32e8a\"};","\"use strict\";\n\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColdcardSignMultisigTransaction = exports.ColdcardMultisigWalletConfig = exports.ColdcardInteraction = exports.ColdcardExportPublicKey = exports.ColdcardExportExtendedPublicKey = exports.COLDCARD_WALLET_CONFIG_VERSION = exports.COLDCARD_BASE_BIP32_PATHS = exports.COLDCARD = void 0;\nrequire(\"core-js/modules/es6.string.repeat\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es7.object.entries\");\nrequire(\"core-js/modules/es6.array.find\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.regexp.replace\");\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _interaction = require(\"./interaction\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar COLDCARD = \"coldcard\";\n// Our constants use 'P2SH-P2WSH', their file uses 'P2SH_P2WSH' :\\\nexports.COLDCARD = COLDCARD;\nvar COLDCARD_BASE_BIP32_PATHS = {\n  \"m/45'\": _unchainedBitcoin.P2SH,\n  \"m/48'/0'/0'/1'\": _unchainedBitcoin.P2SH_P2WSH.replace(\"-\", \"_\"),\n  \"m/48'/0'/0'/2'\": _unchainedBitcoin.P2WSH,\n  \"m/48'/1'/0'/1'\": _unchainedBitcoin.P2SH_P2WSH.replace(\"-\", \"_\"),\n  \"m/48'/1'/0'/2'\": _unchainedBitcoin.P2WSH\n};\nexports.COLDCARD_BASE_BIP32_PATHS = COLDCARD_BASE_BIP32_PATHS;\nvar COLDCARD_BASE_CHROOTS = Object.keys(COLDCARD_BASE_BIP32_PATHS);\nvar COLDCARD_WALLET_CONFIG_VERSION = \"1.0.0\";\n\n/**\n * Base class for interactions with Coldcard\n *\n * @extends {module:interaction.IndirectKeystoreInteraction}\n */\nexports.COLDCARD_WALLET_CONFIG_VERSION = COLDCARD_WALLET_CONFIG_VERSION;\nvar ColdcardInteraction = /*#__PURE__*/function (_IndirectKeystoreInte) {\n  _inherits(ColdcardInteraction, _IndirectKeystoreInte);\n  var _super = _createSuper(ColdcardInteraction);\n  function ColdcardInteraction() {\n    _classCallCheck(this, ColdcardInteraction);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(ColdcardInteraction);\n}(_interaction.IndirectKeystoreInteraction);\n/**\n * Base class for JSON Multisig file-based interactions with Coldcard\n * This class handles the file that comes from the `Export XPUB` menu item.\n *\n * @extends {module:coldcard.ColdcardInteraction}\n */\nexports.ColdcardInteraction = ColdcardInteraction;\nvar ColdcardMultisigSettingsFileParser = /*#__PURE__*/function (_ColdcardInteraction) {\n  _inherits(ColdcardMultisigSettingsFileParser, _ColdcardInteraction);\n  var _super2 = _createSuper(ColdcardMultisigSettingsFileParser);\n  /**\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network (needed for derivations)\n   * @param {string} options.bip32Path - bip32Path to interrogate\n   */\n  function ColdcardMultisigSettingsFileParser(_ref) {\n    var _this;\n    var network = _ref.network,\n      bip32Path = _ref.bip32Path;\n    _classCallCheck(this, ColdcardMultisigSettingsFileParser);\n    _this = _super2.call(this);\n    if ([_unchainedBitcoin.MAINNET, _unchainedBitcoin.TESTNET].find(function (net) {\n      return net === network;\n    })) {\n      _this.network = network;\n    } else {\n      throw new Error(\"Unknown network.\");\n    }\n    _this.bip32Path = bip32Path;\n    _this.bip32ValidationErrorMessage = {};\n    _this.bip32ValidationError = _this.validateColdcardBip32Path(bip32Path);\n    return _this;\n  }\n  _createClass(ColdcardMultisigSettingsFileParser, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !this.bip32ValidationError.length;\n    }\n\n    // TODO make these messages more robust\n    //   (e.g use `menuchoices` as an array of `menuchoicemessages`)\n  }, {\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(ColdcardMultisigSettingsFileParser.prototype), \"messages\", this).call(this);\n      if (Object.entries(this.bip32ValidationErrorMessage).length) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: this.bip32ValidationErrorMessage.code,\n          text: this.bip32ValidationErrorMessage.text\n        });\n      }\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.export_xpub\",\n        text: \"Go to Settings > Multisig Wallets > Export XPUB\"\n      });\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.select_account\",\n        text: \"Enter 0 for account\"\n      });\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.upload_key\",\n        text: \"Upload the JSON file from your Coldcard.\"\n      });\n      return messages;\n    }\n  }, {\n    key: \"chrootForBIP32Path\",\n    value: function chrootForBIP32Path(bip32Path) {\n      for (var i = 0; i < COLDCARD_BASE_CHROOTS.length; i++) {\n        var chroot = COLDCARD_BASE_CHROOTS[i];\n        if (bip32Path.startsWith(chroot)) {\n          return chroot;\n        }\n      }\n      return null;\n    }\n\n    /**\n     * This validates three things for an incoming Coldcard bip32Path\n     *\n     * 1. Is the bip32path valid syntactically?\n     * 2. Does the bip32path start with one of the known Coldcard chroots?\n     * 3. Are there any hardened indices in the relative path below the chroot?\n     *\n     * @param {string} bip32Path - bip32Path to validate against Coldcard chroots\n     * @return {string} empty or with the appropriate error message\n     */\n  }, {\n    key: \"validateColdcardBip32Path\",\n    value: function validateColdcardBip32Path(bip32Path) {\n      var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n      if (bip32PathError.length) {\n        this.bip32ValidationErrorMessage = {\n          text: bip32PathError,\n          code: \"coldcard.bip32_path.path_error\"\n        };\n        return bip32PathError;\n      }\n      var coldcardChroot = this.chrootForBIP32Path(bip32Path);\n      if (coldcardChroot) {\n        if (coldcardChroot === bip32Path) {\n          // asking for known base path, no deeper derivation\n          return \"\";\n        }\n        var relativePath = (0, _unchainedBitcoin.getRelativeBIP32Path)(coldcardChroot, bip32Path);\n        var relativePathError = (0, _unchainedBitcoin.validateBIP32Path)(relativePath, {\n          mode: \"unhardened\"\n        });\n        if (relativePathError) {\n          this.bip32ValidationErrorMessage = {\n            text: relativePathError,\n            code: \"coldcard.bip32_path.no_hardened_relative_path_error\"\n          };\n          return relativePathError;\n        }\n        return \"\";\n      }\n      var unknownColdcardParentBip32PathError = \"The bip32Path must begin with one of the known Coldcard paths: \".concat(COLDCARD_BASE_CHROOTS);\n      this.bip32ValidationErrorMessage = {\n        text: unknownColdcardParentBip32PathError,\n        code: \"coldcard.bip32_path.unknown_chroot_error\"\n      };\n      return unknownColdcardParentBip32PathError;\n    }\n\n    /**\n     * Parse the Coldcard JSON file and do some basic error checking\n     * add a field for rootFingerprint (it can sometimes be calculated\n     * if not explicitly included)\n     *\n     * @param {Object} file JSON file exported from Coldcard\n     * @returns {Object} the parsed response\n     *\n     */\n  }, {\n    key: \"parse\",\n    value: function parse(file) {\n      //In the case of keys (json), the file will look like:\n      //\n      //{\n      //   \"p2sh_deriv\": \"m/45'\",\n      //   \"p2sh\": \"tpubDA4nUAdTmY...MmtZaVFEU5MtMfj7H\",\n      //   \"p2wsh_p2sh_deriv\": \"m/48'/1'/0'/1'\",          // originally they had this backwards\n      //   \"p2wsh_p2sh\": \"Upub5THcs...Qh27gWiL2wDoVwaW\",  // originally they had this backwards\n      //   \"p2sh_p2wsh_deriv\": \"m/48'/1'/0'/1'\",          // now it's right\n      //   \"p2sh_p2wsh\": \"Upub5THcs...Qh27gWiL2wDoVwaW\",  // now it's right\n      //   \"p2wsh_deriv\": \"m/48'/1'/0'/2'\",\n      //   \"p2wsh\": \"Vpub5n7tBWyvv...2hTzyeSKtZ5PQ1MRN\",\n      //   \"xfp\": \"12abcdef\"\n      // }\n      //\n      // For now, we will derive unhardened from `p2sh_deriv`\n      // FIXME: assume we will gain the ability to ask Coldcard for an arbitrary path\n      //   (or at least a p2sh hardened path deeper than m/45')\n\n      var data;\n      if (_typeof(file) === \"object\") {\n        data = file;\n      } else if (typeof file === \"string\") {\n        try {\n          data = JSON.parse(file);\n        } catch (error) {\n          throw new Error(\"Unable to parse JSON.\");\n        }\n      } else {\n        throw new Error(\"Not valid JSON.\");\n      }\n      if (Object.keys(data).length === 0) {\n        throw new Error(\"Empty JSON file.\");\n      }\n\n      // Coldcard changed the format of keys in the exported file to match\n      // the convention of p2sh-p2wsh instead of what they had before\n      // which was p2wsh-p2sh ... so one of these sets needs to be\n      // in the file.\n      if (!data.p2sh_deriv || !data.p2sh || !data.p2wsh_deriv || !data.p2wsh || (!data.p2wsh_p2sh_deriv || !data.p2wsh_p2sh) && (!data.p2sh_p2wsh_deriv || !data.p2sh_p2wsh)) {\n        throw new Error(\"Missing required params. Was this file exported from a Coldcard?  If you are using firmware version 4.1.0 please upgrade to 4.1.1 or later.\");\n      }\n      var xpubClass = _unchainedBitcoin.ExtendedPublicKey.fromBase58(data.p2sh);\n      if (!data.xfp && xpubClass.depth !== 1) {\n        throw new Error(\"No xfp in JSON file.\");\n      }\n\n      // We can only find the fingerprint in the xpub if the depth is one\n      // because the xpub includes its parent's fingerprint.\n      var xfpFromWithinXpub = xpubClass.depth === 1 ? (0, _unchainedBitcoin.fingerprintToFixedLengthHex)(xpubClass.parentFingerprint) : null;\n\n      // Sanity check if you send in a depth one xpub, we should get the same fingerprint\n      if (xfpFromWithinXpub && data.xfp && xfpFromWithinXpub !== data.xfp.toLowerCase()) {\n        throw new Error(\"Computed fingerprint does not match the one in the file.\");\n      }\n      var rootFingerprint = data.xfp ? data.xfp : xfpFromWithinXpub;\n      data.rootFingerprint = rootFingerprint.toLowerCase();\n      return data;\n    }\n\n    /**\n     * This method will take the result from the Coldcard JSON and:\n     *\n     * 1. determine which t/U/V/x/Y/Zpub to use\n     * 2. derive deeper if necessary (and able) using functionality\n     *    from unchained-bitcoin\n     *\n     * @param {Object} result - parsed data from ColdcardJSON\n     * @returns {Object} the desired xpub (if possible)\n     *\n     */\n  }, {\n    key: \"deriveDeeperXpubIfNecessary\",\n    value: function deriveDeeperXpubIfNecessary(result) {\n      var knownColdcardChroot = this.chrootForBIP32Path(this.bip32Path);\n      var relativePath = (0, _unchainedBitcoin.getRelativeBIP32Path)(knownColdcardChroot, this.bip32Path);\n      var addressType = COLDCARD_BASE_BIP32_PATHS[knownColdcardChroot];\n      // result could have p2wsh_p2sh or p2sh_p2wsh based on firmware version. Blah!\n      if (addressType.includes(\"_\") && !result[addressType.toLowerCase()]) {\n        // Firmware < v3.2.0\n        addressType = \"p2wsh_p2sh\";\n      }\n      var prefix = this.network === _unchainedBitcoin.TESTNET ? \"tpub\" : \"xpub\";\n      // If the addressType is segwit, the imported key will not be in the xpub/tpub format,\n      // so convert it.\n      var baseXpub = addressType.toLowerCase().includes(\"w\") ? (0, _unchainedBitcoin.convertExtendedPublicKey)(result[addressType.toLowerCase()], prefix) : result[addressType.toLowerCase()];\n      return relativePath.length ? (0, _unchainedBitcoin.deriveChildExtendedPublicKey)(baseXpub, relativePath, this.network) : baseXpub;\n    }\n  }]);\n  return ColdcardMultisigSettingsFileParser;\n}(ColdcardInteraction);\n/**\n * Reads a public key and (optionally) derives deeper from data in an\n * exported JSON file uploaded from the Coldcard.\n *\n * @extends {ColdcardMultisigSettingsFileParser}\n * @example\n * const interaction = new ColdcardExportPublicKey();\n * const reader = new FileReader(); // application dependent\n * const jsonFile = reader.readAsText('ccxp-0F056943.json'); // application dependent\n * const {publicKey, rootFingerprint, bip32Path} = interaction.parse(jsonFile);\n * console.log(publicKey);\n * // \"026942...\"\n * console.log(rootFingerprint);\n * // \"0f056943\"\n * console.log(bip32Path);\n * // \"m/45'/0/0\"\n */\nvar ColdcardExportPublicKey = /*#__PURE__*/function (_ColdcardMultisigSett) {\n  _inherits(ColdcardExportPublicKey, _ColdcardMultisigSett);\n  var _super3 = _createSuper(ColdcardExportPublicKey);\n  /**\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network (needed for derivations)\n   * @param {string} options.bip32Path - BIP32 path\n   */\n  function ColdcardExportPublicKey(_ref2) {\n    var network = _ref2.network,\n      bip32Path = _ref2.bip32Path;\n    _classCallCheck(this, ColdcardExportPublicKey);\n    return _super3.call(this, {\n      network: network,\n      bip32Path: bip32Path\n    });\n  }\n  _createClass(ColdcardExportPublicKey, [{\n    key: \"messages\",\n    value: function messages() {\n      return _get(_getPrototypeOf(ColdcardExportPublicKey.prototype), \"messages\", this).call(this);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(xpubJSONFile) {\n      var result = _get(_getPrototypeOf(ColdcardExportPublicKey.prototype), \"parse\", this).call(this, xpubJSONFile);\n      var xpub = this.deriveDeeperXpubIfNecessary(result);\n      return {\n        publicKey: _unchainedBitcoin.ExtendedPublicKey.fromBase58(xpub).pubkey,\n        rootFingerprint: result.rootFingerprint,\n        bip32Path: this.bip32Path\n      };\n    }\n  }]);\n  return ColdcardExportPublicKey;\n}(ColdcardMultisigSettingsFileParser);\n/**\n * Reads an extended public key and (optionally) derives deeper from data in an\n * exported JSON file uploaded from the Coldcard.\n *\n * @extends {ColdcardMultisigSettingsFileParser}\n * @example\n * const interaction = new ColdcardExportExtendedPublicKey({network: MAINNET, bip32Path: 'm/45'/0/0'});\n * const reader = new FileReader(); // application dependent\n * const jsonFile = reader.readAsText('ccxp-0F056943.json'); // application dependent\n * const {xpub, rootFingerprint, bip32Path} = interaction.parse(jsonFile);\n * console.log(xpub);\n * // \"xpub...\"\n * console.log(rootFingerprint);\n * // \"0f056943\"\n * console.log(bip32Path);\n * // \"m/45'/0/0\"\n */\nexports.ColdcardExportPublicKey = ColdcardExportPublicKey;\nvar ColdcardExportExtendedPublicKey = /*#__PURE__*/function (_ColdcardMultisigSett2) {\n  _inherits(ColdcardExportExtendedPublicKey, _ColdcardMultisigSett2);\n  var _super4 = _createSuper(ColdcardExportExtendedPublicKey);\n  /**\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network (needed for derivations)\n   * @param {string} options.bip32Path - BIP32 paths\n   */\n  function ColdcardExportExtendedPublicKey(_ref3) {\n    var network = _ref3.network,\n      bip32Path = _ref3.bip32Path;\n    _classCallCheck(this, ColdcardExportExtendedPublicKey);\n    return _super4.call(this, {\n      network: network,\n      bip32Path: bip32Path\n    });\n  }\n  _createClass(ColdcardExportExtendedPublicKey, [{\n    key: \"messages\",\n    value: function messages() {\n      return _get(_getPrototypeOf(ColdcardExportExtendedPublicKey.prototype), \"messages\", this).call(this);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(xpubJSONFile) {\n      var result = _get(_getPrototypeOf(ColdcardExportExtendedPublicKey.prototype), \"parse\", this).call(this, xpubJSONFile);\n      var xpub = this.deriveDeeperXpubIfNecessary(result);\n      return {\n        xpub: xpub,\n        rootFingerprint: result.rootFingerprint,\n        bip32Path: this.bip32Path\n      };\n    }\n  }]);\n  return ColdcardExportExtendedPublicKey;\n}(ColdcardMultisigSettingsFileParser);\n/**\n * Returns signature request data via a PSBT for a Coldcard to sign and\n * accepts a PSBT for parsing signatures from a Coldcard device\n *\n * @extends {module:coldcard.ColdcardInteraction}\n * @example\n * const interaction = new ColdcardSignMultisigTransaction({network, inputs, outputs, bip32paths, psbt});\n * console.log(interaction.request());\n * // \"cHNidP8BA...\"\n *\n * // Parse signatures from a signed PSBT\n * const signatures = interaction.parse(psbt);\n * console.log(signatures);\n * // {'029e866...': ['3045...01', ...]}\n *\n */\nexports.ColdcardExportExtendedPublicKey = ColdcardExportExtendedPublicKey;\nvar ColdcardSignMultisigTransaction = /*#__PURE__*/function (_ColdcardInteraction2) {\n  _inherits(ColdcardSignMultisigTransaction, _ColdcardInteraction2);\n  var _super5 = _createSuper(ColdcardSignMultisigTransaction);\n  /**\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   * @param {array<object>} options.inputs - inputs for the transaction\n   * @param {array<object>} options.outputs - outputs for the transaction\n   * @param {array<string>} options.bip32Paths - BIP32 paths\n   * @param {object} [options.psbt] - PSBT of the transaction to sign, include it or we will generate it\n   */\n  function ColdcardSignMultisigTransaction(_ref4) {\n    var _this2;\n    var network = _ref4.network,\n      inputs = _ref4.inputs,\n      outputs = _ref4.outputs,\n      bip32Paths = _ref4.bip32Paths,\n      psbt = _ref4.psbt;\n    _classCallCheck(this, ColdcardSignMultisigTransaction);\n    _this2 = _super5.call(this);\n    _this2.network = network;\n    _this2.inputs = inputs;\n    _this2.outputs = outputs;\n    _this2.bip32Paths = bip32Paths;\n    if (psbt) {\n      _this2.psbt = psbt;\n    } else {\n      try {\n        _this2.psbt = (0, _unchainedBitcoin.unsignedMultisigPSBT)(network, inputs, outputs);\n      } catch (e) {\n        throw new Error(\"Unable to build the PSBT from the provided parameters.\");\n      }\n    }\n    return _this2;\n  }\n  _createClass(ColdcardSignMultisigTransaction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(ColdcardSignMultisigTransaction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.install_multisig_config\",\n        text: \"Ensure your Coldcard has the multisig wallet installed.\"\n      });\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.download_psbt\",\n        text: \"Download and save this PSBT file to your SD card.\"\n      });\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"coldcard.transfer_psbt\",\n        text: \"Transfer the PSBT file to your Coldcard.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"coldcard.transfer_psbt\",\n        text: \"Transfer the PSBT file to your Coldcard.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"coldcard.select_psbt\",\n        text: \"Choose 'Ready To Sign' and select the PSBT.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"coldcard.sign_psbt\",\n        text: \"Verify the transaction details and sign.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"coldcard.upload_signed_psbt\",\n        text: \"Upload the signed PSBT below.\"\n      });\n      return messages;\n    }\n\n    /**\n     * Request for the PSBT data that needs to be signed.\n     *\n     * NOTE: the application may be expecting the PSBT in some format\n     * other than the direct Object.\n     *\n     * E.g. PSBT in Base64 is interaction().request().toBase64()\n     *\n     * @returns {Object} Returns the local unsigned PSBT from transaction details\n     */\n  }, {\n    key: \"request\",\n    value: function request() {\n      return this.psbt;\n    }\n\n    /**\n     *\n     * @param {Object} psbtObject - the PSBT\n     * @returns {Object} signatures - This calls a function in unchained-bitcoin which parses\n     * PSBT files for sigantures and then returns an object with the format\n     * {\n     *   pubkey1 : [sig1, sig2, ...],\n     *   pubkey2 : [sig1, sig2, ...]\n     * }\n     * This format may change in the future or there may be additional options for return type.\n     */\n  }, {\n    key: \"parse\",\n    value: function parse(psbtObject) {\n      var signatures = (0, _unchainedBitcoin.parseSignaturesFromPSBT)(psbtObject);\n      if (!signatures || signatures.length === 0) {\n        throw new Error(\"No signatures found in the PSBT. Did you upload the right one?\");\n      }\n      return signatures;\n    }\n  }]);\n  return ColdcardSignMultisigTransaction;\n}(ColdcardInteraction);\n/**\n * Returns a valid multisig wallet config text file to send over to a Coldcard\n *\n * NOTE: technically only the root xfp of the signing device is required to be\n * correct, but we recommend only setting up the multisig wallet on the Coldcard\n * with complete xfp information. Here we actually turn this recommendation into a\n * requirement so as to minimize the number of wallet-config installations.\n *\n * This will likely move to its own generic class soon, and we'll only leave\n * the specifics of `adapt()` behind.\n *\n * This is an example Coldcard config file from\n * https://coldcardwallet.com/docs/multisig\n *\n * # Coldcard Multisig setup file (exported from 4369050F)\n * #\n * Name: MeMyself\n * Policy: 2 of 4\n * Derivation: m/45'\n * Format: P2WSH\n *\n * D0CFA66B: tpubD9429UXFGCTKJ9NdiNK4rC5...DdP9\n * 8E697B74: tpubD97nVL37v5tWyMf9ofh5rzn...XgSc\n * BE26B07B: tpubD9ArfXowvGHnuECKdGXVKDM...FxPa\n * 4369050F: tpubD8NXmKsmWp3a3DXhbihAYbY...9C8n\n *\n */\nexports.ColdcardSignMultisigTransaction = ColdcardSignMultisigTransaction;\nvar ColdcardMultisigWalletConfig = /*#__PURE__*/function () {\n  function ColdcardMultisigWalletConfig(_ref5) {\n    var jsonConfig = _ref5.jsonConfig;\n    _classCallCheck(this, ColdcardMultisigWalletConfig);\n    if (_typeof(jsonConfig) === \"object\") {\n      this.jsonConfig = jsonConfig;\n    } else if (typeof jsonConfig === \"string\") {\n      try {\n        this.jsonConfig = JSON.parse(jsonConfig);\n      } catch (error) {\n        throw new Error(\"Unable to parse JSON.\");\n      }\n    } else {\n      throw new Error(\"Not valid JSON.\");\n    }\n    if (this.jsonConfig.uuid || this.jsonConfig.name) {\n      this.name = this.jsonConfig.uuid || this.jsonConfig.name;\n    } else {\n      throw new Error(\"Configuration file needs a UUID or a name.\");\n    }\n    if (this.jsonConfig.quorum.requiredSigners && this.jsonConfig.quorum.totalSigners) {\n      this.requiredSigners = this.jsonConfig.quorum.requiredSigners;\n      this.totalSigners = this.jsonConfig.quorum.totalSigners;\n    } else {\n      throw new Error(\"Configuration file needs quorum.requiredSigners and quorum.totalSigners.\");\n    }\n    if (this.jsonConfig.addressType) {\n      this.addressType = jsonConfig.addressType;\n    } else {\n      throw new Error(\"Configuration file needs addressType.\");\n    }\n    if (this.jsonConfig.extendedPublicKeys && this.jsonConfig.extendedPublicKeys.every(function (xpub) {\n      // For each xpub, check that xfp exists, the length is 8, type is string, and valid hex\n      if (!xpub.xfp || xpub.xfp === \"Unknown\") {\n        throw new Error(\"ExtendedPublicKeys missing at least one xfp.\");\n      }\n      if (typeof xpub.xfp !== \"string\") {\n        throw new Error(\"XFP not a string\");\n      }\n      if (xpub.xfp.length !== 8) {\n        throw new Error(\"XFP not length 8\");\n      }\n      if (isNaN(Number(\"0x\".concat(xpub.xfp)))) {\n        throw new Error(\"XFP is invalid hex\");\n      }\n      return true;\n    })) {\n      this.extendedPublicKeys = this.jsonConfig.extendedPublicKeys;\n    } else {\n      throw new Error(\"Configuration file needs extendedPublicKeys.\");\n    }\n  }\n\n  /**\n   * @returns {string} output to be written to a text file and uploaded to Coldcard.\n   */\n  _createClass(ColdcardMultisigWalletConfig, [{\n    key: \"adapt\",\n    value: function adapt() {\n      var output = \"# Coldcard Multisig setup file (exported from unchained-wallets)\\n# https://github.com/unchained-capital/unchained-wallets\\n# v\".concat(COLDCARD_WALLET_CONFIG_VERSION, \"\\n#\\nName: \").concat(this.name, \"\\nPolicy: \").concat(this.requiredSigners, \" of \").concat(this.totalSigners, \"\\nFormat: \").concat(this.addressType, \"\\n\\n\");\n      // We need to loop over xpubs and output `Derivation: bip32path` and `xfp: xpub` for each\n      var xpubs = this.extendedPublicKeys.map(function (xpub) {\n        // Mask the derivation to the appropriate depth if it is not known\n        var unknownBip32 = xpub.bip32Path.toLowerCase().includes(\"unknown\");\n        var derivation = unknownBip32 ? \"m\".concat(\"/0\".repeat(_unchainedBitcoin.ExtendedPublicKey.fromBase58(xpub.xpub).depth)) : xpub.bip32Path;\n        return \"Derivation: \".concat(derivation, \"\\n\").concat(xpub.xfp, \": \").concat(xpub.xpub);\n      });\n      output += xpubs.join(\"\\n\");\n      output += \"\\n\";\n      return output;\n    }\n  }]);\n  return ColdcardMultisigWalletConfig;\n}();\nexports.ColdcardMultisigWalletConfig = ColdcardMultisigWalletConfig;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CustomSignMultisigTransaction = exports.CustomInteraction = exports.CustomExportExtendedPublicKey = exports.CUSTOM = void 0;\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es6.regexp.split\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.array.find\");\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _interaction = require(\"./interaction\");\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar CUSTOM = \"custom\";\n\n/**\n * Base class for interactions with Custom \"devices\"\n *\n * @extends {module:interaction.IndirectKeystoreInteraction}\n */\nexports.CUSTOM = CUSTOM;\nvar CustomInteraction = /*#__PURE__*/function (_IndirectKeystoreInte) {\n  _inherits(CustomInteraction, _IndirectKeystoreInte);\n  var _super = _createSuper(CustomInteraction);\n  function CustomInteraction() {\n    _classCallCheck(this, CustomInteraction);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(CustomInteraction);\n}(_interaction.IndirectKeystoreInteraction);\n/**\n * Base class for text-based (or clipboard pasted) ExtendedPublicKey\n * This class handles parsing/validating the xpub and relevant\n * derivation properties. If no root fingerprint is provided, one will\n * be deterministically assigned.\n *\n * @extends {module:custom.CustomInteraction}\n * @example\n * const interaction = new CustomExportExtendedPublicKey({network: MAINNET, bip32Path: \"m/45'/0'/0'\"});\n * const {xpub, rootFingerprint, bip32Path} = interaction.parse({xpub: xpub..., rootFingerprint: 0f056943});\n * console.log(xpub);\n * // \"xpub...\"\n * console.log(rootFingerprint);\n * // \"0f056943\"\n * console.log(bip32Path);\n * // \"m/45'/0'/0'\"\n * ** OR **\n * * const {xpub, rootFingerprint, bip32Path} = interaction.parse({xpub: xpub...});\n * console.log(xpub);\n * // \"xpub...\"\n * console.log(rootFingerprint);\n * // \"096aed5e\"\n * console.log(bip32Path);\n * // \"m/45'/0'/0'\"\n */\nexports.CustomInteraction = CustomInteraction;\nvar CustomExportExtendedPublicKey = /*#__PURE__*/function (_CustomInteraction) {\n  _inherits(CustomExportExtendedPublicKey, _CustomInteraction);\n  var _super2 = _createSuper(CustomExportExtendedPublicKey);\n  /**\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network (needed for derivations)\n   * @param {string} options.bip32Path - bip32Path to interrogate\n   */\n  function CustomExportExtendedPublicKey(_ref) {\n    var _this;\n    var network = _ref.network,\n      bip32Path = _ref.bip32Path;\n    _classCallCheck(this, CustomExportExtendedPublicKey);\n    _this = _super2.call(this);\n    if ([_unchainedBitcoin.MAINNET, _unchainedBitcoin.TESTNET].find(function (net) {\n      return net === network;\n    })) {\n      _this.network = network;\n    } else {\n      throw new Error(\"Unknown network.\");\n    }\n    _this.validationErrorMessages = [];\n    _this.bip32Path = bip32Path;\n    var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    if (bip32PathError.length) {\n      _this.validationErrorMessages.push({\n        code: \"custom.bip32_path.path_error\",\n        text: bip32PathError\n      });\n    }\n    return _this;\n  }\n  _createClass(CustomExportExtendedPublicKey, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return this.validationErrorMessages.length === 0;\n    }\n  }, {\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(CustomExportExtendedPublicKey.prototype), \"messages\", this).call(this);\n      if (this.validationErrorMessages.length) {\n        this.validationErrorMessages.forEach(function (e) {\n          messages.push({\n            state: _interaction.PENDING,\n            level: _interaction.ERROR,\n            code: e.code,\n            text: e.text\n          });\n        });\n      }\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"custom.import_xpub\",\n        text: \"Type or paste the extended public key here.\"\n      });\n      return messages;\n    }\n\n    /**\n     * Parse the provided JSON and do some basic error checking\n     *\n     * @param {Object} data - JSON object with incoming data to be parsed (read: reformatted)\n     * @returns {Object} Object - ExtendedPublicKeyDerivation {xpub, bip32path, rootFingerprint}\n     */\n  }, {\n    key: \"parse\",\n    value: function parse(data) {\n      // build ExtendedPublicKey struct (validation happens in constructor)\n      var xpubClass;\n      var rootFingerprint;\n      try {\n        xpubClass = _unchainedBitcoin.ExtendedPublicKey.fromBase58(data.xpub);\n      } catch (e) {\n        throw new Error(\"Not a valid ExtendedPublicKey.\");\n      }\n      try {\n        if (data.rootFingerprint === \"\" || !data.rootFingerprint) {\n          var pkLen = xpubClass.pubkey.length;\n          // If no fingerprint is provided, we will assign one deterministically\n          rootFingerprint = xpubClass.pubkey.substring(pkLen - 8);\n        } else {\n          (0, _unchainedBitcoin.validateRootFingerprint)(data.rootFingerprint);\n          rootFingerprint = data.rootFingerprint;\n        }\n      } catch (e) {\n        throw new Error(\"Root fingerprint validation error: \".concat(e.message.toLowerCase(), \".\"));\n      }\n      var numSlashes = this.bip32Path.split(\"/\").length;\n      var bipDepth = this.bip32Path.startsWith(\"m/\") ? numSlashes - 1 : numSlashes;\n      if (xpubClass.depth !== bipDepth) {\n        throw new Error(\"Depth of ExtendedPublicKey (\".concat(xpubClass.depth, \") does not match depth of BIP32 path (\").concat(bipDepth, \").\"));\n      }\n      return {\n        xpub: xpubClass.base58String,\n        rootFingerprint: rootFingerprint,\n        bip32Path: this.bip32Path\n      };\n    }\n  }]);\n  return CustomExportExtendedPublicKey;\n}(CustomInteraction);\n/**\n * Returns signature request data via a PSBT for a Custom \"device\" to sign and\n * accepts a PSBT for parsing signatures from a Custom \"device\"\n *\n * @extends {module:custom.CustomInteraction}\n * @example\n * const interaction = new CustomSignMultisigTransaction({network, inputs, outputs, bip32paths, psbt});\n * console.log(interaction.request());\n * // \"cHNidP8BA...\"\n *\n * // Parse signatures from a signed PSBT\n * const signatures = interaction.parse(psbt);\n * console.log(signatures);\n * // {'029e866...': ['3045...01', ...]}\n *\n */\nexports.CustomExportExtendedPublicKey = CustomExportExtendedPublicKey;\nvar CustomSignMultisigTransaction = /*#__PURE__*/function (_CustomInteraction2) {\n  _inherits(CustomSignMultisigTransaction, _CustomInteraction2);\n  var _super3 = _createSuper(CustomSignMultisigTransaction);\n  /**\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   * @param {array<object>} options.inputs - inputs for the transaction\n   * @param {array<object>} options.outputs - outputs for the transaction\n   * @param {array<string>} options.bip32Paths - BIP32 paths\n   * @param {object} [options.psbt] - PSBT of the transaction to sign, included or generated from the other options\n   */\n  function CustomSignMultisigTransaction(_ref2) {\n    var _this2;\n    var network = _ref2.network,\n      inputs = _ref2.inputs,\n      outputs = _ref2.outputs,\n      bip32Paths = _ref2.bip32Paths,\n      psbt = _ref2.psbt;\n    _classCallCheck(this, CustomSignMultisigTransaction);\n    _this2 = _super3.call(this);\n    _this2.network = network;\n    _this2.inputs = inputs;\n    _this2.outputs = outputs;\n    _this2.bip32Paths = bip32Paths;\n    if (psbt) {\n      _this2.psbt = psbt;\n    } else {\n      try {\n        _this2.psbt = (0, _unchainedBitcoin.unsignedMultisigPSBT)(network, inputs, outputs);\n      } catch (e) {\n        throw new Error(\"Unable to build the PSBT from the provided parameters.\");\n      }\n    }\n    return _this2;\n  }\n  _createClass(CustomSignMultisigTransaction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(CustomSignMultisigTransaction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"custom.download_psbt\",\n        text: \"Download and save this PSBT file.\"\n      });\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"custom.sign_psbt\",\n        text: \"Add your signature to the PSBT.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"custom.sign_psbt\",\n        text: \"Verify the transaction details and sign.\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"custom.upload_signed_psbt\",\n        text: \"Upload the signed PSBT.\"\n      });\n      return messages;\n    }\n\n    /**\n     * Request for the PSBT data that needs to be signed.\n     *\n     * NOTE: the application may be expecting the PSBT in some format\n     * other than the direct Object.\n     *\n     * E.g. PSBT in Base64 is interaction().request().toBase64()\n     *\n     * @returns {Object} Returns the local unsigned PSBT from transaction details\n     */\n  }, {\n    key: \"request\",\n    value: function request() {\n      return this.psbt;\n    }\n\n    /**\n     *\n     * @param {Object} psbtObject - the PSBT\n     * @returns {Object} signatures - This calls a function in unchained-bitcoin which parses\n     * PSBT files for sigantures and then returns an object with the format\n     * {\n     *   pubkey1 : [sig1, sig2, ...],\n     *   pubkey2 : [sig1, sig2, ...]\n     * }\n     * This format may change in the future or there may be additional options for return type.\n     */\n  }, {\n    key: \"parse\",\n    value: function parse(psbtObject) {\n      var signatures = (0, _unchainedBitcoin.parseSignaturesFromPSBT)(psbtObject);\n      if (!signatures || signatures.length === 0) {\n        throw new Error(\"No signatures found in the PSBT. Did you upload the right one?\");\n      }\n      return signatures;\n    }\n  }]);\n  return CustomSignMultisigTransaction;\n}(CustomInteraction);\nexports.CustomSignMultisigTransaction = CustomSignMultisigTransaction;","\"use strict\";\n\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.object.define-properties\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HermitSignMultisigTransaction = exports.HermitInteraction = exports.HermitExportExtendedPublicKey = exports.HERMIT = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es7.object.values\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.regexp.constructor\");\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _interaction = require(\"./interaction\");\nvar _bcur = require(\"./bcur\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar HERMIT = 'hermit';\nexports.HERMIT = HERMIT;\nfunction commandMessage(data) {\n  return _objectSpread(_objectSpread(_objectSpread({}, {\n    state: _interaction.PENDING,\n    level: _interaction.INFO,\n    code: \"hermit.command\",\n    mode: \"wallet\"\n  }), {\n    text: \"\".concat(data.instructions, \" '\").concat(data.command, \"'\")\n  }), data);\n}\n\n/**\n * Base class for interactions with Hermit.\n *\n * @extends {module:interaction.IndirectKeystoreInteraction}\n */\nvar HermitInteraction = /*#__PURE__*/function (_IndirectKeystoreInte) {\n  _inherits(HermitInteraction, _IndirectKeystoreInte);\n  var _super = _createSuper(HermitInteraction);\n  function HermitInteraction() {\n    _classCallCheck(this, HermitInteraction);\n    return _super.apply(this, arguments);\n  }\n  _createClass(HermitInteraction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(HermitInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"hermit.scanning\",\n        text: \"Scan Hermit QR code sequence now.\"\n      });\n      return messages;\n    }\n  }]);\n  return HermitInteraction;\n}(_interaction.IndirectKeystoreInteraction);\n/**\n * Reads an extended public key from data returned by Hermit's\n * `display-xpub` command.\n *\n * This interaction class works in tandem with the `BCURDecoder`\n * class.  The `BCURDecoder` parses data from Hermit, this class\n * interprets it.\n * \n * @extends {module:hermit.HermitInteraction}\n * @example\n * // Hermit returns a descriptor encoded as hex through BC-UR.  Some\n * // application function needs to work with the BCURDecoder class to\n * // parse this data.\n * const descriptorHex = readQRCodeSequence();\n * \n * // The interaction parses the data from Hermit\n * const interaction = new HermitExportExtendedPublicKey();\n * const {xpub, bip32Path, rootFingerprint} = interaction.parse(descriptorHex);\n * \n * console.log(xpub);\n * // \"xpub...\"\n * \n * console.log(bip32Path);\n * // \"m/45'/0'/0'\"\n * \n * console.log(rootFingerprint);\n * // \"abcdefgh\"\n * \n */\n// FIXME -- move all this descriptor regex and extraction stuff to unchained-bitcoin\nexports.HermitInteraction = HermitInteraction;\nvar DESCRIPTOR_REGEXP = new RegExp(\"^\\\\[([a-fA-F0-9]{8})((?:/[0-9]+'?)+)\\\\]([a-km-zA-NP-Z1-9]+)$\");\nvar HermitExportExtendedPublicKey = /*#__PURE__*/function (_HermitInteraction) {\n  _inherits(HermitExportExtendedPublicKey, _HermitInteraction);\n  var _super2 = _createSuper(HermitExportExtendedPublicKey);\n  function HermitExportExtendedPublicKey(_ref) {\n    var _this;\n    var bip32Path = _ref.bip32Path;\n    _classCallCheck(this, HermitExportExtendedPublicKey);\n    _this = _super2.call(this);\n    _this.bip32Path = bip32Path;\n    return _this;\n  }\n  _createClass(HermitExportExtendedPublicKey, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(HermitExportExtendedPublicKey.prototype), \"messages\", this).call(this);\n      messages.push(commandMessage({\n        instructions: \"Run the following Hermit command, replacing the BIP32 path if you need to:\",\n        command: \"display-xpub \".concat(this.bip32Path)\n      }));\n      return messages;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(descriptorHex) {\n      if (!descriptorHex) {\n        throw new Error(\"No descriptor received from Hermit.\");\n      }\n      var descriptor = Buffer.from(descriptorHex, 'hex').toString('utf8');\n      var result = descriptor.match(DESCRIPTOR_REGEXP);\n      if (result && result.length == 4) {\n        return {\n          rootFingerprint: result[1],\n          bip32Path: \"m\".concat(result[2]),\n          xpub: result[3]\n        };\n      } else {\n        throw new Error(\"Invalid descriptor received from Hermit.\");\n      }\n    }\n  }]);\n  return HermitExportExtendedPublicKey;\n}(HermitInteraction);\n/**\n * Displays a signature request for Hermit's `sign` command and reads\n * the resulting signature.\n *\n * This interaction class works in tandem with the `BCURDecoder`\n * class.  The `BCURDecoder` parses data from Hermit, this class\n * interprets it.\n *\n * @extends {module:hermit.HermitInteraction}\n * @example\n * const interaction = new HermitSignMultisigTransaction({psbt});\n * const urParts = interaction.request();\n * console.log(urParts);\n * // [ \"ur:...\", \"ur:...\", ... ]\n *\n * // Some application function which knows how to display an animated\n * // QR code sequence.\n * displayQRCodeSequence(urParts);\n *\n * // Hermit returns a PSBT encoded as hex through BC-UR.  Some\n * // application function needs to work with the BCURDecoder class to\n * // parse this data.\n * const signedPSBTHex = readQRCodeSequence();\n *\n * // The interaction parses the data from Hermit.\n * const signedPSBTBase64 = interaction.parse(signedPSBTHex);\n * console.log(signedPSBTBase64);\n * // \"cHNidP8B...\"\n *\n */\nexports.HermitExportExtendedPublicKey = HermitExportExtendedPublicKey;\nvar HermitSignMultisigTransaction = /*#__PURE__*/function (_HermitInteraction2) {\n  _inherits(HermitSignMultisigTransaction, _HermitInteraction2);\n  var _super3 = _createSuper(HermitSignMultisigTransaction);\n  /**\n   *\n   * @param {object} options - options argument\n   * @param {array<object>} options.psbt - unsigned PSBT to sign\n   * @param {bool} options.returnSignatureArray - return a signed PSBT or an array of signatures (useful in Caravan's testing app)\n   */\n  function HermitSignMultisigTransaction(_ref2) {\n    var _this2;\n    var psbt = _ref2.psbt,\n      _ref2$returnSignature = _ref2.returnSignatureArray,\n      returnSignatureArray = _ref2$returnSignature === void 0 ? false : _ref2$returnSignature;\n    _classCallCheck(this, HermitSignMultisigTransaction);\n    _this2 = _super3.call(this);\n    _this2.psbt = psbt;\n    _this2.workflow.unshift(\"request\");\n    _this2.returnSignatureArray = returnSignatureArray;\n    return _this2;\n  }\n  _createClass(HermitSignMultisigTransaction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(HermitSignMultisigTransaction.prototype), \"messages\", this).call(this);\n      messages.push(commandMessage({\n        instructions: \"Run the following Hermit command to scan this signature request:\",\n        command: \"sign\"\n      }));\n      if (!this.psbt) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: \"hermit.sign\",\n          text: \"PSBT is required.\"\n        });\n      }\n\n      // FIXME validate PSBT!\n\n      return messages;\n    }\n  }, {\n    key: \"request\",\n    value: function request() {\n      var unsignedPSBTHex = Buffer.from(this.psbt, 'base64').toString('hex');\n      var encoder = new _bcur.BCUREncoder(unsignedPSBTHex);\n      return encoder.parts();\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(signedPSBTHex) {\n      if (!signedPSBTHex) {\n        throw new Error(\"No signature received from Hermit.\");\n      }\n      if (this.returnSignatureArray) {\n        var signatures = (0, _unchainedBitcoin.parseSignaturesFromPSBT)(signedPSBTHex);\n        return Object.values(signatures)[0];\n      } else {\n        return Buffer.from(signedPSBTHex, 'hex').toString('base64');\n      }\n    }\n  }]);\n  return HermitSignMultisigTransaction;\n}(HermitInteraction);\nexports.HermitSignMultisigTransaction = HermitSignMultisigTransaction;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"decodeUR\", {\n  enumerable: true,\n  get: function get() {\n    return _decodeUR.decodeUR;\n  }\n});\nObject.defineProperty(exports, \"encodeUR\", {\n  enumerable: true,\n  get: function get() {\n    return _encodeUR.encodeUR;\n  }\n});\nObject.defineProperty(exports, \"extractSingleWorkload\", {\n  enumerable: true,\n  get: function get() {\n    return _decodeUR.extractSingleWorkload;\n  }\n});\nObject.defineProperty(exports, \"smartDecodeUR\", {\n  enumerable: true,\n  get: function get() {\n    return _decodeUR.smartDecodeUR;\n  }\n});\nvar _encodeUR = require(\"./encodeUR\");\nvar _decodeUR = require(\"./decodeUR\");","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeUR = void 0;\nrequire(\"core-js/modules/es6.regexp.constructor\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.map\");\nvar _miniCbor = require(\"./miniCbor\");\nvar _bech = require(\"../bech32\");\nvar _utils = require(\"./utils\");\nvar composeUR = function composeUR(payload) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  return \"ur:\".concat(type, \"/\").concat(payload);\n};\nvar composeDigest = function composeDigest(payload, digest) {\n  return \"\".concat(digest, \"/\").concat(payload);\n};\nvar composeSequencing = function composeSequencing(payload, index, total) {\n  return \"\".concat(index + 1, \"of\").concat(total, \"/\").concat(payload);\n};\nvar composeHeadersToFragments = function composeHeadersToFragments(fragments, digest) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'bytes';\n  if (fragments.length === 1) {\n    return [composeUR(fragments[0])];\n  } else {\n    return fragments.map(function (f, index) {\n      return (0, _utils.compose3)(function (payload) {\n        return composeUR(payload, type);\n      }, function (payload) {\n        return composeSequencing(payload, index, fragments.length);\n      }, function (payload) {\n        return composeDigest(payload, digest);\n      })(f);\n    });\n  }\n};\nvar encodeUR = function encodeUR(payload) {\n  var fragmentCapacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n  var cborPayload = (0, _miniCbor.encodeSimpleCBOR)(payload);\n  var bc32Payload = (0, _bech.encodeBc32Data)(cborPayload);\n  var digest = (0, _utils.sha256Hash)(Buffer.from(cborPayload, 'hex')).toString('hex');\n  var bc32Digest = (0, _bech.encodeBc32Data)(digest);\n  var fragments = bc32Payload.match(new RegExp('.{1,' + fragmentCapacity + '}', 'g'));\n  if (!fragments) {\n    throw new Error('Unexpected error when encoding');\n  }\n  return composeHeadersToFragments(fragments, bc32Digest, 'bytes').map(function (str) {\n    return str.toUpperCase();\n  });\n};\nexports.encodeUR = encodeUR;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es6.array.last-index-of\");\nvar _index = require(\"./index\");\nvar CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nvar GENERATOR = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nvar polymod = function polymod(values) {\n  var chk = 1;\n  for (var p = 0; p < values.length; ++p) {\n    var top = chk >> 25;\n    chk = (chk & 0x1ffffff) << 5 ^ values[p];\n    for (var i = 0; i < 6; ++i) {\n      if (top >> i & 1) {\n        chk ^= GENERATOR[i];\n      }\n    }\n  }\n  return chk;\n};\nvar hrpExpand = function hrpExpand(hrp) {\n  var ret = [];\n  var p;\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) >> 5);\n  }\n  ret.push(0);\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) & 31);\n  }\n  return ret;\n};\nvar verifyChecksum = function verifyChecksum(hrp, data, version) {\n  var header;\n  if (hrp) {\n    header = hrpExpand(hrp);\n  } else {\n    header = [0];\n  }\n  var check = version === _index.Bech32Version.Origin ? 1 : 0x3fffffff;\n  return polymod(header.concat(data)) === check;\n};\nvar createChecksum = function createChecksum(hrp, data, bech32Version) {\n  var values;\n  if (hrp) {\n    values = hrpExpand(hrp).concat(data).concat([0, 0, 0, 0, 0, 0]);\n  } else {\n    values = [0].concat(data).concat([0, 0, 0, 0, 0, 0]);\n  }\n  var chk = bech32Version === _index.Bech32Version.Origin ? 1 : 0x3fffffff;\n  var mod = polymod(values) ^ chk;\n  var ret = [];\n  for (var p = 0; p < 6; ++p) {\n    ret.push(mod >> 5 * (5 - p) & 31);\n  }\n  return ret;\n};\nvar encode = function encode(hrp, data, version) {\n  var combined = data.concat(createChecksum(hrp, data, version));\n  var ret;\n  if (hrp) {\n    ret = hrp + '1';\n  } else {\n    ret = '';\n  }\n  for (var p = 0; p < combined.length; ++p) {\n    ret += CHARSET.charAt(combined[p]);\n  }\n  return ret;\n};\nvar decodeBc32 = function decodeBc32(bechString) {\n  var data = [];\n  for (var p = 0; p < bechString.length; ++p) {\n    var d = CHARSET.indexOf(bechString.charAt(p));\n    if (d === -1) {\n      return null;\n    }\n    data.push(d);\n  }\n  if (!verifyChecksum(undefined, data, _index.Bech32Version.bis)) {\n    return null;\n  }\n  return {\n    hrp: null,\n    data: data.slice(0, data.length - 6)\n  };\n};\nvar decode = function decode(bechString) {\n  var p;\n  var hasLower = false;\n  var hasUpper = false;\n  for (p = 0; p < bechString.length; ++p) {\n    if (bechString.charCodeAt(p) < 33 || bechString.charCodeAt(p) > 126) {\n      return null;\n    }\n    if (bechString.charCodeAt(p) >= 97 && bechString.charCodeAt(p) <= 122) {\n      hasLower = true;\n    }\n    if (bechString.charCodeAt(p) >= 65 && bechString.charCodeAt(p) <= 90) {\n      hasUpper = true;\n    }\n  }\n  if (hasLower && hasUpper) {\n    return null;\n  }\n  bechString = bechString.toLowerCase();\n  var pos = bechString.lastIndexOf('1');\n  if (pos === -1) {\n    return decodeBc32(bechString);\n  }\n  if (pos < 1 || pos + 7 > bechString.length || bechString.length > 90) {\n    return null;\n  }\n  var hrp = bechString.substring(0, pos);\n  var data = [];\n  for (p = pos + 1; p < bechString.length; ++p) {\n    var d = CHARSET.indexOf(bechString.charAt(p));\n    if (d === -1) {\n      return null;\n    }\n    data.push(d);\n  }\n  if (!verifyChecksum(hrp, data, _index.Bech32Version.Origin)) {\n    return null;\n  }\n  return {\n    hrp: hrp,\n    data: data.slice(0, data.length - 6)\n  };\n};\nvar _default = {\n  encode: encode,\n  decode: decode\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.array.is-array\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.smartDecodeUR = exports.extractSingleWorkload = exports.decodeUR = void 0;\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.array.index-of\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.array.fill\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.regexp.split\");\nvar _utils = require(\"./utils\");\nvar _miniCbor = require(\"./miniCbor\");\nvar _bech = require(\"../bech32\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar checkAndGetSequence = function checkAndGetSequence(sequence) {\n  var pieces = sequence.toUpperCase().split('OF');\n  if (pieces.length !== 2) throw new Error(\"invalid sequence: \".concat(sequence));\n  var _pieces = _slicedToArray(pieces, 2),\n    index = _pieces[0],\n    total = _pieces[1];\n  return [+index, +total];\n};\nvar checkDigest = function checkDigest(digest, payload) {\n  var decoded = (0, _bech.decodeBc32Data)(payload);\n  if (!decoded) throw new Error(\"can not decode payload: \".concat(payload));\n  if ((0, _bech.decodeBc32Data)(digest) !== (0, _utils.sha256Hash)(Buffer.from(decoded, 'hex')).toString('hex')) {\n    throw new Error(\"invalid digest: \\n digest:\".concat(digest, \" \\n payload:\").concat(payload));\n  }\n};\nvar checkURHeader = function checkURHeader(UR) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  if (UR.toUpperCase() !== \"ur:\".concat(type).toUpperCase()) throw new Error(\"invalid UR header: \".concat(UR));\n};\nvar dealWithSingleWorkload = function dealWithSingleWorkload(workload) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  var pieces = workload.split('/');\n  switch (pieces.length) {\n    case 2:\n      {\n        //UR:Type/[Fragment]\n        checkURHeader(pieces[0], type);\n        return pieces[1];\n      }\n    case 3:\n      {\n        //UR:Type/[Digest]/[Fragment] when Sequencing is omitted, Digest MAY be omitted;\n        //should check digest\n        checkURHeader(pieces[0], type);\n        var digest = pieces[1];\n        var fragment = pieces[2];\n        checkDigest(digest, fragment);\n        return fragment;\n      }\n    case 4:\n      {\n        //UR:Type/[Sequencing]/[Digest]/[Fragment]\n        //should check sequencing and digest\n        checkURHeader(pieces[0], type);\n        checkAndGetSequence(pieces[1]);\n        var _digest = pieces[2];\n        var _fragment = pieces[3];\n        checkDigest(_digest, _fragment);\n        return _fragment;\n      }\n    default:\n      throw new Error(\"invalid workload pieces length: expect 2 / 3 / 4 bug got \".concat(pieces.length));\n  }\n};\nvar dealWithMultipleWorkloads = function dealWithMultipleWorkloads(workloads) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  var length = workloads.length;\n  var fragments = new Array(length).fill('');\n  var digest = '';\n  workloads.forEach(function (workload) {\n    var pieces = workload.split('/');\n    checkURHeader(pieces[0], type);\n    var _checkAndGetSequence = checkAndGetSequence(pieces[1]),\n      _checkAndGetSequence2 = _slicedToArray(_checkAndGetSequence, 2),\n      index = _checkAndGetSequence2[0],\n      total = _checkAndGetSequence2[1];\n    if (total !== length) throw new Error(\"invalid workload: \".concat(workload, \", total \").concat(total, \" not equal workloads length \").concat(length));\n    if (digest && digest !== pieces[2]) throw new Error(\"invalid workload: \".concat(workload, \", checksum changed \").concat(digest, \", \").concat(pieces[2]));\n    digest = pieces[2];\n    if (fragments[index - 1]) throw new Error(\"invalid workload: \".concat(workload, \", index \").concat(index, \" has already been set\"));\n    fragments[index - 1] = pieces[3];\n  });\n  var payload = fragments.join('');\n  checkDigest(digest, payload);\n  return payload;\n};\nvar getBC32Payload = function getBC32Payload(workloads) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  try {\n    var length = workloads.length;\n    if (length === 1) {\n      return dealWithSingleWorkload(workloads[0], type);\n    } else {\n      return dealWithMultipleWorkloads(workloads, type);\n    }\n  } catch (e) {\n    throw new Error(\"invalid workloads: \".concat(workloads, \"\\n \").concat(e));\n  }\n};\nvar decodeUR = function decodeUR(workloads) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'bytes';\n  var bc32Payload = getBC32Payload(workloads, type);\n  var cborPayload = (0, _bech.decodeBc32Data)(bc32Payload);\n  if (!cborPayload) {\n    throw new Error('invalid data');\n  }\n  return (0, _miniCbor.decodeSimpleCBOR)(cborPayload);\n};\nexports.decodeUR = decodeUR;\nvar onlyUniq = function onlyUniq(value, index, self) {\n  return self.indexOf(value) === index;\n};\nvar smartDecodeUR = function smartDecodeUR(workloads) {\n  if (workloads.length > 0) {\n    var _extractSingleWorkloa = extractSingleWorkload(workloads[0]),\n      _extractSingleWorkloa2 = _slicedToArray(_extractSingleWorkloa, 2),\n      index = _extractSingleWorkloa2[0],\n      total = _extractSingleWorkloa2[1];\n    if (workloads.length === total) {\n      return {\n        success: true,\n        current: workloads.length,\n        length: total,\n        workloads: [],\n        result: decodeUR(workloads)\n      };\n    } else {\n      return {\n        success: false,\n        current: workloads.length,\n        length: total,\n        workloads: workloads.filter(onlyUniq),\n        result: ''\n      };\n    }\n  } else {\n    return {\n      success: false,\n      current: 0,\n      length: 0,\n      workloads: [],\n      result: ''\n    };\n  }\n};\nexports.smartDecodeUR = smartDecodeUR;\nvar extractSingleWorkload = function extractSingleWorkload(workload) {\n  var pieces = workload.toUpperCase().split('/');\n  switch (pieces.length) {\n    case 2: //UR:Type/[Fragment]\n    case 3:\n      {\n        //UR:Type/[Digest]/[Fragment] when Sequencing is omitted, Digest MAY be omitted;\n        return [1, 1];\n      }\n    case 4:\n      {\n        //UR:Type/[Sequencing]/[Digest]/[Fragment]\n        return checkAndGetSequence(pieces[1]);\n      }\n    default:\n      throw new Error(\"invalid workload pieces length: expect 2 / 3 / 4 bug got \".concat(pieces.length));\n  }\n};\nexports.extractSingleWorkload = extractSingleWorkload;","\"use strict\";\n\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LedgerV2SignMultisigTransaction = exports.LedgerSignMultisigTransaction = exports.LedgerSignMessage = exports.LedgerRegisterWalletPolicy = exports.LedgerInteraction = exports.LedgerGetMetadata = exports.LedgerExportPublicKey = exports.LedgerExportExtendedPublicKey = exports.LedgerDashboardInteraction = exports.LedgerConfirmMultisigAddress = exports.LedgerBitcoinV2WithRegistrationInteraction = exports.LedgerBitcoinInteraction = exports.LEDGER_V2 = exports.LEDGER_RIGHT_BUTTON = exports.LEDGER_LEFT_BUTTON = exports.LEDGER_BOTH_BUTTONS = exports.LEDGER = void 0;\nrequire(\"core-js/modules/es6.promise\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.regexp.replace\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.regexp.split\");\nrequire(\"regenerator-runtime/runtime\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _interaction = require(\"./interaction\");\nvar _splitTransaction = require(\"@ledgerhq/hw-app-btc/lib/splitTransaction\");\nvar _serializeTransaction = require(\"@ledgerhq/hw-app-btc/lib/serializeTransaction\");\nvar _getAppAndVersion = require(\"@ledgerhq/hw-app-btc/lib/getAppAndVersion\");\nvar _ledgerBitcoin = require(\"./vendor/ledger-bitcoin\");\nvar _policy = require(\"./policy\");\nvar _hwTransportWebusb = _interopRequireDefault(require(\"@ledgerhq/hw-transport-webusb\"));\nvar _hwAppBtc = _interopRequireDefault(require(\"@ledgerhq/hw-app-btc\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Constant defining Ledger interactions.\n *\n * @type {string}\n * @default ledger\n */\nvar LEDGER = \"ledger\";\nexports.LEDGER = LEDGER;\nvar LEDGER_V2 = \"ledger_v2\";\n\n/* eslint-disable @typescript-eslint/no-var-requires */\nexports.LEDGER_V2 = LEDGER_V2;\nvar TransportU2F = require(\"@ledgerhq/hw-transport-u2f\")[\"default\"];\n/**\n * Constant representing the action of pushing the left button on a\n * Ledger device.\n *\n * @type {string}\n * @default 'ledger_left_button'\n */\nvar LEDGER_LEFT_BUTTON = \"ledger_left_button\";\n\n/**\n * Constant representing the action of pushing the right button on a\n * Ledger device.\n *\n * @type {string}\n * @default 'ledger_right_button'\n */\nexports.LEDGER_LEFT_BUTTON = LEDGER_LEFT_BUTTON;\nvar LEDGER_RIGHT_BUTTON = \"ledger_right_button\";\n\n/**\n * Constant representing the action of pushing both buttons on a\n * Ledger device.\n *\n * @type {string}\n * @default 'ledger_both_buttons'\n */\nexports.LEDGER_RIGHT_BUTTON = LEDGER_RIGHT_BUTTON;\nvar LEDGER_BOTH_BUTTONS = \"ledger_both_buttons\";\nexports.LEDGER_BOTH_BUTTONS = LEDGER_BOTH_BUTTONS;\n/**\n * Base class for interactions with Ledger hardware wallets.\n *\n * Subclasses must implement their own `run()` method.  They may use\n * the `withTransport` and `withApp` methods to connect to the Ledger\n * API's transport or app layers, respectively.\n *\n * Errors are not caught, so users of this class (and its subclasses)\n * should use `try...catch` as always.\n *\n * @extends {module:interaction.DirectKeystoreInteraction}\n * @example\n * import {LedgerInteraction} from \"unchained-wallets\";\n * // Simple subclass\n *\n * class SimpleLedgerInteraction extends LedgerInteraction {\n *\n *   constructor({param}) {\n *     super({});\n *     this.param =  param;\n *   }\n *\n *   async run() {\n *     return await this.withApp(async (app, transport) => {\n *       return app.doSomething(this.param); // Not a real Ledger API call\n *     });\n *   }\n *\n * }\n *\n * // usage\n * const interaction = new SimpleLedgerInteraction({param: \"foo\"});\n * const result = await interaction.run();\n * console.log(result); // whatever value `app.doSomething(...)` returns\n *\n */\nvar LedgerInteraction = /*#__PURE__*/function (_DirectKeystoreIntera) {\n  _inherits(LedgerInteraction, _DirectKeystoreIntera);\n  var _super = _createSuper(LedgerInteraction);\n  function LedgerInteraction() {\n    var _this;\n    _classCallCheck(this, LedgerInteraction);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"appVersion\", void 0);\n    return _this;\n  }\n  _createClass(LedgerInteraction, [{\n    key: \"messages\",\n    value:\n    /**\n     * Adds `pending` messages at the `info` level about ensuring the\n     * device is plugged in (`device.connect`) and unlocked\n     * (`device.unlock`).  Adds an `active` message at the `info` level\n     * when communicating with the device (`device.active`).\n     *\n     * @return {module:interaction.Message[]} messages for ths interaction\n     */\n    function messages() {\n      var messages = _get(_getPrototypeOf(LedgerInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        text: \"Please plug in and unlock your Ledger.\",\n        code: \"device.setup\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Communicating with Ledger...\",\n        code: \"device.active\"\n      });\n      return messages;\n    }\n\n    /**\n     * Can be called by a subclass during its `run()` method.\n     *\n     * Creates a transport layer connection and passes control to the\n     * `callback` function, with the transport API as the first argument\n     * to the function.\n     *\n     * See the [Ledger API]{@link https://github.com/LedgerHQ/ledgerjs} for general information or a [specific transport API]{@link https://github.com/LedgerHQ/ledgerjs/tree/master/packages/hw-transport-u2f} for examples of API calls.\n     *\n     * @param {function} callback -- asynchronous function accepting a single parameter `transport`\n     * @returns {Promise} does the work of setting up a transport connection\n     * @example\n     * async run() {\n     *   return await this.withTransport(async (transport) => {\n     *     return transport.doSomething(); // Not a real Ledger transport API call\n     *   });\n     * }\n     */\n  }, {\n    key: \"withTransport\",\n    value: function () {\n      var _withTransport = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(callback) {\n        var useU2F, transport, e, _transport, _e;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              useU2F = this.environment.satisfies({\n                firefox: \">70\"\n              });\n              if (!useU2F) {\n                _context.next = 13;\n                break;\n              }\n              _context.prev = 2;\n              _context.next = 5;\n              return TransportU2F.create();\n            case 5:\n              transport = _context.sent;\n              return _context.abrupt(\"return\", callback(transport));\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              e = _context.t0;\n              throw new Error(e.message);\n            case 13:\n              _context.prev = 13;\n              _context.next = 16;\n              return _hwTransportWebusb[\"default\"].create();\n            case 16:\n              _transport = _context.sent;\n              return _context.abrupt(\"return\", callback(_transport));\n            case 20:\n              _context.prev = 20;\n              _context.t1 = _context[\"catch\"](13);\n              _e = _context.t1;\n              if (_e.message) {\n                if (_e.message === \"No device selected.\") {\n                  _e.message = \"Select your device in the WebUSB dialog box. Make sure it's plugged in, unlocked, and has the Bitcoin app open.\";\n                }\n                if (_e.message === \"undefined is not an object (evaluating 'navigator.usb.getDevices')\") {\n                  _e.message = \"Safari is not a supported browser.\";\n                }\n              }\n              throw new Error(_e.message);\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[2, 9], [13, 20]]);\n      }));\n      function withTransport(_x) {\n        return _withTransport.apply(this, arguments);\n      }\n      return withTransport;\n    }()\n  }, {\n    key: \"setAppVersion\",\n    value: function setAppVersion() {\n      var _this2 = this;\n      return this.withTransport( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(transport) {\n          var response;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _getAppAndVersion.getAppAndVersion)(transport);\n              case 2:\n                response = _context2.sent;\n                _this2.appVersion = response.version;\n                return _context2.abrupt(\"return\", _this2.appVersion);\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function (_x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"isLegacyApp\",\n    value: function () {\n      var _isLegacyApp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var version, _version$split, _version$split2, majorVersion, minorVersion;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.setAppVersion();\n            case 2:\n              version = _context3.sent;\n              _version$split = version.split(\".\"), _version$split2 = _slicedToArray(_version$split, 2), majorVersion = _version$split2[0], minorVersion = _version$split2[1];\n              return _context3.abrupt(\"return\", Number(majorVersion) <= 1 || Number(minorVersion) < 1);\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function isLegacyApp() {\n        return _isLegacyApp.apply(this, arguments);\n      }\n      return isLegacyApp;\n    }()\n    /**\n     * Can be called by a subclass during its `run()` method.\n     *\n     * Creates a transport layer connection, initializes a bitcoin app\n     * object, and passes control to the `callback` function, with the\n     * app API as the first argument to the function and the transport\n     * API as the second.\n     *\n     * See the [Ledger API]{@link https://github.com/LedgerHQ/ledgerjs} for general information or the [bitcoin app API]{@link https://github.com/LedgerHQ/ledgerjs/tree/master/packages/hw-app-btc} for examples of API calls.\n     *\n     * @param {function} callback -- accepts two parameters, `app` and `transport`, which are the Ledger APIs for the bitcoin app and the transport layer, respectively.\n     * @returns {Promise} does the work of setting up an app instance (and transport connection)\n     * @example\n     * async run() {\n     *   return await this.withApp(async (app, transport) => {\n     *     return app.doSomething(); // Not a real Ledger bitcoin app API call\n     *   });\n     * }\n     */\n  }, {\n    key: \"withApp\",\n    value: function withApp(callback) {\n      var _this3 = this;\n      return this.withTransport( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(transport) {\n          var app;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this3.isLegacyApp();\n              case 2:\n                if (!_context4.sent) {\n                  _context4.next = 6;\n                  break;\n                }\n                app = new _hwAppBtc[\"default\"](transport);\n                _context4.next = 7;\n                break;\n              case 6:\n                app = new _ledgerBitcoin.AppClient(transport);\n              case 7:\n                return _context4.abrupt(\"return\", callback(app, transport));\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4);\n        }));\n        return function (_x3) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n\n    /**\n     * Close the Transport to free the interface (E.g. could be used in another tab\n     * now that the interaction is over)\n     *\n     * The way the pubkey/xpub/fingerprints are grabbed makes this a little tricky.\n     * Instead of re-writing how that works, let's just add a way to explicitly\n     * close the transport.\n     * @return {Promise} - promise to close the transport\n     */\n  }, {\n    key: \"closeTransport\",\n    value: function closeTransport() {\n      return this.withTransport( /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(transport) {\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return transport.close();\n              case 3:\n                _context5.next = 8;\n                break;\n              case 5:\n                _context5.prev = 5;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.error(_context5.t0);\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, null, [[0, 5]]);\n        }));\n        return function (_x4) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n  }]);\n  return LedgerInteraction;\n}(_interaction.DirectKeystoreInteraction);\n/**\n * Base class for interactions which must occur when the Ledger device\n * is not in any app but in the dashboard.\n *\n * @extends {module:ledger.LedgerInteraction}\n *\n */\nexports.LedgerInteraction = LedgerInteraction;\nvar LedgerDashboardInteraction = /*#__PURE__*/function (_LedgerInteraction) {\n  _inherits(LedgerDashboardInteraction, _LedgerInteraction);\n  var _super2 = _createSuper(LedgerDashboardInteraction);\n  function LedgerDashboardInteraction() {\n    _classCallCheck(this, LedgerDashboardInteraction);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(LedgerDashboardInteraction, [{\n    key: \"messages\",\n    value:\n    /**\n     * Adds `pending` and `active` messages at the `info` level urging\n     * the user to be in the Ledger dashboard, not the bitcoin app\n     * (`ledger.app.dashboard`).\n     *\n     * @return {module:interaction.Message[]} messages for this interaction\n     */\n    function messages() {\n      var messages = _get(_getPrototypeOf(LedgerDashboardInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        text: \"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.\",\n        code: \"ledger.app.dashboard\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.\",\n        code: \"ledger.app.dashboard\"\n      });\n      return messages;\n    }\n  }]);\n  return LedgerDashboardInteraction;\n}(LedgerInteraction);\n/**\n * Base class for interactions which must occur when the Ledger device\n * is open to the bitcoin app.\n *\n * @extends {module:ledger.LedgerInteraction}\n */\nexports.LedgerDashboardInteraction = LedgerDashboardInteraction;\nvar LedgerBitcoinInteraction = /*#__PURE__*/function (_LedgerInteraction2) {\n  _inherits(LedgerBitcoinInteraction, _LedgerInteraction2);\n  var _super3 = _createSuper(LedgerBitcoinInteraction);\n  function LedgerBitcoinInteraction() {\n    var _this4;\n    _classCallCheck(this, LedgerBitcoinInteraction);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this4 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this4), \"isLegacySupported\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"isV2Supported\", void 0);\n    return _this4;\n  }\n  _createClass(LedgerBitcoinInteraction, [{\n    key: \"messages\",\n    value:\n    /**\n     * Adds `pending` and `active` messages at the `info` level urging\n     * the user to be in the bitcoin app (`ledger.app.bitcoin`).\n     *\n     * @return {module:interaction.Message[]} messages for this interaction\n     */\n    function messages() {\n      var messages = _get(_getPrototypeOf(LedgerBitcoinInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        text: \"Then open the Bitcoin app.\",\n        code: \"ledger.app.bitcoin\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Make sure you have opened the Bitcoin app.\",\n        code: \"ledger.app.bitcoin\"\n      });\n      return messages;\n    }\n\n    /**\n     * Inheriting classes should set properties `this.isLegacySupported`\n     * and `this.isV2Supported` to indicate whether a given interaction\n     * has support for a given interaction. This method can then be called\n     * to check the version of the app being called and return whether or\n     * not the interaction is supported based on that version\n     * @returns {Promise<boolean>} if the current open app is supported\n     */\n  }, {\n    key: \"isAppSupported\",\n    value: function () {\n      var _isAppSupported = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (this.isSupported()) {\n                _context6.next = 2;\n                break;\n              }\n              return _context6.abrupt(\"return\", false);\n            case 2:\n              _context6.next = 4;\n              return this.isLegacyApp();\n            case 4:\n              if (!_context6.sent) {\n                _context6.next = 6;\n                break;\n              }\n              return _context6.abrupt(\"return\", this.isLegacySupported);\n            case 6:\n              return _context6.abrupt(\"return\", this.isV2Supported);\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function isAppSupported() {\n        return _isAppSupported.apply(this, arguments);\n      }\n      return isAppSupported;\n    }()\n    /**\n     * Inheriting classes should call the super.run()\n     * as well as set the properties of support before calling their run\n     * in order to check support before calling the actual interaction run\n     * @returns {Promise} could return void or some value that the interaction is meant to provide\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var isSupported;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return this.isAppSupported();\n            case 2:\n              isSupported = _context7.sent;\n              if (isSupported) {\n                _context7.next = 5;\n                break;\n              }\n              throw new Error(\"Method not supported for this version of Ledger app (\".concat(this.appVersion, \")\"));\n            case 5:\n              return _context7.abrupt(\"return\", isSupported);\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function run() {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerBitcoinInteraction;\n}(LedgerInteraction);\n/**\n * Returns metadata about Ledger device.\n *\n * Includes model name, firmware & MCU versions.\n *\n * @extends {module:ledger.LedgerDashboardInteraction}\n * @example\n * import {LedgerGetMetadata} from \"unchained-wallets\";\n * const interaction = new LedgerGetMetadata();\n * const result = await interaction.run();\n * console.log(result);\n * {\n *   spec: \"Nano S v1.4.2 (MCU v1.7)\",\n *   model: \"Nano S\",\n *   version: {\n *     major: \"1\",\n *     minor: \"4\",\n *     patch: \"2\",\n *     string: \"1.4.2\",\n *   },\n *   mcuVersion: {\n *     major: \"1\",\n *     minor: \"7\",\n *     string: \"1.7\",\n *   }\n * }\n *\n */\nexports.LedgerBitcoinInteraction = LedgerBitcoinInteraction;\nvar LedgerGetMetadata = /*#__PURE__*/function (_LedgerDashboardInter) {\n  _inherits(LedgerGetMetadata, _LedgerDashboardInter);\n  var _super4 = _createSuper(LedgerGetMetadata);\n  function LedgerGetMetadata() {\n    _classCallCheck(this, LedgerGetMetadata);\n    return _super4.apply(this, arguments);\n  }\n  _createClass(LedgerGetMetadata, [{\n    key: \"run\",\n    value: // FIXME entire implementation here is rickety AF.\n    function () {\n      var _run2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var _this5 = this;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              return _context9.abrupt(\"return\", this.withTransport( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(transport) {\n                  var rawResult;\n                  return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n                    while (1) switch (_context8.prev = _context8.next) {\n                      case 0:\n                        _context8.prev = 0;\n                        transport.setScrambleKey(\"B0L0S\");\n                        _context8.next = 4;\n                        return transport.send(0xe0, 0x01, 0x00, 0x00);\n                      case 4:\n                        rawResult = _context8.sent;\n                        return _context8.abrupt(\"return\", _this5.parseMetadata(rawResult));\n                      case 6:\n                        _context8.prev = 6;\n                        _context8.next = 9;\n                        return _get(_getPrototypeOf(LedgerGetMetadata.prototype), \"closeTransport\", _this5).call(_this5);\n                      case 9:\n                        return _context8.finish(6);\n                      case 10:\n                      case \"end\":\n                        return _context8.stop();\n                    }\n                  }, _callee8, null, [[0,, 6, 10]]);\n                }));\n                return function (_x5) {\n                  return _ref4.apply(this, arguments);\n                };\n              }()));\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n      function run() {\n        return _run2.apply(this, arguments);\n      }\n      return run;\n    }()\n    /**\n     * Parses the binary data returned from the Ledger API call into a\n     * metadata object.\n     *\n     * @param {ByteArray} response - binary response data\n     * @returns {Object} - device metadata\n     */\n  }, {\n    key: \"parseMetadata\",\n    value: function parseMetadata(response) {\n      try {\n        // From\n        //\n        //   https://github.com/LedgerHQ/ledger-live-common/blob/master/src/hw/getVersion.js\n        //   https://github.com/LedgerHQ/ledger-live-common/blob/master/src/hw/getDeviceInfo.js\n        //   https://git.xmr.pm/LedgerHQ/ledger-live-common/commit/9ffc75acfc7f1e9aa9101a32b3e7481770fb3b89\n\n        var PROVIDERS = {\n          \"\": 1,\n          das: 2,\n          club: 3,\n          shitcoins: 4,\n          ee: 5\n        };\n        var ManagerAllowedFlag = 0x08;\n        var PinValidatedFlag = 0x80;\n        var byteArray = _toConsumableArray(response);\n        var data = byteArray.slice(0, byteArray.length - 2);\n        var targetIdStr = Buffer.from(data.slice(0, 4));\n        var targetId = targetIdStr.readUIntBE(0, 4);\n        var seVersionLength = data[4];\n        var seVersion = Buffer.from(data.slice(5, 5 + seVersionLength)).toString();\n        var flagsLength = data[5 + seVersionLength];\n        var flags = Buffer.from(data.slice(5 + seVersionLength + 1, 5 + seVersionLength + 1 + flagsLength));\n        var mcuVersionLength = data[5 + seVersionLength + 1 + flagsLength];\n        var mcuVersion = Buffer.from(data.slice(7 + seVersionLength + flagsLength, 7 + seVersionLength + flagsLength + mcuVersionLength));\n        if (mcuVersion[mcuVersion.length - 1] === 0) {\n          mcuVersion = mcuVersion.slice(0, mcuVersion.length - 1);\n        }\n        var versionString = mcuVersion.toString();\n        if (!seVersionLength) {\n          seVersion = \"0.0.0\";\n          flags = Buffer.allocUnsafeSlow(0);\n          versionString = \"\";\n        }\n\n        /* eslint-disable no-unused-vars, no-bitwise */\n        var isOSU = seVersion.includes(\"-osu\");\n        var version = seVersion.replace(\"-osu\", \"\");\n        var m = seVersion.match(/([0-9]+.[0-9]+)(.[0-9]+)?(-(.*))?/);\n        var _ref5 = m || [],\n          _ref6 = _slicedToArray(_ref5, 5),\n          majMin = _ref6[1],\n          providerName = _ref6[4];\n        var providerId = PROVIDERS[providerName] || 1;\n        var isBootloader = (targetId & 0xf0000000) !== 0x30000000;\n        var flag = flags.length > 0 ? flags[0] : 0;\n        var managerAllowed = Boolean(flag & ManagerAllowedFlag);\n        var pin = Boolean(flag & PinValidatedFlag);\n        /* eslint-enable */\n\n        var _split = (version || \"\").split(\".\"),\n          _split2 = _slicedToArray(_split, 3),\n          majorVersion = _split2[0],\n          minorVersion = _split2[1],\n          patchVersion = _split2[2];\n        var _split3 = (versionString || \"\").split(\".\"),\n          _split4 = _slicedToArray(_split3, 2),\n          mcuMajorVersion = _split4[0],\n          mcuMinorVersion = _split4[1];\n\n        // https://gist.github.com/TamtamHero/b7651ffe6f1e485e3886bf4aba673348\n        // +-----------------+------------+\n        // |    FirmWare     | Target ID  |\n        // +-----------------+------------+\n        // | Nano S <= 1.3.1 | 0x31100002 |\n        // | Nano S 1.4.x    | 0x31100003 |\n        // | Nano S 1.5.x    | 0x31100004 |\n        // |                 |            |\n        // | Blue 2.0.x      | 0x31000002 |\n        // | Blue 2.1.x      | 0x31000004 |\n        // | Blue 2.1.x V2   | 0x31010004 |\n        // |                 |            |\n        // | Nano X          | 0x33000004 |\n        // |                 |            |\n        // | MCU,any version | 0x01000001 |\n        // +-----------------+------------+\n        //\n        //  Order matters -- high to low minTargetId\n        var MODEL_RANGES = [{\n          minTargetId: 0x33000004,\n          model: \"Nano X\"\n        }, {\n          minTargetId: 0x31100002,\n          model: \"Nano S\"\n        }, {\n          minTargetId: 0x31100002,\n          model: \"Blue\"\n        }, {\n          minTargetId: 0x01000001,\n          model: \"MCU\"\n        }];\n        var model = \"Unknown\";\n        if (targetId) {\n          for (var i = 0; i < MODEL_RANGES.length; i++) {\n            var range = MODEL_RANGES[i];\n            if (targetId >= range.minTargetId) {\n              model = range.model;\n              break;\n            }\n          }\n        }\n        var spec = \"\".concat(model, \" v\").concat(version, \" (MCU v\").concat(versionString, \")\");\n        // if (pin) {\n        //   spec += \" w/PIN\";\n        // }\n\n        return {\n          spec: spec,\n          model: model,\n          version: {\n            major: majorVersion,\n            minor: minorVersion,\n            patch: patchVersion,\n            string: version\n          },\n          mcuVersion: {\n            major: mcuMajorVersion,\n            minor: mcuMinorVersion,\n            string: versionString\n          }\n          // pin,\n        };\n      } catch (e) {\n        console.error(e);\n        throw new Error(\"Unable to parse metadata from Ledger device.\");\n      }\n    }\n  }]);\n  return LedgerGetMetadata;\n}(LedgerDashboardInteraction);\nexports.LedgerGetMetadata = LedgerGetMetadata;\n/**\n * Base class for interactions exporting information about an HD node\n * at a given BIP32 path.\n *\n * You may want to use `LedgerExportPublicKey` or\n * `LedgerExportExtendedPublicKey` directly.\n *\n * @extends {module:ledger.LedgerBitcoinInteraction}\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {LedgerExportHDNode} from \"unchained-wallets\";\n * const interaction = new LedgerExportHDNode({network: MAINNET, bip32Path: \"m/48'/0'/0'/2'/0\"});\n * const node = await interaction.run();\n * console.log(node);\n */\nvar LedgerExportHDNode = /*#__PURE__*/function (_LedgerBitcoinInterac) {\n  _inherits(LedgerExportHDNode, _LedgerBitcoinInterac);\n  var _super5 = _createSuper(LedgerExportHDNode);\n  /**\n   * Requires a valid BIP32 path to the node to export.\n   *\n   * @param {object} options - options argument\n   * @param {string} bip32Path - the BIP32 path for the HD node\n   */\n  function LedgerExportHDNode(_ref7) {\n    var _this6;\n    var bip32Path = _ref7.bip32Path;\n    _classCallCheck(this, LedgerExportHDNode);\n    _this6 = _super5.call(this);\n    _defineProperty(_assertThisInitialized(_this6), \"bip32Path\", void 0);\n    _defineProperty(_assertThisInitialized(_this6), \"bip32ValidationErrorMessage\", void 0);\n    _defineProperty(_assertThisInitialized(_this6), \"isV2Supported\", false);\n    _defineProperty(_assertThisInitialized(_this6), \"isLegacySupported\", true);\n    _this6.bip32Path = bip32Path;\n    var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    if (bip32PathError.length) {\n      _this6.bip32ValidationErrorMessage = {\n        text: bip32PathError,\n        code: \"ledger.bip32_path.path_error\"\n      };\n    }\n    return _this6;\n  }\n\n  /**\n   * Adds messages related to the warnings Ledger devices produce on various BIP32 paths.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(LedgerExportHDNode, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(LedgerExportHDNode.prototype), \"messages\", this).call(this);\n      if (this.bip32ValidationErrorMessage) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: this.bip32ValidationErrorMessage.code,\n          text: this.bip32ValidationErrorMessage.text\n        });\n      }\n      return messages;\n    }\n\n    /**\n     * Returns whether or not the Ledger device will display a warning\n     * to the user about an unusual BIP32 path.\n     *\n     * A \"usual\" BIP32 path is exactly 5 segments long.  The segments\n     * have the following constraints:\n     *\n     * - Segment 1: Must be equal to `44'`\n     * - Segment 2: Can have any value\n     * - Segment 3: Must be between `0'` and `100'`\n     * - Segment 4: Must be equal to `0`\n     * - Segment 5: Must be between `0 and 50000`\n     *\n     * Any other kind of path is considered unusual and will trigger the\n     * warning.\n     *\n     * @returns {boolean} whether a BIP32 path warning will be displayed\n     */\n  }, {\n    key: \"hasBIP32PathWarning\",\n    value: function hasBIP32PathWarning() {\n      // 0 -> 44'\n      // 1 -> anything\n      // 2 -> 0' - 100'\n      // 3 -> 0\n      // 4 -> 0 - 50000\n      var indices = (0, _unchainedBitcoin.bip32PathToSequence)(this.bip32Path);\n      var hardened0 = (0, _unchainedBitcoin.hardenedBIP32Index)(0);\n      var hardened44 = (0, _unchainedBitcoin.hardenedBIP32Index)(44);\n      var hardened100 = (0, _unchainedBitcoin.hardenedBIP32Index)(100);\n      if (indices.length !== 5) {\n        return true;\n      }\n      if (indices[0] !== hardened44) {\n        return true;\n      }\n      if (indices[2] < hardened0 || indices[2] > hardened100) {\n        return true;\n      }\n      if (indices[3] !== 0) {\n        return true;\n      }\n      return indices[4] < 0 || indices[4] > 50000;\n    }\n\n    /**\n     * Get fingerprint from parent pubkey. This is useful for generating xpubs\n     * which need the fingerprint of the parent pubkey\n     *\n     * Optionally get root fingerprint for device. This is useful for keychecks and necessary\n     * for PSBTs\n     *\n     * @param {boolean} root fingerprint or not\n     * @returns {string} fingerprint\n     */\n  }, {\n    key: \"getFingerprint\",\n    value: function () {\n      var _getFingerprint = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var root,\n          pubkey,\n          fp,\n          _args10 = arguments;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              root = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : false;\n              _context10.next = 3;\n              return this.isLegacyApp();\n            case 3:\n              if (!_context10.sent) {\n                _context10.next = 18;\n                break;\n              }\n              if (!root) {\n                _context10.next = 10;\n                break;\n              }\n              _context10.next = 7;\n              return this.getMultisigRootPublicKey();\n            case 7:\n              _context10.t0 = _context10.sent;\n              _context10.next = 13;\n              break;\n            case 10:\n              _context10.next = 12;\n              return this.getParentPublicKey();\n            case 12:\n              _context10.t0 = _context10.sent;\n            case 13:\n              pubkey = _context10.t0;\n              fp = (0, _unchainedBitcoin.getFingerprintFromPublicKey)(pubkey); // If asked for a root XFP, zero pad it to length of 8.\n              return _context10.abrupt(\"return\", root ? (0, _unchainedBitcoin.fingerprintToFixedLengthHex)(fp) : fp.toString());\n            case 18:\n              if (!root) {\n                _context10.next = 22;\n                break;\n              }\n              return _context10.abrupt(\"return\", this.getXfp());\n            case 22:\n              throw new Error(\"Method not supported for this version of Ledger app (\".concat(this.appVersion, \")\"));\n            case 23:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n      function getFingerprint() {\n        return _getFingerprint.apply(this, arguments);\n      }\n      return getFingerprint;\n    }() // v2 App and above only\n  }, {\n    key: \"getXfp\",\n    value: function () {\n      var _getXfp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return this.isLegacyApp();\n            case 2:\n              if (!_context12.sent) {\n                _context12.next = 4;\n                break;\n              }\n              return _context12.abrupt(\"return\", this.getFingerprint(true));\n            case 4:\n              return _context12.abrupt(\"return\", this.withApp( /*#__PURE__*/function () {\n                var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(app) {\n                  return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n                    while (1) switch (_context11.prev = _context11.next) {\n                      case 0:\n                        _context11.next = 2;\n                        return app.getMasterFingerprint();\n                      case 2:\n                        return _context11.abrupt(\"return\", _context11.sent);\n                      case 3:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }, _callee11);\n                }));\n                return function (_x6) {\n                  return _ref8.apply(this, arguments);\n                };\n              }()));\n            case 5:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this);\n      }));\n      function getXfp() {\n        return _getXfp.apply(this, arguments);\n      }\n      return getXfp;\n    }()\n  }, {\n    key: \"getParentPublicKey\",\n    value: function getParentPublicKey() {\n      var _this7 = this;\n      return this.withApp( /*#__PURE__*/function () {\n        var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(app) {\n          var parentPath, key;\n          return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n            while (1) switch (_context13.prev = _context13.next) {\n              case 0:\n                parentPath = (0, _unchainedBitcoin.getParentBIP32Path)(_this7.bip32Path);\n                _context13.next = 3;\n                return app.getWalletPublicKey(parentPath);\n              case 3:\n                key = _context13.sent.publicKey;\n                return _context13.abrupt(\"return\", key);\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }, _callee13);\n        }));\n        return function (_x7) {\n          return _ref9.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"getMultisigRootPublicKey\",\n    value: function getMultisigRootPublicKey() {\n      return this.withApp( /*#__PURE__*/function () {\n        var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(app) {\n          var key;\n          return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n            while (1) switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return app.getWalletPublicKey();\n              case 2:\n                key = _context14.sent.publicKey;\n                return _context14.abrupt(\"return\", key);\n              case 4:\n              case \"end\":\n                return _context14.stop();\n            }\n          }, _callee14);\n        }));\n        return function (_x8) {\n          return _ref10.apply(this, arguments);\n        };\n      }());\n    }\n\n    /**\n     * See {@link https://github.com/LedgerHQ/ledgerjs/tree/master/packages/hw-app-btc#getwalletpublickey}.\n     *\n     * @returns {object} the HD node object.\n     */\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this8 = this;\n      return this.withApp( /*#__PURE__*/function () {\n        var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(app) {\n          var result;\n          return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n            while (1) switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return _get(_getPrototypeOf(LedgerExportHDNode.prototype), \"run\", _this8).call(_this8);\n              case 2:\n                _context15.next = 4;\n                return app.getWalletPublicKey(_this8.bip32Path);\n              case 4:\n                result = _context15.sent;\n                return _context15.abrupt(\"return\", result);\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }, _callee15);\n        }));\n        return function (_x9) {\n          return _ref11.apply(this, arguments);\n        };\n      }());\n    }\n  }]);\n  return LedgerExportHDNode;\n}(LedgerBitcoinInteraction);\n/**\n * Returns the public key at a given BIP32 path.\n *\n * @extends {module:ledger.LedgerExportHDNode}\n * @example\n * import {LedgerExportPublicKey} from \"unchained-wallets\";\n * const interaction = new LedgerExportPublicKey({bip32Path: \"m/48'/0'/0'/2'/0\"});\n * const publicKey = await interaction.run();\n * console.log(publicKey);\n * // \"03...\"\n */\nvar LedgerExportPublicKey = /*#__PURE__*/function (_LedgerExportHDNode) {\n  _inherits(LedgerExportPublicKey, _LedgerExportHDNode);\n  var _super6 = _createSuper(LedgerExportPublicKey);\n  /**\n   * @param {string} bip32Path - the BIP32 path for the HD node\n   * @param {boolean} includeXFP - return xpub with root fingerprint concatenated\n   */\n  function LedgerExportPublicKey(_ref12) {\n    var _this9;\n    var bip32Path = _ref12.bip32Path,\n      _ref12$includeXFP = _ref12.includeXFP,\n      includeXFP = _ref12$includeXFP === void 0 ? false : _ref12$includeXFP;\n    _classCallCheck(this, LedgerExportPublicKey);\n    _this9 = _super6.call(this, {\n      bip32Path: bip32Path\n    });\n    _defineProperty(_assertThisInitialized(_this9), \"includeXFP\", void 0);\n    _defineProperty(_assertThisInitialized(_this9), \"isLegacySupported\", true);\n    _defineProperty(_assertThisInitialized(_this9), \"isV2Supported\", false);\n    _this9.includeXFP = includeXFP;\n    return _this9;\n  }\n\n  /**\n   * Parses out and compresses the public key from the response of\n   * `LedgerExportHDNode`.\n   *\n   * @returns {string|Object} (compressed) public key in hex (returns object if asked to include root fingerprint)\n   */\n  _createClass(LedgerExportPublicKey, [{\n    key: \"run\",\n    value: function () {\n      var _run3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        var result, publicKey, rootFingerprint;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) switch (_context16.prev = _context16.next) {\n            case 0:\n              _context16.prev = 0;\n              _context16.next = 3;\n              return _get(_getPrototypeOf(LedgerExportPublicKey.prototype), \"run\", this).call(this);\n            case 3:\n              result = _context16.sent;\n              publicKey = this.parsePublicKey((result || {}).publicKey);\n              if (!this.includeXFP) {\n                _context16.next = 10;\n                break;\n              }\n              _context16.next = 8;\n              return this.getXfp();\n            case 8:\n              rootFingerprint = _context16.sent;\n              return _context16.abrupt(\"return\", {\n                rootFingerprint: rootFingerprint,\n                publicKey: publicKey\n              });\n            case 10:\n              return _context16.abrupt(\"return\", publicKey);\n            case 11:\n              _context16.prev = 11;\n              _context16.next = 14;\n              return _get(_getPrototypeOf(LedgerExportPublicKey.prototype), \"closeTransport\", this).call(this);\n            case 14:\n              return _context16.finish(11);\n            case 15:\n            case \"end\":\n              return _context16.stop();\n          }\n        }, _callee16, this, [[0,, 11, 15]]);\n      }));\n      function run() {\n        return _run3.apply(this, arguments);\n      }\n      return run;\n    }()\n    /**\n     * Compress the given public key.\n     *\n     * @param {string} [publicKey] - the uncompressed public key in hex\n     * @returns {string} - the compressed public key in hex\n     *\n     */\n  }, {\n    key: \"parsePublicKey\",\n    value: function parsePublicKey(publicKey) {\n      if (publicKey) {\n        try {\n          return (0, _unchainedBitcoin.compressPublicKey)(publicKey);\n        } catch (e) {\n          console.error(e);\n          throw new Error(\"Unable to compress public key from Ledger device.\");\n        }\n      } else {\n        throw new Error(\"Received no public key from Ledger device.\");\n      }\n    }\n  }]);\n  return LedgerExportPublicKey;\n}(LedgerExportHDNode);\n/**\n * Class for wallet extended public key (xpub) interaction at a given BIP32 path.\n * @extends {module:ledger.LedgerExportHDNode}\n */\nexports.LedgerExportPublicKey = LedgerExportPublicKey;\nvar LedgerExportExtendedPublicKey = /*#__PURE__*/function (_LedgerExportHDNode2) {\n  _inherits(LedgerExportExtendedPublicKey, _LedgerExportHDNode2);\n  var _super7 = _createSuper(LedgerExportExtendedPublicKey);\n  /**\n   * @param {string} bip32Path path\n   * @param {string} network bitcoin network\n   * @param {boolean} includeXFP - return xpub with root fingerprint concatenated\n   */\n  function LedgerExportExtendedPublicKey(_ref13) {\n    var _this10;\n    var bip32Path = _ref13.bip32Path,\n      network = _ref13.network,\n      includeXFP = _ref13.includeXFP;\n    _classCallCheck(this, LedgerExportExtendedPublicKey);\n    _this10 = _super7.call(this, {\n      bip32Path: bip32Path\n    });\n    _defineProperty(_assertThisInitialized(_this10), \"network\", void 0);\n    _defineProperty(_assertThisInitialized(_this10), \"includeXFP\", void 0);\n    _defineProperty(_assertThisInitialized(_this10), \"isLegacySupported\", true);\n    _defineProperty(_assertThisInitialized(_this10), \"isV2Supported\", true);\n    _this10.network = network;\n    _this10.includeXFP = includeXFP;\n    return _this10;\n  }\n  _createClass(LedgerExportExtendedPublicKey, [{\n    key: \"messages\",\n    value: function messages() {\n      return _get(_getPrototypeOf(LedgerExportExtendedPublicKey.prototype), \"messages\", this).call(this);\n    }\n\n    /**\n     * Retrieve extended public key (xpub) from Ledger device for a given BIP32 path\n     * @example\n     * import {LedgerExportExtendedPublicKey} from \"unchained-wallets\";\n     * const interaction = new LedgerExportExtendedPublicKey({network, bip32Path});\n     * const xpub = await interaction.run();\n     * console.log(xpub);\n     *\n     * @returns {string|Object} the extended public key (returns object if asked to include root fingerprint)\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {\n        var _this11 = this;\n        var walletPublicKey, fingerprint, xpub, rootFingerprint, _rootFingerprint, _xpub;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) switch (_context18.prev = _context18.next) {\n            case 0:\n              _context18.prev = 0;\n              _context18.next = 3;\n              return this.isLegacyApp();\n            case 3:\n              if (!_context18.sent) {\n                _context18.next = 19;\n                break;\n              }\n              _context18.next = 6;\n              return _get(_getPrototypeOf(LedgerExportExtendedPublicKey.prototype), \"run\", this).call(this);\n            case 6:\n              walletPublicKey = _context18.sent;\n              _context18.next = 9;\n              return this.getFingerprint();\n            case 9:\n              fingerprint = _context18.sent;\n              xpub = (0, _unchainedBitcoin.deriveExtendedPublicKey)(this.bip32Path, walletPublicKey.publicKey, walletPublicKey.chainCode, Number(fingerprint), this.network);\n              if (!this.includeXFP) {\n                _context18.next = 16;\n                break;\n              }\n              _context18.next = 14;\n              return this.getXfp();\n            case 14:\n              rootFingerprint = _context18.sent;\n              return _context18.abrupt(\"return\", {\n                rootFingerprint: rootFingerprint,\n                xpub: xpub\n              });\n            case 16:\n              return _context18.abrupt(\"return\", xpub);\n            case 19:\n              _context18.next = 21;\n              return this.getXfp();\n            case 21:\n              _rootFingerprint = _context18.sent;\n              _context18.next = 24;\n              return this.withApp( /*#__PURE__*/function () {\n                var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(app) {\n                  return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n                    while (1) switch (_context17.prev = _context17.next) {\n                      case 0:\n                        return _context17.abrupt(\"return\", app.getExtendedPubkey(_this11.bip32Path, true));\n                      case 1:\n                      case \"end\":\n                        return _context17.stop();\n                    }\n                  }, _callee17);\n                }));\n                return function (_x10) {\n                  return _ref14.apply(this, arguments);\n                };\n              }());\n            case 24:\n              _xpub = _context18.sent;\n              return _context18.abrupt(\"return\", {\n                xpub: _xpub,\n                rootFingerprint: _rootFingerprint\n              });\n            case 26:\n              _context18.prev = 26;\n              _context18.next = 29;\n              return _get(_getPrototypeOf(LedgerExportExtendedPublicKey.prototype), \"closeTransport\", this).call(this);\n            case 29:\n              return _context18.finish(26);\n            case 30:\n            case \"end\":\n              return _context18.stop();\n          }\n        }, _callee18, this, [[0,, 26, 30]]);\n      }));\n      function run() {\n        return _run4.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerExportExtendedPublicKey;\n}(LedgerExportHDNode);\nexports.LedgerExportExtendedPublicKey = LedgerExportExtendedPublicKey;\n/**\n * Returns a signature for a bitcoin transaction with inputs from one\n * or many multisig addresses.\n *\n * - `inputs` is an array of `UTXO` objects from `unchained-bitcoin`\n * - `outputs` is an array of `TransactionOutput` objects from `unchained-bitcoin`\n * - `bip32Paths` is an array of (`string`) BIP32 paths, one for each input, identifying the path on this device to sign that input with\n *\n * @extends {module:ledger.LedgerBitcoinInteraction}\n * @example\n * import {\n *   generateMultisigFromHex, TESTNET, P2SH,\n * } from \"unchained-bitcoin\";\n * import {LedgerSignMultisigTransaction} from \"unchained-wallets\";\n * const redeemScript = \"5...ae\";\n * const inputs = [\n *   {\n *     txid: \"8d276c76b3550b145e44d35c5833bae175e0351b4a5c57dc1740387e78f57b11\",\n *     index: 1,\n *     multisig: generateMultisigFromHex(TESTNET, P2SH, redeemScript),\n *     amountSats: '1234000'\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     amountSats: '1299659',\n *     address: \"2NGHod7V2TAAXC1iUdNmc6R8UUd4TVTuBmp\"\n *   },\n *   // other outputs...\n * ];\n * const interaction = new LedgerSignMultisigTransaction({\n *   network: TESTNET,\n *   inputs,\n *   outputs,\n *   bip32Paths: [\"m/45'/0'/0'/0\", // add more, 1 per input],\n * });\n * const signature = await interaction.run();\n * console.log(signatures);\n * // [\"ababab...\", // 1 per input]\n */\nvar LedgerSignMultisigTransaction = /*#__PURE__*/function (_LedgerBitcoinInterac2) {\n  _inherits(LedgerSignMultisigTransaction, _LedgerBitcoinInterac2);\n  var _super8 = _createSuper(LedgerSignMultisigTransaction);\n  /**\n   * @param {object} options - options argument\n   * @param {BitcoinNetwork} options.network - bitcoin network\n   * @param {array<object>} [options.inputs] - inputs for the transaction\n   * @param {array<object>} [options.outputs] - outputs for the transaction\n   * @param {array<string>} [options.bip32Paths] - BIP32 paths\n   * @param {object} [options.v2Options] - arguments to try with a v2 app\n   * @param {string} [options.psbt] - PSBT string encoded in base64\n   * @param {object} [options.keyDetails] - Signing Key Details (Fingerprint + bip32 prefix)\n   * @param {boolean} [options.returnSignatureArray] - return an array of signatures instead of a signed PSBT (useful for test suite)\n   */\n  function LedgerSignMultisigTransaction(_ref15) {\n    var _this12;\n    var network = _ref15.network,\n      inputs = _ref15.inputs,\n      outputs = _ref15.outputs,\n      bip32Paths = _ref15.bip32Paths,\n      psbt = _ref15.psbt,\n      keyDetails = _ref15.keyDetails,\n      _ref15$returnSignatur = _ref15.returnSignatureArray,\n      returnSignatureArray = _ref15$returnSignatur === void 0 ? false : _ref15$returnSignatur,\n      v2Options = _ref15.v2Options;\n    _classCallCheck(this, LedgerSignMultisigTransaction);\n    _this12 = _super8.call(this);\n    _defineProperty(_assertThisInitialized(_this12), \"network\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"inputs\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"outputs\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"bip32Paths\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"psbt\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"keyDetails\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"returnSignatureArray\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"pubkeys\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"v2Options\", void 0);\n    _defineProperty(_assertThisInitialized(_this12), \"isLegacySupported\", true);\n    _defineProperty(_assertThisInitialized(_this12), \"isV2Supported\", false);\n    _this12.network = network;\n    if (!psbt || !keyDetails) {\n      _this12.inputs = inputs;\n      _this12.outputs = outputs;\n      _this12.bip32Paths = bip32Paths;\n    } else {\n      var _translatePSBT = (0, _unchainedBitcoin.translatePSBT)(network, _unchainedBitcoin.P2SH, psbt, keyDetails),\n        unchainedInputs = _translatePSBT.unchainedInputs,\n        unchainedOutputs = _translatePSBT.unchainedOutputs,\n        bip32Derivations = _translatePSBT.bip32Derivations;\n      _this12.psbt = psbt;\n      _this12.inputs = unchainedInputs;\n      _this12.outputs = unchainedOutputs;\n      _this12.bip32Paths = bip32Derivations.map(function (b32d) {\n        return b32d.path;\n      });\n      _this12.pubkeys = bip32Derivations.map(function (b32d) {\n        return b32d.pubkey;\n      });\n      _this12.returnSignatureArray = returnSignatureArray;\n    }\n    _this12.v2Options = v2Options;\n    return _this12;\n  }\n\n  /**\n   * Adds messages describing the signing flow.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(LedgerSignMultisigTransaction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(LedgerSignMultisigTransaction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.WARNING,\n        code: \"ledger.sign.delay\",\n        text: \"Your Ledger device may take up to several minutes to process a transaction with many inputs.\",\n        preProcessingTime: this.preProcessingTime(),\n        postProcessingTime: this.postProcessingTime()\n      });\n      if (this.anySegwitInputs()) {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.sign\",\n          version: \"<1.6.0\",\n          text: \"Your Ledger will ask you to \\\"Confirm transaction\\\" and display each output amount and address followed by the the fee amount.\",\n          action: LEDGER_RIGHT_BUTTON\n        });\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.sign\",\n          version: \">=1.6.0\",\n          text: \"Confirm each output on your Ledger device and approve the transaction.\",\n          messages: [{\n            text: \"Your Ledger will ask you to \\\"Review transaction\\\".\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"For each output, your Ledger device will display the output amount...\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"...followed by the output address in several parts\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will display the transaction fees.\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will ask you to \\\"Accept and send\\\".\",\n            action: LEDGER_BOTH_BUTTONS\n          }]\n        });\n      } else {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.sign\",\n          version: \"<1.6.0\",\n          text: \"Confirm each output on your Ledger device and approve the transaction.\",\n          messages: [{\n            text: \"For each output, your Ledger will display the output amount and address for you to confirm.\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will ask if you want to \\\"Confirm the transaction\\\".  Due to a bug in the Ledger software, your device may display the transaction fee as \\\"UNKNOWN\\\".\",\n            action: LEDGER_RIGHT_BUTTON\n          }]\n        });\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.sign\",\n          version: \">=1.6.0\",\n          text: \"Confirm each output on your Ledger device and approve the transaction.\",\n          messages: [{\n            text: \"For each output, your Ledger will ask you to \\\"Review output\\\".\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will display the output amount.\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will display the output address in several parts.\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will ask if you want to \\\"Accept\\\" the output.\",\n            action: LEDGER_BOTH_BUTTONS\n          }, {\n            text: \"Your Ledger will ask if you want to \\\"Confirm the transaction\\\".\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Due to a bug in the Ledger software, your device will display the transaction fee as \\\"UNKNOWN\\\".\",\n            action: LEDGER_RIGHT_BUTTON\n          }, {\n            text: \"Your Ledger will ask you to \\\"Accept and send\\\".\",\n            action: LEDGER_BOTH_BUTTONS\n          }]\n        });\n      }\n      return messages;\n    }\n  }, {\n    key: \"preProcessingTime\",\n    value: function preProcessingTime() {\n      // FIXME\n      return 10;\n    }\n  }, {\n    key: \"postProcessingTime\",\n    value: function postProcessingTime() {\n      // FIXME\n      return 10;\n    }\n\n    /**\n     * See {@link https://github.com/LedgerHQ/ledgerjs/tree/master/packages/hw-app-btc#signp2shtransaction}.\n     *\n     * Input signatures produced will always have a trailing `...01`\n     * {@link https://bitcoin.org/en/glossary/sighash-all SIGHASH_ALL}\n     * byte.\n     *\n     * @returns {string[]|string} array of input signatures, one per input or PSBT in Base64\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20() {\n        var _this13 = this;\n        var interaction;\n        return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n          while (1) switch (_context20.prev = _context20.next) {\n            case 0:\n              _context20.prev = 0;\n              _context20.next = 3;\n              return _get(_getPrototypeOf(LedgerSignMultisigTransaction.prototype), \"run\", this).call(this);\n            case 3:\n              _context20.next = 11;\n              break;\n            case 5:\n              _context20.prev = 5;\n              _context20.t0 = _context20[\"catch\"](0);\n              if (!(!this.v2Options || !Object.keys(this.v2Options))) {\n                _context20.next = 9;\n                break;\n              }\n              throw _context20.t0;\n            case 9:\n              interaction = new LedgerV2SignMultisigTransaction(this.v2Options);\n              return _context20.abrupt(\"return\", interaction.run());\n            case 11:\n              return _context20.abrupt(\"return\", this.withApp( /*#__PURE__*/function () {\n                var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(app, transport) {\n                  var transactionSignature;\n                  return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n                    while (1) switch (_context19.prev = _context19.next) {\n                      case 0:\n                        _context19.prev = 0;\n                        // FIXME: Explain the rationale behind this choice.\n                        transport.setExchangeTimeout(20000 * _this13.outputs.length);\n                        _context19.next = 4;\n                        return app.signP2SHTransaction({\n                          inputs: _this13.ledgerInputs(),\n                          associatedKeysets: _this13.ledgerKeysets(),\n                          outputScriptHex: _this13.ledgerOutputScriptHex(),\n                          lockTime: 0,\n                          // locktime, 0 is no locktime\n                          sigHashType: 1,\n                          // sighash type, 1 is SIGHASH_ALL\n                          segwit: _this13.anySegwitInputs(),\n                          transactionVersion: 1 // tx version\n                        });\n                      case 4:\n                        transactionSignature = _context19.sent;\n                        if (!(_this13.psbt && !_this13.returnSignatureArray && _this13.pubkeys)) {\n                          _context19.next = 9;\n                          break;\n                        }\n                        return _context19.abrupt(\"return\", (0, _unchainedBitcoin.addSignaturesToPSBT)(_this13.network, _this13.psbt, _this13.pubkeys, _this13.parseSignature(transactionSignature, \"buffer\")));\n                      case 9:\n                        return _context19.abrupt(\"return\", _this13.parseSignature(transactionSignature, \"hex\"));\n                      case 10:\n                        _context19.prev = 10;\n                        transport.close();\n                        return _context19.finish(10);\n                      case 13:\n                      case \"end\":\n                        return _context19.stop();\n                    }\n                  }, _callee19, null, [[0,, 10, 13]]);\n                }));\n                return function (_x11, _x12) {\n                  return _ref16.apply(this, arguments);\n                };\n              }()));\n            case 12:\n            case \"end\":\n              return _context20.stop();\n          }\n        }, _callee20, this, [[0, 5]]);\n      }));\n      function run() {\n        return _run5.apply(this, arguments);\n      }\n      return run;\n    }()\n  }, {\n    key: \"ledgerInputs\",\n    value: function ledgerInputs() {\n      return this.inputs.map(function (input) {\n        var addressType = (0, _unchainedBitcoin.multisigAddressType)(input.multisig);\n        var inputTransaction = (0, _splitTransaction.splitTransaction)(input.transactionHex, true); // FIXME: should the 2nd parameter here always be true?\n        var scriptFn = addressType === _unchainedBitcoin.P2SH ? _unchainedBitcoin.multisigRedeemScript : _unchainedBitcoin.multisigWitnessScript;\n        var scriptHex = (0, _unchainedBitcoin.scriptToHex)(scriptFn(input.multisig));\n        return [inputTransaction, input.index, scriptHex]; // can add sequence number for RBF as an additional element\n      });\n    }\n  }, {\n    key: \"ledgerKeysets\",\n    value: function ledgerKeysets() {\n      var _this14 = this;\n      return this.bip32Paths.map(function (bip32Path) {\n        return _this14.ledgerBIP32Path(bip32Path);\n      });\n    }\n  }, {\n    key: \"ledgerOutputScriptHex\",\n    value: function ledgerOutputScriptHex() {\n      var txHex = (0, _unchainedBitcoin.unsignedMultisigTransaction)(this.network, this.inputs, this.outputs).toHex();\n      var splitTx = (0, _splitTransaction.splitTransaction)(txHex, this.anySegwitInputs());\n      return (0, _serializeTransaction.serializeTransactionOutputs)(splitTx).toString(\"hex\");\n    }\n  }, {\n    key: \"ledgerBIP32Path\",\n    value: function ledgerBIP32Path(bip32Path) {\n      return bip32Path.split(\"/\").slice(1).join(\"/\");\n    }\n  }, {\n    key: \"anySegwitInputs\",\n    value: function anySegwitInputs() {\n      for (var i = 0; i < this.inputs.length; i++) {\n        var input = this.inputs[i];\n        var addressType = (0, _unchainedBitcoin.multisigAddressType)(input.multisig);\n        if (addressType === _unchainedBitcoin.P2SH_P2WSH || addressType === _unchainedBitcoin.P2WSH) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return LedgerSignMultisigTransaction;\n}(LedgerBitcoinInteraction);\n/**\n * Returns a signature for a given message by a single public key.\n *\n * @extends {module:ledger.LedgerBitcoinInteraction}\n */\nexports.LedgerSignMultisigTransaction = LedgerSignMultisigTransaction;\nvar LedgerSignMessage = /*#__PURE__*/function (_LedgerBitcoinInterac3) {\n  _inherits(LedgerSignMessage, _LedgerBitcoinInterac3);\n  var _super9 = _createSuper(LedgerSignMessage);\n  /**\n   * @param {object} options - options argument\n   * @param {string} options.bip32Path - the BIP32 path of the HD node of the public key\n   * @param {string} options.message - the message to be signed (in hex)\n   */\n  function LedgerSignMessage(_ref17) {\n    var _this15;\n    var bip32Path = _ref17.bip32Path,\n      message = _ref17.message;\n    _classCallCheck(this, LedgerSignMessage);\n    _this15 = _super9.call(this);\n    _defineProperty(_assertThisInitialized(_this15), \"bip32Path\", void 0);\n    _defineProperty(_assertThisInitialized(_this15), \"message\", void 0);\n    _defineProperty(_assertThisInitialized(_this15), \"bip32ValidationErrorMessage\", void 0);\n    _defineProperty(_assertThisInitialized(_this15), \"isLegacySupported\", true);\n    _defineProperty(_assertThisInitialized(_this15), \"isV2Supported\", false);\n    _this15.bip32Path = bip32Path;\n    _this15.message = message;\n    // this.bip32ValidationErrorMessage = false;\n\n    var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    if (bip32PathError.length) {\n      _this15.bip32ValidationErrorMessage = {\n        text: bip32PathError,\n        code: \"ledger.bip32_path.path_error\"\n      };\n    }\n    return _this15;\n  }\n\n  /**\n   * Adds messages describing the signing flow.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(LedgerSignMessage, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(LedgerSignMessage.prototype), \"messages\", this).call(this);\n      if (this.bip32ValidationErrorMessage) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: this.bip32ValidationErrorMessage.code,\n          text: this.bip32ValidationErrorMessage.text\n        });\n      }\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        code: \"ledger.sign\",\n        // (version is optional)\n        text: 'Your Ledger will ask you to \"Confirm Message\" for signing.',\n        action: LEDGER_RIGHT_BUTTON\n      });\n      // TODO: are more messages required?\n\n      return messages;\n    }\n\n    /**\n     * See {@link https://github.com/LedgerHQ/ledger-live/tree/develop/libs/ledgerjs/packages/hw-app-btc#signmessagenew}.\n     *\n     * @return {object} {v, r, s}\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22() {\n        var _this16 = this;\n        return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n          while (1) switch (_context22.prev = _context22.next) {\n            case 0:\n              _context22.next = 2;\n              return _get(_getPrototypeOf(LedgerSignMessage.prototype), \"run\", this).call(this);\n            case 2:\n              return _context22.abrupt(\"return\", this.withApp( /*#__PURE__*/function () {\n                var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(app, transport) {\n                  var vrs;\n                  return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n                    while (1) switch (_context21.prev = _context21.next) {\n                      case 0:\n                        _context21.prev = 0;\n                        // TODO: what would be an appropriate amount of time to wait for a\n                        // signature?\n                        transport.setExchangeTimeout(20000);\n                        _context21.next = 4;\n                        return app.signMessageNew(_this16.bip32Path, _this16.message);\n                      case 4:\n                        vrs = _context21.sent;\n                        return _context21.abrupt(\"return\", vrs);\n                      case 6:\n                        _context21.prev = 6;\n                        transport.close();\n                        return _context21.finish(6);\n                      case 9:\n                      case \"end\":\n                        return _context21.stop();\n                    }\n                  }, _callee21, null, [[0,, 6, 9]]);\n                }));\n                return function (_x13, _x14) {\n                  return _ref18.apply(this, arguments);\n                };\n              }()));\n            case 3:\n            case \"end\":\n              return _context22.stop();\n          }\n        }, _callee22, this);\n      }));\n      function run() {\n        return _run6.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerSignMessage;\n}(LedgerBitcoinInteraction);\nexports.LedgerSignMessage = LedgerSignMessage;\n/**\n * A base class for any interactions that need to interact with a registered wallet\n * by providing a base constructor that will generate the key origins and the policy\n * from a given braid as well as methods for registering and returning a policy hmac\n */\nvar LedgerBitcoinV2WithRegistrationInteraction = /*#__PURE__*/function (_LedgerBitcoinInterac4) {\n  _inherits(LedgerBitcoinV2WithRegistrationInteraction, _LedgerBitcoinInterac4);\n  var _super10 = _createSuper(LedgerBitcoinV2WithRegistrationInteraction);\n  function LedgerBitcoinV2WithRegistrationInteraction(_ref19) {\n    var _this17;\n    var name = _ref19.name,\n      braid = _ref19.braid,\n      policyHmac = _ref19.policyHmac;\n    _classCallCheck(this, LedgerBitcoinV2WithRegistrationInteraction);\n    _this17 = _super10.call(this);\n    _defineProperty(_assertThisInitialized(_this17), \"walletPolicy\", void 0);\n    _defineProperty(_assertThisInitialized(_this17), \"policyHmac\", void 0);\n    _defineProperty(_assertThisInitialized(_this17), \"policyId\", void 0);\n    _defineProperty(_assertThisInitialized(_this17), \"isLegacySupported\", false);\n    _defineProperty(_assertThisInitialized(_this17), \"isV2Supported\", true);\n    var keyOrigins = (0, _policy.getKeyOriginsFromBraid)(braid);\n    var template = (0, _policy.getPolicyTemplateFromBraid)(braid);\n    if (policyHmac) {\n      var error = (0, _unchainedBitcoin.validateHex)(policyHmac);\n      if (error) throw new Error(\"Invalid policyHmac\");\n      // TODO validate length\n      _this17.policyHmac = Buffer.from(policyHmac, \"hex\");\n    }\n    _this17.walletPolicy = new _policy.MultisigWalletPolicy({\n      name: name,\n      keyOrigins: keyOrigins,\n      template: template\n    });\n    return _this17;\n  }\n  _createClass(LedgerBitcoinV2WithRegistrationInteraction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(LedgerBitcoinV2WithRegistrationInteraction.prototype), \"messages\", this).call(this);\n      if (!this.policyHmac) {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.confirm.address\",\n          version: \">=2.1.0\",\n          text: \"Your Ledger will ask you to register your wallet info first. This allows the device to derive an address for a verified quorum.\",\n          action: LEDGER_RIGHT_BUTTON\n        });\n      }\n      return messages;\n    }\n  }, {\n    key: \"registerWallet\",\n    value: function () {\n      var _registerWallet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24() {\n        var _this18 = this;\n        var verify,\n          _args24 = arguments;\n        return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n          while (1) switch (_context24.prev = _context24.next) {\n            case 0:\n              verify = _args24.length > 0 && _args24[0] !== undefined ? _args24[0] : false;\n              if (!(this.policyHmac && !verify)) {\n                _context24.next = 3;\n                break;\n              }\n              return _context24.abrupt(\"return\", Promise.resolve(this.policyHmac));\n            case 3:\n              return _context24.abrupt(\"return\", this.withApp( /*#__PURE__*/function () {\n                var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(app) {\n                  var policy, _yield$app$registerWa, _yield$app$registerWa2, policyId, policyHmac, buff;\n                  return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n                    while (1) switch (_context23.prev = _context23.next) {\n                      case 0:\n                        policy = _this18.walletPolicy.toLedgerPolicy();\n                        _context23.next = 3;\n                        return app.registerWallet(policy);\n                      case 3:\n                        _yield$app$registerWa = _context23.sent;\n                        _yield$app$registerWa2 = _slicedToArray(_yield$app$registerWa, 2);\n                        policyId = _yield$app$registerWa2[0];\n                        policyHmac = _yield$app$registerWa2[1];\n                        buff = Buffer.from(policyHmac);\n                        if (verify && _this18.policyHmac && _this18.policyHmac.toString(\"hex\") !== buff.toString(\"hex\")) {\n                          console.error(\"Policy registrations did not match. Expected \".concat(_this18.policyHmac.toString(\"hex\"), \"; Actual: \").concat(buff.toString(\"hex\")));\n                        }\n                        _this18.policyHmac = buff;\n                        _this18.policyId = policyId;\n                        return _context23.abrupt(\"return\", buff);\n                      case 12:\n                      case \"end\":\n                        return _context23.stop();\n                    }\n                  }, _callee23);\n                }));\n                return function (_x15) {\n                  return _ref20.apply(this, arguments);\n                };\n              }()));\n            case 4:\n            case \"end\":\n              return _context24.stop();\n          }\n        }, _callee24, this);\n      }));\n      function registerWallet() {\n        return _registerWallet.apply(this, arguments);\n      }\n      return registerWallet;\n    }()\n  }]);\n  return LedgerBitcoinV2WithRegistrationInteraction;\n}(LedgerBitcoinInteraction);\nexports.LedgerBitcoinV2WithRegistrationInteraction = LedgerBitcoinV2WithRegistrationInteraction;\nvar LedgerRegisterWalletPolicy = /*#__PURE__*/function (_LedgerBitcoinV2WithR) {\n  _inherits(LedgerRegisterWalletPolicy, _LedgerBitcoinV2WithR);\n  var _super11 = _createSuper(LedgerRegisterWalletPolicy);\n  function LedgerRegisterWalletPolicy(_ref21) {\n    var _this19;\n    var _ref21$verify = _ref21.verify,\n      verify = _ref21$verify === void 0 ? false : _ref21$verify,\n      policyHmac = _ref21.policyHmac,\n      name = _ref21.name,\n      braid = _ref21.braid;\n    _classCallCheck(this, LedgerRegisterWalletPolicy);\n    _this19 = _super11.call(this, {\n      policyHmac: policyHmac,\n      name: name,\n      braid: braid\n    });\n    _defineProperty(_assertThisInitialized(_this19), \"verify\", void 0);\n    _this19.verify = verify;\n    return _this19;\n  }\n  _createClass(LedgerRegisterWalletPolicy, [{\n    key: \"run\",\n    value: function () {\n      var _run7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25() {\n        var policy;\n        return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n          while (1) switch (_context25.prev = _context25.next) {\n            case 0:\n              _context25.prev = 0;\n              _context25.next = 3;\n              return _get(_getPrototypeOf(LedgerRegisterWalletPolicy.prototype), \"run\", this).call(this);\n            case 3:\n              _context25.next = 5;\n              return this.registerWallet(this.verify);\n            case 5:\n              policy = _context25.sent;\n              return _context25.abrupt(\"return\", Buffer.from(policy).toString(\"hex\"));\n            case 7:\n              _context25.prev = 7;\n              _get(_getPrototypeOf(LedgerRegisterWalletPolicy.prototype), \"closeTransport\", this).call(this);\n              return _context25.finish(7);\n            case 10:\n            case \"end\":\n              return _context25.stop();\n          }\n        }, _callee25, this, [[0,, 7, 10]]);\n      }));\n      function run() {\n        return _run7.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerRegisterWalletPolicy;\n}(LedgerBitcoinV2WithRegistrationInteraction);\nexports.LedgerRegisterWalletPolicy = LedgerRegisterWalletPolicy;\n/**\n * Interaction for confirming an address on a ledger device. Requires a registered\n * wallet to complete successfully. Only supported on Ledger v2.1.0 or above.\n */\nvar LedgerConfirmMultisigAddress = /*#__PURE__*/function (_LedgerBitcoinV2WithR2) {\n  _inherits(LedgerConfirmMultisigAddress, _LedgerBitcoinV2WithR2);\n  var _super12 = _createSuper(LedgerConfirmMultisigAddress);\n  function LedgerConfirmMultisigAddress(_ref22) {\n    var _this20;\n    var braid = _ref22.braid,\n      name = _ref22.name,\n      policyHmac = _ref22.policyHmac,\n      addressIndex = _ref22.addressIndex,\n      display = _ref22.display,\n      expected = _ref22.expected;\n    _classCallCheck(this, LedgerConfirmMultisigAddress);\n    _this20 = _super12.call(this, {\n      braid: braid,\n      name: name,\n      policyHmac: policyHmac\n    });\n    _defineProperty(_assertThisInitialized(_this20), \"braidIndex\", void 0);\n    _defineProperty(_assertThisInitialized(_this20), \"addressIndex\", void 0);\n    _defineProperty(_assertThisInitialized(_this20), \"expected\", void 0);\n    _defineProperty(_assertThisInitialized(_this20), \"display\", true);\n    var braidIndex = Number(braid.index);\n    if (braidIndex !== 1 && braidIndex !== 0) {\n      throw new Error(\"Invalid braid index \".concat(braidIndex));\n    }\n    _this20.braidIndex = braidIndex;\n    var index = Number(addressIndex);\n    if (index < 0) throw new Error(\"Invalid address index \".concat(index));\n    _this20.addressIndex = index;\n    if (display) {\n      _this20.display = display;\n    }\n    _this20.expected = expected;\n    return _this20;\n  }\n\n  /**\n   * Adds messages about BIP32 path warnings.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   *\n   */\n  _createClass(LedgerConfirmMultisigAddress, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(LedgerConfirmMultisigAddress.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        code: \"ledger.confirm.address\",\n        version: \">2.1.0\",\n        text: \"It can take a moment for the ledger to process the wallet and address data\"\n      });\n      if (this.display) {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.confirm.address\",\n          version: \">=2.1.0\",\n          text: \"First confirm that the wallet name the address is from is correct\",\n          action: LEDGER_RIGHT_BUTTON\n        }, {\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          code: \"ledger.confirm.address\",\n          version: \">=2.1.0\",\n          text: \"Then your Ledger will show the address across several screens. Verify this matches the address you are confirming.\",\n          action: LEDGER_RIGHT_BUTTON\n        });\n      }\n      return messages;\n    }\n  }, {\n    key: \"getAddress\",\n    value: function getAddress() {\n      var _this21 = this;\n      return this.withApp( /*#__PURE__*/function () {\n        var _ref23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(app) {\n          return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n            while (1) switch (_context26.prev = _context26.next) {\n              case 0:\n                if (_this21.policyHmac) {\n                  _context26.next = 2;\n                  break;\n                }\n                throw new Error(\"Can't get wallet address without a wallet registration\");\n              case 2:\n                return _context26.abrupt(\"return\", app.getWalletAddress(_this21.walletPolicy.toLedgerPolicy(), Buffer.from(_this21.policyHmac), _this21.braidIndex, _this21.addressIndex, _this21.display));\n              case 3:\n              case \"end\":\n                return _context26.stop();\n            }\n          }, _callee26);\n        }));\n        return function (_x16) {\n          return _ref23.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27() {\n        return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n          while (1) switch (_context27.prev = _context27.next) {\n            case 0:\n              _context27.prev = 0;\n              _context27.next = 3;\n              return _get(_getPrototypeOf(LedgerConfirmMultisigAddress.prototype), \"run\", this).call(this);\n            case 3:\n              _context27.next = 5;\n              return this.registerWallet();\n            case 5:\n              _context27.next = 7;\n              return this.getAddress();\n            case 7:\n              return _context27.abrupt(\"return\", _context27.sent);\n            case 8:\n              _context27.prev = 8;\n              _get(_getPrototypeOf(LedgerConfirmMultisigAddress.prototype), \"closeTransport\", this).call(this);\n              return _context27.finish(8);\n            case 11:\n            case \"end\":\n              return _context27.stop();\n          }\n        }, _callee27, this, [[0,, 8, 11]]);\n      }));\n      function run() {\n        return _run8.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerConfirmMultisigAddress;\n}(LedgerBitcoinV2WithRegistrationInteraction);\nexports.LedgerConfirmMultisigAddress = LedgerConfirmMultisigAddress;\nvar LedgerV2SignMultisigTransaction = /*#__PURE__*/function (_LedgerBitcoinV2WithR3) {\n  _inherits(LedgerV2SignMultisigTransaction, _LedgerBitcoinV2WithR3);\n  var _super13 = _createSuper(LedgerV2SignMultisigTransaction);\n  // optionally, a callback that will be called every time a signature is produced during\n  //  * the signing process. The callback does not receive any argument, but can be used to track progress.\n\n  function LedgerV2SignMultisigTransaction(_ref24) {\n    var _this22;\n    var psbt = _ref24.psbt,\n      progressCallback = _ref24.progressCallback,\n      name = _ref24.name,\n      braid = _ref24.braid,\n      policyHmac = _ref24.policyHmac;\n    _classCallCheck(this, LedgerV2SignMultisigTransaction);\n    _this22 = _super13.call(this, {\n      name: name,\n      braid: braid,\n      policyHmac: policyHmac\n    });\n    _defineProperty(_assertThisInitialized(_this22), \"psbt\", void 0);\n    _defineProperty(_assertThisInitialized(_this22), \"progressCallback\", void 0);\n    _defineProperty(_assertThisInitialized(_this22), \"signatures\", []);\n    if (progressCallback) _this22.progressCallback = progressCallback;\n    var psbtVersion = (0, _unchainedBitcoin.getPsbtVersionNumber)(psbt);\n    switch (psbtVersion) {\n      case 0:\n        _this22.psbt = _unchainedBitcoin.PsbtV2.FromV0(psbt);\n        break;\n      case 2:\n        _this22.psbt = new _unchainedBitcoin.PsbtV2(psbt);\n        break;\n      default:\n        throw new Error(\"PSBT of unsupported version \".concat(psbtVersion));\n    }\n    return _this22;\n  }\n  _createClass(LedgerV2SignMultisigTransaction, [{\n    key: \"signPsbt\",\n    value: function () {\n      var _signPsbt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29() {\n        var _this23 = this;\n        return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n          while (1) switch (_context29.prev = _context29.next) {\n            case 0:\n              return _context29.abrupt(\"return\", this.withApp( /*#__PURE__*/function () {\n                var _ref25 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(app) {\n                  return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n                    while (1) switch (_context28.prev = _context28.next) {\n                      case 0:\n                        _context28.next = 2;\n                        return app.signPsbt(_this23.psbt, _this23.walletPolicy.toLedgerPolicy(), _this23.policyHmac || null, _this23.progressCallback);\n                      case 2:\n                        _this23.signatures = _context28.sent;\n                      case 3:\n                      case \"end\":\n                        return _context28.stop();\n                    }\n                  }, _callee28);\n                }));\n                return function (_x17) {\n                  return _ref25.apply(this, arguments);\n                };\n              }()));\n            case 1:\n            case \"end\":\n              return _context29.stop();\n          }\n        }, _callee29, this);\n      }));\n      function signPsbt() {\n        return _signPsbt.apply(this, arguments);\n      }\n      return signPsbt;\n    }()\n  }, {\n    key: \"SIGNATURES\",\n    get: function get() {\n      return this.signatures.map(function (sig) {\n        return Buffer.from(sig[2]).toString(\"hex\");\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30() {\n        return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n          while (1) switch (_context30.prev = _context30.next) {\n            case 0:\n              _context30.prev = 0;\n              _context30.next = 3;\n              return _get(_getPrototypeOf(LedgerV2SignMultisigTransaction.prototype), \"run\", this).call(this);\n            case 3:\n              _context30.next = 5;\n              return this.registerWallet();\n            case 5:\n              _context30.next = 7;\n              return this.signPsbt();\n            case 7:\n              return _context30.abrupt(\"return\", this.SIGNATURES);\n            case 8:\n              _context30.prev = 8;\n              _get(_getPrototypeOf(LedgerV2SignMultisigTransaction.prototype), \"closeTransport\", this).call(this);\n              return _context30.finish(8);\n            case 11:\n            case \"end\":\n              return _context30.stop();\n          }\n        }, _callee30, this, [[0,, 8, 11]]);\n      }));\n      function run() {\n        return _run9.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return LedgerV2SignMultisigTransaction;\n}(LedgerBitcoinV2WithRegistrationInteraction);\nexports.LedgerV2SignMultisigTransaction = LedgerV2SignMultisigTransaction;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.promise\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.AppClient = void 0;\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.number.is-integer\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"regenerator-runtime/runtime\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _bip = require(\"./bip32\");\nvar _clientCommands = require(\"./clientCommands\");\nvar _merkelizedPsbt = require(\"./merkelizedPsbt\");\nvar _merkle = require(\"./merkle\");\nvar _varint = require(\"./varint\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar CLA_BTC = 0xe1;\nvar CLA_FRAMEWORK = 0xf8;\nvar CURRENT_PROTOCOL_VERSION = 1; // from supported from version 2.1.0 of the app\nvar BitcoinIns;\n(function (BitcoinIns) {\n  BitcoinIns[BitcoinIns[\"GET_PUBKEY\"] = 0] = \"GET_PUBKEY\";\n  BitcoinIns[BitcoinIns[\"REGISTER_WALLET\"] = 2] = \"REGISTER_WALLET\";\n  BitcoinIns[BitcoinIns[\"GET_WALLET_ADDRESS\"] = 3] = \"GET_WALLET_ADDRESS\";\n  BitcoinIns[BitcoinIns[\"SIGN_PSBT\"] = 4] = \"SIGN_PSBT\";\n  BitcoinIns[BitcoinIns[\"GET_MASTER_FINGERPRINT\"] = 5] = \"GET_MASTER_FINGERPRINT\";\n  BitcoinIns[BitcoinIns[\"SIGN_MESSAGE\"] = 16] = \"SIGN_MESSAGE\";\n})(BitcoinIns || (BitcoinIns = {}));\nvar FrameworkIns;\n/**\n * This class encapsulates the APDU protocol documented at\n * https://github.com/LedgerHQ/app-bitcoin-new/blob/master/doc/bitcoin.md\n */\n(function (FrameworkIns) {\n  FrameworkIns[FrameworkIns[\"CONTINUE_INTERRUPTED\"] = 1] = \"CONTINUE_INTERRUPTED\";\n})(FrameworkIns || (FrameworkIns = {}));\nvar AppClient = /*#__PURE__*/function () {\n  function AppClient(transport) {\n    _classCallCheck(this, AppClient);\n    _defineProperty(this, \"transport\", void 0);\n    this.transport = transport;\n  }\n  _createClass(AppClient, [{\n    key: \"makeRequest\",\n    value: function () {\n      var _makeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ins, data, cci) {\n        var response, hwRequest, commandResponse;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.transport.send(CLA_BTC, ins, 0, CURRENT_PROTOCOL_VERSION, data, [0x9000, 0xe000]);\n            case 2:\n              response = _context.sent;\n            case 3:\n              if (!(response.readUInt16BE(response.length - 2) === 0xe000)) {\n                _context.next = 13;\n                break;\n              }\n              if (cci) {\n                _context.next = 6;\n                break;\n              }\n              throw new Error('Unexpected SW_INTERRUPTED_EXECUTION');\n            case 6:\n              hwRequest = response.slice(0, -2);\n              commandResponse = cci.execute(hwRequest);\n              _context.next = 10;\n              return this.transport.send(CLA_FRAMEWORK, FrameworkIns.CONTINUE_INTERRUPTED, 0, 0, commandResponse, [0x9000, 0xe000]);\n            case 10:\n              response = _context.sent;\n              _context.next = 3;\n              break;\n            case 13:\n              return _context.abrupt(\"return\", response.slice(0, -2));\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function makeRequest(_x, _x2, _x3) {\n        return _makeRequest.apply(this, arguments);\n      }\n      return makeRequest;\n    }()\n    /**\n     * Requests the BIP-32 extended pubkey to the hardware wallet.\n     * If `display` is `false`, only standard paths will be accepted; an error is returned if an unusual path is\n     * requested.\n     * If `display` is `true`, the requested path is shown on screen for user verification; unusual paths can be\n     * requested, and a warning is shown to the user in that case.\n     *\n     * @param path the requested BIP-32 path as a string\n     * @param display `false` to silently retrieve a pubkey for a standard path, `true` to display the path on screen\n     * @returns the base58-encoded serialized extended pubkey (xpub)\n     */\n  }, {\n    key: \"getExtendedPubkey\",\n    value: function () {\n      var _getExtendedPubkey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(path) {\n        var display,\n          pathElements,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              display = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;\n              pathElements = (0, _bip.pathStringToArray)(path);\n              if (!(pathElements.length > 6)) {\n                _context2.next = 4;\n                break;\n              }\n              throw new Error('Path too long. At most 6 levels allowed.');\n            case 4:\n              _context2.next = 6;\n              return this.makeRequest(BitcoinIns.GET_PUBKEY, Buffer.concat([Buffer.from(display ? [1] : [0]), (0, _bip.pathElementsToBuffer)(pathElements)]));\n            case 6:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", response.toString('ascii'));\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function getExtendedPubkey(_x4) {\n        return _getExtendedPubkey.apply(this, arguments);\n      }\n      return getExtendedPubkey;\n    }()\n    /**\n     * Registers a `WalletPolicy`, after interactive verification from the user.\n     * On success, after user's approval, this function returns the id (which is the same that can be computed with\n     * `walletPolicy.getid()`), followed by the 32-byte hmac. The client should store the hmac to use it for future\n     * requests to `getWalletAddress` or `signPsbt` using this `WalletPolicy`.\n     *\n     * @param walletPolicy the `WalletPolicy` to register\n     * @returns a pair of two 32-byte arrays: the id of the Wallet Policy, followed by the policy hmac\n     */\n  }, {\n    key: \"registerWallet\",\n    value: function () {\n      var _registerWallet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(walletPolicy) {\n        var clientInterpreter, serializedWalletPolicy, response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              clientInterpreter = new _clientCommands.ClientCommandInterpreter();\n              clientInterpreter.addKnownWalletPolicy(walletPolicy);\n              serializedWalletPolicy = walletPolicy.serialize();\n              _context3.next = 5;\n              return this.makeRequest(BitcoinIns.REGISTER_WALLET, Buffer.concat([(0, _varint.createVarint)(serializedWalletPolicy.length), serializedWalletPolicy]), clientInterpreter);\n            case 5:\n              response = _context3.sent;\n              if (!(response.length != 64)) {\n                _context3.next = 8;\n                break;\n              }\n              throw Error(\"Invalid response length. Expected 64 bytes, got \".concat(response.length));\n            case 8:\n              return _context3.abrupt(\"return\", [response.subarray(0, 32), response.subarray(32)]);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function registerWallet(_x5) {\n        return _registerWallet.apply(this, arguments);\n      }\n      return registerWallet;\n    }()\n    /**\n     * Returns the address of `walletPolicy` for the given `change` and `addressIndex`.\n     *\n     * @param walletPolicy the `WalletPolicy` to use\n     * @param walletHMAC the 32-byte hmac returned during wallet registration for a registered policy; otherwise\n     * `null` for a standard policy\n     * @param change `0` for a normal receive address, `1` for a change address\n     * @param addressIndex the address index to retrieve\n     * @param display `True` to show the address on screen, `False` to retrieve it silently\n     * @returns the address, as an ascii string.\n     */\n  }, {\n    key: \"getWalletAddress\",\n    value: function () {\n      var _getWalletAddress = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(walletPolicy, walletHMAC, change, addressIndex, display) {\n        var clientInterpreter, addressIndexBuffer, response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(change !== 0 && change !== 1)) {\n                _context4.next = 2;\n                break;\n              }\n              throw new Error('Change can only be 0 or 1');\n            case 2:\n              if (!(addressIndex < 0 || !Number.isInteger(addressIndex))) {\n                _context4.next = 4;\n                break;\n              }\n              throw new Error('Invalid address index');\n            case 4:\n              if (!(walletHMAC != null && walletHMAC.length != 32)) {\n                _context4.next = 6;\n                break;\n              }\n              throw new Error('Invalid HMAC length');\n            case 6:\n              clientInterpreter = new _clientCommands.ClientCommandInterpreter();\n              clientInterpreter.addKnownWalletPolicy(walletPolicy);\n              addressIndexBuffer = Buffer.alloc(4);\n              addressIndexBuffer.writeUInt32BE(addressIndex, 0);\n              _context4.next = 12;\n              return this.makeRequest(BitcoinIns.GET_WALLET_ADDRESS, Buffer.concat([Buffer.from(display ? [1] : [0]), walletPolicy.getId(), walletHMAC || Buffer.alloc(32, 0), Buffer.from([change]), addressIndexBuffer]), clientInterpreter);\n            case 12:\n              response = _context4.sent;\n              return _context4.abrupt(\"return\", response.toString('ascii'));\n            case 14:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function getWalletAddress(_x6, _x7, _x8, _x9, _x10) {\n        return _getWalletAddress.apply(this, arguments);\n      }\n      return getWalletAddress;\n    }()\n    /**\n     * Signs a psbt using a (standard or registered) `WalletPolicy`. This is an interactive command, as user validation\n     * is necessary using the device's secure screen.\n     * On success, a map of input indexes and signatures is returned.\n     * @param psbt an instance of `PsbtV2`\n     * @param walletPolicy the `WalletPolicy` to use for signing\n     * @param walletHMAC the 32-byte hmac obtained during wallet policy registration, or `null` for a standard policy\n     * @param progressCallback optionally, a callback that will be called every time a signature is produced during\n     * the signing process. The callback does not receive any argument, but can be used to track progress.\n     * @returns an array of of tuples with 3 elements containing:\n     *    - the index of the input being signed;\n     *    - a Buffer with either a 33-byte compressed pubkey or a 32-byte x-only pubkey whose corresponding secret key was used to sign;\n     *    - a Buffer with the corresponding signature.\n     */\n  }, {\n    key: \"signPsbt\",\n    value: function () {\n      var _signPsbt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(psbt, walletPolicy, walletHMAC, progressCallback) {\n        var merkelizedPsbt, clientInterpreter, _iterator, _step, map, _iterator2, _step2, _map, inputMapsRoot, outputMapsRoot, yielded, ret, _iterator3, _step3, inputAndSig, _parseVarint, _parseVarint2, inputIndex, inputIndexLen, pubkeyLen, pubkey, signature;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              merkelizedPsbt = new _merkelizedPsbt.MerkelizedPsbt(psbt);\n              if (!(walletHMAC != null && walletHMAC.length != 32)) {\n                _context5.next = 3;\n                break;\n              }\n              throw new Error('Invalid HMAC length');\n            case 3:\n              clientInterpreter = new _clientCommands.ClientCommandInterpreter(progressCallback); // prepare ClientCommandInterpreter\n              clientInterpreter.addKnownWalletPolicy(walletPolicy);\n              clientInterpreter.addKnownMapping(merkelizedPsbt.globalMerkleMap);\n              _iterator = _createForOfIteratorHelper(merkelizedPsbt.inputMerkleMaps);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  map = _step.value;\n                  clientInterpreter.addKnownMapping(map);\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              _iterator2 = _createForOfIteratorHelper(merkelizedPsbt.outputMerkleMaps);\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  _map = _step2.value;\n                  clientInterpreter.addKnownMapping(_map);\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n              clientInterpreter.addKnownList(merkelizedPsbt.inputMapCommitments);\n              inputMapsRoot = new _merkle.Merkle(merkelizedPsbt.inputMapCommitments.map(function (m) {\n                return (0, _merkle.hashLeaf)(m);\n              })).getRoot();\n              clientInterpreter.addKnownList(merkelizedPsbt.outputMapCommitments);\n              outputMapsRoot = new _merkle.Merkle(merkelizedPsbt.outputMapCommitments.map(function (m) {\n                return (0, _merkle.hashLeaf)(m);\n              })).getRoot();\n              _context5.next = 16;\n              return this.makeRequest(BitcoinIns.SIGN_PSBT, Buffer.concat([merkelizedPsbt.getGlobalKeysValuesRoot(), (0, _varint.createVarint)(merkelizedPsbt.getGlobalInputCount()), inputMapsRoot, (0, _varint.createVarint)(merkelizedPsbt.getGlobalOutputCount()), outputMapsRoot, walletPolicy.getId(), walletHMAC || Buffer.alloc(32, 0)]), clientInterpreter);\n            case 16:\n              yielded = clientInterpreter.getYielded();\n              ret = [];\n              _iterator3 = _createForOfIteratorHelper(yielded);\n              try {\n                for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                  inputAndSig = _step3.value;\n                  // inputAndSig contains:\n                  // <inputIndex : varint> <pubkeyLen : 1 byte> <pubkey : pubkeyLen bytes (32 or 33)> <signature : variable length>\n                  _parseVarint = (0, _varint.parseVarint)(inputAndSig, 0), _parseVarint2 = _slicedToArray(_parseVarint, 2), inputIndex = _parseVarint2[0], inputIndexLen = _parseVarint2[1];\n                  pubkeyLen = inputAndSig[inputIndexLen];\n                  pubkey = inputAndSig.subarray(inputIndexLen + 1, inputIndexLen + 1 + pubkeyLen);\n                  signature = inputAndSig.subarray(inputIndexLen + 1 + pubkeyLen);\n                  ret.push([Number(inputIndex), pubkey, signature]);\n                }\n              } catch (err) {\n                _iterator3.e(err);\n              } finally {\n                _iterator3.f();\n              }\n              return _context5.abrupt(\"return\", ret);\n            case 21:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function signPsbt(_x11, _x12, _x13, _x14) {\n        return _signPsbt.apply(this, arguments);\n      }\n      return signPsbt;\n    }()\n    /**\n     * Returns the fingerprint of the master public key, as per BIP-32 standard.\n     * @returns the master key fingerprint as a string of 8 hexadecimal digits.\n     */\n  }, {\n    key: \"getMasterFingerprint\",\n    value: function () {\n      var _getMasterFingerprint = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var fpr;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return this.makeRequest(BitcoinIns.GET_MASTER_FINGERPRINT, Buffer.from([]));\n            case 2:\n              fpr = _context6.sent;\n              return _context6.abrupt(\"return\", fpr.toString('hex'));\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function getMasterFingerprint() {\n        return _getMasterFingerprint.apply(this, arguments);\n      }\n      return getMasterFingerprint;\n    }()\n    /**\n     * Signs a message using the legacy Bitcoin Message Signing standard. The signed message is\n     * the double-sha256 hash of the concatenation of:\n     * - \"\\x18Bitcoin Signed Message:\\n\";\n     * - the length of `message`, encoded as a Bitcoin-style variable length integer;\n     * - `message`.\n     *\n     * @param message the serialized message to sign\n     * @param path the BIP-32 path of the key used to sign the message\n     * @returns base64-encoded signature of the message.\n     */\n  }, {\n    key: \"signMessage\",\n    value: function () {\n      var _signMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(message, path) {\n        var pathElements, clientInterpreter, nChunks, chunks, i, chunksRoot, result;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              pathElements = (0, _bip.pathStringToArray)(path);\n              clientInterpreter = new _clientCommands.ClientCommandInterpreter(); // prepare ClientCommandInterpreter\n              nChunks = Math.ceil(message.length / 64);\n              chunks = [];\n              for (i = 0; i < nChunks; i++) {\n                chunks.push(message.subarray(64 * i, 64 * i + 64));\n              }\n              clientInterpreter.addKnownList(chunks);\n              chunksRoot = new _merkle.Merkle(chunks.map(function (m) {\n                return (0, _merkle.hashLeaf)(m);\n              })).getRoot();\n              _context7.next = 9;\n              return this.makeRequest(BitcoinIns.SIGN_MESSAGE, Buffer.concat([(0, _bip.pathElementsToBuffer)(pathElements), (0, _varint.createVarint)(message.length), chunksRoot]), clientInterpreter);\n            case 9:\n              result = _context7.sent;\n              return _context7.abrupt(\"return\", result.toString('base64'));\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function signMessage(_x15, _x16) {\n        return _signMessage.apply(this, arguments);\n      }\n      return signMessage;\n    }()\n  }]);\n  return AppClient;\n}();\nexports.AppClient = AppClient;\nvar _default = AppClient;\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bip32asBuffer = bip32asBuffer;\nexports.getXpubComponents = getXpubComponents;\nexports.hardenedPathOf = hardenedPathOf;\nexports.pathArrayToString = pathArrayToString;\nexports.pathElementsToBuffer = pathElementsToBuffer;\nexports.pathStringToArray = pathStringToArray;\nexports.pubkeyFromXpub = pubkeyFromXpub;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.for-each\");\nvar _bip32Path = _interopRequireDefault(require(\"bip32-path\"));\nvar _bs58check = _interopRequireDefault(require(\"bs58check\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// TODO: get rid of this dependency\n\nfunction pathElementsToBuffer(paths) {\n  var buffer = Buffer.alloc(1 + paths.length * 4);\n  buffer[0] = paths.length;\n  paths.forEach(function (element, index) {\n    buffer.writeUInt32BE(element, 1 + 4 * index);\n  });\n  return buffer;\n}\nfunction bip32asBuffer(path) {\n  var pathElements = !path ? [] : pathStringToArray(path);\n  return pathElementsToBuffer(pathElements);\n}\nfunction pathArrayToString(pathElements) {\n  // bippath doesn't handle an empty path.\n  if (pathElements.length == 0) {\n    return \"m\";\n  }\n  return _bip32Path[\"default\"].fromPathArray(pathElements).toString();\n}\nfunction pathStringToArray(path) {\n  // bippath doesn't handle an empty path.\n  if (path == \"m\" || path == \"\") {\n    return [];\n  }\n  return _bip32Path[\"default\"].fromString(path).toPathArray();\n}\nfunction pubkeyFromXpub(xpub) {\n  var xpubBuf = _bs58check[\"default\"].decode(xpub);\n  return xpubBuf.slice(xpubBuf.length - 33);\n}\nfunction getXpubComponents(xpub) {\n  var xpubBuf = _bs58check[\"default\"].decode(xpub);\n  return {\n    chaincode: xpubBuf.slice(13, 13 + 32),\n    pubkey: xpubBuf.slice(xpubBuf.length - 33),\n    version: xpubBuf.readUInt32BE(0)\n  };\n}\nfunction hardenedPathOf(pathElements) {\n  for (var i = pathElements.length - 1; i >= 0; i--) {\n    if (pathElements[i] >= 0x80000000) {\n      return pathElements.slice(0, i + 1);\n    }\n  }\n  return [];\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.YieldCommand = exports.GetPreimageCommand = exports.GetMoreElementsCommand = exports.GetMerkleLeafProofCommand = exports.GetMerkleLeafIndexCommand = exports.ClientCommandInterpreter = void 0;\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.map\");\nrequire(\"core-js/modules/es6.array.some\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _buffertools = require(\"./buffertools\");\nvar _merkle = require(\"./merkle\");\nvar _varint = require(\"./varint\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ClientCommandCode;\n(function (ClientCommandCode) {\n  ClientCommandCode[ClientCommandCode[\"YIELD\"] = 16] = \"YIELD\";\n  ClientCommandCode[ClientCommandCode[\"GET_PREIMAGE\"] = 64] = \"GET_PREIMAGE\";\n  ClientCommandCode[ClientCommandCode[\"GET_MERKLE_LEAF_PROOF\"] = 65] = \"GET_MERKLE_LEAF_PROOF\";\n  ClientCommandCode[ClientCommandCode[\"GET_MERKLE_LEAF_INDEX\"] = 66] = \"GET_MERKLE_LEAF_INDEX\";\n  ClientCommandCode[ClientCommandCode[\"GET_MORE_ELEMENTS\"] = 160] = \"GET_MORE_ELEMENTS\";\n})(ClientCommandCode || (ClientCommandCode = {}));\nvar ClientCommand = /*#__PURE__*/_createClass(function ClientCommand() {\n  _classCallCheck(this, ClientCommand);\n  _defineProperty(this, \"code\", void 0);\n});\nvar YieldCommand = /*#__PURE__*/function (_ClientCommand) {\n  _inherits(YieldCommand, _ClientCommand);\n  var _super = _createSuper(YieldCommand);\n  function YieldCommand(results, progressCallback) {\n    var _this;\n    _classCallCheck(this, YieldCommand);\n    _this = _super.call(this);\n    _this.progressCallback = progressCallback;\n    _defineProperty(_assertThisInitialized(_this), \"results\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"code\", ClientCommandCode.YIELD);\n    _this.results = results;\n    return _this;\n  }\n  _createClass(YieldCommand, [{\n    key: \"execute\",\n    value: function execute(request) {\n      this.results.push(Buffer.from(request.subarray(1)));\n      if (this.progressCallback) {\n        this.progressCallback();\n      }\n      return Buffer.from('');\n    }\n  }]);\n  return YieldCommand;\n}(ClientCommand);\nexports.YieldCommand = YieldCommand;\nvar GetPreimageCommand = /*#__PURE__*/function (_ClientCommand2) {\n  _inherits(GetPreimageCommand, _ClientCommand2);\n  var _super2 = _createSuper(GetPreimageCommand);\n  function GetPreimageCommand(known_preimages, queue) {\n    var _this2;\n    _classCallCheck(this, GetPreimageCommand);\n    _this2 = _super2.call(this);\n    _defineProperty(_assertThisInitialized(_this2), \"known_preimages\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"queue\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"code\", ClientCommandCode.GET_PREIMAGE);\n    _this2.known_preimages = known_preimages;\n    _this2.queue = queue;\n    return _this2;\n  }\n  _createClass(GetPreimageCommand, [{\n    key: \"execute\",\n    value: function execute(request) {\n      var req = Buffer.from(request.subarray(1));\n\n      // we expect no more data to read\n      if (req.length != 1 + 32) {\n        throw new Error('Invalid request, unexpected trailing data');\n      }\n      if (req[0] != 0) {\n        throw new Error('Unsupported request, the first byte should be 0');\n      }\n\n      // read the hash\n      var hash = Buffer.alloc(32);\n      for (var i = 0; i < 32; i++) {\n        hash[i] = req[1 + i];\n      }\n      var req_hash_hex = hash.toString('hex');\n      var known_preimage = this.known_preimages.get(req_hash_hex);\n      if (known_preimage != undefined) {\n        var preimage_len_varint = (0, _varint.createVarint)(known_preimage.length);\n\n        // We can send at most 255 - len(preimage_len_out) - 1 bytes in a single message;\n        // the rest will be stored in the queue for GET_MORE_ELEMENTS\n        var max_payload_size = 255 - preimage_len_varint.length - 1;\n        var payload_size = Math.min(max_payload_size, known_preimage.length);\n        if (payload_size < known_preimage.length) {\n          for (var _i = payload_size; _i < known_preimage.length; _i++) {\n            this.queue.push(Buffer.from([known_preimage[_i]]));\n          }\n        }\n        return Buffer.concat([preimage_len_varint, Buffer.from([payload_size]), Buffer.from(known_preimage.subarray(0, payload_size))]);\n      }\n      throw Error(\"Requested unknown preimage for: \".concat(req_hash_hex));\n    }\n  }]);\n  return GetPreimageCommand;\n}(ClientCommand);\nexports.GetPreimageCommand = GetPreimageCommand;\nvar GetMerkleLeafProofCommand = /*#__PURE__*/function (_ClientCommand3) {\n  _inherits(GetMerkleLeafProofCommand, _ClientCommand3);\n  var _super3 = _createSuper(GetMerkleLeafProofCommand);\n  function GetMerkleLeafProofCommand(known_trees, queue) {\n    var _this3;\n    _classCallCheck(this, GetMerkleLeafProofCommand);\n    _this3 = _super3.call(this);\n    _defineProperty(_assertThisInitialized(_this3), \"known_trees\", void 0);\n    _defineProperty(_assertThisInitialized(_this3), \"queue\", void 0);\n    _defineProperty(_assertThisInitialized(_this3), \"code\", ClientCommandCode.GET_MERKLE_LEAF_PROOF);\n    _this3.known_trees = known_trees;\n    _this3.queue = queue;\n    return _this3;\n  }\n  _createClass(GetMerkleLeafProofCommand, [{\n    key: \"execute\",\n    value: function execute(request) {\n      var req = Buffer.from(request.subarray(1));\n      if (req.length < 32 + 1 + 1) {\n        throw new Error('Invalid request, expected at least 34 bytes');\n      }\n      var reqBuf = new _buffertools.BufferReader(req);\n      var hash = reqBuf.readSlice(32);\n      var hash_hex = hash.toString('hex');\n      var tree_size;\n      var leaf_index;\n      try {\n        tree_size = (0, _varint.sanitizeBigintToNumber)(reqBuf.readVarInt());\n        leaf_index = (0, _varint.sanitizeBigintToNumber)(reqBuf.readVarInt());\n      } catch (e) {\n        throw new Error(\"Invalid request, couldn't parse tree_size or leaf_index\");\n      }\n      var mt = this.known_trees.get(hash_hex);\n      if (!mt) {\n        throw Error(\"Requested Merkle leaf proof for unknown tree: \".concat(hash_hex));\n      }\n      if (leaf_index >= tree_size || mt.size() != tree_size) {\n        throw Error('Invalid index or tree size.');\n      }\n      if (this.queue.length != 0) {\n        throw Error('This command should not execute when the queue is not empty.');\n      }\n      var proof = mt.getProof(leaf_index);\n      var n_response_elements = Math.min(Math.floor((255 - 32 - 1 - 1) / 32), proof.length);\n      var n_leftover_elements = proof.length - n_response_elements;\n\n      // Add to the queue any proof elements that do not fit the response\n      if (n_leftover_elements > 0) {\n        var _this$queue;\n        (_this$queue = this.queue).push.apply(_this$queue, _toConsumableArray(proof.slice(-n_leftover_elements)));\n      }\n      return Buffer.concat([mt.getLeafHash(leaf_index), Buffer.from([proof.length]), Buffer.from([n_response_elements])].concat(_toConsumableArray(proof.slice(0, n_response_elements))));\n    }\n  }]);\n  return GetMerkleLeafProofCommand;\n}(ClientCommand);\nexports.GetMerkleLeafProofCommand = GetMerkleLeafProofCommand;\nvar GetMerkleLeafIndexCommand = /*#__PURE__*/function (_ClientCommand4) {\n  _inherits(GetMerkleLeafIndexCommand, _ClientCommand4);\n  var _super4 = _createSuper(GetMerkleLeafIndexCommand);\n  function GetMerkleLeafIndexCommand(known_trees) {\n    var _this4;\n    _classCallCheck(this, GetMerkleLeafIndexCommand);\n    _this4 = _super4.call(this);\n    _defineProperty(_assertThisInitialized(_this4), \"known_trees\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"code\", ClientCommandCode.GET_MERKLE_LEAF_INDEX);\n    _this4.known_trees = known_trees;\n    return _this4;\n  }\n  _createClass(GetMerkleLeafIndexCommand, [{\n    key: \"execute\",\n    value: function execute(request) {\n      var req = Buffer.from(request.subarray(1));\n      if (req.length != 32 + 32) {\n        throw new Error('Invalid request, unexpected trailing data');\n      }\n\n      // read the root hash\n      var root_hash = Buffer.alloc(32);\n      for (var i = 0; i < 32; i++) {\n        root_hash[i] = req.readUInt8(i);\n      }\n      var root_hash_hex = root_hash.toString('hex');\n\n      // read the leaf hash\n      var leef_hash = Buffer.alloc(32);\n      for (var _i2 = 0; _i2 < 32; _i2++) {\n        leef_hash[_i2] = req.readUInt8(32 + _i2);\n      }\n      var leef_hash_hex = leef_hash.toString('hex');\n      var mt = this.known_trees.get(root_hash_hex);\n      if (!mt) {\n        throw Error(\"Requested Merkle leaf index for unknown root: \".concat(root_hash_hex));\n      }\n      var leaf_index = 0;\n      var found = 0;\n      for (var _i3 = 0; _i3 < mt.size(); _i3++) {\n        if (mt.getLeafHash(_i3).toString('hex') == leef_hash_hex) {\n          found = 1;\n          leaf_index = _i3;\n          break;\n        }\n      }\n      return Buffer.concat([Buffer.from([found]), (0, _varint.createVarint)(leaf_index)]);\n    }\n  }]);\n  return GetMerkleLeafIndexCommand;\n}(ClientCommand);\nexports.GetMerkleLeafIndexCommand = GetMerkleLeafIndexCommand;\nvar GetMoreElementsCommand = /*#__PURE__*/function (_ClientCommand5) {\n  _inherits(GetMoreElementsCommand, _ClientCommand5);\n  var _super5 = _createSuper(GetMoreElementsCommand);\n  function GetMoreElementsCommand(queue) {\n    var _this5;\n    _classCallCheck(this, GetMoreElementsCommand);\n    _this5 = _super5.call(this);\n    _defineProperty(_assertThisInitialized(_this5), \"queue\", void 0);\n    _defineProperty(_assertThisInitialized(_this5), \"code\", ClientCommandCode.GET_MORE_ELEMENTS);\n    _this5.queue = queue;\n    return _this5;\n  }\n  _createClass(GetMoreElementsCommand, [{\n    key: \"execute\",\n    value: function execute(request) {\n      if (request.length != 1) {\n        throw new Error('Invalid request, unexpected trailing data');\n      }\n      if (this.queue.length === 0) {\n        throw new Error('No elements to get');\n      }\n\n      // all elements should have the same length\n      var element_len = this.queue[0].length;\n      if (this.queue.some(function (el) {\n        return el.length != element_len;\n      })) {\n        throw new Error('The queue contains elements with different byte length, which is not expected');\n      }\n      var max_elements = Math.floor(253 / element_len);\n      var n_returned_elements = Math.min(max_elements, this.queue.length);\n      var returned_elements = this.queue.splice(0, n_returned_elements);\n      return Buffer.concat([Buffer.from([n_returned_elements]), Buffer.from([element_len])].concat(_toConsumableArray(returned_elements)));\n    }\n  }]);\n  return GetMoreElementsCommand;\n}(ClientCommand);\n/**\n * This class will dispatch a client command coming from the hardware device to\n * the appropriate client command implementation. Those client commands\n * typically requests data from a merkle tree or merkelized maps.\n *\n * A ClientCommandInterpreter is prepared by adding the merkle trees and\n * merkelized maps it should be able to serve to the hardware device. This class\n * doesn't know anything about the semantics of the data it holds, it just\n * serves merkle data. It doesn't even know in what context it is being\n * executed, ie SignPsbt, getWalletAddress, etc.\n *\n * If the command yelds results to the client, as signPsbt does, the yielded\n * data will be accessible after the command completed by calling getYielded(),\n * which will return the yields in the same order as they came in.\n */\nexports.GetMoreElementsCommand = GetMoreElementsCommand;\nvar ClientCommandInterpreter = /*#__PURE__*/function () {\n  function ClientCommandInterpreter(progressCallback) {\n    _classCallCheck(this, ClientCommandInterpreter);\n    _defineProperty(this, \"roots\", new Map());\n    _defineProperty(this, \"preimages\", new Map());\n    _defineProperty(this, \"yielded\", []);\n    _defineProperty(this, \"queue\", []);\n    _defineProperty(this, \"commands\", new Map());\n    var commands = [new YieldCommand(this.yielded, progressCallback), new GetPreimageCommand(this.preimages, this.queue), new GetMerkleLeafIndexCommand(this.roots), new GetMerkleLeafProofCommand(this.roots, this.queue), new GetMoreElementsCommand(this.queue)];\n    for (var _i4 = 0, _commands = commands; _i4 < _commands.length; _i4++) {\n      var cmd = _commands[_i4];\n      if (this.commands.has(cmd.code)) {\n        throw new Error(\"Multiple commands with code \".concat(cmd.code));\n      }\n      this.commands.set(cmd.code, cmd);\n    }\n  }\n  _createClass(ClientCommandInterpreter, [{\n    key: \"getYielded\",\n    value: function getYielded() {\n      return this.yielded;\n    }\n  }, {\n    key: \"addKnownPreimage\",\n    value: function addKnownPreimage(preimage) {\n      this.preimages.set(_bitcoinjsLib.crypto.sha256(preimage).toString('hex'), preimage);\n    }\n  }, {\n    key: \"addKnownList\",\n    value: function addKnownList(elements) {\n      var _iterator = _createForOfIteratorHelper(elements),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var el = _step.value;\n          var preimage = Buffer.concat([Buffer.from([0]), el]);\n          this.addKnownPreimage(preimage);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var mt = new _merkle.Merkle(elements.map(function (el) {\n        return (0, _merkle.hashLeaf)(el);\n      }));\n      this.roots.set(mt.getRoot().toString('hex'), mt);\n    }\n  }, {\n    key: \"addKnownMapping\",\n    value: function addKnownMapping(mm) {\n      this.addKnownList(mm.keys);\n      this.addKnownList(mm.values);\n    }\n  }, {\n    key: \"addKnownWalletPolicy\",\n    value: function addKnownWalletPolicy(wp) {\n      this.addKnownPreimage(wp.serialize());\n      this.addKnownList(wp.keys.map(function (k) {\n        return Buffer.from(k, 'ascii');\n      }));\n      this.addKnownPreimage(Buffer.from(wp.descriptorTemplate));\n    }\n  }, {\n    key: \"execute\",\n    value: function execute(request) {\n      if (request.length == 0) {\n        throw new Error('Unexpected empty command');\n      }\n      var cmdCode = request[0];\n      var cmd = this.commands.get(cmdCode);\n      if (!cmd) {\n        throw new Error(\"Unexpected command code \".concat(cmdCode));\n      }\n      return cmd.execute(request);\n    }\n  }]);\n  return ClientCommandInterpreter;\n}();\nexports.ClientCommandInterpreter = ClientCommandInterpreter;","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MerkelizedPsbt = void 0;\nrequire(\"core-js/modules/es6.array.sort\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _merkleMap = require(\"./merkleMap\");\nvar _psbtv = require(\"./psbtv2\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * This class merkelizes a PSBTv2, by merkelizing the different\n * maps of the psbt. This is used during the transaction signing process,\n * where the hardware app can request specific parts of the psbt from the\n * client code and be sure that the response data actually belong to the psbt.\n * The reason for this is the limited amount of memory available to the app,\n * so it can't always store the full psbt in memory.\n *\n * The signing process is documented at\n * https://github.com/LedgerHQ/app-bitcoin-new/blob/master/doc/bitcoin.md#sign_psbt\n */\nvar MerkelizedPsbt = /*#__PURE__*/function (_PsbtV) {\n  _inherits(MerkelizedPsbt, _PsbtV);\n  var _super = _createSuper(MerkelizedPsbt);\n  function MerkelizedPsbt(psbt) {\n    var _this;\n    _classCallCheck(this, MerkelizedPsbt);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"globalMerkleMap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"inputMerkleMaps\", []);\n    _defineProperty(_assertThisInitialized(_this), \"outputMerkleMaps\", []);\n    _defineProperty(_assertThisInitialized(_this), \"inputMapCommitments\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"outputMapCommitments\", void 0);\n    psbt.copy(_assertThisInitialized(_this));\n    _this.globalMerkleMap = MerkelizedPsbt.createMerkleMap(_this.globalMap);\n    for (var i = 0; i < _this.getGlobalInputCount(); i++) {\n      _this.inputMerkleMaps.push(MerkelizedPsbt.createMerkleMap(_this.inputMaps[i]));\n    }\n    _this.inputMapCommitments = _toConsumableArray(_this.inputMerkleMaps.values()).map(function (v) {\n      return v.commitment();\n    });\n    for (var _i = 0; _i < _this.getGlobalOutputCount(); _i++) {\n      _this.outputMerkleMaps.push(MerkelizedPsbt.createMerkleMap(_this.outputMaps[_i]));\n    }\n    _this.outputMapCommitments = _toConsumableArray(_this.outputMerkleMaps.values()).map(function (v) {\n      return v.commitment();\n    });\n    return _this;\n  }\n  // These public functions are for MerkelizedPsbt.\n  _createClass(MerkelizedPsbt, [{\n    key: \"getGlobalSize\",\n    value: function getGlobalSize() {\n      return this.globalMap.size;\n    }\n  }, {\n    key: \"getGlobalKeysValuesRoot\",\n    value: function getGlobalKeysValuesRoot() {\n      return this.globalMerkleMap.commitment();\n    }\n  }], [{\n    key: \"createMerkleMap\",\n    value: function createMerkleMap(map) {\n      var sortedKeysStrings = _toConsumableArray(map.keys()).sort();\n      var values = sortedKeysStrings.map(function (k) {\n        var v = map.get(k);\n        if (!v) {\n          throw new Error('No value for key ' + k);\n        }\n        return v;\n      });\n      var sortedKeys = sortedKeysStrings.map(function (k) {\n        return Buffer.from(k, 'hex');\n      });\n      return new _merkleMap.MerkleMap(sortedKeys, values);\n    }\n  }]);\n  return MerkelizedPsbt;\n}(_psbtv.PsbtV2);\nexports.MerkelizedPsbt = MerkelizedPsbt;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MerkleMap = void 0;\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _merkle = require(\"./merkle\");\nvar _varint = require(\"./varint\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * This implements \"Merkelized Maps\", documented at\n * https://github.com/LedgerHQ/app-bitcoin-new/blob/master/doc/merkle.md#merkleized-maps\n *\n * A merkelized map consist of two merkle trees, one for the keys of\n * a map and one for the values of the same map, thus the two merkle\n * trees have the same shape. The commitment is the number elements\n * in the map followed by the keys' merkle root followed by the\n * values' merkle root.\n */\nvar MerkleMap = /*#__PURE__*/function () {\n  /**\n   * @param keys Sorted list of (unhashed) keys\n   * @param values values, in corresponding order as the keys, and of equal length\n   */\n  function MerkleMap(keys, values) {\n    _classCallCheck(this, MerkleMap);\n    _defineProperty(this, \"keys\", void 0);\n    _defineProperty(this, \"keysTree\", void 0);\n    _defineProperty(this, \"values\", void 0);\n    _defineProperty(this, \"valuesTree\", void 0);\n    if (keys.length != values.length) {\n      throw new Error('keys and values should have the same length');\n    }\n\n    // Sanity check: verify that keys are actually sorted and with no duplicates\n    for (var i = 0; i < keys.length - 1; i++) {\n      if (keys[i].toString('hex') >= keys[i + 1].toString('hex')) {\n        throw new Error('keys must be in strictly increasing order');\n      }\n    }\n    this.keys = keys;\n    this.keysTree = new _merkle.Merkle(keys.map(function (k) {\n      return (0, _merkle.hashLeaf)(k);\n    }));\n    this.values = values;\n    this.valuesTree = new _merkle.Merkle(values.map(function (v) {\n      return (0, _merkle.hashLeaf)(v);\n    }));\n  }\n  _createClass(MerkleMap, [{\n    key: \"commitment\",\n    value: function commitment() {\n      // returns a buffer between 65 and 73 (included) bytes long\n      return Buffer.concat([(0, _varint.createVarint)(this.keys.length), this.keysTree.getRoot(), this.valuesTree.getRoot()]);\n    }\n  }]);\n  return MerkleMap;\n}();\nexports.MerkleMap = MerkleMap;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletPolicy = exports.DefaultWalletPolicy = void 0;\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _buffertools = require(\"./buffertools\");\nvar _merkle = require(\"./merkle\");\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar WALLET_POLICY_V2 = 2;\n\n/**\n * The Bitcon hardware app uses a descriptors-like thing to describe\n * how to construct output scripts from keys. A \"Wallet Policy\" consists\n * of a \"Descriptor Template\" and a list of \"keys\". A key is basically\n * a serialized BIP32 extended public key with some added derivation path\n * information. This is documented at\n * https://github.com/LedgerHQ/app-bitcoin-new/blob/master/doc/wallet.md\n */\nvar WalletPolicy = /*#__PURE__*/function () {\n  /**\n   * Creates and instance of a wallet policy.\n   * @param name an ascii string, up to 16 bytes long; it must be an empty string for default wallet policies\n   * @param descriptorTemplate the wallet policy template\n   * @param keys and array of the keys, with the key derivation information\n   */\n  function WalletPolicy(name, descriptorTemplate, keys) {\n    _classCallCheck(this, WalletPolicy);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"descriptorTemplate\", void 0);\n    _defineProperty(this, \"keys\", void 0);\n    this.name = name;\n    this.descriptorTemplate = descriptorTemplate;\n    this.keys = keys;\n  }\n\n  /**\n   * Returns the unique 32-bytes id of this wallet policy.\n   */\n  _createClass(WalletPolicy, [{\n    key: \"getId\",\n    value: function getId() {\n      return _bitcoinjsLib.crypto.sha256(this.serialize());\n    }\n\n    /**\n     * Serializes the wallet policy for transmission via the hardware wallet protocol.\n     * @returns the serialized wallet policy\n     */\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      var keyBuffers = this.keys.map(function (k) {\n        return Buffer.from(k, 'ascii');\n      });\n      var m = new _merkle.Merkle(keyBuffers.map(function (k) {\n        return (0, _merkle.hashLeaf)(k);\n      }));\n      var buf = new _buffertools.BufferWriter();\n      buf.writeUInt8(WALLET_POLICY_V2); // wallet version\n\n      // length of wallet name, and wallet name\n      buf.writeVarSlice(Buffer.from(this.name, 'ascii'));\n\n      // length of descriptor template\n      buf.writeVarInt(this.descriptorTemplate.length);\n      // sha256 hash of descriptor template\n      buf.writeSlice(_bitcoinjsLib.crypto.sha256(Buffer.from(this.descriptorTemplate)));\n\n      // number of keys\n      buf.writeVarInt(this.keys.length);\n      // root of Merkle tree of keys\n      buf.writeSlice(m.getRoot());\n      return buf.buffer();\n    }\n  }]);\n  return WalletPolicy;\n}();\nexports.WalletPolicy = WalletPolicy;\n/**\n * Simplified class to handle default wallet policies that can be used without policy registration.\n */\nvar DefaultWalletPolicy = /*#__PURE__*/function (_WalletPolicy) {\n  _inherits(DefaultWalletPolicy, _WalletPolicy);\n  var _super = _createSuper(DefaultWalletPolicy);\n  function DefaultWalletPolicy(descriptorTemplate, key) {\n    _classCallCheck(this, DefaultWalletPolicy);\n    return _super.call(this, '', descriptorTemplate, [key]);\n  }\n  return _createClass(DefaultWalletPolicy);\n}(WalletPolicy);\nexports.DefaultWalletPolicy = DefaultWalletPolicy;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateMultisigPolicyTemplate = exports.validateMultisigPolicyScriptType = exports.validateMultisigPolicyKeys = exports.getTotalSignerCountFromTemplate = exports.getPolicyTemplateFromBraid = exports.getKeyOriginsFromBraid = exports.MultisigWalletPolicy = exports.KeyOrigin = void 0;\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es6.array.some\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _ledgerBitcoin = require(\"./vendor/ledger-bitcoin\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar KeyOrigin = /*#__PURE__*/function () {\n  function KeyOrigin(_ref) {\n    var xfp = _ref.xfp,\n      bip32Path = _ref.bip32Path,\n      xpub = _ref.xpub,\n      network = _ref.network;\n    _classCallCheck(this, KeyOrigin);\n    _defineProperty(this, \"xfp\", void 0);\n    _defineProperty(this, \"bip32Path\", void 0);\n    _defineProperty(this, \"xpub\", void 0);\n    (0, _unchainedBitcoin.validateRootFingerprint)(xfp);\n    this.xfp = xfp;\n    (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    this.bip32Path = bip32Path;\n    (0, _unchainedBitcoin.validateExtendedPublicKey)(xpub, network);\n    this.xpub = xpub;\n  }\n\n  /**\n   * Returns a key origin information in descriptor format\n   * @returns {string} policy template string\n   */\n  _createClass(KeyOrigin, [{\n    key: \"toString\",\n    value: function toString() {\n      var path = this.bip32Path;\n      if (this.bip32Path[0] === \"m\") {\n        path = this.bip32Path.slice(1);\n      }\n      return \"[\".concat(this.xfp).concat(path, \"]\").concat(this.xpub);\n    }\n\n    // TODO: Needs a way to turn a serialized key origin to instance of class\n  }]);\n  return KeyOrigin;\n}();\nexports.KeyOrigin = KeyOrigin;\n/**\n * Takes a Braid instance and translates it into a wallet policy template string\n * @param {Braid} braid - instance of a braid object from unchained-bitcoin\n * @returns {string} valid policy template string\n */\nvar getPolicyTemplateFromBraid = function getPolicyTemplateFromBraid(braid) {\n  var scriptType;\n  var requiredSigners = Number(braid.requiredSigners);\n  var nested = false;\n  switch (braid.addressType) {\n    case \"P2SH\":\n      scriptType = \"sh\";\n      break;\n    case \"P2WSH\":\n      scriptType = \"wsh\";\n      break;\n    case \"P2TR\":\n      scriptType = \"tr\";\n      break;\n    case \"P2SH-P2WSH\":\n      scriptType = \"wsh\";\n      nested = true;\n      break;\n    default:\n      throw new Error(\"Unknown address type: \".concat(braid.addressType));\n  }\n  var signersString = braid.extendedPublicKeys.map(function (_, index) {\n    return \"@\".concat(index, \"/**\");\n  }).join(\",\");\n\n  // TODO: should this always assume sorted?\n  var policy = \"\".concat(scriptType, \"(sortedmulti(\").concat(requiredSigners, \",\").concat(signersString, \"))\");\n  if (nested) return \"sh(\".concat(policy, \")\");\n  return policy;\n};\nexports.getPolicyTemplateFromBraid = getPolicyTemplateFromBraid;\nvar getKeyOriginsFromBraid = function getKeyOriginsFromBraid(braid) {\n  return braid.extendedPublicKeys.map(function (key) {\n    return new KeyOrigin({\n      xfp: key.rootFingerprint,\n      xpub: key.base58String,\n      bip32Path: key.path,\n      network: braid.network\n    });\n  });\n};\nexports.getKeyOriginsFromBraid = getKeyOriginsFromBraid;\nvar MultisigWalletPolicy = /*#__PURE__*/function () {\n  function MultisigWalletPolicy(_ref2) {\n    var name = _ref2.name,\n      template = _ref2.template,\n      keyOrigins = _ref2.keyOrigins;\n    _classCallCheck(this, MultisigWalletPolicy);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"template\", void 0);\n    _defineProperty(this, \"keyOrigins\", void 0);\n    // this is an unstated restriction from ledger\n    // if we don't check it here then registration will fail\n    // with an opaque error about invalid input data\n    // TODO: should this be left as full length and only\n    // abbreviated when translating to a ledger policy?\n    if (name.length > 64) {\n      console.warn(\"Wallet policy name too long. (\".concat(name.length, \") greater than max of 64 chars.\"));\n      this.name = \"\".concat(name.slice(0, 61), \"...\");\n    } else {\n      this.name = name;\n    }\n    validateMultisigPolicyTemplate(template);\n    this.template = template;\n    var totalSignerCount = getTotalSignerCountFromTemplate(template);\n    if (totalSignerCount !== keyOrigins.length) {\n      throw new Error(\"Expected \".concat(totalSignerCount, \" key origins but \").concat(keyOrigins.length, \" were passed\"));\n    }\n    this.keyOrigins = keyOrigins;\n  }\n  _createClass(MultisigWalletPolicy, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return JSON.stringify({\n        name: this.name,\n        template: this.template,\n        keyOrigins: this.keyOrigins\n      });\n    }\n  }, {\n    key: \"toLedgerPolicy\",\n    value: function toLedgerPolicy() {\n      return new _ledgerBitcoin.WalletPolicy(this.name, this.template, this.keyOrigins.map(function (ko) {\n        return ko.toString();\n      }));\n    }\n  }]);\n  return MultisigWalletPolicy;\n}();\nexports.MultisigWalletPolicy = MultisigWalletPolicy;\nvar validateMultisigPolicyScriptType = function validateMultisigPolicyScriptType(template) {\n  var acceptedScripts = [\"sh\", \"wsh\"];\n  var hasMatch = acceptedScripts.some(function (script) {\n    return template.startsWith(script);\n  });\n  if (!hasMatch) throw new Error(\"Invalid script type in template \".concat(template, \". Only script types \").concat(acceptedScripts.join(\", \"), \" accepted\"));\n};\nexports.validateMultisigPolicyScriptType = validateMultisigPolicyScriptType;\nvar validateMultisigPolicyKeys = function validateMultisigPolicyKeys(template) {\n  var requiredSigners = Number(template.match(/\\d+/)[0]);\n  if (!requiredSigners) throw new Error(\"Expected to find a required number of signers from the quorum\");\n  var count = getTotalSignerCountFromTemplate(template);\n  if (!count || count < requiredSigners) {\n    throw new Error(\"Required signers in policy \".concat(template, \" is \") + \"\".concat(requiredSigners, \" but found only \").concat(count, \" total keys\"));\n  }\n};\nexports.validateMultisigPolicyKeys = validateMultisigPolicyKeys;\nvar getTotalSignerCountFromTemplate = function getTotalSignerCountFromTemplate(template) {\n  return template.match(/@\\d+\\/\\*\\*/g).length;\n};\nexports.getTotalSignerCountFromTemplate = getTotalSignerCountFromTemplate;\nvar validateMultisigPolicyTemplate = function validateMultisigPolicyTemplate(template) {\n  validateMultisigPolicyScriptType(template);\n  validateMultisigPolicyKeys(template);\n};\nexports.validateMultisigPolicyTemplate = validateMultisigPolicyTemplate;","\"use strict\";\n\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.promise\");\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.object.define-properties\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TrezorSignMultisigTransaction = exports.TrezorSignMessage = exports.TrezorInteraction = exports.TrezorGetMetadata = exports.TrezorExportPublicKey = exports.TrezorExportHDNode = exports.TrezorExportExtendedPublicKey = exports.TrezorConfirmMultisigAddress = exports.TREZOR_RIGHT_BUTTON = exports.TREZOR_PUSH_AND_HOLD_BUTTON = exports.TREZOR_LEFT_BUTTON = exports.TREZOR_BOTH_BUTTONS = exports.TREZOR = void 0;\nexports.trezorCoin = trezorCoin;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.string.repeat\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.array.fill\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es7.object.entries\");\nrequire(\"core-js/modules/es6.regexp.split\");\nrequire(\"regenerator-runtime/runtime\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _interaction = require(\"./interaction\");\nvar _index = require(\"./index\");\nvar _ADDRESS_SCRIPT_TYPES;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Constant defining Trezor interactions.\n *\n * @type {string}\n * @default trezor\n */\nvar TREZOR = \"trezor\";\n\n// eslint-disable-next-line\nexports.TREZOR = TREZOR;\nvar TrezorConnect = require(\"@trezor/connect-web\")[\"default\"];\nvar ADDRESS_SCRIPT_TYPES = (_ADDRESS_SCRIPT_TYPES = {}, _defineProperty(_ADDRESS_SCRIPT_TYPES, _unchainedBitcoin.P2SH, \"SPENDMULTISIG\"), _defineProperty(_ADDRESS_SCRIPT_TYPES, _unchainedBitcoin.P2SH_P2WSH, \"SPENDP2SHWITNESS\"), _defineProperty(_ADDRESS_SCRIPT_TYPES, _unchainedBitcoin.P2WSH, \"SPENDWITNESS\"), _ADDRESS_SCRIPT_TYPES);\n\n/**\n * Constant representing the action of pushing the left button on a\n * Trezor device.\n *\n * @type {string}\n * @default 'trezor_left_button'\n */\nvar TREZOR_LEFT_BUTTON = \"trezor_left_button\";\n\n/**\n * Constant representing the action of pushing the right button on a\n * Trezor device.\n *\n * @type {string}\n * @default 'trezor_right_button'\n */\nexports.TREZOR_LEFT_BUTTON = TREZOR_LEFT_BUTTON;\nvar TREZOR_RIGHT_BUTTON = \"trezor_right_button\";\n\n/**\n * Constant representing the action of pushing both buttons on a\n * Trezor device.\n *\n * @type {string}\n * @default 'trezor_both_buttons'\n */\nexports.TREZOR_RIGHT_BUTTON = TREZOR_RIGHT_BUTTON;\nvar TREZOR_BOTH_BUTTONS = \"trezor_both_buttons\";\n\n/**\n * Constant representing the action of pushing and holding the Confirm\n * button on a Trezor model T device.\n *\n * @type {string}\n * @default 'trezor_push_and_hold_button'\n */\nexports.TREZOR_BOTH_BUTTONS = TREZOR_BOTH_BUTTONS;\nvar TREZOR_PUSH_AND_HOLD_BUTTON = \"trezor_push_and_hold_button\";\n\n// eslint-disable-next-line no-process-env\nexports.TREZOR_PUSH_AND_HOLD_BUTTON = TREZOR_PUSH_AND_HOLD_BUTTON;\nvar env_variables = _objectSpread({}, process.env); // Accessing directly does not appear to work, let's make a copy\n\nvar ENV_TREZOR_CONNECT_URL = env_variables.TREZOR_CONNECT_URL || env_variables.REACT_APP_TREZOR_CONNECT_URL;\nvar ENV_TREZOR_BLOCKBOOK_URL = env_variables.TREZOR_BLOCKBOOK_URL || env_variables.REACT_APP_TREZOR_BLOCKBOOK_URL;\nvar TREZOR_CONNECT_URL = ENV_TREZOR_CONNECT_URL || \"https://localhost:8088/\";\nvar TREZOR_BLOCKBOOK_URL = ENV_TREZOR_BLOCKBOOK_URL || \"http://localhost:3035\";\nvar TREZOR_DEV = env_variables.TREZOR_DEV || env_variables.REACT_APP_TREZOR_DEV;\ntry {\n  if (TREZOR_DEV) TrezorConnect.init({\n    connectSrc: TREZOR_CONNECT_URL,\n    lazyLoad: true,\n    // this param prevents iframe injection until a TrezorConnect.method is called\n    manifest: {\n      email: \"help@unchained-capital.com\",\n      appUrl: \"https://github.com/unchained-capital/unchained-wallets\"\n    }\n  });else TrezorConnect.manifest({\n    email: \"help@unchained-capital.com\",\n    appUrl: \"https://github.com/unchained-capital/unchained-wallets\"\n  });\n} catch (e) {\n  // We hit this if we run this code outside of a browser, for example\n  // during unit testing.\n  if (env_variables.NODE_ENV !== \"test\") {\n    console.error(\"Unable to call TrezorConnect.manifest.\");\n  }\n}\n\n/**\n * Base class for interactions with Trezor hardware wallets.\n *\n * Assumes we are using TrezorConnect to talk to the device.\n *\n * Subclasses *must* implement a method `this.connectParams` which\n * returns a 2-element array.  The first element of this array should\n * be a `TrezorConnect` method to use (e.g. -\n * `TrezorConnect.getAddress`).  The second element of this array\n * should be the parameters to pass to the given `TrezorConnect`\n * method.\n *\n * Errors thrown when calling TrezorConnect are not caught, so users\n * of this class (and its subclasses) should use `try...catch` as\n * always.\n *\n * Unsuccessful responses (the request succeeded but the Trezor device\n * returned an error message) are intercepted and thrown as errors.\n * This allows upstream `try...catch` blocks to intercept errors &\n * failures uniformly.\n *\n * Subclasses *may* implement the `parse(payload)` method which\n * accepts the response payload object and returns the relevant data.\n *\n * Subclasses will also want to implement a `messages()` method to\n * manipulate the messages returned to the user for each interaction.\n *\n * @extends {module:interaction.DirectKeystoreInteraction}\n * @example\n * import {TrezorInteraction} from \"unchained-wallets\";\n * // Simple subclass\n *\n * class SimpleTrezorInteraction extends TrezorInteraction {\n *\n *   constructor({network, param}) {\n *     super({network});\n *     this.param =  param;\n *   }\n *\n *   connectParams() {\n *     return [\n *       TrezorConnect.doSomething, // Not a real TrezorConnect function...\n *       {\n *         // Many Trezor methods require the `coin` parameter.  The\n *         // value of `this.trezorCoin` is set appropriately based on the\n *         // `network` provided in the constructor.\n *         coin: this.trezorCoin,\n *\n *         // Pass whatever arguments are required\n *         // by the TrezorConnect function being called.\n *         param: this.param,\n *         // ...\n *       }\n *     ];\n *   }\n *\n *   parsePayload(payload) {\n *     return payload.someValue;\n *   }\n *\n * }\n * // usage\n * import {MAINNET} from \"unchained-bitcoin\";\n * const interaction = new SimpleTrezorInteraction({network: MAINNET, param: \"foo\"});\n * const result = await interaction.run();\n * console.log(result); // someValue from payload\n */\nvar TrezorInteraction = /*#__PURE__*/function (_DirectKeystoreIntera) {\n  _inherits(TrezorInteraction, _DirectKeystoreIntera);\n  var _super = _createSuper(TrezorInteraction);\n  /**\n   * Trezor interactions require knowing the bitcoin network they are\n   * for.\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   */\n  function TrezorInteraction(_ref) {\n    var _this;\n    var network = _ref.network;\n    _classCallCheck(this, TrezorInteraction);\n    _this = _super.call(this);\n    _this.network = network;\n    _this.trezorCoin = trezorCoin(network);\n    return _this;\n  }\n\n  /**\n   * Default messages are added asking the user to plug in their\n   * Trezor device (`device.connect`) and about the TrezorConnect\n   * popups (`trezor.connect.generic`).\n   *\n   * Subclasses should override this method and add their own messages\n   * (don't forget to call `super()`).\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(TrezorInteraction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(TrezorInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        version: \"One\",\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        text: \"Make sure your Trezor device is plugged in.\",\n        code: \"device.connect\"\n      });\n      messages.push({\n        version: \"T\",\n        state: _interaction.PENDING,\n        level: _interaction.INFO,\n        text: \"Make sure your Trezor device is plugged in and unlocked.\",\n        code: \"device.connect\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Your browser should now open a new window to Trezor Connect. Ensure you have enabled popups for this site.\",\n        code: \"trezor.connect.generic\"\n      });\n      return messages;\n    }\n\n    /**\n     * Awaits the call of `this.method`, passing in the output of\n     * `this.params()`.\n     *\n     * If the call returns but is unsuccessful (`result.success`) is\n     * false, will throw the returned error message.  If some other\n     * error is thrown, it will not be caught.\n     *\n     * Otherwise it returns the result of passing `result.payload` to\n     * `this.parsePayload`.\n     *\n     * @returns {Promise} handles the work of calling TrezorConnect\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this$connectParams, _this$connectParams2, method, params, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$connectParams = this.connectParams(), _this$connectParams2 = _slicedToArray(_this$connectParams, 2), method = _this$connectParams2[0], params = _this$connectParams2[1];\n              if (!(TREZOR_DEV && method === TrezorConnect.signTransaction)) {\n                _context.next = 4;\n                break;\n              }\n              _context.next = 4;\n              return TrezorConnect.blockchainSetCustomBackend({\n                coin: \"Regtest\",\n                blockchainLink: {\n                  type: \"blockbook\",\n                  url: [TREZOR_BLOCKBOOK_URL]\n                }\n              });\n            case 4:\n              _context.next = 6;\n              return method(params);\n            case 6:\n              result = _context.sent;\n              if (result.success) {\n                _context.next = 9;\n                break;\n              }\n              throw new Error(result.payload.error);\n            case 9:\n              return _context.abrupt(\"return\", this.parsePayload(result.payload));\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function run() {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n    /**\n     * Override this method in a subclass to return a 2-element array.\n     *\n     * The first element should be a functin to call, typically a\n     * `TrezorConnect` method, e.g. `TrezorConnect.getAddress`.\n     *\n     * The second element should be the parameters to pass to this\n     * function.\n     *\n     * By default, the function passed just throws an error.\n     *\n     * @returns {Array<function,Object>} the TrezorConnect parameters\n     */\n  }, {\n    key: \"connectParams\",\n    value: function connectParams() {\n      return [function () {\n        throw new Error(\"Override the `connectParams` method on a subclass of TrezorInteraction.\");\n      }, {}];\n    }\n\n    /**\n     * Override this method in a subclass to parse the payload of a\n     * successful response from the device.\n     *\n     * By default, the entire payload is returned.\n     *\n     * @param {Object} payload - the raw payload from the device response\n     * @returns {Object} - relevant or formatted data built from the raw payload\n     */\n  }, {\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      return payload;\n    }\n  }]);\n  return TrezorInteraction;\n}(_interaction.DirectKeystoreInteraction);\n/**\n * Returns metadata about Trezor device.\n *\n * Includes model name, device label, firmware version, &\n * PIN/passphrase enablement.\n *\n * @extends {module:trezor.TrezorInteraction}\n * @example\n * import {TrezorGetMetadata} from \"unchained-wallets\";\n * const interaction = new TrezorGetMetadata();\n * const result = await interaction.run();\n * console.log(result);\n * {\n *   spec: \"Model 1 v1.8.3 w/PIN\",\n *   model: \"Model 1\",\n *   version: {\n *     major: 1,\n *     minor: 8,\n *     patch: 3,\n *     string: \"1.8.3\",\n *   },\n *   label: \"My Trezor\",\n *   pin: true,\n *   passphrase: false,\n * }\n */\nexports.TrezorInteraction = TrezorInteraction;\nvar TrezorGetMetadata = /*#__PURE__*/function (_TrezorInteraction) {\n  _inherits(TrezorGetMetadata, _TrezorInteraction);\n  var _super2 = _createSuper(TrezorGetMetadata);\n  /**\n   * This class doesn't actually require a `network`.\n   *\n   * @constructor\n   */\n  function TrezorGetMetadata() {\n    _classCallCheck(this, TrezorGetMetadata);\n    return _super2.call(this, {});\n  }\n\n  /**\n   * It is underdocumented, but TrezorConnect does support the\n   * `getFeatures` API call.\n   *\n   * See {@link https://github.com/trezor/connect/blob/v8/src/js/core/methods/GetFeatures.js}.\n   *\n   * @returns {Array<function, Object>} TrezorConnect parameters\n   */\n  _createClass(TrezorGetMetadata, [{\n    key: \"connectParams\",\n    value: function connectParams() {\n      return [TrezorConnect.getFeatures, {}];\n    }\n\n    /**\n     * Parses Trezor device featuress into an appropriate metadata\n     * shape.\n     *\n     * @param {Object} payload - the original payload from the device response\n     * @returns {Object} device metadata & features\n     */\n  }, {\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      // Example result:\n      //\n      // {\n      //   bootloader_hash: \"5112...846e9\"\n      //   bootloader_mode: null\n      //   device_id: \"BDF9...F198\"\n      //   firmware_present: null\n      //   flags: 0\n      //   fw_major: null\n      //   fw_minor: null\n      //   fw_patch: null\n      //   fw_vendor: null\n      //   fw_vendor_keys: null\n      //   imported: false\n      //   initialized: true\n      //   label: \"My Trezor\"\n      //   language: null\n      //   major_version: 1\n      //   minor_version: 6\n      //   model: \"1\"\n      //   needs_backup: false\n      //   no_backup: null\n      //   passphrase_cached: false\n      //   passphrase_protection: false\n      //   patch_version: 3\n      //   pin_cached: true\n      //   pin_protection: true\n      //   revision: \"ef8...862d7\"\n      //   unfinished_backup: null\n      //   vendor: \"bitcointrezor.com\"\n      // }\n      var major_version = payload.major_version,\n        minor_version = payload.minor_version,\n        patch_version = payload.patch_version,\n        label = payload.label,\n        model = payload.model,\n        pin_protection = payload.pin_protection,\n        passphrase_protection = payload.passphrase_protection;\n      var spec = \"Model \".concat(model, \" v.\").concat(major_version, \".\").concat(minor_version, \".\").concat(patch_version);\n      if (pin_protection) {\n        spec += \" w/PIN\";\n      }\n      if (passphrase_protection) {\n        spec += \" w/PASS\";\n      }\n      return {\n        spec: spec,\n        model: \"Model \".concat(model),\n        version: {\n          major: major_version,\n          minor: minor_version,\n          patch: patch_version,\n          string: \"\".concat(major_version, \".\").concat(minor_version, \".\").concat(patch_version)\n        },\n        label: label,\n        pin: pin_protection,\n        passphrase: passphrase_protection\n      };\n    }\n  }]);\n  return TrezorGetMetadata;\n}(TrezorInteraction);\n/**\n * Base class for interactions exporting information about an HD node\n * at a given BIP32 path.\n *\n * You may want to use `TrezorExportPublicKey` or\n * `TrezorExportExtendedPublicKey` directly.\n *\n * @extends {module:trezor.TrezorInteraction}\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {TrezorExportHDNode} from \"unchained-wallets\";\n * const interaction = new TrezorExportHDNode({network: MAINNET, bip32Path: \"m/48'/0'/0'/2'/0\"});\n * const node = await interaction.run();\n * console.log(node); // {publicKey: \"\", xpub: \"\", ...}\n *\n */\nexports.TrezorGetMetadata = TrezorGetMetadata;\nvar TrezorExportHDNode = /*#__PURE__*/function (_TrezorInteraction2) {\n  _inherits(TrezorExportHDNode, _TrezorInteraction2);\n  var _super3 = _createSuper(TrezorExportHDNode);\n  /**\n   * Requires a BIP32 path to the node to export as well as which network.\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   * @param {string} bip32Path - the BIP32 path for the HD node\n   * @param {boolean} includeXFP - return xpub with root fingerprint concatenated\n   */\n  function TrezorExportHDNode(_ref2) {\n    var _this2;\n    var network = _ref2.network,\n      bip32Path = _ref2.bip32Path,\n      includeXFP = _ref2.includeXFP;\n    _classCallCheck(this, TrezorExportHDNode);\n    _this2 = _super3.call(this, {\n      network: network\n    });\n    _this2.bip32Path = bip32Path;\n    _this2.includeXFP = includeXFP;\n    _this2.bip32ValidationErrorMessage = {};\n    var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    if (bip32PathError.length) {\n      _this2.bip32ValidationErrorMessage = {\n        text: bip32PathError,\n        code: \"trezor.bip32_path.path_error\"\n      };\n    }\n    return _this2;\n  }\n\n  /**\n   * Adds messages related to warnings Trezor devices make depending\n   * on the BIP32 path passed.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(TrezorExportHDNode, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(TrezorExportHDNode.prototype), \"messages\", this).call(this);\n      var bip32PathSegments = (this.bip32Path || \"\").split(\"/\");\n      if (bip32PathSegments.length < 4) {\n        // m, 45', 0', 0', ...\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          text: \"BIP32 path must be at least depth 3.\",\n          code: \"trezor.bip32_path.minimum\"\n        });\n      }\n      if (Object.entries(this.bip32ValidationErrorMessage).length) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: this.bip32ValidationErrorMessage.code,\n          text: this.bip32ValidationErrorMessage.text\n        });\n      }\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Confirm in the Trezor Connect window that you want to 'Export public key'. You may be prompted to enter your PIN.\",\n        code: \"trezor.connect.export_hdnode\"\n      });\n      return messages;\n    }\n  }, {\n    key: \"extractDetailsFromPayload\",\n    value: function extractDetailsFromPayload(_ref3) {\n      var payload = _ref3.payload,\n        pubkey = _ref3.pubkey;\n      if (payload.length !== 2) {\n        throw new Error(\"Payload does not have two responses.\");\n      }\n      var keyMaterial = \"\";\n      var rootFingerprint = null;\n      for (var i = 0; i < payload.length; i++) {\n        // Find the payload with bip32 = MULTISIG_ROOT to get xfp\n        if (payload[i].serializedPath === _index.MULTISIG_ROOT) {\n          var fp = payload[i].fingerprint;\n          rootFingerprint = (0, _unchainedBitcoin.fingerprintToFixedLengthHex)(fp);\n        } else {\n          keyMaterial = pubkey ? payload[i].publicKey : payload[i].xpub;\n        }\n      }\n      return {\n        rootFingerprint: rootFingerprint,\n        keyMaterial: keyMaterial\n      };\n    }\n\n    /**\n     * See {@link https://github.com/trezor/connect/blob/v8/docs/methods/getPublicKey.md}.\n     *\n     * @returns {Array<function,Object>} TrezorConnect parameters\n     */\n  }, {\n    key: \"connectParams\",\n    value: function connectParams() {\n      if (this.includeXFP) {\n        return [TrezorConnect.getPublicKey, {\n          bundle: [{\n            path: this.bip32Path\n          }, {\n            path: _index.MULTISIG_ROOT\n          }],\n          coin: this.trezorCoin,\n          crossChain: true\n        }];\n      }\n      return [TrezorConnect.getPublicKey, {\n        path: this.bip32Path,\n        coin: this.trezorCoin,\n        crossChain: true\n      }];\n    }\n  }]);\n  return TrezorExportHDNode;\n}(TrezorInteraction);\n/**\n * Returns the public key at a given BIP32 path.\n *\n * @extends {module:trezor.TrezorExportHDNode}\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {TrezorExportPublicKey} from \"unchained-wallets\";\n * const interaction = new TrezorExportPublicKey({network: MAINNET, bip32Path: \"m/48'/0'/0'/2'/0\"});\n * const publicKey = await interaction.run();\n * console.log(publicKey);\n * // \"03...\"\n */\nexports.TrezorExportHDNode = TrezorExportHDNode;\nvar TrezorExportPublicKey = /*#__PURE__*/function (_TrezorExportHDNode) {\n  _inherits(TrezorExportPublicKey, _TrezorExportHDNode);\n  var _super4 = _createSuper(TrezorExportPublicKey);\n  function TrezorExportPublicKey(_ref4) {\n    var _this3;\n    var network = _ref4.network,\n      bip32Path = _ref4.bip32Path,\n      includeXFP = _ref4.includeXFP;\n    _classCallCheck(this, TrezorExportPublicKey);\n    _this3 = _super4.call(this, {\n      network: network,\n      bip32Path: bip32Path,\n      includeXFP: includeXFP\n    });\n    _this3.includeXFP = includeXFP;\n    return _this3;\n  }\n\n  /**\n   * Parses the public key from the HD node response.\n   *\n   * @param {object} payload - the original payload from the device response\n   * @returns {string|Object} the (compressed) public key in hex or Object if root fingerprint requested\n   */\n  _createClass(TrezorExportPublicKey, [{\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      if (this.includeXFP) {\n        var _this$extractDetailsF = this.extractDetailsFromPayload({\n            payload: payload,\n            pubkey: true\n          }),\n          rootFingerprint = _this$extractDetailsF.rootFingerprint,\n          keyMaterial = _this$extractDetailsF.keyMaterial;\n        return {\n          rootFingerprint: rootFingerprint,\n          publicKey: keyMaterial\n        };\n      }\n      return payload.publicKey;\n    }\n  }]);\n  return TrezorExportPublicKey;\n}(TrezorExportHDNode);\n/**\n * Returns the extended public key at a given BIP32 path.\n *\n * @extends {module:trezor.TrezorExportHDNode}\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {TrezorExportExtendedPublicKey} from \"unchained-wallets\";\n * const interaction = new TrezorExportExtendedPublicKey({network: MAINNET, bip32Path: \"m/48'/0'/0'\"});\n * const xpub = await interaction.run();\n * console.log(xpub);\n * // \"xpub...\"\n */\nexports.TrezorExportPublicKey = TrezorExportPublicKey;\nvar TrezorExportExtendedPublicKey = /*#__PURE__*/function (_TrezorExportHDNode2) {\n  _inherits(TrezorExportExtendedPublicKey, _TrezorExportHDNode2);\n  var _super5 = _createSuper(TrezorExportExtendedPublicKey);\n  function TrezorExportExtendedPublicKey(_ref5) {\n    var _this4;\n    var network = _ref5.network,\n      bip32Path = _ref5.bip32Path,\n      includeXFP = _ref5.includeXFP;\n    _classCallCheck(this, TrezorExportExtendedPublicKey);\n    _this4 = _super5.call(this, {\n      network: network,\n      bip32Path: bip32Path,\n      includeXFP: includeXFP\n    });\n    _this4.includeXFP = includeXFP;\n    return _this4;\n  }\n\n  /**\n   * Parses the extended public key from the HD node response.\n   *\n   * If asking for XFP, return object with xpub and the root fingerprint.\n   *\n   * @param {object} payload the original payload from the device response\n   * @returns {string|Object} the extended public key (returns object if asked to include root fingerprint)\n   */\n  _createClass(TrezorExportExtendedPublicKey, [{\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      if (this.includeXFP) {\n        var _this$extractDetailsF2 = this.extractDetailsFromPayload({\n            payload: payload,\n            pubkey: false\n          }),\n          rootFingerprint = _this$extractDetailsF2.rootFingerprint,\n          keyMaterial = _this$extractDetailsF2.keyMaterial;\n        return {\n          rootFingerprint: rootFingerprint,\n          xpub: keyMaterial\n        };\n      }\n      return payload.xpub;\n    }\n  }]);\n  return TrezorExportExtendedPublicKey;\n}(TrezorExportHDNode);\n/**\n * Returns a signature for a bitcoin transaction with inputs from one\n * or many multisig addresses.\n *\n * - `inputs` is an array of `UTXO` objects from `unchained-bitcoin`\n * - `outputs` is an array of `TransactionOutput` objects from `unchained-bitcoin`\n * - `bip32Paths` is an array of (`string`) BIP32 paths, one for each input, identifying the path on this device to sign that input with\n *\n * @example\n * import {\n *   generateMultisigFromHex, TESTNET, P2SH,\n * } from \"unchained-bitcoin\";\n * import {TrezorSignMultisigTransaction} from \"unchained-wallets\";\n * const redeemScript = \"5...ae\";\n * const inputs = [\n *   {\n *     txid: \"8d276c76b3550b145e44d35c5833bae175e0351b4a5c57dc1740387e78f57b11\",\n *     index: 1,\n *     multisig: generateMultisigFromHex(TESTNET, P2SH, redeemScript),\n *     amountSats: '1234000'\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     amountSats: '1299659',\n *     address: \"2NGHod7V2TAAXC1iUdNmc6R8UUd4TVTuBmp\"\n *   },\n *   // other outputs...\n * ];\n * const interaction = new TrezorSignMultisigTransaction({\n *   network: TESTNET,\n *   inputs,\n *   outputs,\n *   bip32Paths: [\"m/45'/0'/0'/0\", // add more, 1 per input],\n * });\n * const signature = await interaction.run();\n * console.log(signatures);\n * // [\"ababab...\", // 1 per input]\n * @extends {module:trezor.TrezorInteraction}\n */\nexports.TrezorExportExtendedPublicKey = TrezorExportExtendedPublicKey;\nvar TrezorSignMultisigTransaction = /*#__PURE__*/function (_TrezorInteraction3) {\n  _inherits(TrezorSignMultisigTransaction, _TrezorInteraction3);\n  var _super6 = _createSuper(TrezorSignMultisigTransaction);\n  /**\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   * @param {UTXO[]} options.inputs - inputs for the transaction\n   * @param {TransactionOutput[]} options.outputs - outputs for the transaction\n   * @param {string[]} options.bip32Paths - BIP32 paths on this device to sign with, one per each input\n   * @param {string} [options.psbt] - PSBT string encoded in base64\n   * @param {object} [options.keyDetails] - Signing Key Details (Fingerprint + bip32 prefix)\n   * @param {boolean} [options.returnSignatureArray] - return an array of signatures instead of a signed PSBT (useful for test suite)\n   */\n  function TrezorSignMultisigTransaction(_ref6) {\n    var _this5;\n    var network = _ref6.network,\n      inputs = _ref6.inputs,\n      outputs = _ref6.outputs,\n      bip32Paths = _ref6.bip32Paths,\n      psbt = _ref6.psbt,\n      keyDetails = _ref6.keyDetails,\n      returnSignatureArray = _ref6.returnSignatureArray;\n    _classCallCheck(this, TrezorSignMultisigTransaction);\n    _this5 = _super6.call(this, {\n      network: network\n    });\n    if (!psbt || !keyDetails) {\n      _this5.inputs = inputs;\n      _this5.outputs = outputs;\n      _this5.bip32Paths = bip32Paths;\n    } else {\n      var _translatePSBT = (0, _unchainedBitcoin.translatePSBT)(network, _unchainedBitcoin.P2SH, psbt, keyDetails),\n        unchainedInputs = _translatePSBT.unchainedInputs,\n        unchainedOutputs = _translatePSBT.unchainedOutputs,\n        bip32Derivations = _translatePSBT.bip32Derivations;\n      _this5.psbt = psbt;\n      _this5.inputs = unchainedInputs;\n      _this5.outputs = unchainedOutputs;\n      _this5.bip32Paths = bip32Derivations.map(function (b32d) {\n        return b32d.path;\n      });\n      _this5.pubkeys = bip32Derivations.map(function (b32d) {\n        return b32d.pubkey;\n      });\n      _this5.returnSignatureArray = returnSignatureArray;\n    }\n    return _this5;\n  }\n\n  /**\n   * Adds messages describing the signing flow.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(TrezorSignMultisigTransaction, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(TrezorSignMultisigTransaction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Confirm in the Trezor Connect window that you want to 'Sign \".concat(this.network, \" transaction'.  You may be prompted to enter your PIN.\"),\n        code: \"trezor.connect.sign\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        version: \"One\",\n        text: \"Confirm each output on your Trezor device and approve the transaction.\",\n        messages: [{\n          text: \"For each output, your Trezor device will display the output amount and address.\",\n          action: TREZOR_RIGHT_BUTTON\n        }, {\n          text: \"Your Trezor device will display the total output amounts and fee amount.\",\n          action: TREZOR_RIGHT_BUTTON\n        }],\n        code: \"trezor.sign\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        version: \"T\",\n        text: \"Confirm each output on your Trezor device and approve the transaction.\",\n        messages: [{\n          text: \"For each input, your Trezor device will display a \\\"Confirm path\\\" dialogue displaying the input BIP32 path.  It is safe to continue\",\n          action: TREZOR_RIGHT_BUTTON\n        }, {\n          text: \"For each output, your Trezor device will display a \\\"Confirm sending\\\" dialogue displaying the output amount and address.\",\n          action: TREZOR_RIGHT_BUTTON\n        }, {\n          text: \"Your Trezor device will display the \\\"Confirm transaction\\\" dialogue displaying the total output amount and fee amount.\",\n          action: TREZOR_PUSH_AND_HOLD_BUTTON\n        }],\n        code: \"trezor.sign\"\n      });\n      return messages;\n    }\n\n    /**\n     * See {@link https://github.com/trezor/connect/blob/v8/docs/methods/signTransaction.md}.\n     *\n     * @returns {Array<function, Object>} TrezorConnect parameters\n     */\n  }, {\n    key: \"connectParams\",\n    value: function connectParams() {\n      var _this6 = this;\n      return [TrezorConnect.signTransaction, {\n        inputs: this.inputs.map(function (input, inputIndex) {\n          return trezorInput(input, _this6.bip32Paths[inputIndex]);\n        }),\n        outputs: this.outputs.map(function (output) {\n          return trezorOutput(output);\n        }),\n        coin: this.trezorCoin\n      }];\n    }\n\n    /**\n     * Parses the signature(s) out of the response payload.\n     *\n     * Ensures each input's signature hasa a trailing `...01` {@link https://bitcoin.org/en/glossary/sighash-all SIGHASH_ALL} byte.\n     *\n     * @param {Object} payload - the original payload from the device response\n     * @returns {string[]|string} array of input signatures, one per input or signed psbt with signatures inserted\n     */\n  }, {\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      // If we were passed a PSBT initially, we want to return a PSBT with partial signatures\n      // rather than the normal array of signatures.\n      if (this.psbt && !this.returnSignatureArray) {\n        return (0, _unchainedBitcoin.addSignaturesToPSBT)(this.network, this.psbt, this.pubkeys, this.parseSignature(payload.signatures, \"buffer\"));\n      } else {\n        return this.parseSignature(payload.signatures, \"hex\");\n      }\n    }\n  }]);\n  return TrezorSignMultisigTransaction;\n}(TrezorInteraction);\n/**\n * Shows a multisig address on the device and prompts the user to\n * confirm it.\n * If the optional publicKey parameter is used, the public key at\n * the given BIP32 path is checked, returning an error if they don't match.\n *\n * Without the publicKey parameter, this function simply checks that the\n * public key at the given BIP32 path is in the redeemscript (with\n * validation on-device.\n *\n * @extends {module:trezor.TrezorInteraction}\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n * } from \"unchained-bitcoin\";\n * import {TrezorConfirmMultisigAddress} from \"unchained-wallets\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\");\n * const interaction = new TrezorConfirmMultisigAddress({network: MAINNET, bip32Path: \"m/45'/0'/0'/0/0\", multisig});\n * await interaction.run();\n */\nexports.TrezorSignMultisigTransaction = TrezorSignMultisigTransaction;\nvar TrezorConfirmMultisigAddress = /*#__PURE__*/function (_TrezorInteraction4) {\n  _inherits(TrezorConfirmMultisigAddress, _TrezorInteraction4);\n  var _super7 = _createSuper(TrezorConfirmMultisigAddress);\n  /**\n   * Most of the information required to confirm a multisig address\n   * lives in the `Multisig` object from `unchained-bitcoin`.\n   *\n   * @param {object} options - options argument\n   * @param {string} options.network - bitcoin network\n   * @param {string} options.bip32Path - BIP32 path to the public key on this device used in the multisig address\n   * @param {Multisig} options.multisig - multisig object\n   * @param {string} options.publicKey - optional public key to confirm\n   */\n  function TrezorConfirmMultisigAddress(_ref7) {\n    var _this7;\n    var network = _ref7.network,\n      bip32Path = _ref7.bip32Path,\n      multisig = _ref7.multisig,\n      publicKey = _ref7.publicKey;\n    _classCallCheck(this, TrezorConfirmMultisigAddress);\n    _this7 = _super7.call(this, {\n      network: network\n    });\n    _this7.bip32Path = bip32Path;\n    _this7.multisig = multisig;\n    _this7.publicKey = publicKey;\n    return _this7;\n  }\n\n  /**\n   * Adds messages about BIP32 path warnings.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   *\n   */\n  _createClass(TrezorConfirmMultisigAddress, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(TrezorConfirmMultisigAddress.prototype), \"messages\", this).call(this);\n      if (this.publicKey) {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          text: \"Confirm in the Trezor Connect window that you want to \\u2018Export multiple \".concat(this.trezorCoin, \" addresses\\u2019. You may be prompted to enter your PIN. You may also receive a warning about your selected BIP32 path.\"),\n          code: \"trezor.connect.confirm_address\"\n        });\n      } else {\n        messages.push({\n          state: _interaction.ACTIVE,\n          level: _interaction.INFO,\n          text: \"Confirm in the Trezor Connect window that you want to 'Export \".concat(this.trezorCoin, \" address'.  You may be prompted to enter your PIN.\"),\n          code: \"trezor.connect.confirm_address\"\n        });\n      }\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        version: \"One\",\n        text: \"It is safe to continue and confirm the address on your Trezor device.\",\n        messages: [\n        // FIXME this only shows up on P2SH?\n        {\n          text: \"Your Trezor device may display a warning \\\"Wrong address path for selected coin\\\".  It is safe to continue\",\n          action: TREZOR_RIGHT_BUTTON\n        }, {\n          text: \"Your Trezor device will display the multisig address and BIP32 path.\",\n          action: TREZOR_RIGHT_BUTTON\n        }],\n        code: \"trezor.confirm_address\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        version: \"T\",\n        text: \"Confirm the addresss on your Trezor device.\",\n        messages: [{\n          text: \"For each signer in your quorum, your Trezor device will display a \\\"Confirm path\\\" dialogue displaying the signer's BIP32 path.  It is safe to continue\",\n          action: TREZOR_RIGHT_BUTTON\n        }, {\n          text: \"Your Trezor device will display the multisig address.\",\n          action: TREZOR_RIGHT_BUTTON\n        }],\n        code: \"trezor.confirm_address\"\n      });\n      return messages;\n    }\n\n    /**\n     * See {@link https://github.com/trezor/connect/blob/v8/docs/methods/getAddress.md}.\n     *\n     * @returns {Array<function, Object>} TrezorConnect parameters\n     */\n  }, {\n    key: \"connectParams\",\n    value: function connectParams() {\n      if (this.publicKey) {\n        return [TrezorConnect.getAddress, {\n          bundle: [{\n            path: this.bip32Path,\n            showOnTrezor: false,\n            coin: this.trezorCoin,\n            crossChain: true\n          }, {\n            path: this.bip32Path,\n            address: (0, _unchainedBitcoin.multisigAddress)(this.multisig),\n            showOnTrezor: true,\n            coin: this.trezorCoin,\n            crossChain: true,\n            multisig: {\n              m: (0, _unchainedBitcoin.multisigRequiredSigners)(this.multisig),\n              pubkeys: (0, _unchainedBitcoin.multisigPublicKeys)(this.multisig).map(function (publicKey) {\n                return trezorPublicKey(publicKey);\n              })\n            },\n            scriptType: ADDRESS_SCRIPT_TYPES[(0, _unchainedBitcoin.multisigAddressType)(this.multisig)]\n          }]\n        }];\n      } else {\n        return [TrezorConnect.getAddress, {\n          path: this.bip32Path,\n          address: (0, _unchainedBitcoin.multisigAddress)(this.multisig),\n          showOnTrezor: true,\n          coin: this.trezorCoin,\n          crossChain: true,\n          multisig: {\n            m: (0, _unchainedBitcoin.multisigRequiredSigners)(this.multisig),\n            pubkeys: (0, _unchainedBitcoin.multisigPublicKeys)(this.multisig).map(function (publicKey) {\n              return trezorPublicKey(publicKey);\n            })\n          },\n          scriptType: ADDRESS_SCRIPT_TYPES[(0, _unchainedBitcoin.multisigAddressType)(this.multisig)]\n        }];\n      }\n    }\n  }, {\n    key: \"parsePayload\",\n    value: function parsePayload(payload) {\n      if (!this.publicKey) {\n        return payload;\n      }\n      var keyPair = _bitcoinjsLib.ECPair.fromPublicKey(Buffer.from(this.publicKey, \"hex\"));\n      var _payments$p2pkh = _bitcoinjsLib.payments.p2pkh({\n          pubkey: keyPair.publicKey,\n          network: (0, _unchainedBitcoin.networkData)(this.network)\n        }),\n        address = _payments$p2pkh.address;\n      if (address !== payload[0].address && address !== payload[1].address) {\n        throw new Error(\"Wrong public key specified\");\n      }\n      return payload;\n    }\n  }]);\n  return TrezorConfirmMultisigAddress;\n}(TrezorInteraction);\n/**\n * Returns a signature for a message given a bip32 path.\n *\n * @extends {module:trezor.TrezorInteraction}\n */\nexports.TrezorConfirmMultisigAddress = TrezorConfirmMultisigAddress;\nvar TrezorSignMessage = /*#__PURE__*/function (_TrezorInteraction5) {\n  _inherits(TrezorSignMessage, _TrezorInteraction5);\n  var _super8 = _createSuper(TrezorSignMessage);\n  /**\n   * @param {object} options - option argument\n   * @param {string} option.network - network\n   * @param {string} option.bip32Path - bip32 path on this device to sign with\n   * @param {string} option.message - hex-encoded string to sign\n   */\n  function TrezorSignMessage(_ref8) {\n    var _this8;\n    var network = _ref8.network,\n      bip32Path = _ref8.bip32Path,\n      message = _ref8.message;\n    _classCallCheck(this, TrezorSignMessage);\n    _this8 = _super8.call(this, {\n      network: network\n    });\n    _this8.bip32Path = bip32Path;\n    _this8.message = message;\n    _this8.bip32ValidationErrorMessage = {};\n    var bip32PathError = (0, _unchainedBitcoin.validateBIP32Path)(bip32Path);\n    if (bip32PathError.length) {\n      _this8.bip32ValidationErrorMessage = {\n        text: bip32PathError,\n        code: \"trezor.bip32_path.path_error\"\n      };\n    }\n    return _this8;\n  }\n\n  /**\n   * Adds messages describing the signing flow.\n   *\n   * @returns {module:interaction.Message[]} messages for this interaction\n   */\n  _createClass(TrezorSignMessage, [{\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(TrezorSignMessage.prototype), \"messages\", this).call(this);\n      var bip32PathSegments = (this.bip32Path || \"\").split(\"/\");\n      if (bip32PathSegments.length < 4) {\n        // m, 45', 0', 0', ...\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          text: \"BIP32 path must be at least depth 3.\",\n          code: \"trezor.bip32_path.minimum\"\n        });\n      }\n      if (Object.entries(this.bip32ValidationErrorMessage).length) {\n        messages.push({\n          state: _interaction.PENDING,\n          level: _interaction.ERROR,\n          code: this.bip32ValidationErrorMessage.code,\n          text: this.bip32ValidationErrorMessage.text\n        });\n      }\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Confirm in the Trezor Connect window that you want to 'Sign message'.  You may be prompted to enter your PIN.\",\n        code: \"trezor.connect.sign\"\n      });\n      messages.push({\n        state: _interaction.ACTIVE,\n        level: _interaction.INFO,\n        text: \"Confirm the message to be signed on your Trezor device and approve for signing.\",\n        code: \"trezor.sign\"\n      });\n      return messages;\n    }\n\n    /**\n     * See {@link https://github.com/trezor/connect/blob/v8/docs/methods/signMessage.md}.\n     *\n     * @returns {Array<function, Object>} TrezorConnect parameters\n     */\n  }, {\n    key: \"connectParams\",\n    value: function connectParams() {\n      return [TrezorConnect.signMessage, {\n        path: this.bip32Path,\n        message: this.message\n      }];\n    }\n  }]);\n  return TrezorSignMessage;\n}(TrezorInteraction);\n/**\n * Returns the Trezor API version of the given network.\n *\n * @param {string} network - bitcoin network\n * @returns {string} Trezor API spelling for this network\n */\nexports.TrezorSignMessage = TrezorSignMessage;\nfunction trezorCoin(network) {\n  var testnet_network = TREZOR_DEV ? \"Regtest\" : \"Testnet\";\n  return network === _unchainedBitcoin.MAINNET ? \"Bitcoin\" : testnet_network;\n}\nfunction trezorInput(input, bip32Path) {\n  var requiredSigners = (0, _unchainedBitcoin.multisigRequiredSigners)(input.multisig);\n  var publicKeys = (0, _unchainedBitcoin.multisigPublicKeys)(input.multisig);\n  var addressType = (0, _unchainedBitcoin.multisigAddressType)(input.multisig);\n  var spendType = ADDRESS_SCRIPT_TYPES[addressType];\n  return _objectSpread({\n    script_type: spendType,\n    multisig: {\n      m: requiredSigners,\n      pubkeys: publicKeys.map(function (publicKey) {\n        return trezorPublicKey(publicKey);\n      }),\n      signatures: Array(publicKeys.length).fill(\"\")\n    },\n    prev_hash: input.txid,\n    prev_index: input.index,\n    address_n: (0, _unchainedBitcoin.bip32PathToSequence)(bip32Path)\n  }, input.amountSats && {\n    amount: (0, _bignumber[\"default\"])(input.amountSats).toString()\n  });\n}\nfunction trezorPublicKey(publicKey) {\n  return {\n    address_n: [],\n    node: {\n      // FIXME are all these 0's OK?\n      depth: 0,\n      child_num: 0,\n      fingerprint: 0,\n      chain_code: \"0\".repeat(64),\n      public_key: publicKey\n    }\n  };\n}\nfunction trezorOutput(output) {\n  return {\n    amount: (0, _bignumber[\"default\"])(output.amountSats).toFixed(0),\n    address: output.address,\n    script_type: \"PAYTOADDRESS\"\n  };\n}","module.exports = \"data:image/png;base64,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\"","import BigNumber from \"bignumber.js\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\n\nexport const DUST_IN_SATOSHIS = 546;\nexport const DUST_IN_BTC = satoshisToBitcoins(BigNumber(DUST_IN_SATOSHIS));\nexport const DEFAULT_PREFIX = \"m\";\nexport const CHANGE_INDEX = \"/1\";\nexport const DEFAULT_CHANGE_PREFIX = DEFAULT_PREFIX + CHANGE_INDEX;\n","import React from \"react\";\n\nexport default (url, text) => (\n  <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n    {text}\n  </a>\n);\n","import BigNumber from \"bignumber.js\";\nimport { estimateMultisigTransactionFee } from \"unchained-bitcoin/lib/fees\";\n\nimport { DUST_IN_SATOSHIS } from \"./constants\";\n\nexport { default as externalLink } from \"./ExternalLink\";\nexport { default as wrapText } from \"./WrapText\";\n\nexport function validatePositiveInteger(numberString) {\n  if (\n    numberString === null ||\n    numberString === undefined ||\n    numberString === \"\"\n  ) {\n    return \"Cannot be blank.\";\n  }\n  const number = parseInt(numberString, 10);\n  if (\n    Number.isNaN(number) ||\n    number.toString().length !== numberString.length ||\n    number <= 0\n  ) {\n    return \"Must be a positive whole number.\";\n  }\n\n  return \"\";\n}\n\nexport function downloadFile(body, filename) {\n  const blob = new Blob([body], { type: \"text/plain\" });\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveBlob(blob, filename);\n  } else {\n    const elem = window.document.createElement(\"a\");\n    elem.href = window.URL.createObjectURL(blob);\n    elem.download = filename;\n    document.body.appendChild(elem);\n    elem.click();\n    document.body.removeChild(elem);\n  }\n}\n\n/**\n * @description A utility function to determine if a spend is a valid\n * \"spend all\" transaction,\n * @param {Object} options - set of options used to determine if is spend all\n * @param {Object[]} options.outputs\n * @param {string} options.outputs[].amountSats\n * @param {string} options.walletBalance\n * @param {string} options.feesPerByteInSatoshis\n * @param {number} options.numInputs\n * @param {string} options.addressType\n * @param {number} options.m\n * @param {number} options.n\n * @returns {boolean} whether or not conditions are met to be \"spendAll\"\n */\nexport function isSpendAll(options) {\n  const config = {\n    ...options,\n    numOutputs: options.outputs.length,\n  };\n  const estimatedFees = estimateMultisigTransactionFee(config).toNumber();\n  const outputTotal = config.outputs.reduce((balance, output) => {\n    return balance.plus(output.amountSats);\n  }, new BigNumber(0));\n\n  if (outputTotal.plus(estimatedFees).isGreaterThan(options.walletBalance))\n    throw new Error(\"Wallet balance is insufficient to fund transaction\");\n\n  // if the difference between walletBalance minus fees\n  // and the output total is less than or equal to dust\n  // then this is a spend all.\n  return new BigNumber(options.walletBalance)\n    .minus(estimatedFees)\n    .minus(outputTotal)\n    .isLessThanOrEqualTo(DUST_IN_SATOSHIS);\n}\n\n/**\n * @description a naive coin selection algorithm that goes through available,\n * spendable slices, adding them together to sufficiently fund a tx with a\n * given set of outputs and address/wallet type.\n * **IMPORTANT**: this assumes no change output in the set of outputs given.\n * and it will indicate if the returned set of utxos sufficiently cover the output\n * and fees w/o need of change.\n * @param {Object} options - set of options used to determine if is spend all\n * @param {Object[]} options.outputs\n * @param {string} options.feesPerByteInSatoshis\n * @param {number} options.slices - spendable slices to select utxos from\n * @param {string} options.addressType\n * @param {number} options.m\n * @param {number} options.n\n * @returns {Array.<Object[]|boolean>} a tuple where the first index is the list of\n * inputs and the second index is a bool representing whether a change address is needed\n */\nexport function naiveCoinSelection(options) {\n  const { slices, outputs } = options;\n  const { count: numInputs, balance: walletBalance } = slices.reduce(\n    ({ count, balance }, slice) => {\n      return {\n        count: count + slice.utxos.length,\n        balance: slice.balanceSats.plus(balance),\n      };\n    },\n    {\n      count: 0,\n      balance: new BigNumber(0),\n    }\n  );\n\n  const outputTotal = outputs.reduce(\n    (total, output) => total.plus(output.amountSats),\n    new BigNumber(0)\n  );\n\n  const selectedUtxos = [];\n  let changeRequired;\n  let inputTotal = new BigNumber(0);\n\n  // checking if is a spendall to confirm that change is not required\n  const spendAll = isSpendAll({\n    ...options,\n    walletBalance,\n    numInputs,\n  });\n\n  if (spendAll) changeRequired = false;\n\n  // loop through each slice\n  for (let i = 0; i < slices.length; i += 1) {\n    const slice = slices[i];\n    const { utxos } = slice;\n    // add each utxo from the slice to the inputs array\n    for (let j = 0; j < utxos.length; j += 1) {\n      selectedUtxos.push({\n        ...utxos[j],\n        multisig: slice.multisig,\n        bip32Path: slice.bip32Path,\n        change: slice.change,\n      });\n    }\n    // add slice's balance to the inputs total\n    inputTotal = inputTotal.plus(slice.balanceSats);\n\n    // we can skip the following checks if it is a spend all tx\n    if (!spendAll) {\n      // calculate fees with a change address and without\n      // to evaluate if we need to keep going or not\n      const feesWithoutChange = estimateMultisigTransactionFee({\n        ...options,\n        numInputs: selectedUtxos.length,\n        numOutputs: outputs.length,\n      });\n      const feesWithChange = estimateMultisigTransactionFee({\n        ...options,\n        numInputs: selectedUtxos.length,\n        numOutputs: outputs.length + 1,\n      });\n\n      const inputOutputDiff = inputTotal.minus(outputTotal);\n      if (\n        inputOutputDiff\n          .minus(feesWithoutChange)\n          .isLessThanOrEqualTo(DUST_IN_SATOSHIS) &&\n        inputOutputDiff.minus(feesWithoutChange).isGreaterThanOrEqualTo(0)\n      ) {\n        // if value of inputs covers outputs and fees w/o change output and\n        // has only dust left over, then no change is required and we're done\n        changeRequired = false;\n        break;\n      } else if (inputOutputDiff.isGreaterThan(feesWithChange)) {\n        // value of current inputs covers outputs and fees w/ change output\n        // so our tx is funded but needs change.\n        changeRequired = true;\n        break;\n      }\n      // if inputs don't cover outputs plus change output and fees,\n      // then the loop will continue to add more inputs\n    }\n  }\n  return [selectedUtxos, changeRequired];\n}\n","import React from \"react\";\n\n// Components\nimport { Card, CardHeader, CardContent } from \"@material-ui/core\";\n\nconst Disclaimer = () => (\n  <Card>\n    <CardHeader title=\"Disclaimer\" />\n    <CardContent>\n      <small>\n        This application is in “alpha” state and is presented for evaluation and\n        testing only. It is provided “as is,” and any express or implied\n        warranties, including but not limited to the implied warranties of\n        merchantability and fitness for a particular purpose, are disclaimed. By\n        using this application, you accept all risks of such use, including full\n        responsibility for any direct or indirect loss of any kind resulting\n        from the use of this application, which may involve complete loss of any\n        Bitcoin or other coins associated with addresses used with this\n        application. In no event shall Unchained Capital, Inc., its employees\n        and affiliates, or developers of this application be liable for any\n        direct, indirect, incidental, special, exemplary, or consequential\n        damages (including, but not limited to, procurement of substitute goods\n        or services; loss of use, data, or profits; or business interruption)\n        however caused and on any theory of liability, whether in contract,\n        strict liability, or tort (including negligence or otherwise) arising in\n        any way out of the use of this application, even if advised of the\n        possibility of such damage.\n      </small>\n    </CardContent>\n  </Card>\n);\n\nexport default Disclaimer;\n","import React from \"react\";\n\n// Components\nimport {\n  Box,\n  Typography,\n  CardHeader,\n  CardContent,\n  Grid,\n  Card,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  CardActions,\n} from \"@material-ui/core\";\nimport {\n  Description,\n  GitHub,\n  YouTube,\n  BugReport,\n  Speed,\n  AccountBalanceWallet,\n  SportsVolleyball,\n} from \"@material-ui/icons\";\nimport { externalLink } from \"../utils\";\nimport Disclaimer from \"./Disclaimer\";\n\nconst Help = () => (\n  <div>\n    <Box mt={4} mb={2}>\n      <Typography variant=\"h2\">Welcome to Caravan!</Typography>\n    </Box>\n\n    <Grid container spacing={3}>\n      <Grid container item md={8} spacing={2} direction=\"column\">\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Get Started\" />\n            <CardContent>\n              <Box mb={3}>\n                <Typography>\n                  Start using caravan by choosing to either make a multisig\n                  wallet or fully stateless address.\n                </Typography>\n              </Box>\n              <Grid container alignItems=\"center\" justify=\"center\" spacing={3}>\n                <Grid item xs={10} md={4}>\n                  <Button\n                    variant=\"contained\"\n                    data-cy=\"setup-wallet-button\"\n                    size=\"large\"\n                    color=\"primary\"\n                    href=\"#/wallet\"\n                    startIcon={<AccountBalanceWallet />}\n                  >\n                    Wallet\n                  </Button>\n                </Grid>\n                <Grid item xs={10} md={4}>\n                  <Button\n                    variant=\"contained\"\n                    data-cy=\"setup-address-button\"\n                    size=\"large\"\n                    color=\"default\"\n                    href=\"#/address\"\n                    startIcon={<SportsVolleyball />}\n                  >\n                    Address\n                  </Button>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Stateless Multisig Coordinator\" />\n\n            <CardContent>\n              <p>\n                Caravan makes bitcoin multisig custody easier and safer through\n                transparency and standards.\n              </p>\n\n              <p>\n                Caravan is a <strong>coordination software</strong> for multisig\n                addresses and wallets. Caravan can be used to build a multisig\n                wallet derived from xpubs, or individual multisig addresses\n                derived from pubkeys. In both cases, in order to transact from\n                the wallet or address, you must also have your private keys and\n                BIP32 paths.\n              </p>\n\n              <p>\n                Caravan is <strong>stateless</strong>. It does not itself store\n                any data outside your current browser session. You must safekeep\n                the wallet details (xpubs, BIP32 paths) and addresses (redeem\n                scripts, BIP32 paths) that you create.\n              </p>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Keys\" />\n            <CardContent>\n              <p>All bitcoin is ultimately protected by private keys.</p>\n\n              <p>\n                Your private key may live on a piece of paper, a hardware\n                wallet, some software on a laptop, or even just in your mind.\n                Caravan, being stateless, does not store or ask for your private\n                key but it can talk to hardware devices or software applications\n                which do.\n              </p>\n\n              <p>\n                Caravan supports entering public keys and signatures via text,\n                so any wallet which can export such data can be made compatible\n                with Caravan.\n              </p>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Consensus\" />\n            <CardContent>\n              <p>\n                In order to look up wallet addresses and their balances, and\n                broadcast transactions, Caravan requires knowledge of the\n                constantly changing bitcoin network.\n              </p>\n\n              <p>\n                Running a full bitcoin node is the most private way to determine\n                the current state of the bitcoin network. Caravan can be easily\n                configured to use your own node for consensus information and\n                broadcasting transactions.\n              </p>\n\n              <p>\n                If you don&apos;t want to or cannot run your own full node,\n                Caravan defaults to using the freely available API at\n                <code> blockstream.info</code>.\n              </p>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      <Grid container item md={4} spacing={4} direction=\"column\">\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Learn More\" />\n            <CardContent>\n              <List>\n                <ListItem>\n                  <ListItemIcon>\n                    <Description />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\n                      \"https://unchained-capital.com/blog/gearing-up-the-caravan/\",\n                      \"Blog Post\"\n                    )}\n                  </ListItemText>\n                </ListItem>\n\n                <ListItem>\n                  <ListItemIcon>\n                    <YouTube />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\n                      \"https://www.youtube.com/playlist?list=PLUM8mrUjWoPRsVGEZ1gTntqPd4xrQZoiH\",\n                      \"Video Tutorials\"\n                    )}\n                  </ListItemText>\n                </ListItem>\n\n                <ListItem>\n                  <ListItemIcon>\n                    <GitHub />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\n                      \"https://github.com/unchained-capital/caravan\",\n                      \"Source Code\"\n                    )}\n                  </ListItemText>\n                </ListItem>\n              </List>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Supported Devices\" />\n            <CardContent>\n              Caravan has been <a href=\"#/test\">tested</a> with the following\n              hardware wallets:\n              <ul>\n                <li>\n                  {externalLink(\n                    \"https://shop.trezor.io/product/trezor-one-white\",\n                    \"Trezor One\"\n                  )}\n                </li>\n                <li>\n                  {externalLink(\n                    \"https://shop.trezor.io/product/trezor-model-t\",\n                    \"Trezor Model T\"\n                  )}\n                </li>\n                <li>\n                  {externalLink(\n                    \"https://www.ledger.com/products/ledger-nano-s\",\n                    \"Ledger Nano S\"\n                  )}\n                </li>\n                <li>\n                  {externalLink(\n                    \"https://www.ledger.com/products/ledger-nano-x\",\n                    \"Ledger Nano X\"\n                  )}\n                </li>\n                <li>\n                  {externalLink(\n                    \"https://coldcardwallet.com\",\n                    \"Coldcard Mk2, Mk3, & Mk4\"\n                  )}\n                </li>\n              </ul>\n              And web browsers:\n              <ul>\n                <li>\n                  {externalLink(\"https://www.google.com/chrome/\", \"Chrome\")}\n                </li>\n                <li>\n                  {externalLink(\n                    \"https://www.mozilla.org/en-US/firefox/new/\",\n                    \"Firefox\"\n                  )}\n                </li>\n              </ul>\n              Seeing a bug or need a feature?\n            </CardContent>\n            <CardActions>\n              <Button href=\"https://github.com/unchained-capital/caravan/issues\">\n                <BugReport /> &nbsp; Report Issue\n              </Button>\n              <Button data-cy=\"run-tests-button\" href=\"#/test\">\n                <Speed /> &nbsp; Run Tests\n              </Button>\n            </CardActions>\n          </Card>\n        </Grid>\n      </Grid>\n    </Grid>\n\n    <Box mt={2}>\n      <Disclaimer />\n    </Box>\n  </div>\n);\n\nexport default Help;\n","import axios from \"axios\";\nimport BigNumber from \"bignumber.js\";\nimport { satoshisToBitcoins, blockExplorerAPIURL } from \"unchained-bitcoin\";\n\n/**\n * Fetch information for signing transactions from block explorer API\n * @param {string} address - The address from which to obtain the information\n * @param {string} network - The network for the transaction to sign (mainnet|testnet)\n * @returns {multisig.UTXO} object for signing transaction inputs\n */\nexport async function blockExplorerGetAddresesUTXOs(address, network) {\n  try {\n    const utxosResult = await axios.get(\n      blockExplorerAPIURL(`/address/${address}/utxo`, network)\n    );\n    const utxos = utxosResult.data;\n    return await Promise.all(\n      utxos.map(async (utxo) => {\n        // FIXME: inefficient, need to cache here by utxo.txid\n        const transactionResult = await axios.get(\n          blockExplorerAPIURL(`/tx/${utxo.txid}/hex`, network)\n        );\n        const transactionHex = transactionResult.data;\n        const amount = new BigNumber(utxo.value);\n        return {\n          confirmed: utxo.status.confirmed,\n          txid: utxo.txid,\n          index: utxo.vout,\n          amount: satoshisToBitcoins(amount).toFixed(8),\n          amountSats: amount,\n          transactionHex,\n          time: utxo.status.block_time,\n        };\n      })\n    );\n  } catch (e) {\n    throw (e.response && e.response.data) || e;\n  }\n}\n\nexport async function blockExplorerGetAddressStatus(address, network) {\n  try {\n    const addressesult = await axios.get(\n      blockExplorerAPIURL(`/address/${address}`, network)\n    );\n    const addressData = addressesult.data;\n    return {\n      used:\n        addressData.chain_stats.funded_txo_count > 0 ||\n        addressData.mempool_stats.funded_txo_count > 0,\n    };\n  } catch (e) {\n    throw (e.response && e.response.data) || e;\n  }\n}\n\nexport async function blockExplorerGetFeeEstimate(network) {\n  try {\n    const feeEstimatesResult = await axios.get(\n      blockExplorerAPIURL(\"/fee-estimates\", network)\n    );\n    const feeEstimates = feeEstimatesResult.data;\n    return Math.ceil(feeEstimates[2]);\n  } catch (e) {\n    throw (e.response && e.response.data) || e;\n  }\n}\n\nexport async function blockExplorerBroadcastTransaction(\n  transactionHex,\n  network\n) {\n  try {\n    const broadcastResult = await axios.post(\n      blockExplorerAPIURL(\"/tx\", network),\n      transactionHex\n    );\n    return broadcastResult.data;\n  } catch (e) {\n    throw (e.response && e.response.data) || e;\n  }\n}\n\n/**\n * @module block_explorer\n */\n","import axios from \"axios\";\nimport BigNumber from \"bignumber.js\";\nimport { bitcoinsToSatoshis } from \"unchained-bitcoin\";\n\nasync function callBitcoind(url, auth, method, params = []) {\n  // FIXME\n  // eslint-disable-next-line no-async-promise-executor\n  return new Promise(async (resolve, reject) => {\n    axios(url, {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      auth,\n      data: {\n        jsonrpc: \"2.0\",\n        id: 0,\n        method: `${method}`,\n        params,\n      },\n    })\n      .then((resp) => resolve(resp.data))\n      .catch(reject);\n  });\n}\n\n/**\n * check if error from bitcoind is address not found in wallet\n * this allows client side interpretation of the error\n * @param {Error} e - the error object to check\n * @returns {boolean} true if the desired error\n */\nexport function isWalletAddressNotFoundError(e) {\n  return (\n    e.response &&\n    e.response.data &&\n    e.response.data.error &&\n    e.response.data.error.code === -4\n  );\n}\n\nexport function bitcoindParams(client) {\n  const { url, username, password } = client;\n  const auth = { username, password };\n  return { url, auth };\n}\n\n/**\n * Fetch unspent outputs for a single or set of addresses\n * @param {Object} options - what is needed to communicate with the RPC\n * @param {string} options.url - where to connect\n * @param {AxiosBasicCredentials} options.auth - username and password\n * @param {string} options.address - The address from which to obtain the information\n * @returns {UTXO} object for signing transaction inputs\n */\nexport async function bitcoindListUnspent({ url, auth, address, addresses }) {\n  try {\n    const addressParam = addresses || [address];\n    const resp = await callBitcoind(url, auth, \"listunspent\", [\n      0,\n      9999999,\n      addressParam,\n    ]);\n    const promises = [];\n    resp.result.forEach((utxo) => {\n      promises.push(callBitcoind(url, auth, \"gettransaction\", [utxo.txid]));\n    });\n    const previousTransactions = await Promise.all(promises);\n    return resp.result.map((utxo, mapindex) => {\n      const amount = new BigNumber(utxo.amount);\n      return {\n        confirmed: (utxo.confirmations || 0) > 0,\n        txid: utxo.txid,\n        index: utxo.vout,\n        amount: amount.toFixed(8),\n        amountSats: bitcoinsToSatoshis(amount),\n        transactionHex: previousTransactions[mapindex].result.hex,\n        time: previousTransactions[mapindex].result.blocktime,\n      };\n    });\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error(\"There was a problem:\", e.message);\n    throw e;\n  }\n}\n\nexport async function bitcoindGetAddressStatus({ url, auth, address }) {\n  try {\n    const resp = await callBitcoind(url, auth, \"getreceivedbyaddress\", [\n      address,\n    ]);\n    if (typeof resp.result === \"undefined\") {\n      throw new Error(`Error: invalid response from ${url}`);\n    }\n    return {\n      used: resp.result > 0,\n    };\n  } catch (e) {\n    if (isWalletAddressNotFoundError(e))\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Address ${address} not found in bitcoind's wallet. Query failed.`\n      );\n    else console.error(e.message); // eslint-disable-line no-console\n    return e;\n  }\n}\n\nexport async function bitcoindEstimateSmartFee({ url, auth, numBlocks = 2 }) {\n  const resp = await callBitcoind(url, auth, \"estimatesmartfee\", [numBlocks]);\n  const feeRate = resp.result.feerate;\n  return Math.ceil(feeRate * 100000);\n}\n\nexport async function bitcoindSendRawTransaction({ url, auth, hex }) {\n  try {\n    const resp = await callBitcoind(url, auth, \"sendrawtransaction\", [hex]);\n    return resp.result;\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(\"send tx error\", e);\n    throw (e.response && e.response.data.error.message) || e;\n  }\n}\n\nexport function bitcoindImportMulti({ url, auth, addresses, label, rescan }) {\n  const imports = addresses.map((address) => {\n    return {\n      scriptPubKey: {\n        address,\n      },\n      label,\n      timestamp: 0, // TODO: better option to ensure address history is picked up?\n    };\n  });\n  const params = [url, auth, \"importmulti\", [imports, { rescan }]];\n  if (rescan) {\n    callBitcoind(...params); // TODO: what to do on catch?\n    return new Promise((resolve) => resolve({ result: [] }));\n  }\n  return callBitcoind(...params);\n}\n","import { sortInputs } from \"unchained-bitcoin\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  blockExplorerGetAddresesUTXOs,\n  blockExplorerGetFeeEstimate,\n  blockExplorerBroadcastTransaction,\n  blockExplorerGetAddressStatus,\n} from \"./block_explorer\";\nimport {\n  bitcoindListUnspent,\n  bitcoindEstimateSmartFee,\n  bitcoindSendRawTransaction,\n  bitcoindParams,\n  bitcoindGetAddressStatus,\n  isWalletAddressNotFoundError,\n} from \"./bitcoind\";\n\nexport const BLOCK_EXPLORER = \"public\";\nexport const BITCOIND = \"private\";\n\nfunction fetchAddressUTXOsUnsorted(address, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetAddresesUTXOs(address, network);\n  }\n  return bitcoindListUnspent({\n    ...bitcoindParams(client),\n    ...{ address },\n  });\n}\n\n/**\n * Fetch utxos for an address, calculate total balances\n * and return an object describing the addresses state\n * @param {string} address\n * @param {string} network\n * @param {object} client\n * @returns {object} slice object with information gathered for that address\n */\nexport async function fetchAddressUTXOs(address, network, client) {\n  let unsortedUTXOs;\n\n  let updates = {\n    utxos: [],\n    balanceSats: BigNumber(0),\n    fetchedUTXOs: false,\n    fetchUTXOsError: \"\",\n  };\n  try {\n    unsortedUTXOs = await fetchAddressUTXOsUnsorted(address, network, client);\n  } catch (e) {\n    if (client.type === \"private\" && isWalletAddressNotFoundError(e)) {\n      updates = {\n        utxos: [],\n        balanceSats: BigNumber(0),\n        addressKnown: false,\n        fetchedUTXOs: true,\n        fetchUTXOsError: \"\",\n      };\n    } else {\n      updates = { fetchUTXOsError: e.toString() };\n    }\n  }\n\n  // if no utxos then return updates object as is\n  if (!unsortedUTXOs) return updates;\n\n  // sort utxos\n  const utxos = sortInputs(unsortedUTXOs);\n\n  // calculate the total balance from all utxos\n  const balanceSats = utxos\n    .map((utxo) => utxo.amountSats)\n    .reduce(\n      (accumulator, currentValue) => accumulator.plus(currentValue),\n      new BigNumber(0)\n    );\n\n  return {\n    ...updates,\n    balanceSats,\n    utxos,\n    fetchedUTXOs: true,\n    fetchUTXOsError: \"\",\n  };\n}\n\nexport function getAddressStatus(address, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetAddressStatus(address, network);\n  }\n  return bitcoindGetAddressStatus({\n    ...bitcoindParams(client),\n    ...{ address },\n  });\n}\n\nexport function fetchFeeEstimate(network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetFeeEstimate(network);\n  }\n  return bitcoindEstimateSmartFee({\n    ...bitcoindParams(client),\n    ...{ numBlocks: 1 },\n  });\n}\n\nexport function broadcastTransaction(transactionHex, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerBroadcastTransaction(transactionHex, network);\n  }\n  return bitcoindSendRawTransaction({\n    ...bitcoindParams(client),\n    ...{ hex: transactionHex },\n  });\n}\n","import { DEFAULT_CHANGE_PREFIX, CHANGE_INDEX } from \"./constants\";\n\nconst initSortDir = (order) => (order === \"asc\" ? -1 : 1);\n\n/**\n * Function to compare two slices and determine sort\n * order by BIP32 path\n * @param {object} a - slice a for comparison\n * @param {object} b - slice b for comparison\n * @param {string} [orderDir = \"asc\"] - direction for ordering (desc or asc)\n */\nexport function compareSlicesByPath(a, b, orderDir = \"asc\") {\n  if (!a.bip32Path && !b.bip32Path)\n    throw new Error(\"Mising BIP32 path for comparing slices.\");\n\n  const direction = initSortDir(orderDir);\n\n  if (a.change && !b.change) return direction;\n  if (!a.change && b.change) return -direction;\n  const aint = parseInt(a.bip32Path.split(\"/\").reverse()[0], 10);\n  const bint = parseInt(b.bip32Path.split(\"/\").reverse()[0], 10);\n  return aint > bint ? direction : -direction;\n}\n\n/**\n * Function to compare two slices and determine sort\n * order by balance\n * @param {object} a - slice a for comparison\n * @param {object} b - slice b for comparison\n * @param {string} [orderDir = \"asc\"] - direction for ordering (desc or asc)\n */\nexport function compareSlicesByBalance(a, b, orderDir = \"asc\") {\n  if (!a.balanceSats && !b.balanceSats)\n    throw new Error(\"Missing balance for comparing slices\");\n\n  const direction = initSortDir(orderDir);\n\n  if (a.balanceSats.isEqualTo(b.balanceSats)) return 0;\n  return a.balanceSats.isGreaterThan(b.balanceSats) ? direction : -direction;\n}\n\n/**\n * Function to compare two slices and determine sort\n * order by total UTXO count\n * @param {object} a - slice a for comparison\n * @param {object} b - slice b for comparison\n * @param {string} [orderDir = \"asc\"] - direction for ordering (desc or asc)\n */\nexport function compareSlicesByUTXOCount(a, b, orderDir = \"asc\") {\n  if (!a.utxos && !b.utxos)\n    throw new Error(\"Missing utxo array for comparing slices\");\n  const direction = initSortDir(orderDir);\n  if (a.utxos.length === b.utxos.length) return 0;\n  return a.utxos.length > b.utxos.length ? direction : -direction;\n}\n\n/**\n * Function to compare two slices and determine sort\n * order by lastUsed time\n * @param {object} a - slice a for comparison\n * @param {object} b - slice b for comparison\n * @param {string} [orderDir = \"asc\"] - direction for ordering (desc or asc)\n * @returns {number}\n */\nexport function compareSlicesByTime(a, b, orderDir = \"asc\") {\n  const direction = initSortDir(orderDir);\n  if (!a.utxos && !b.utxos && !a.lastUsed && !b.lastUsed) return 0;\n\n  // when ascending, spent is after unused but before used and unspent\n  if (a.lastUsed === \"Spent\")\n    return b.lastUsed && b.lastUsed !== \"Spent\" ? -direction : direction;\n  if (b.lastUsed === \"Spent\")\n    return a.lastUsed && a.lastUsed !== \"Spent\" ? direction : -direction;\n\n  // if there is a lastUsedTime param then we should be able to compare those\n  if (a.lastUsedTime && b.lastUsedTime) {\n    if (a.lastUsedTime === b.lastUsedTime) return 0;\n    return a.lastUsedTime >= b.lastUsedTime ? direction : -direction;\n  }\n\n  if (a.lastUsedTime && (!b.lastUsedTime || b.utxos.length === 0)) {\n    return direction;\n  }\n\n  if (b.lastUsedTime && (!a.lastUsedTime || a.utxos.length === 0)) {\n    return -direction;\n  }\n\n  if (a.utxos.length === 0) {\n    return b.utxos.length === 0 ? 0 : direction;\n  }\n  if (b.utxos.length === 0) {\n    return a.utxos.length === 0 ? 0 : -direction;\n  }\n  const amax = Math.max(...a.utxos.map((utxo) => utxo.time));\n  const bmax = Math.max(...b.utxos.map((utxo) => utxo.time));\n\n  if (Number.isNaN(amax) && Number.Number.isNaN(bmax)) return 0;\n  if (Number.isNaN(amax)) return direction;\n  if (Number.isNaN(bmax)) return -direction;\n  return amax > bmax ? direction : -direction;\n}\n\nexport function isChange(path) {\n  // if the prefix matches the change prefix\n  // and there is only 1 more index after, then it is change\n  const prefixLength = DEFAULT_CHANGE_PREFIX.length;\n  if (\n    path.slice(0, prefixLength) === DEFAULT_CHANGE_PREFIX &&\n    // this checks that the only thing after the change prefix is an index\n    path.slice(prefixLength).match(/^([0-9]+)$/g)\n  )\n    return true;\n\n  // if the last two indexes are not hardened and the second to last\n  // index in the path is the change index, then it is change\n  const pathIndexMatcher = /\\/([0-9]+('?))/g;\n  const indexes = path.match(pathIndexMatcher).slice(-2);\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const index of indexes) {\n    // neither of the final two indexes should be hardened\n    // if it is change\n    if (index.includes(\"'\")) return false;\n  }\n\n  // if two matching indexes found and first is change, e.g. /1/0\n  // then it is change\n  if (indexes[0] === CHANGE_INDEX && indexes.length === 2) return true;\n  return false;\n}\n","import { createSelector } from \"reselect\";\n\n// convert slice objects to array of slice values\n// only care about inbound to deposit account, not change\nconst getDepositSlices = (state) => Object.values(state.wallet.deposits.nodes);\nconst getWalletSlices = (state) => [\n  ...Object.values(state.wallet.deposits.nodes),\n  ...Object.values(state.wallet.change.nodes),\n];\n\nconst getAddressType = (state) => state.settings.addressType;\nconst getNetwork = (state) => state.settings.network;\nconst getTotalSigners = (state) => state.settings.totalSigners;\nconst getRequiredSigners = (state) => state.settings.requiredSigners;\nconst getStartingAddressIndex = (state) => state.settings.startingAddressIndex;\nconst getWalletName = (state) => state.wallet.common.walletName;\nconst getClientDetails = (state) => {\n  if (state.client.type === \"private\") {\n    return `{\n    \"type\": \"private\",\n    \"url\": \"${state.client.url}\",\n    \"username\": \"${state.client.username}\"\n  }`;\n  }\n  return `{\n    \"type\": \"public\"\n  }`;\n};\n\nconst extendedPublicKeyImporterBIP32Path = (state, number) => {\n  const { extendedPublicKeyImporters } = state.quorum;\n  const extendedPublicKeyImporter = extendedPublicKeyImporters[number];\n  const bip32Path =\n    extendedPublicKeyImporter.method === \"text\"\n      ? \"Unknown (make sure you have written this down previously!)\"\n      : extendedPublicKeyImporter.bip32Path;\n  const rootFingerprint =\n    extendedPublicKeyImporter.rootXfp === \"Unknown\"\n      ? \"00000000\"\n      : extendedPublicKeyImporter.rootXfp;\n  return extendedPublicKeyImporter.method === \"unknown\"\n    ? `    {\n        \"name\": \"${extendedPublicKeyImporter.name}\",\n        \"bip32Path\": \"${bip32Path}\",\n        \"xpub\": \"${extendedPublicKeyImporter.extendedPublicKey}\",\n        \"xfp\" : \"${rootFingerprint}\"\n        }`\n    : `    {\n        \"name\": \"${extendedPublicKeyImporter.name}\",\n        \"bip32Path\": \"${bip32Path}\",\n        \"xpub\": \"${extendedPublicKeyImporter.extendedPublicKey}\",\n        \"xfp\" : \"${rootFingerprint}\",\n        \"method\": \"${extendedPublicKeyImporter.method}\"\n      }`;\n};\n\nconst getExtendedPublicKeysBIP32Paths = (state) => {\n  const totalSigners = getTotalSigners(state);\n  const extendedPublicKeyImporterBIP32Paths = [];\n  for (let i = 1; i <= totalSigners; i += 1) {\n    extendedPublicKeyImporterBIP32Paths.push(\n      `${extendedPublicKeyImporterBIP32Path(state, i)}${\n        i < totalSigners ? \",\" : \"\"\n      }`\n    );\n  }\n  return extendedPublicKeyImporterBIP32Paths.join(\"\\n\");\n};\n\n/**\n * @description cycle through all slices to calculate total balance of all utxos\n * from all slices including pending.\n */\nexport const getTotalBalance = createSelector(getWalletSlices, (slices) => {\n  return slices.reduce((balance, slice) => {\n    const sliceTotal = slice.utxos.reduce((total, utxo) => {\n      return total + parseInt(utxo.amountSats, 10);\n    }, 0);\n    return balance + sliceTotal;\n  }, 0);\n});\n\nexport const getPendingBalance = createSelector(\n  getDepositSlices,\n  // iterate through all slices to add up the pending balance\n  (slices) => {\n    // reduce slices to calculate unconfirmed utxos from each slice\n    return slices.reduce((balance, currentSlice) => {\n      // if the current slice has no UTXOs, then continue\n      if (!currentSlice.utxos.length) return balance;\n      // otherwise, loop through available utxos and add balance of those\n      // that are unconfirmed\n      const sliceBalance = currentSlice.utxos.reduce((total, utxo) => {\n        if (!utxo.confirmed) return total + parseInt(utxo.amountSats, 10);\n        return total;\n      }, 0);\n\n      // add slice's pending balance to aggregated balance\n      return sliceBalance + balance;\n    }, 0);\n  }\n);\n\n/**\n * @description selector that subtracts pending balance (calculated with\n * other selector) from total balance of each braid which is stored in the state\n */\nexport const getConfirmedBalance = createSelector(\n  [getTotalBalance, getPendingBalance],\n  (totalBalance, pendingBalance) => totalBalance - pendingBalance\n);\n\n/**\n * @description Returns a selector with all slices from both deposit and change braids\n * also adds a \"lastUsed\" property for each slice\n */\nexport const getSlicesWithLastUsed = createSelector(\n  getWalletSlices,\n  (slices) => {\n    return slices.map((slice) => {\n      if (!slice.utxos.length && slice.addressUsed)\n        return { ...slice, lastUsed: \"Spent\" };\n\n      // if no utxos and no recorded balanceSats then just return the slice unchanged\n      if (!slice.utxos.length && slice.balanceSats.isEqualTo(0)) return slice;\n\n      // find the last UTXO time for the last used time for that slice\n      const maxtime = Math.max(...slice.utxos.map((utxo) => utxo.time));\n\n      // if no max was able to be found, but we still have a balanceSats\n      // then we can can assume the utxo is pending\n      if (\n        Number.isNaN(maxtime) ||\n        (slice.balanceSats.isGreaterThan(0) && !slice.utxos.length)\n      )\n        return { ...slice, lastUsed: \"Pending\" };\n      return {\n        ...slice,\n        lastUsed: new Date(1000 * maxtime).toLocaleDateString(),\n        lastUsedTime: maxtime,\n      };\n    });\n  }\n);\n\n/**\n * Gets the set of spendable slices, i.e. ones that don't have a\n * pending utxo and are not spent\n */\nexport const getSpendableSlices = createSelector(\n  getSlicesWithLastUsed,\n  (slices) => {\n    return slices.filter(\n      (slice) =>\n        // pending change is considered spendable\n        (slice.lastUsed !== \"Pending\" || slice.change) &&\n        slice.lastUsed !== \"Spent\" &&\n        slice.utxos.length\n    );\n  }\n);\n\n/**\n * @description Returns a selector that provides all spent slices, i.e.\n * All slices that have been used but have no balance left.\n */\nexport const getSpentSlices = createSelector(getSlicesWithLastUsed, (slices) =>\n  slices.filter((slice) => slice.addressUsed && slice.balanceSats.isEqualTo(0))\n);\n\n/**\n * @description Returns a selector that provides all slices with an active balance\n */\nexport const getSlicesWithBalance = createSelector(\n  getSlicesWithLastUsed,\n  (slices) => slices.filter((slice) => slice.balanceSats.isGreaterThan(0))\n);\n\n/**\n * @description Returns a selector that provides all unused slices,\n * i.e. where the balance is zero and the address has not been used\n */\nexport const getZeroBalanceSlices = createSelector(\n  getSlicesWithLastUsed,\n  (slices) =>\n    slices.filter(\n      (slice) => slice.balanceSats.isEqualTo(0) && !slice.addressUsed\n    )\n);\n\n/**\n * @description Returns a selector of all wallet slices\n * where the status of that slice is not known.\n */\nexport const getUnknownAddressSlices = createSelector(\n  getWalletSlices,\n  (slices) => slices.filter((slice) => !slice.addressKnown)\n);\n\n/**\n * @description returns an array of all addresses of slices\n * where the state of that slice is not known\n */\nexport const getUnknownAddresses = createSelector(\n  [getWalletSlices, getUnknownAddressSlices],\n  (slices) => slices.map((slice) => slice.multisig.address)\n);\n\n/**\n * @description Returns a selector of all slices from the _deposit_ braid\n * where the address hasn't been used yet.\n */\nexport const getDepositableSlices = createSelector(getDepositSlices, (slices) =>\n  slices.filter((slice) => slice.balanceSats.isEqualTo(0) && !slice.addressUsed)\n);\n\n/**\n * @description Returns a selector of the text needed to construct a wallet\n * details file.\n */\nexport const getWalletDetailsText = createSelector(\n  [\n    getWalletName,\n    getAddressType,\n    getNetwork,\n    getClientDetails,\n    getRequiredSigners,\n    getTotalSigners,\n    getExtendedPublicKeysBIP32Paths,\n    getStartingAddressIndex,\n  ],\n  (\n    walletName,\n    addressType,\n    network,\n    clientDetails,\n    requiredSigners,\n    totalSigners,\n    extendedPublicKeys,\n    startingAddressIndex\n  ) => {\n    return `{\n  \"name\": \"${walletName}\",\n  \"addressType\": \"${addressType}\",\n  \"network\": \"${network}\",\n  \"client\":  ${clientDetails},\n  \"quorum\": {\n    \"requiredSigners\": ${requiredSigners},\n    \"totalSigners\": ${totalSigners}\n  },\n  \"extendedPublicKeys\": [\n    ${extendedPublicKeys}\n  ],\n  \"startingAddressIndex\": ${startingAddressIndex}\n}`;\n  }\n);\n","import BigNumber from \"bignumber.js\";\nimport {\n  estimateMultisigTransactionFee,\n  satoshisToBitcoins,\n} from \"unchained-bitcoin\";\nimport { getSpendableSlices, getConfirmedBalance } from \"../selectors/wallet\";\nimport { DUST_IN_BTC } from \"../utils/constants\";\n\nexport const CHOOSE_PERFORM_SPEND = \"CHOOSE_PERFORM_SPEND\";\n\nexport const SET_REQUIRED_SIGNERS = \"SET_REQUIRED_SIGNERS\";\nexport const SET_TOTAL_SIGNERS = \"SET_TOTAL_SIGNERS\";\n\nexport const SET_INPUTS = \"SET_INPUTS\";\n\nexport const ADD_OUTPUT = \"ADD_OUTPUT\";\nexport const SET_OUTPUT_ADDRESS = \"SET_OUTPUT_ADDRESS\";\nexport const SET_OUTPUT_AMOUNT = \"SET_OUTPUT_AMOUNT\";\nexport const DELETE_OUTPUT = \"DELETE_OUTPUT\";\n\nexport const SET_FEE_RATE = \"SET_FEE_RATE\";\nexport const SET_FEE = \"SET_FEE\";\n\nexport const FINALIZE_OUTPUTS = \"FINALIZE_OUTPUTS\";\nexport const RESET_OUTPUTS = \"RESET_OUTPUTS\";\n\nexport const SET_TXID = \"SET_TXID\";\nexport const RESET_TRANSACTION = \"RESET_TRANSACTION\";\nexport const SET_IS_WALLET = \"SET_IS_WALLET\";\nexport const SET_CHANGE_OUTPUT_INDEX = \"SET_CHANGE_OUTPUT_INDEX\";\nexport const SET_CHANGE_OUTPUT_MULTISIG = \"SET_CHANGE_OUTPUT_MULTISIG\";\nexport const UPDATE_AUTO_SPEND = \"UPDATE_AUTO_SPEND\";\nexport const SET_CHANGE_ADDRESS = \"SET_CHANGE_ADDRESS\";\nexport const SET_SIGNING_KEY = \"SET_SIGNING_KEY\";\nexport const SET_SPEND_STEP = \"SET_SPEND_STEP\";\nexport const SET_BALANCE_ERROR = \"SET_BALANCE_ERROR\";\nexport const SPEND_STEP_CREATE = 0;\nexport const SPEND_STEP_PREVIEW = 1;\nexport const SPEND_STEP_SIGN = 2;\n\nexport function choosePerformSpend() {\n  return {\n    type: CHOOSE_PERFORM_SPEND,\n  };\n}\n\nexport function setRequiredSigners(number) {\n  return {\n    type: SET_REQUIRED_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setTotalSigners(number) {\n  return {\n    type: SET_TOTAL_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setInputs(inputs) {\n  return {\n    type: SET_INPUTS,\n    value: inputs,\n  };\n}\n\nexport function addOutput() {\n  return {\n    type: ADD_OUTPUT,\n  };\n}\n\nexport function setChangeOutputIndex(number) {\n  return {\n    type: SET_CHANGE_OUTPUT_INDEX,\n    value: number,\n  };\n}\n\nexport function setChangeOutputMultisig(number, multisig) {\n  return {\n    type: SET_CHANGE_OUTPUT_MULTISIG,\n    number,\n    value: multisig,\n  };\n}\n\nexport function setOutputAddress(number, address) {\n  return {\n    type: SET_OUTPUT_ADDRESS,\n    number,\n    value: address,\n  };\n}\n\nexport function setOutputAmount(number, amountString) {\n  return {\n    type: SET_OUTPUT_AMOUNT,\n    number,\n    value: amountString,\n  };\n}\n\nexport function setChangeAddressAction(value) {\n  return {\n    type: SET_CHANGE_ADDRESS,\n    value,\n  };\n}\n\nexport function setChangeOutput({ value, address }) {\n  return (dispatch, getState) => {\n    const {\n      spend: {\n        transaction: { outputs, changeOutputIndex },\n      },\n    } = getState();\n    // add output for change if there's none set (or it's set to zero)\n    // if there's a change index then we use that\n    // otherwise put it at the end of the outputs\n    if (!changeOutputIndex) dispatch(addOutput());\n\n    // output/change indexes are not zero-indexed\n    const index = changeOutputIndex || outputs.length + 1;\n    dispatch(setChangeOutputIndex(index));\n    dispatch(setChangeAddressAction(address));\n    dispatch(setOutputAddress(index, address));\n    dispatch(setOutputAmount(index, value));\n  };\n}\n\nexport function deleteOutput(number) {\n  return {\n    type: DELETE_OUTPUT,\n    number,\n  };\n}\n\nexport function deleteChangeOutput() {\n  return (dispatch, getState) => {\n    const { changeOutputIndex } = getState().spend.transaction;\n    if (!changeOutputIndex) return;\n\n    dispatch(deleteOutput(changeOutputIndex));\n  };\n}\n\nexport function setFeeRate(valueString) {\n  return {\n    type: SET_FEE_RATE,\n    value: valueString,\n  };\n}\n\nexport function setFee(valueString) {\n  return {\n    type: SET_FEE,\n    value: valueString,\n  };\n}\n\nexport function finalizeOutputs(finalized) {\n  return {\n    type: FINALIZE_OUTPUTS,\n    value: finalized,\n  };\n}\n\nexport function resetOutputs() {\n  return {\n    type: RESET_OUTPUTS,\n  };\n}\n\nexport function setBalanceError(message) {\n  return {\n    type: SET_BALANCE_ERROR,\n    value: message,\n  };\n}\n\nexport function resetTransaction() {\n  return {\n    type: RESET_TRANSACTION,\n  };\n}\n\nexport function setTXID(txid) {\n  return {\n    type: SET_TXID,\n    value: txid,\n  };\n}\n\nexport function setIsWallet() {\n  return {\n    type: SET_IS_WALLET,\n  };\n}\n\nexport function updateAutoSpendAction(value) {\n  return {\n    type: UPDATE_AUTO_SPEND,\n    value,\n  };\n}\n\nexport function setSigningKey(number, extendedPublicKeyImporterIndex) {\n  return {\n    type: SET_SIGNING_KEY,\n    number,\n    value: extendedPublicKeyImporterIndex,\n  };\n}\n\nexport function setSpendStep(value) {\n  return {\n    type: SET_SPEND_STEP,\n    value,\n  };\n}\n\n/**\n * @description Given an output index and the current state of the transaction,\n * calculate an estimated fee for a tx with all spendable utxos as inputs,\n * and then use that to determine value of an output that spends all spendable funds\n * minus fee. Dispatches an action to add that value to the given output.\n * @param {Number} outputIndex - 1-indexed location of the output\n * to add all remaining spendable funds to\n */\nexport function setMaxSpendOnOutput(outputIndex) {\n  return (dispatch, getState) => {\n    const spendableSlices = getSpendableSlices(getState());\n    const confirmedBalance = getConfirmedBalance(getState());\n    const {\n      settings: { addressType, requiredSigners, totalSigners },\n      spend: {\n        transaction: { outputs, feeRate },\n      },\n    } = getState();\n    const numInputs = spendableSlices.reduce(\n      (count, slice) => count + slice.utxos.length,\n      0\n    );\n    const estimatedFee = estimateMultisigTransactionFee({\n      addressType,\n      numInputs,\n      numOutputs: outputs.length,\n      m: requiredSigners,\n      n: totalSigners,\n      feesPerByteInSatoshis: feeRate,\n    });\n\n    const totalOutputValue = outputs.reduce(\n      (total, output) =>\n        total.plus(output.amount.length ? output.amountSats : 0),\n      new BigNumber(0)\n    );\n\n    const spendAllAmount = satoshisToBitcoins(\n      new BigNumber(confirmedBalance)\n        .minus(outputs.length > 1 ? totalOutputValue : 0)\n        .minus(estimatedFee)\n    );\n\n    if (\n      (spendAllAmount.isLessThanOrEqualTo(satoshisToBitcoins(estimatedFee)) &&\n        outputs.length > 1) ||\n      spendAllAmount.isLessThan(DUST_IN_BTC)\n    )\n      return dispatch(\n        setBalanceError(\n          \"Not enough available funds for max spend. Clear other outputs or wait for incoming deposits to confirm.\"\n        )\n      );\n    return dispatch(setOutputAmount(outputIndex, spendAllAmount.toFixed()));\n  };\n}\n","export const SET_ERROR_NOTIFICATION = \"SET_ERROR_NOTIFICATION\";\nexport const CLEAR_ERROR_NOTIFICATION = \"CLEAR_ERROR_NOTIFICATION\";\n\nexport function setErrorNotification(message) {\n  return {\n    type: SET_ERROR_NOTIFICATION,\n    value: message,\n  };\n}\n\nexport function clearErrorNotification() {\n  return {\n    type: CLEAR_ERROR_NOTIFICATION,\n  };\n}\n","import {\n  estimateMultisigTransactionFee,\n  satoshisToBitcoins,\n} from \"unchained-bitcoin\";\n\nimport BigNumber from \"bignumber.js\";\nimport { fetchAddressUTXOs } from \"../blockchain\";\nimport { isChange } from \"../utils/slices\";\nimport { naiveCoinSelection } from \"../utils\";\nimport {\n  setBalanceError,\n  setChangeOutput,\n  setInputs,\n  setFee,\n  finalizeOutputs,\n} from \"./transactionActions\";\nimport { setErrorNotification } from \"./errorNotificationActions\";\nimport { getSpendableSlices } from \"../selectors/wallet\";\n\nexport const UPDATE_DEPOSIT_SLICE = \"UPDATE_DEPOSIT_SLICE\";\nexport const UPDATE_CHANGE_SLICE = \"UPDATE_CHANGE_SLICE\";\nexport const RESET_NODES_SPEND = \"RESET_NODES_SPEND\";\nexport const UPDATE_WALLET_NAME = \"UPDATE_WALLET_NAME\";\nexport const UPDATE_WALLET_MODE = \"UPDATE_WALLET_MODE\";\nexport const RESET_WALLET_VIEW = \"RESET_WALLET_VIEW\";\nexport const RESET_WALLET = \"RESET_WALLET\";\nexport const SPEND_SLICES = \"SPEND_SLICES\";\nexport const INITIAL_LOAD_COMPLETE = \"INITIAL_LOAD_COMPLETE\";\nexport const RESET_NODES_FETCH_ERRORS = \"RESET_NODES_FETCH_ERRORS\";\n\nexport const WALLET_MODES = {\n  VIEW: 0,\n  DEPOSIT: 1,\n  SPEND: 2,\n};\n\nexport function updateDepositSliceAction(value) {\n  return {\n    type: UPDATE_DEPOSIT_SLICE,\n    value: {\n      ...value,\n      ...{ change: false },\n    },\n  };\n}\n\nexport function updateChangeSliceAction(value) {\n  return {\n    type: UPDATE_CHANGE_SLICE,\n    value: {\n      ...value,\n      ...{ change: true },\n    },\n  };\n}\n\nexport function resetNodesSpend() {\n  return {\n    type: RESET_NODES_SPEND,\n  };\n}\n\n/**\n * @description This dispatcher goes through the necessary steps and dispatching\n * related actions for the process of selecting coins for a transaction.\n * 1. Get all spendable slices that can be used for inputs\n * 2. Select the utxos needed to fund the tx and determine if change is needed\n * 3. Set a change output if necessary\n * 4. Determine and set fee\n * 5. Mark all slices being spent so the store is aware that they've been selected\n */\nexport function autoSelectCoins() {\n  // eslint-disable-next-line consistent-return\n  return (dispatch, getState) => {\n    const {\n      settings,\n      spend: { transaction },\n      wallet: {\n        change: {\n          nextNode: {\n            multisig: { address: changeAddress },\n          },\n        },\n      },\n    } = getState();\n    const { totalSigners: n, requiredSigners: m, addressType } = settings;\n    const { outputs, feeRate: feesPerByteInSatoshis } = transaction;\n    const spendableSlices = getSpendableSlices(getState());\n\n    let selectedUtxos;\n    let changeRequired;\n\n    // select coins and catch error if any occurs during selection\n    try {\n      [selectedUtxos, changeRequired] = naiveCoinSelection({\n        outputs,\n        feesPerByteInSatoshis,\n        m,\n        n,\n        addressType,\n        slices: spendableSlices,\n      });\n    } catch (e) {\n      return dispatch(setBalanceError(e.message));\n    }\n\n    // determine fee based on rate, selected utxos and\n    // if change output is required\n    let fee;\n    const options = {\n      addressType,\n      numInputs: selectedUtxos.length,\n      m,\n      n,\n      feesPerByteInSatoshis,\n    };\n\n    // add change output if necessary and make fee calculation\n    if (changeRequired) {\n      // calculate output, input, and fee totals to determine change amount\n      const outputsTotal = outputs.reduce(\n        (total, output) => total.plus(output.amountSats),\n        new BigNumber(0)\n      );\n      const inputsTotalSats = selectedUtxos.reduce(\n        (total, utxo) => total.plus(utxo.amountSats),\n        new BigNumber(0)\n      );\n      fee = estimateMultisigTransactionFee({\n        ...options,\n        numOutputs: outputs.length + 1,\n      });\n\n      const changeAmount = inputsTotalSats\n        .minus(fee)\n        .minus(outputsTotal)\n        .toFixed(8);\n\n      dispatch(\n        setChangeOutput({\n          address: changeAddress,\n          value: satoshisToBitcoins(changeAmount).toFixed(),\n        })\n      );\n    } else {\n      fee = estimateMultisigTransactionFee({\n        ...options,\n        numOutputs: outputs.length,\n      });\n    }\n\n    dispatch(setFee(satoshisToBitcoins(fee).toFixed()));\n    // set chosen selectedUtxos in the transaction store\n    dispatch(setInputs(selectedUtxos));\n    dispatch(finalizeOutputs(true));\n  };\n}\n\n/**\n * @description Given the state of the transaction store, check status of\n * the slices being used in the spend tx and update them once changed state is confirmed.\n * @param {Object} changeSlice - the slice that was chosen as the change output\n * @param {number} retries - number of retries\n * @param {Set} skipAddresses - set of addresses to skip\n */\nexport function updateTxSlices(\n  changeSlice,\n  retries = 10,\n  skipAddresses = new Set()\n) {\n  // eslint-disable-next-line consistent-return\n  return async (dispatch, getState) => {\n    const {\n      settings: { network },\n      client,\n      spend: {\n        transaction: { changeAddress, inputs, txid },\n      },\n      wallet: {\n        deposits: { nextNode: nextDepositSlice, nodes: depositSlices },\n        change: { nodes: changeSlices },\n      },\n    } = getState();\n\n    // utility function for getting utxo set of an address\n    // and formatting the result in a way we can use\n    const fetchSliceStatus = async (address, bip32Path) => {\n      const utxos = await fetchAddressUTXOs(address, network, client);\n      return {\n        addressUsed: true,\n        change: isChange(bip32Path),\n        address,\n        bip32Path,\n        ...utxos,\n      };\n    };\n\n    // array of slices we want to query\n    const slices = [...inputs];\n\n    // if there is a change address in the transaction\n    // then we want to query the state of that slice as well\n    if (changeSlice && changeSlice.multisig.address === changeAddress) {\n      slices.push(changeSlice);\n    }\n\n    // array to store results from queries for each slice\n    const sliceUpdates = [];\n\n    // track which slices are already being queried since\n    // the fetch command will get all utxos for an address\n    // and some inputs might be for the same address\n    const addressSet = new Set();\n\n    // go through each slice and see if it needs to be queried\n    slices.forEach((slice) => {\n      const { address } = slice.multisig;\n      // if address isn't already being queried and isn't in the\n      // set of addresses to skip (which means it's already been\n      // successfully updated), then fetchSliceStatus\n      if (!addressSet.has(address) && !skipAddresses.has(address)) {\n        addressSet.add(address);\n        // setting up async network calls to await all of them\n        sliceUpdates.push(fetchSliceStatus(address, slice.bip32Path));\n      }\n    });\n\n    let queriedSlices;\n    try {\n      queriedSlices = await Promise.all(sliceUpdates);\n    } catch (e) {\n      return dispatch(\n        setErrorNotification(\n          `There was a problem updating wallet state. Try a refresh. Error: ${e.message}`\n        )\n      );\n    }\n\n    // once all queries have completed we can confirm which have been updated\n    // and dispatch the changes to the store\n    for (let i = 0; i < queriedSlices.length; i += 1) {\n      const slice = queriedSlices[i];\n      const utxoCount = slice.change\n        ? changeSlices[slice.bip32Path].utxos.length\n        : depositSlices[slice.bip32Path].utxos.length;\n\n      // if the utxo count is not the same then we can reliably update\n      // this slice and can skip in any future calls\n      if (slice && slice.utxos && slice.utxos.length !== utxoCount) {\n        dispatch({\n          type: slice.change ? UPDATE_CHANGE_SLICE : UPDATE_DEPOSIT_SLICE,\n          value: slice,\n        });\n        skipAddresses.add(slice.address);\n      }\n    }\n\n    // if not all slices queried were successful, then we want to recursively call\n    // updateTxSlices, counting down retries and with the full set of successful queries\n    // ALL input slices must return a different utxo set otherwise something went wrong\n    if (skipAddresses.size !== queriedSlices.length && retries)\n      return setTimeout(\n        () => dispatch(updateTxSlices(changeSlice, retries - 1, skipAddresses)),\n        750\n      );\n\n    // if we're out of retries and counts are still the same\n    // then we're done trying and should show an error\n    if (!retries) {\n      let message = `There was a problem updating the wallet balance.\n      It is recommended you refresh the wallet to make sure UTXO current set is up to date.`;\n      if (txid && txid.length) message += ` Transaction ID: ${txid}`;\n      return dispatch(setErrorNotification(message));\n    }\n\n    // Check the next deposit slice just in case a spend is to own wallet.\n    // This doesn't catch all self-spend cases but should catch the majority\n    // to avoid any confusion for less technical users.\n    const updatedSlice = await fetchSliceStatus(\n      nextDepositSlice.multisig.address,\n      nextDepositSlice.bip32Path\n    );\n\n    // if its status has changed and the utxo set for the next\n    // deposit slice is different, then update it as well\n    if (\n      updatedSlice.utxos.length !==\n      depositSlices[updatedSlice.bip32Path].utxos.length\n    )\n      return dispatch({ type: UPDATE_DEPOSIT_SLICE, value: updatedSlice });\n  };\n}\n\nexport function setWalletModeAction(value) {\n  return {\n    type: UPDATE_WALLET_MODE,\n    value,\n  };\n}\n\nexport function updateWalletNameAction(number, value) {\n  return {\n    type: UPDATE_WALLET_NAME,\n    value,\n  };\n}\n\nexport function resetWalletView() {\n  return {\n    type: RESET_WALLET_VIEW,\n  };\n}\n\nexport function resetWallet() {\n  return {\n    type: RESET_WALLET,\n  };\n}\n\nexport function initialLoadComplete() {\n  return {\n    type: INITIAL_LOAD_COMPLETE,\n  };\n}\n\nexport function resetNodesFetchErrors() {\n  return {\n    type: RESET_NODES_FETCH_ERRORS,\n  };\n}\n","import {\n  updateDepositSliceAction,\n  updateChangeSliceAction,\n} from \"./walletActions\";\nimport { fetchAddressUTXOs, getAddressStatus } from \"../blockchain\";\nimport { setErrorNotification } from \"./errorNotificationActions\";\n\nexport const UPDATE_BRAID_SLICE = \"UPDATE_BRAID_SLICE\";\n\n/**\n * Given an array of slices from one or more braids,\n * query the utxos for that slice (i.e. at that address) and\n * check if the address is \"used\". Will then dispatch actions\n * to update the data for each slice\n * @param {array<object>} slices - array of slices from one or more braids\n */\nexport const fetchSliceData = async (slices) => {\n  return async (dispatch, getState) => {\n    const { network } = getState().settings;\n    const { client } = getState();\n\n    try {\n      // Create a list of the async calls for updating the slice data.\n      // This lets us run these requests in parallel with a Promise.all\n      const sliceDataPromises = slices.map((slice) => {\n        const { address } = slice.multisig;\n        // creating a tuple of async calls that will need to be resolved\n        // for each slice we're querying for\n        return Promise.all([\n          fetchAddressUTXOs(address, network, client),\n          getAddressStatus(address, network, client),\n        ]);\n      });\n\n      // wait until we've gotten the updates for each slice\n      const queriedSlices = await Promise.all(sliceDataPromises);\n\n      // each slice had two queries and should be in a tuple\n      queriedSlices.forEach(([addressData, addressStatus], index) => {\n        // reference to the original slice object passed into action creator\n        const slice = slices[index];\n\n        // for each queried slice, we need to check if there are utxos\n        // skip if no updates\n        if (!addressData || !addressData.utxos.length) return;\n\n        const updater = slice.change\n          ? updateChangeSliceAction\n          : updateDepositSliceAction;\n        const updatedSlice = {\n          bip32Path: slice.bip32Path,\n          addressKnown: true,\n          ...addressData,\n          addressStatus,\n        };\n        dispatch(updater(updatedSlice));\n      });\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(\n        \"There was a problem getting updated braid data:\",\n        e.message\n      );\n      dispatch(setErrorNotification(e.message));\n    }\n  };\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { SvgIcon } from \"@material-ui/core\";\nimport { MAINNET } from \"unchained-bitcoin\";\n\nconst BitcoinIcon = ({ network }) => (\n  <SvgIcon\n    data-cy=\"bitcoin-icon\"\n    htmlColor={network === MAINNET ? \"orange\" : \"grey\"}\n  >\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      data-prefix=\"fab\"\n      data-icon=\"bitcoin\"\n      className=\"svg-inline--fa fa-bitcoin fa-w-16\"\n      role=\"img\"\n      viewBox=\"0 0 512 512\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z\"\n      />\n    </svg>\n  </SvgIcon>\n);\n\nBitcoinIcon.propTypes = {\n  network: PropTypes.string,\n};\n\nBitcoinIcon.defaultProps = {\n  network: MAINNET,\n};\n\nexport default BitcoinIcon;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Grid, IconButton, TextField } from \"@material-ui/core\";\nimport { Check, Clear, Edit } from \"@material-ui/icons\";\n\nclass EditableName extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing: false,\n      newName: \"\",\n      error: \"\",\n    };\n  }\n\n  componentDidMount = () => {\n    const { name } = this.props;\n    this.setState({ newName: name });\n  };\n\n  render = () => {\n    const { name } = this.props;\n    const { editing, newName, error } = this.state;\n    if (editing) {\n      // <Form onSubmit={this.submit} inline>\n      return (\n        <Grid container alignItems=\"center\">\n          <Grid item>\n            <TextField\n              autoFocus\n              label=\"Name\"\n              value={newName}\n              onChange={this.handleChange}\n              onFocus={(event) => {\n                setTimeout(event.target.select.bind(event.target), 20);\n              }}\n              onKeyDown={(e) => (e.key === \"Enter\" ? this.submit() : null)}\n              error={this.hasError()}\n              helperText={error}\n            />\n          </Grid>\n\n          <Grid item>\n            <IconButton\n              data-cy=\"save-button\"\n              size=\"small\"\n              onClick={this.submit}\n              disabled={this.hasError()}\n            >\n              <Check />\n            </IconButton>\n          </Grid>\n\n          <Grid item>\n            <IconButton\n              data-cy=\"cancel-button\"\n              color=\"secondary\"\n              size=\"small\"\n              onClick={this.cancel}\n            >\n              <Clear />\n            </IconButton>\n          </Grid>\n        </Grid>\n      );\n    }\n    return (\n      <span>\n        <IconButton\n          data-cy=\"edit-button\"\n          size=\"small\"\n          onClick={this.startEditing}\n        >\n          <Edit />\n        </IconButton>\n        &nbsp;\n        {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\n        <span\n          data-cy=\"editable-name-value\"\n          style={{ cursor: \"pointer\" }}\n          onClick={this.startEditing}\n        >\n          {name}\n        </span>\n      </span>\n    );\n  };\n\n  hasError = () => {\n    const { error } = this.state;\n    return error !== \"\";\n  };\n\n  startEditing = (event) => {\n    const { name } = this.props;\n    event.preventDefault();\n    this.setState({ editing: true, newName: name });\n  };\n\n  handleChange = (event) => {\n    const newName = event.target.value;\n    let error = \"\";\n    if (newName === null || newName === undefined || newName === \"\") {\n      error = \"Name cannot be blank.\";\n    }\n    this.setState({ newName, error });\n  };\n\n  submit = () => {\n    const { setName, number } = this.props;\n    const { newName } = this.state;\n    setName(number, newName);\n    this.setState({ editing: false });\n  };\n\n  cancel = () => {\n    const { name } = this.props;\n    this.setState({ error: \"\", newName: name, editing: false });\n  };\n}\n\nEditableName.propTypes = {\n  number: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  setName: PropTypes.func.isRequired,\n};\n\nexport default EditableName;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { NETWORKS } from \"unchained-bitcoin\";\n\n// Components\nimport {\n  Card,\n  CardContent,\n  Typography,\n  makeStyles,\n  Grid,\n} from \"@material-ui/core\";\nimport BitcoinIcon from \"../BitcoinIcon\";\nimport EditableName from \"../EditableName\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n  },\n  title: {\n    fontSize: \"2rem\",\n    color: \"#212529\",\n  },\n  balance: {\n    fontSize: \"1.2rem\",\n  },\n  gutter: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    paddingTop: theme.spacing(2),\n  },\n}));\n\nconst WalletInfoCard = ({\n  walletName,\n  setName,\n  balance = 0,\n  pendingBalance,\n  editable,\n  network,\n}) => {\n  const classes = useStyles();\n  return (\n    <Card data-cy=\"wallet-info-card\" className={classes.root}>\n      <CardContent>\n        <Grid container direction=\"row\" alignItems=\"center\">\n          {editable ? (\n            <Grid item>\n              <Typography variant=\"h1\" className={classes.title}>\n                <EditableName number={0} name={walletName} setName={setName} />\n              </Typography>\n            </Grid>\n          ) : (\n            <>\n              <Grid container alignItems=\"center\" className={classes.gutter}>\n                <Grid item xs={1}>\n                  <BitcoinIcon network={network} />\n                </Grid>\n                <Grid item>\n                  <Typography variant=\"h1\" className={classes.title}>\n                    {walletName}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container className={classes.gutter}>\n                <Grid item xs={12} mt={5}>\n                  <Typography\n                    data-cy=\"balance\"\n                    variant=\"subtitle1\"\n                    className={classes.balance}\n                  >\n                    {balance} BTC\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <Typography data-cy=\"pending-balance\" variant=\"caption\">\n                    {pendingBalance !== 0 ? (\n                      <>\n                        <span\n                          style={{\n                            color: pendingBalance > 0 ? \"green\" : \"red\",\n                            fontWeight: \"bold\",\n                          }}\n                        >\n                          {pendingBalance > 0 ? \"+\" : \"\"}\n                          {pendingBalance} BTC\n                        </span>{\" \"}\n                        (unconfirmed)\n                      </>\n                    ) : (\n                      \"\"\n                    )}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </>\n          )}\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nWalletInfoCard.propTypes = {\n  walletName: PropTypes.string.isRequired,\n  network: PropTypes.string,\n  balance: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  pendingBalance: PropTypes.number,\n  editable: PropTypes.bool.isRequired,\n  setName: PropTypes.func.isRequired,\n};\n\nWalletInfoCard.defaultProps = {\n  network: NETWORKS.TESTNET,\n  balance: 0,\n  pendingBalance: 0,\n};\n\nexport default WalletInfoCard;\n","export const SET_NETWORK = \"SET_NETWORK\";\nexport const SET_TOTAL_SIGNERS = \"SET_TOTAL_SIGNERS\";\nexport const SET_REQUIRED_SIGNERS = \"SET_REQUIRED_SIGNERS\";\nexport const SET_STARTING_ADDRESS_INDEX = \"SET_STARTING_ADDRESS_INDEX\";\nexport const SET_ADDRESS_TYPE = \"SET_ADDRESS_TYPE\";\nexport const SET_FROZEN = \"SET_FROZEN\";\n\nexport function setNetwork(value) {\n  return {\n    type: SET_NETWORK,\n    value,\n  };\n}\n\nexport function setTotalSigners(number) {\n  return {\n    type: SET_TOTAL_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setRequiredSigners(number) {\n  return {\n    type: SET_REQUIRED_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setStartingAddressIndex(number) {\n  return {\n    type: SET_STARTING_ADDRESS_INDEX,\n    value: number,\n  };\n}\n\nexport function setAddressType(value) {\n  return {\n    type: SET_ADDRESS_TYPE,\n    value,\n  };\n}\n\nexport function setFrozen(value) {\n  return {\n    type: SET_FROZEN,\n    value,\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { TESTNET, MAINNET } from \"unchained-bitcoin\";\n\n// Components\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  FormControl,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  FormHelperText,\n} from \"@material-ui/core\";\n\n// Actions\nimport { setNetwork as setNetworkAction } from \"../actions/settingsActions\";\n\nclass NetworkPicker extends React.Component {\n  handleNetworkChange = (event) => {\n    const { setNetwork } = this.props;\n    setNetwork(event.target.value);\n  };\n\n  render() {\n    const { network, frozen } = this.props;\n    return (\n      <Card>\n        <CardHeader title=\"Network\" />\n        <CardContent>\n          <FormControl component=\"fieldset\">\n            <RadioGroup>\n              <FormControlLabel\n                id=\"mainnet\"\n                control={<Radio color=\"primary\" />}\n                name=\"network\"\n                value=\"mainnet\"\n                label={<strong>Mainnet</strong>}\n                onChange={this.handleNetworkChange}\n                checked={network === MAINNET}\n                disabled={frozen}\n              />\n              <FormControlLabel\n                id=\"testnet\"\n                control={<Radio color=\"primary\" />}\n                name=\"network\"\n                value=\"testnet\"\n                label=\"Testnet\"\n                onChange={this.handleNetworkChange}\n                checked={network === TESTNET}\n                disabled={frozen}\n              />\n            </RadioGroup>\n            <FormHelperText>\n              <small>\n                Choose &apos;Mainnet&apos; if you don&apos;t understand the\n                difference.\n              </small>\n            </FormHelperText>\n          </FormControl>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nNetworkPicker.propTypes = {\n  network: PropTypes.string.isRequired,\n  frozen: PropTypes.bool.isRequired,\n  setNetwork: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    frozen: state.settings.frozen,\n  };\n}\n\nconst mapDispatchToProps = {\n  setNetwork: setNetworkAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NetworkPicker);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\n// Actions\n\n// Components\nimport {\n  Typography,\n  Grid,\n  IconButton,\n  Card,\n  CardHeader,\n  CardContent,\n  Box,\n} from \"@material-ui/core\";\nimport { AddCircle, RemoveCircle } from \"@material-ui/icons\";\nimport {\n  setTotalSigners as setTotalSignersAction,\n  setRequiredSigners as setRequiredSignersAction,\n} from \"../actions/settingsActions\";\nimport \"./styles.css\";\n\nconst MAX_TOTAL_SIGNERS = 7;\n\nclass QuorumPicker extends React.Component {\n  renderIncrementRequiredSigners = () => {\n    const { requiredSigners, totalSigners, frozen } = this.props;\n    const disabled = requiredSigners === totalSigners || frozen;\n    return (\n      <IconButton\n        color=\"primary\"\n        onClick={this.handleIncrementRequiredSigners}\n        disabled={disabled}\n      >\n        <AddCircle />\n      </IconButton>\n    );\n  };\n\n  renderDecrementRequiredSigners = () => {\n    const { requiredSigners, frozen } = this.props;\n    const disabled = requiredSigners === 1 || frozen;\n    return (\n      <IconButton\n        color=\"secondary\"\n        onClick={this.handleDecrementRequiredSigners}\n        disabled={disabled}\n      >\n        <RemoveCircle />\n      </IconButton>\n    );\n  };\n\n  renderIncrementTotalSigners = () => {\n    const { totalSigners, frozen } = this.props;\n    const disabled = totalSigners === MAX_TOTAL_SIGNERS || frozen;\n    return (\n      <IconButton\n        color=\"primary\"\n        onClick={this.handleIncrementTotalSigners}\n        disabled={disabled}\n      >\n        <AddCircle />\n      </IconButton>\n    );\n  };\n\n  renderDecrementTotalSigners = () => {\n    const { requiredSigners, totalSigners, frozen } = this.props;\n    const disabled =\n      totalSigners === requiredSigners || totalSigners === 2 || frozen;\n    return (\n      <IconButton\n        color=\"secondary\"\n        onClick={this.handleDecrementTotalSigners}\n        disabled={disabled}\n      >\n        <RemoveCircle />\n      </IconButton>\n    );\n  };\n\n  handleIncrementRequiredSigners = (event) => {\n    const { requiredSigners, setRequiredSigners } = this.props;\n    setRequiredSigners(requiredSigners + 1);\n    event.preventDefault();\n  };\n\n  handleDecrementRequiredSigners = (event) => {\n    const { requiredSigners, setRequiredSigners } = this.props;\n    setRequiredSigners(requiredSigners - 1);\n    event.preventDefault();\n  };\n\n  handleIncrementTotalSigners = (event) => {\n    const { totalSigners, setTotalSigners } = this.props;\n    setTotalSigners(totalSigners + 1);\n    event.preventDefault();\n  };\n\n  handleDecrementTotalSigners = (event) => {\n    const { totalSigners, setTotalSigners } = this.props;\n    setTotalSigners(totalSigners - 1);\n    event.preventDefault();\n  };\n\n  render() {\n    const { requiredSigners, totalSigners } = this.props;\n\n    return (\n      <Card>\n        <CardHeader title=\"Quorum\" />\n        <CardContent>\n          <Box>\n            <Grid container justify=\"center\">\n              <Grid container item xs={2} direction=\"column\">\n                &nbsp;\n              </Grid>\n\n              <Grid\n                container\n                item\n                xs={3}\n                direction=\"column\"\n                alignItems=\"center\"\n              >\n                <Grid item>{this.renderIncrementRequiredSigners()}</Grid>\n\n                <Grid item>\n                  <Typography variant=\"h2\">{requiredSigners}</Typography>\n                </Grid>\n\n                <Grid item>\n                  <small>\n                    <p>Required</p>\n                  </small>\n                </Grid>\n\n                <Grid item>{this.renderDecrementRequiredSigners()}</Grid>\n              </Grid>\n\n              <Grid\n                container\n                item\n                xs={2}\n                direction=\"column\"\n                alignItems=\"center\"\n                justify=\"center\"\n              >\n                <Grid item>\n                  <Typography variant=\"h6\">of</Typography>\n                </Grid>\n              </Grid>\n\n              <Grid\n                item\n                container\n                xs={3}\n                direction=\"column\"\n                alignItems=\"center\"\n              >\n                <Grid item>{this.renderIncrementTotalSigners()}</Grid>\n\n                <Grid item>\n                  <Typography variant=\"h2\">{totalSigners}</Typography>\n                </Grid>\n\n                <Grid item>\n                  <small>\n                    <p>Total</p>\n                  </small>\n                </Grid>\n\n                <Grid item>{this.renderDecrementTotalSigners()}</Grid>\n              </Grid>\n              <Grid container item xs={2} direction=\"column\">\n                &nbsp;\n              </Grid>\n            </Grid>\n          </Box>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nQuorumPicker.propTypes = {\n  totalSigners: PropTypes.number.isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  frozen: PropTypes.bool.isRequired,\n  setTotalSigners: PropTypes.func.isRequired,\n  setRequiredSigners: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\nconst mapDispatchToProps = {\n  setTotalSigners: setTotalSignersAction,\n  setRequiredSigners: setRequiredSignersAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuorumPicker);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { P2SH, P2SH_P2WSH, P2WSH } from \"unchained-bitcoin\";\n\n// Components\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  FormControl,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  FormHelperText,\n} from \"@material-ui/core\";\n// Actions\nimport { setAddressType } from \"../actions/settingsActions\";\n\nclass AddressTypePicker extends React.Component {\n  handleTypeChange = (event) => {\n    const { setType } = this.props;\n    setType(event.target.value);\n  };\n\n  render() {\n    const { addressType, frozen } = this.props;\n    return (\n      <Card>\n        <CardHeader title=\"Address Type\" />\n        <CardContent>\n          <FormControl component=\"fieldset\">\n            <RadioGroup>\n              <FormControlLabel\n                id={P2SH}\n                control={<Radio color=\"primary\" />}\n                name=\"type\"\n                value={P2SH}\n                label={P2SH}\n                onChange={this.handleTypeChange}\n                checked={addressType === P2SH}\n                disabled={frozen}\n              />\n              <FormControlLabel\n                id={P2SH_P2WSH}\n                control={<Radio color=\"primary\" />}\n                name=\"type\"\n                value={P2SH_P2WSH}\n                label={P2SH_P2WSH}\n                onChange={this.handleTypeChange}\n                checked={addressType === P2SH_P2WSH}\n                disabled={frozen}\n              />\n              <FormControlLabel\n                id={P2WSH}\n                control={<Radio color=\"primary\" />}\n                name=\"type\"\n                value={P2WSH}\n                label={P2WSH}\n                onChange={this.handleTypeChange}\n                checked={addressType === P2WSH}\n                disabled={frozen}\n              />\n            </RadioGroup>\n            <FormHelperText>\n              <small>\n                Choose &apos;\n                {P2WSH}\n                &apos; for best practices, &apos;\n                {P2SH}\n                &apos; for greatest compatibility.\n              </small>\n            </FormHelperText>\n          </FormControl>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nAddressTypePicker.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  frozen: PropTypes.bool.isRequired,\n  setType: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\nconst mapDispatchToProps = {\n  setType: setAddressType,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressTypePicker);\n","function actionWrapper(type) {\n  return (value) => {\n    return { type, value };\n  };\n}\n\nexport function wrappedActions(mapping) {\n  const wrappedMapping = {};\n  const actionFunctionNames = Object.keys(mapping);\n  let actionIndex;\n  for (\n    actionIndex = 0;\n    actionIndex < actionFunctionNames.length;\n    actionIndex += 1\n  ) {\n    const actionFunctionName = actionFunctionNames[actionIndex];\n    const actionType = mapping[actionFunctionName];\n    wrappedMapping[actionFunctionName] = actionWrapper(actionType);\n  }\n  return wrappedMapping;\n}\n\nfunction numberedActionWrapper(type) {\n  return (number, value) => {\n    return { type, number, value };\n  };\n}\n\nexport function wrappedNumberedActions(mapping) {\n  const wrappedMapping = {};\n  const actionFunctionNames = Object.keys(mapping);\n  let actionIndex;\n  for (\n    actionIndex = 0;\n    actionIndex < actionFunctionNames.length;\n    actionIndex += 1\n  ) {\n    const actionFunctionName = actionFunctionNames[actionIndex];\n    const actionType = mapping[actionFunctionName];\n    wrappedMapping[actionFunctionName] = numberedActionWrapper(actionType);\n  }\n  return wrappedMapping;\n}\n","export const SET_CLIENT_TYPE = \"SET_CLIENT_TYPE\";\nexport const SET_CLIENT_URL = \"SET_CLIENT_URL\";\nexport const SET_CLIENT_USERNAME = \"SET_CLIENT_USERNAME\";\nexport const SET_CLIENT_PASSWORD = \"SET_CLIENT_PASSWORD\";\n\nexport const SET_CLIENT_URL_ERROR = \"SET_CLIENT_URL_ERROR\";\nexport const SET_CLIENT_USERNAME_ERROR = \"SET_CLIENT_USERNAME_ERROR\";\nexport const SET_CLIENT_PASSWORD_ERROR = \"SET_CLIENT_PASSWORD_ERROR\";\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport {\n  Grid,\n  TextField,\n  Button,\n  FormHelperText,\n  Box,\n} from \"@material-ui/core\";\n\nimport { externalLink } from \"../../utils\";\n\nconst PrivateClientSettings = ({\n  handleUrlChange,\n  handleUsernameChange,\n  handlePasswordChange,\n  client,\n  urlError,\n  usernameError,\n  passwordError,\n  privateNotes,\n  connectSuccess,\n  connectError,\n  testConnection,\n}) => (\n  <div>\n    <p>\n      A <code>bitcoind</code>\n      -compatible client is required to query UTXO data, estimate fees, and\n      broadcast transactions.\n    </p>\n    <p>\n      <small>\n        {\n          \"Due to CORS requirements, you must use a proxy around the node. Instructions are available \"\n        }\n        {externalLink(\n          \"https://github.com/unchained-capital/caravan#adding-cors-headers\",\n          \"here\"\n        )}\n        {\".\"}\n      </small>\n    </p>\n    <form>\n      <Grid container direction=\"column\" spacing={1}>\n        <Grid item>\n          <TextField\n            fullWidth\n            label=\"URL\"\n            value={client.url}\n            onChange={handleUrlChange}\n            error={urlError !== \"\"}\n            helperText={urlError}\n          />\n        </Grid>\n\n        <Grid item>\n          <TextField\n            id=\"bitcoind-username\"\n            fullWidth\n            label=\"Username\"\n            value={client.username}\n            onChange={handleUsernameChange}\n            error={usernameError !== \"\"}\n            helperText={usernameError}\n          />\n        </Grid>\n\n        <Grid item>\n          <TextField\n            id=\"bitcoind-password\"\n            fullWidth\n            type=\"password\"\n            label=\"Password\"\n            value={client.password}\n            onChange={handlePasswordChange}\n            error={passwordError !== \"\"}\n            helperText={passwordError}\n          />\n        </Grid>\n        <Grid item>\n          <Box mt={1}>\n            <Button variant=\"contained\" onClick={testConnection}>\n              Test Connection\n            </Button>\n          </Box>\n          <Box mt={2}>\n            {connectSuccess && (\n              <FormHelperText>Connection Success!</FormHelperText>\n            )}\n            {connectError !== \"\" && (\n              <FormHelperText error>{connectError}</FormHelperText>\n            )}\n          </Box>\n        </Grid>\n      </Grid>\n    </form>\n    {privateNotes}\n  </div>\n);\n\nPrivateClientSettings.propTypes = {\n  client: PropTypes.shape({\n    url: PropTypes.string.isRequired,\n    username: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired,\n  }).isRequired,\n  handleUrlChange: PropTypes.func.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n  testConnection: PropTypes.func.isRequired,\n  urlError: PropTypes.string,\n  usernameError: PropTypes.string,\n  passwordError: PropTypes.string,\n  privateNotes: PropTypes.node,\n  connectSuccess: PropTypes.bool.isRequired,\n  connectError: PropTypes.string.isRequired,\n};\n\nPrivateClientSettings.defaultProps = {\n  urlError: \"\",\n  usernameError: \"\",\n  passwordError: \"\",\n  privateNotes: React.createElement(\"span\"),\n};\n\nexport default PrivateClientSettings;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  FormControlLabel,\n  FormControl,\n  Radio,\n  RadioGroup,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport { fetchFeeEstimate } from \"../../blockchain\";\n\n// Components\n\n// Actions\nimport { wrappedActions } from \"../../actions/utils\";\nimport {\n  SET_CLIENT_TYPE,\n  SET_CLIENT_URL,\n  SET_CLIENT_USERNAME,\n  SET_CLIENT_PASSWORD,\n  SET_CLIENT_URL_ERROR,\n  SET_CLIENT_USERNAME_ERROR,\n  SET_CLIENT_PASSWORD_ERROR,\n} from \"../../actions/clientActions\";\n\nimport PrivateClientSettings from \"./PrivateClientSettings\";\n\nclass ClientPicker extends React.Component {\n  static validatePassword() {\n    return \"\";\n  }\n\n  static validateUsername() {\n    return \"\";\n  }\n\n  static validateUrl(host) {\n    const validhost = /^http(s)?:\\/\\/[^\\s]+$/.exec(host);\n    if (!validhost) return \"Must be a valid URL.\";\n    return \"\";\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      urlEdited: false,\n      connectError: \"\",\n      connectSuccess: false,\n    };\n  }\n\n  handleTypeChange = (event) => {\n    const { setType, network, setUrl } = this.props;\n    const { urlEdited } = this.state;\n\n    const type = event.target.value;\n    if (type === \"private\" && !urlEdited) {\n      setUrl(`http://localhost:${network === \"mainnet\" ? 8332 : 18332}`);\n    }\n    setType(type);\n  };\n\n  handleUrlChange = (event) => {\n    const { setUrl, setUrlError } = this.props;\n    const { urlEdited } = this.state;\n    const url = event.target.value;\n    const error = ClientPicker.validateUrl(url);\n    if (!urlEdited && !error) this.setState({ urlEdited: true });\n    setUrl(url);\n    setUrlError(error);\n  };\n\n  handleUsernameChange = (event) => {\n    const { setUsername, setUsernameError } = this.props;\n    const username = event.target.value;\n    const error = ClientPicker.validateUsername(username);\n    setUsername(username);\n    setUsernameError(error);\n  };\n\n  handlePasswordChange = (event) => {\n    const { setPassword, setPasswordError } = this.props;\n    const password = event.target.value;\n    const error = ClientPicker.validatePassword(password);\n    setPassword(password);\n    setPasswordError(error);\n  };\n\n  testConnection = async () => {\n    const { network, client, onSuccess } = this.props;\n    this.setState({ connectError: \"\", connectSuccess: false });\n    try {\n      await fetchFeeEstimate(network, client);\n      if (onSuccess) {\n        onSuccess();\n      }\n      this.setState({ connectSuccess: true });\n    } catch (e) {\n      this.setState({ connectError: e.message });\n    }\n  };\n\n  render() {\n    const { client, urlError, usernameError, passwordError, privateNotes } =\n      this.props;\n    const { connectSuccess, connectError } = this.state;\n    return (\n      <Card>\n        <Grid container justify=\"space-between\">\n          <CardHeader title=\"Bitcoin Client\" />\n        </Grid>\n        <CardContent>\n          <Grid item>\n            <FormControl component=\"fieldset\">\n              <RadioGroup>\n                <FormControlLabel\n                  id=\"public\"\n                  control={<Radio color=\"primary\" />}\n                  name=\"clientType\"\n                  value=\"public\"\n                  label={<strong>Public</strong>}\n                  onChange={this.handleTypeChange}\n                  checked={client.type === \"public\"}\n                />\n                <FormControlLabel\n                  id=\"private\"\n                  control={<Radio color=\"primary\" />}\n                  name=\"clientType\"\n                  value=\"private\"\n                  label=\"Private\"\n                  onChange={this.handleTypeChange}\n                  checked={client.type === \"private\"}\n                />\n              </RadioGroup>\n              {client.type === \"public\" && (\n                <FormHelperText>\n                  {\"'Public' uses the \"}\n                  <code>blockstream.info</code>\n                  {\" API. Switch to private to use a \"}\n                  <code>bitcoind</code>\n                  {\" node.\"}\n                </FormHelperText>\n              )}\n              {client.type === \"private\" && (\n                <PrivateClientSettings\n                  handleUrlChange={(event) => this.handleUrlChange(event)}\n                  handleUsernameChange={(event) =>\n                    this.handleUsernameChange(event)\n                  }\n                  handlePasswordChange={(event) =>\n                    this.handlePasswordChange(event)\n                  }\n                  client={client}\n                  urlError={urlError}\n                  usernameError={usernameError}\n                  passwordError={passwordError}\n                  privateNotes={privateNotes}\n                  connectSuccess={connectSuccess}\n                  connectError={connectError}\n                  testConnection={() => this.testConnection()}\n                />\n              )}\n            </FormControl>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nClientPicker.propTypes = {\n  client: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n  network: PropTypes.string.isRequired,\n  privateNotes: PropTypes.shape({}),\n  setUrl: PropTypes.func.isRequired,\n  urlError: PropTypes.string,\n  onSuccess: PropTypes.func,\n  setUrlError: PropTypes.func.isRequired,\n  setPassword: PropTypes.func.isRequired,\n  passwordError: PropTypes.string,\n  setPasswordError: PropTypes.func.isRequired,\n  setType: PropTypes.func.isRequired,\n  usernameError: PropTypes.string,\n  setUsername: PropTypes.func.isRequired,\n  setUsernameError: PropTypes.func.isRequired,\n};\n\nClientPicker.defaultProps = {\n  urlError: \"\",\n  usernameError: \"\",\n  onSuccess: null,\n  passwordError: \"\",\n  privateNotes: React.createElement(\"span\"),\n};\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    client: state.client,\n    urlError: state.client.urlError,\n    url: state.client.url,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  wrappedActions({\n    setType: SET_CLIENT_TYPE,\n    setUrl: SET_CLIENT_URL,\n    setUsername: SET_CLIENT_USERNAME,\n    setPassword: SET_CLIENT_PASSWORD,\n    setUrlError: SET_CLIENT_URL_ERROR,\n    setUsernameError: SET_CLIENT_USERNAME_ERROR,\n    setPasswordError: SET_CLIENT_PASSWORD_ERROR,\n  })\n)(ClientPicker);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { validateBIP32Index } from \"unchained-bitcoin\";\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  FormControlLabel,\n  FormControl,\n  FormHelperText,\n  Radio,\n  RadioGroup,\n  TextField,\n  Tooltip,\n} from \"@material-ui/core\";\n\nimport { wrappedActions } from \"../actions/utils\";\nimport { SET_STARTING_ADDRESS_INDEX } from \"../actions/settingsActions\";\n\nclass StartingAddressIndexPicker extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      customIndex: props.startingAddressIndex !== 0,\n      startingAddressIndexField: props.startingAddressIndex,\n    };\n  }\n\n  handleIndexChange = (event) => {\n    const { setStartingAddressIndex } = this.props;\n    const index = event.target.value;\n    const error = validateBIP32Index(index, { mode: \"unhardened\" }).replace(\n      \"BIP32\",\n      \"Starting Address\"\n    );\n    if (!error && index) {\n      setStartingAddressIndex(parseInt(index, 10));\n    }\n    this.setState({\n      startingAddressIndexField: index,\n      startingAddressIndexError: error,\n    });\n  };\n\n  handleCustomIndexChange = (event) => {\n    const customIndex = event.target.value === \"true\";\n    this.setState({ customIndex });\n  };\n\n  render() {\n    const {\n      customIndex,\n      startingAddressIndexField,\n      startingAddressIndexError,\n    } = this.state;\n    return (\n      <Card>\n        <Grid container justify=\"space-between\">\n          <CardHeader title=\"Starting Address Index\" />\n        </Grid>\n        <CardContent>\n          <Grid item>\n            <FormControl component=\"fieldset\">\n              <RadioGroup>\n                <FormControlLabel\n                  id=\"default\"\n                  control={<Radio color=\"primary\" />}\n                  name=\"customIndex\"\n                  value=\"false\"\n                  label={<strong>Default (0)</strong>}\n                  onChange={this.handleCustomIndexChange}\n                  checked={!customIndex}\n                />\n                <Tooltip\n                  title=\"The starting address index allows you to skip\n                    forward in a wallet. Addresses with indices less than the\n                    starting address are ignored.\"\n                >\n                  <FormControlLabel\n                    id=\"custom\"\n                    control={<Radio color=\"primary\" />}\n                    name=\"customIndex\"\n                    value=\"true\"\n                    label=\"Custom\"\n                    onChange={this.handleCustomIndexChange}\n                    checked={customIndex}\n                  />\n                </Tooltip>\n                <FormHelperText>\n                  Use the default value if you do not understand how to use\n                  starting address index.\n                </FormHelperText>\n              </RadioGroup>\n              {customIndex && (\n                <TextField\n                  fullWidth\n                  value={startingAddressIndexField}\n                  type=\"text\"\n                  name=\"startingAddressIndex\"\n                  onChange={this.handleIndexChange}\n                  error={Boolean(startingAddressIndexError)}\n                  helperText={startingAddressIndexError}\n                />\n              )}\n            </FormControl>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nStartingAddressIndexPicker.propTypes = {\n  startingAddressIndex: PropTypes.number.isRequired,\n  setStartingAddressIndex: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    startingAddressIndex: state.settings.startingAddressIndex,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  wrappedActions({\n    setStartingAddressIndex: SET_STARTING_ADDRESS_INDEX,\n  })\n)(StartingAddressIndexPicker);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Box,\n} from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\n\nclass WalletConfirmation extends React.Component {\n  render = () => {\n    const { startingAddressIndex } = this.props;\n    return (\n      <Box>\n        {startingAddressIndex > 0 && (\n          <Alert severity=\"info\">\n            Starting Address Index set to {startingAddressIndex}\n          </Alert>\n        )}\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>BIP32 Path</TableCell>\n              <TableCell>Extended Public Key</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>{this.renderConfirmationInfo()}</TableBody>\n        </Table>\n      </Box>\n    );\n  };\n\n  renderConfirmationInfo = () => {\n    const { extendedPublicKeyImporters } = this.props;\n    return Object.values(extendedPublicKeyImporters).map((importer) => (\n      <TableRow key={importer.extendedPublicKey}>\n        <TableCell>{importer.name}</TableCell>\n        <TableCell>\n          {importer.method === \"text\" ? \"N/A\" : importer.bip32Path}\n        </TableCell>\n        <TableCell>{importer.extendedPublicKey}</TableCell>\n      </TableRow>\n    ));\n  };\n}\n\nWalletConfirmation.propTypes = {\n  startingAddressIndex: PropTypes.number.isRequired,\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    startingAddressIndex: state.settings.startingAddressIndex,\n    extendedPublicKeyImporters: state.quorum.extendedPublicKeyImporters,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletConfirmation);\n","import PropTypes from \"prop-types\";\n\nexport const bigNumberPropTypes = {\n  c: PropTypes.arrayOf(PropTypes.number).isRequired,\n  e: PropTypes.number.isRequired,\n  s: PropTypes.number.isRequired,\n};\n\nexport default {\n  bigNumberPropTypes,\n};\n","import PropTypes from \"prop-types\";\nimport { bigNumberPropTypes } from \"./utils\";\n\nconst slicePropTypes = {\n  present: PropTypes.bool,\n  bip32Path: PropTypes.string,\n  publicKeys: PropTypes.array,\n  multisig: PropTypes.shape({}),\n  address: PropTypes.string.isRequired,\n  balanceSats: PropTypes.shape(bigNumberPropTypes),\n  utxos: PropTypes.array,\n  change: PropTypes.bool.isRequired,\n  spend: PropTypes.bool.isRequired,\n  fetchUtxos: PropTypes.bool,\n  fetchUTXOsError: PropTypes.string.isRequired,\n  addressUsed: PropTypes.bool,\n  addressKnown: PropTypes.bool.isRequired,\n  lastUsed: PropTypes.string,\n};\n\nexport default slicePropTypes;\n","import PropTypes from \"prop-types\";\n\nconst clientPropTypes = {\n  type: PropTypes.string.isRequired,\n  url: PropTypes.string,\n  username: PropTypes.string,\n  password: PropTypes.string,\n  urlError: PropTypes.string,\n  usernameError: PropTypes.string,\n  passwordError: PropTypes.string,\n  status: PropTypes.string,\n};\n\nexport default clientPropTypes;\n","import PropTypes from \"prop-types\";\n\nconst settingsPropTypes = {\n  network: PropTypes.string,\n  totalSigners: PropTypes.number,\n  requiredSigners: PropTypes.number,\n  addressType: PropTypes.string,\n  frozen: PropTypes.bool,\n};\n\nexport default settingsPropTypes;\n","import PropTypes from \"prop-types\";\nimport React, { useState, useEffect } from \"react\";\n\n// Components\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { FileCopy } from \"@material-ui/icons\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\n\nconst useStyles = makeStyles(() => ({\n  copyText: {\n    \"&:hover\": { cursor: \"pointer\" },\n  },\n  code: {\n    fontSize: \"1rem\",\n  },\n}));\n\nconst Copyable = ({\n  newline,\n  text,\n  children,\n  showIcon,\n  showText,\n  code,\n  ...otherProps\n}) => {\n  const [copied, setCopied] = useState(false);\n  const [timer, setTimer] = useState(null);\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (timer) clearTimeout(timer);\n    // eslint-disable-next-line\n  }, []);\n\n  const classes = useStyles();\n\n  const showSnackbarMessage = () => {\n    const MAX_LENGTH = 25;\n    const shortenedText =\n      text.length > MAX_LENGTH ? `${text.substring(0, MAX_LENGTH)}...` : text;\n\n    enqueueSnackbar(`Copied ${shortenedText} to clipboard`, {\n      preventDuplicate: true,\n    });\n  };\n\n  const onCopy = () => {\n    const timerTimeout = setTimeout(() => {\n      setCopied(false);\n      setTimer(null);\n    }, 1000);\n\n    setCopied(true);\n    setTimer(timerTimeout);\n\n    showSnackbarMessage();\n  };\n\n  const TextComponent = () => {\n    if (code) return <code className={classes.code}>{text}</code>;\n    return <span>{text}</span>;\n  };\n\n  return (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions\n    <span onClick={(e) => e.stopPropagation()} {...otherProps}>\n      <CopyToClipboard\n        text={text}\n        onCopy={onCopy}\n        options={{ format: \"text/plain\" }}\n      >\n        <span\n          style={{\n            fontStyle: copied ? \"italic\" : \"inherit\",\n            overflowWrap: \"break-word\",\n          }}\n          className={`copyable ${classes.copyText}`}\n        >\n          {children}\n          {showText && <TextComponent />}\n          {newline && <br />}\n          {showIcon && (\n            <IconButton>\n              <FileCopy\n                fontSize=\"small\"\n                color={copied ? \"primary\" : \"action\"}\n              />\n            </IconButton>\n          )}\n        </span>\n      </CopyToClipboard>\n    </span>\n  );\n};\n\nCopyable.propTypes = {\n  // defaults\n  newline: PropTypes.bool,\n  // parent\n  text: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  showIcon: PropTypes.bool,\n  showText: PropTypes.bool,\n  code: PropTypes.bool,\n};\n\nCopyable.defaultProps = {\n  newline: false,\n  showIcon: false,\n  children: React.createElement(\"span\"),\n  showText: true,\n  code: false,\n};\nexport default Copyable;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  blockExplorerTransactionURL,\n  satoshisToBitcoins,\n} from \"unchained-bitcoin\";\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableFooter,\n  TableRow,\n  TableCell,\n  Typography,\n  Checkbox,\n} from \"@material-ui/core\";\nimport { OpenInNew } from \"@material-ui/icons\";\nimport BigNumber from \"bignumber.js\";\nimport { externalLink } from \"../../utils\";\nimport Copyable from \"../Copyable\";\n\n// Actions\nimport { setInputs as setInputsAction } from \"../../actions/transactionActions\";\n\n// Assets\nimport \"react-table/react-table.css\";\nimport styles from \"./styles.module.scss\";\n\nclass UTXOSet extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputsSatsSelected: props.inputsTotalSats,\n      localInputs: props.inputs.map((input) => {\n        return {\n          ...input,\n          checked: props.selectAll,\n        };\n      }),\n      toggleAll: true,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // This function exists because we need to respond to the parent node having\n    // its select/spend checkbox clicked (toggling select-all or select-none).\n    // None of this needs to happen on the redeem script interface.\n    const { multisig } = this.props;\n    if (multisig) {\n      const { node, existingTransactionInputs } = this.props;\n      const { localInputs } = this.state;\n      const prevMyInputsBeingSpent = this.filterInputs(\n        localInputs,\n        prevProps.existingTransactionInputs,\n        true\n      ).length;\n      const myInputsBeingSpent = this.filterInputs(\n        localInputs,\n        existingTransactionInputs,\n        true\n      ).length;\n\n      const isFullSpend = myInputsBeingSpent === localInputs.length;\n\n      // If the spend bool on the node changes, toggleAll the checks.\n      // but that's not quite enough because if a single UTXO is selected\n      // then it is also marked from not spend -> spend ... so don't want\n      // to toggleAll in that case. Furthermore, if you have 5 UTXOs and\n      // 2 selected and *then* click select all ... we also need to toggelAll.\n      if (\n        (prevProps.node.spend !== node.spend ||\n          myInputsBeingSpent !== prevMyInputsBeingSpent) &&\n        isFullSpend\n      ) {\n        this.toggleAll(node.spend);\n      }\n    }\n  }\n\n  filterInputs = (localInputs, transactionStoreInputs, filterToMyInputs) => {\n    return localInputs.filter((input) => {\n      const included = transactionStoreInputs.filter((utxo) => {\n        return utxo.txid === input.txid && utxo.index === input.index;\n      });\n      return filterToMyInputs ? included.length > 0 : included.length === 0;\n    });\n  };\n\n  toggleInput = (inputIndex) => {\n    const { localInputs } = this.state;\n    this.setState({ toggleAll: false });\n\n    localInputs[inputIndex].checked = !localInputs[inputIndex].checked;\n\n    this.setInputsAndUpdateDisplay(localInputs);\n  };\n\n  toggleAll = (setTo = null) => {\n    const { localInputs, toggleAll } = this.state;\n    const toggled = !toggleAll;\n\n    localInputs.forEach((input) => {\n      const i = input;\n      i.checked = setTo === null ? toggled : setTo;\n      return i;\n    });\n\n    this.setInputsAndUpdateDisplay(localInputs);\n    this.setState({ toggleAll: toggled });\n  };\n\n  setInputsAndUpdateDisplay = (incomingInputs) => {\n    const {\n      setInputs,\n      multisig,\n      bip32Path,\n      existingTransactionInputs,\n      setSpendCheckbox,\n    } = this.props;\n    const { localInputs } = this.state;\n    let inputsToSpend = incomingInputs.filter((input) => input.checked);\n    if (multisig) {\n      inputsToSpend = inputsToSpend.map((utxo) => {\n        return { ...utxo, multisig, bip32Path };\n      });\n    }\n    const satsSelected = inputsToSpend.reduce(\n      (accumulator, input) => accumulator.plus(input.amountSats),\n      new BigNumber(0)\n    );\n    this.setState({\n      inputsSatsSelected: satsSelected,\n    });\n    let totalInputsToSpend = inputsToSpend;\n\n    // The following is only relevant on the wallet interface\n    if (multisig) {\n      // There are 3 total sets of inputs to care about:\n      // 1. localInputs - all inputs from this node/address\n      // 2. inputsToSpend - equal to or subset of those from #1 (inputs marked checked==true)\n      // 3. existingTransactionInputs - all inputs from all nodes/addresses\n\n      // Check if #3 contains any inputs not associated with this component\n      const notMyInputs = this.filterInputs(\n        existingTransactionInputs,\n        localInputs,\n        false\n      );\n\n      if (notMyInputs.length > 0) {\n        totalInputsToSpend = inputsToSpend.concat(notMyInputs);\n      }\n\n      // Now we push a change up to the top level node so it can update its checkbox\n      const numLocalInputsToSpend = inputsToSpend.length;\n      if (numLocalInputsToSpend === 0) {\n        setSpendCheckbox(false);\n      } else if (numLocalInputsToSpend < localInputs.length) {\n        setSpendCheckbox(\"indeterminate\");\n      } else {\n        setSpendCheckbox(true);\n      }\n    }\n\n    if (totalInputsToSpend.length > 0) {\n      setInputs(totalInputsToSpend);\n    } else if (multisig) {\n      // If we do this on redeem script interface, the panel will disappear\n      setInputs([]);\n    }\n  };\n\n  renderInputs = () => {\n    const { network, showSelection, finalizedOutputs } = this.props;\n    const { localInputs } = this.state;\n    return localInputs.map((input, inputIndex) => {\n      const confirmedStyle = `${styles.utxoTxid}${\n        input.confirmed ? \"\" : ` ${styles.unconfirmed}`\n      }`;\n      const confirmedTitle = input.confirmed ? \"confirmed\" : \"unconfirmed\";\n      return (\n        <TableRow hover key={input.txid}>\n          {showSelection && (\n            <TableCell>\n              <Checkbox\n                data-testid={`utxo-checkbox-${inputIndex}`}\n                checked={input.checked}\n                onClick={() => this.toggleInput(inputIndex)}\n                color=\"primary\"\n                disabled={finalizedOutputs}\n              />\n            </TableCell>\n          )}\n          <TableCell>{inputIndex + 1}</TableCell>\n          <TableCell className={confirmedStyle}>\n            <Copyable text={input.txid} showIcon showText={false}>\n              <code title={confirmedTitle}>{input.txid}</code>\n            </Copyable>\n          </TableCell>\n          <TableCell>\n            <Copyable text={input.index.toString()} />\n          </TableCell>\n          <TableCell>\n            <Copyable text={satoshisToBitcoins(input.amountSats).toString()} />\n          </TableCell>\n          <TableCell>\n            {externalLink(\n              blockExplorerTransactionURL(input.txid, network),\n              <OpenInNew />\n            )}\n          </TableCell>\n        </TableRow>\n      );\n    });\n  };\n\n  render() {\n    const {\n      inputsTotalSats,\n      showSelection = true,\n      hideSelectAllInHeader,\n      finalizedOutputs,\n    } = this.props;\n    const { inputsSatsSelected, toggleAll, localInputs } = this.state;\n    return (\n      <>\n        <Typography variant=\"h5\">\n          {`Available Inputs (${localInputs.length})`}{\" \"}\n        </Typography>\n        <p>The following UTXOs will be spent as inputs in a new transaction.</p>\n        <Table>\n          <TableHead>\n            <TableRow hover>\n              {showSelection && !hideSelectAllInHeader && (\n                <TableCell>\n                  <Checkbox\n                    data-testid=\"utxo-check-all\"\n                    checked={toggleAll}\n                    onClick={() => this.toggleAll()}\n                    color=\"primary\"\n                    disabled={finalizedOutputs}\n                  />\n                </TableCell>\n              )}\n              {hideSelectAllInHeader && <TableCell />}\n              <TableCell>Number</TableCell>\n              <TableCell>TXID</TableCell>\n              <TableCell>Index</TableCell>\n              <TableCell>Amount (BTC)</TableCell>\n              <TableCell>View</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>{this.renderInputs()}</TableBody>\n          <TableFooter>\n            <TableRow hover>\n              <TableCell colSpan={3}>TOTAL:</TableCell>\n              <TableCell colSpan={2}>\n                {inputsSatsSelected\n                  ? satoshisToBitcoins(inputsSatsSelected).toString()\n                  : satoshisToBitcoins(inputsTotalSats).toString()}\n              </TableCell>\n            </TableRow>\n          </TableFooter>\n        </Table>\n      </>\n    );\n  }\n}\n\nUTXOSet.propTypes = {\n  network: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  inputsTotalSats: PropTypes.shape({}).isRequired,\n  setInputs: PropTypes.func.isRequired,\n  multisig: PropTypes.oneOfType([PropTypes.shape({}), PropTypes.bool]),\n  bip32Path: PropTypes.string,\n  showSelection: PropTypes.bool,\n  hideSelectAllInHeader: PropTypes.bool,\n  selectAll: PropTypes.bool,\n  finalizedOutputs: PropTypes.bool.isRequired,\n  node: PropTypes.shape({\n    spend: PropTypes.bool,\n  }),\n  existingTransactionInputs: PropTypes.arrayOf(PropTypes.shape({})),\n  setSpendCheckbox: PropTypes.func,\n};\n\nUTXOSet.defaultProps = {\n  multisig: false,\n  bip32Path: \"\",\n  showSelection: true,\n  hideSelectAllInHeader: false,\n  selectAll: true,\n  node: {},\n  existingTransactionInputs: [],\n  setSpendCheckbox: () => {},\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    finalizedOutputs: state.spend.transaction.finalizedOutputs,\n    existingTransactionInputs: state.spend.transaction.inputs,\n  };\n}\n\nconst mapDispatchToProps = {\n  setInputs: setInputsAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UTXOSet);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  scriptToOps,\n  scriptToHex,\n  networkLabel,\n  multisigAddressType,\n  multisigRedeemScript,\n  multisigWitnessScript,\n  multisigRequiredSigners,\n  multisigTotalSigners,\n  blockExplorerAddressURL,\n} from \"unchained-bitcoin\";\nimport { Typography, Grid, Box, Chip } from \"@material-ui/core\";\nimport { OpenInNew } from \"@material-ui/icons\";\nimport { externalLink } from \"../utils\";\n\n// Components\nimport Copyable from \"./Copyable\";\n\nclass MultisigDetails extends React.Component {\n  renderScript = (name, script) => {\n    const hex = scriptToHex(script);\n    const ops = scriptToOps(script);\n    return (\n      <Box mt={2}>\n        <Typography variant=\"h6\">{name}</Typography>\n        <Grid container spacing={2}>\n          <Grid item sm={6}>\n            <Copyable text={hex} showIcon code />\n          </Grid>\n          <Grid item sm={6}>\n            <Copyable text={ops} showIcon code />\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  render() {\n    const { network, multisig, showAddress } = this.props;\n    const { address } = multisig;\n    const redeemScript = multisigRedeemScript(multisig);\n    const witnessScript = multisigWitnessScript(multisig);\n    return (\n      <Box mt={2} style={{ maxWidth: \"1080px\" }}>\n        {showAddress && <Typography variant=\"h6\">Address</Typography>}\n\n        <Typography align=\"center\" variant=\"h5\">\n          <Grid container direction=\"column\" spacing={2}>\n            {showAddress && (\n              <Grid item>\n                <Copyable text={address} showIcon code />\n                &nbsp;\n                {externalLink(\n                  blockExplorerAddressURL(address, network),\n                  <OpenInNew />\n                )}\n              </Grid>\n            )}\n\n            <Grid item justify=\"center\" container spacing={3}>\n              <Grid item>\n                <Chip label=\"BTC\" />\n              </Grid>\n\n              <Grid item>\n                <Chip label={networkLabel(network)} />\n              </Grid>\n\n              <Grid item>\n                <Chip\n                  label={`${multisigRequiredSigners(\n                    multisig\n                  )}-of-${multisigTotalSigners(multisig)}`}\n                />\n              </Grid>\n\n              <Grid item>\n                <Chip label={multisigAddressType(multisig)} />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Typography>\n\n        {this.renderScript(\"Script\", multisig)}\n        {redeemScript && this.renderScript(\"Redeem Script\", redeemScript)}\n        {witnessScript && this.renderScript(\"Witness Script\", witnessScript)}\n      </Box>\n    );\n  }\n}\n\nMultisigDetails.propTypes = {\n  multisig: PropTypes.shape({\n    address: PropTypes.string,\n  }).isRequired,\n  network: PropTypes.string.isRequired,\n  showAddress: PropTypes.bool,\n};\n\nMultisigDetails.defaultProps = {\n  showAddress: true,\n};\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultisigDetails);\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport {\n  FormHelperText,\n  Button,\n  Box,\n  Switch,\n  FormControlLabel,\n  Tooltip,\n  makeStyles,\n  Grid,\n} from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport {\n  bitcoindImportMulti,\n  bitcoindGetAddressStatus,\n  bitcoindParams,\n} from \"../bitcoind\";\nimport { clientPropTypes } from \"../proptypes\";\n\nconst useStyles = makeStyles(() => ({\n  tooltip: {\n    fontSize: \".8rem\",\n  },\n}));\n/**\n * @description A button for importing a set of given addresses. Includes a switch\n * to optionally choose to rescan the blockchain for balances.\n */\nfunction ImportAddressesButton({ addresses = [], client, importCallback }) {\n  const [imported, setImported] = useState(false);\n  const [importError, setImportError] = useState(\"\");\n  const [rescan, setRescanPreference] = useState(false);\n  const [addressesError, setAddressesError] = useState(\"\");\n  const [enableImport, setEnableImport] = useState(false);\n\n  const classes = useStyles();\n  // when addresses prop has changed, we want to check its status\n  // Address management currently isn't optimized and so they are added to the store\n  // one at at time. This effect is run each time that updates. Eventually,\n  // this should be optimized to happen all at once. For now though, once we find\n  // a single address that can be imported then enable the import button and\n  // we won't run this anymore. This is mostly for wallet view, not script entry\n  useEffect(() => {\n    const checkAddress = async () => {\n      // reset in case we can't import\n      setEnableImport(false);\n      const address = addresses[addresses.length - 1]; // TODO: loop, or maybe just check one\n      if (!address) return;\n      try {\n        const status = await bitcoindGetAddressStatus({\n          // TODO: use this to warn if spent\n          ...bitcoindParams(client),\n          address,\n        });\n        // if there is a problem querying the address, then enable the button\n        // once enabled, we won't run checkAddress effect anymore\n        if (!status || typeof status.used === \"undefined\") {\n          setEnableImport(true);\n        } else {\n          setEnableImport(false);\n        }\n        setAddressesError(\"\");\n      } catch (e) {\n        // e.status 401 e.statusText\n        // e.status 500 e.data.error.message\n        const status = (e.response && e.response.status) || \"unknown\";\n        const errorMessage =\n          // eslint-disable-next-line no-nested-ternary\n          status === 401\n            ? e.response.statusText\n            : status === 500\n            ? e.response.data.error.message\n            : e.message || \"An unknown address error occured\";\n\n        setAddressesError(errorMessage);\n      }\n    };\n\n    // check address if the button is disabled OR\n    // there's been an update to the address array and there's only one\n    // this typically is the case for the script interactions when dealing\n    // with a single address\n    if (\n      client.type === \"private\" &&\n      (!enableImport || addresses.length === 1)\n    ) {\n      checkAddress();\n    }\n    // eslint-disable-next-line\n  }, [addresses, client]);\n\n  // return \"addresses\" or \"address\"\n  const pluralOrSingularAddress = (capitalize = false) =>\n    `${capitalize ? \"A\" : \"a\"}ddress${\n      addresses && addresses.length > 1 ? \"es\" : \"\"\n    }`;\n\n  async function importAddresses() {\n    const label = \"\"; // TODO: do we want to allow to set? or set to \"caravan\"?\n\n    try {\n      const response = await bitcoindImportMulti({\n        ...bitcoindParams(client),\n        ...{ addresses, label, rescan },\n      });\n\n      const responseError = response.result.reduce((e, c) => {\n        return (c.error && c.error.message) || e;\n      }, \"\");\n\n      setImportError(responseError);\n      setImported(!responseError.length);\n\n      if (importCallback) {\n        // provide succesfully imported addreses to callback\n        const successes = response.result.filter((addr) => addr.success);\n        await importCallback(successes, rescan);\n      }\n    } catch (e) {\n      setImportError(\"Unable to import, check your settings and try again\");\n      setImported(false);\n    }\n  }\n\n  const rescanTooltip = `To get accurate information from your node, your ${pluralOrSingularAddress()}\nwill need to be imported to your node. Importing will give you accurate balance information\nhowever to know if an address has been used prior to import, a rescan needs to take place.`;\n\n  return (\n    <Grid className={classes.container}>\n      <Box component=\"span\" ml={2}>\n        <Button\n          variant=\"contained\"\n          disabled={(!enableImport && !rescan) || !addresses.length}\n          onClick={importAddresses}\n        >\n          Import {pluralOrSingularAddress(true)}\n        </Button>\n      </Box>\n      <Box component=\"span\" ml={2}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={rescan}\n              onChange={(e) => setRescanPreference(e.target.checked)}\n              color=\"secondary\"\n            />\n          }\n          label=\"Rescan\"\n        />\n        <Tooltip title={rescanTooltip} classes={{ tooltip: classes.tooltip }}>\n          <InfoIcon fontSize=\"small\" color=\"disabled\" />\n        </Tooltip>\n      </Box>\n      <Box>\n        {addressesError.length > 0 && (\n          <FormHelperText error>{addressesError}</FormHelperText>\n        )}\n        {importError.length > 0 && (\n          <FormHelperText error>{importError}</FormHelperText>\n        )}\n        {imported && rescan && (\n          <FormHelperText>\n            {pluralOrSingularAddress(true)} imported, rescan of your node may\n            take some time.\n          </FormHelperText>\n        )}\n        {imported && !rescan && (\n          <FormHelperText>\n            {pluralOrSingularAddress(true)} imported.\n          </FormHelperText>\n        )}\n      </Box>\n    </Grid>\n  );\n}\n\nImportAddressesButton.propTypes = {\n  addresses: PropTypes.arrayOf(PropTypes.string),\n  importCallback: PropTypes.func,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n};\n\nImportAddressesButton.defaultProps = {\n  addresses: [],\n  importCallback() {},\n};\n\nexport default ImportAddressesButton;\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const SET_SIGNATURE_IMPORTER_NAME = \"SET_SIGNATURE_IMPORTER_NAME\";\nexport const SET_SIGNATURE_IMPORTER_METHOD = \"SET_SIGNATURE_IMPORTER_METHOD\";\nexport const SET_SIGNATURE_IMPORTER_BIP32_PATH =\n  \"SET_SIGNATURE_IMPORTER_BIP32_PATH\";\nexport const SET_SIGNATURE_IMPORTER_PUBLIC_KEYS =\n  \"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS\";\nexport const SET_SIGNATURE_IMPORTER_SIGNATURE =\n  \"SET_SIGNATURE_IMPORTER_SIGNATURE\";\nexport const SET_SIGNATURE_IMPORTER_FINALIZED =\n  \"SET_SIGNATURE_IMPORTER_FINALIZED\";\nexport const SET_SIGNATURE_IMPORTER_COMPLETE =\n  \"SET_SIGNATURE_IMPORTER_COMPLETE\";\n\nexport const {\n  setSignatureImporterName,\n  setSignatureImporterMethod,\n  setSignatureImporterBIP32Path,\n  setSignatureImporterPublicKeys,\n  setSignatureImporterSignature,\n  setSignatureImporterFinalized,\n  setSignatureImporterComplete,\n} = wrappedNumberedActions({\n  setSignatureImporterName: SET_SIGNATURE_IMPORTER_NAME,\n  setSignatureImporterMethod: SET_SIGNATURE_IMPORTER_METHOD,\n  setSignatureImporterBIP32Path: SET_SIGNATURE_IMPORTER_BIP32_PATH,\n  setSignatureImporterPublicKeys: SET_SIGNATURE_IMPORTER_PUBLIC_KEYS,\n  setSignatureImporterSignature: SET_SIGNATURE_IMPORTER_SIGNATURE,\n  setSignatureImporterFinalized: SET_SIGNATURE_IMPORTER_FINALIZED,\n  setSignatureImporterComplete: SET_SIGNATURE_IMPORTER_COMPLETE,\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, TextField, Button } from \"@material-ui/core\";\n\nclass TextSignatureImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signatureJSON: \"\",\n      error: \"\",\n    };\n  }\n\n  render = () => {\n    const { signatureJSON, error } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          multiline\n          variant=\"outlined\"\n          name=\"signature\"\n          label=\"Signature\"\n          rows={5}\n          value={signatureJSON}\n          onChange={this.handleChange}\n          error={this.hasError()}\n          helperText={error}\n        />\n\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.finalize}\n            disabled={signatureJSON === \"\"}\n          >\n            Add Signature\n          </Button>\n        </Box>\n      </Box>\n    );\n  };\n\n  hasError = () => {\n    const { error } = this.state;\n    return error !== \"\";\n  };\n\n  setError = (value) => {\n    this.setState({ error: value });\n  };\n\n  handleChange = (event) => {\n    const signatureJSON = event.target.value;\n    let error = \"\";\n    try {\n      JSON.parse(signatureJSON);\n    } catch (parseError) {\n      error = \"Invalid JSON.\";\n    }\n    this.setState({ signatureJSON, error });\n  };\n\n  finalize = () => {\n    const { validateAndSetSignature } = this.props;\n    const { signatureJSON } = this.state;\n    try {\n      const sig = JSON.parse(signatureJSON);\n      validateAndSetSignature(sig, this.setError);\n    } catch (e) {\n      this.setError(e.message);\n    }\n  };\n}\n\nTextSignatureImporter.propTypes = {\n  signatureImporter: PropTypes.shape({}).isRequired,\n  validateAndSetSignature: PropTypes.func.isRequired,\n};\n\nexport default TextSignatureImporter;\n","// FIXME\n/* eslint-disable max-classes-per-file */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { INFO, WARNING, ERROR } from \"unchained-wallets\";\nimport {\n  Box,\n  Typography,\n  Tabs,\n  Tab,\n  Paper,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { Info, Warning, Error } from \"@material-ui/icons\";\n\nimport \"./InteractionMessages.css\";\n\nclass MessagesList extends React.Component {\n  render = () => {\n    const { messages } = this.props;\n    return (\n      <List style={{ maxHeight: \"400px\", overflow: \"auto\" }} dense>\n        {messages.map(this.renderMessage)}\n      </List>\n    );\n  };\n\n  renderMessage = (message, key) => {\n    return (\n      <ListItem key={key}>\n        {message.level && (\n          <ListItemIcon>{this.messageIcon(message)}</ListItemIcon>\n        )}\n        <ListItemText>\n          {this.renderMessageBodyAndSubmessages(message)}\n        </ListItemText>\n      </ListItem>\n    );\n  };\n\n  renderMessageBodyAndSubmessages = (message) => {\n    return (\n      <Box>\n        {this.renderMessageBody(message)}\n        {message.messages && (\n          <List dense>{message.messages.map(this.renderMessage)}</List>\n        )}\n      </Box>\n    );\n  };\n\n  renderMessageBody = (message) => {\n    return (\n      <Box>\n        {message.image && (\n          <Box align=\"center\">\n            <img\n              className=\"InteractionMessages-image\"\n              src={`data:${message.image.mimeType};base64, ${message.image.data}`}\n              alt={message.image.label}\n            />\n          </Box>\n        )}\n        <p>{message.text}</p>\n      </Box>\n    );\n  };\n\n  messageIcon = (message) => {\n    switch (message.level) {\n      case INFO:\n        return <Info />;\n      case WARNING:\n        return <Warning />;\n      case ERROR:\n        return <Error />;\n      default:\n        return null;\n    }\n  };\n}\n\nMessagesList.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nclass VersionTabPanel extends React.Component {\n  render = () => {\n    const { version, currentVersion } = this.props;\n    return (\n      <Box\n        role=\"tabpanel\"\n        hidden={version !== currentVersion}\n        id={`interactionMessages-tabpanel-${version}`}\n        aria-labelledby={`interactionMessages-tab-${version}`}\n      >\n        {version === currentVersion && (\n          <MessagesList messages={this.filteredMessages()} />\n        )}\n      </Box>\n    );\n  };\n\n  filteredMessages = () => {\n    const { messages, version } = this.props;\n    return messages.filter((message) => {\n      if (message.version) {\n        return message.version === version;\n      }\n      return true;\n    });\n  };\n}\n\nVersionTabPanel.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  version: PropTypes.string.isRequired,\n  currentVersion: PropTypes.string.isRequired,\n};\n\nclass InteractionMessages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentVersion: \"\",\n    };\n  }\n\n  render = () => {\n    const { messages, versions } = this.filteredMessages();\n    const currentVersion = this.currentVersion(versions);\n    if (versions.length < 2) {\n      return <MessagesList messages={messages} />;\n    }\n    return (\n      <Box>\n        <Typography variant=\"h6\">Model</Typography>\n        <Paper square>\n          <Tabs\n            value={currentVersion}\n            onChange={this.handleChange}\n            aria-label=\"interactionMessages-version\"\n          >\n            {versions.map((version) => (\n              <Tab\n                key={version}\n                value={version}\n                label={version}\n                id={`interactionMessages-tab-${version}`}\n                aria-controls={`interactionMessages-tabpanel-${version}`}\n              />\n            ))}\n          </Tabs>\n        </Paper>\n        {versions.map((version) => (\n          <VersionTabPanel\n            key={version}\n            version={version}\n            currentVersion={currentVersion}\n            messages={messages}\n          />\n        ))}\n      </Box>\n    );\n  };\n\n  currentVersion = (versions) => {\n    const { currentVersion } = this.state;\n    if (currentVersion) {\n      return currentVersion;\n    }\n    return versions[versions.length - 1];\n  };\n\n  handleChange = (event, newValue) => {\n    this.setState({ currentVersion: newValue });\n  };\n\n  filteredMessages = () => {\n    const { messages, excludeCodes } = this.props;\n    const filteredMessages = [];\n    const versions = [];\n    messages.forEach((message) => {\n      for (let i = 0; i < excludeCodes.length; i += 1) {\n        const excludeCode = excludeCodes[i];\n        if ((message.code || \"\").includes(excludeCode)) {\n          return;\n        }\n      }\n      filteredMessages.push(message);\n      if (message.version && !versions.includes(message.version)) {\n        versions.push(message.version);\n      }\n    });\n    return { versions, messages: filteredMessages };\n  };\n}\n\nInteractionMessages.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.shape({})),\n  excludeCodes: PropTypes.arrayOf(PropTypes.string),\n};\n\nInteractionMessages.defaultProps = {\n  messages: [],\n  excludeCodes: [],\n};\n\nexport default InteractionMessages;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\nimport {\n  PENDING,\n  UNSUPPORTED,\n  ACTIVE,\n  ERROR,\n  SignMultisigTransaction,\n} from \"unchained-wallets\";\nimport {\n  Button,\n  TextField,\n  FormHelperText,\n  Box,\n  Grid,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n} from \"@material-ui/core\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass DirectSignatureImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signatureError: \"\",\n      bip32PathError: \"\",\n      status: this.interaction().isSupported() ? PENDING : UNSUPPORTED,\n    };\n  }\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n  };\n\n  interaction = () => {\n    const { signatureImporter, network, inputs, outputs, walletConfig } =\n      this.props;\n    const keystore = signatureImporter.method;\n    const bip32Paths = inputs.map((input) => {\n      if (typeof input.bip32Path === \"undefined\")\n        return signatureImporter.bip32Path; // pubkey path\n      return `${signatureImporter.bip32Path}${input.bip32Path.slice(1)}`; // xpub/pubkey slice away the m, keep /\n    });\n    return SignMultisigTransaction({\n      network,\n      keystore,\n      inputs,\n      outputs,\n      bip32Paths,\n      walletConfig,\n    });\n  };\n\n  render = () => {\n    const { signatureImporter, extendedPublicKeyImporter, isWallet } =\n      this.props;\n    const { status } = this.state;\n    const interaction = this.interaction();\n    if (status === UNSUPPORTED) {\n      return (\n        <FormHelperText error>\n          {interaction.messageTextFor({ state: status })}\n        </FormHelperText>\n      );\n    }\n    return (\n      <Box mt={2}>\n        {(!isWallet ||\n          extendedPublicKeyImporter === null ||\n          typeof extendedPublicKeyImporter === \"undefined\" ||\n          extendedPublicKeyImporter.method === \"text\") && (\n          <>\n            <Grid container>\n              <Grid item md={10}>\n                <TextField\n                  fullWidth\n                  name=\"bip32Path\"\n                  label=\"BIP32 Path\"\n                  type=\"text\"\n                  value={signatureImporter.bip32Path}\n                  onChange={this.handleBIP32PathChange}\n                  disabled={status !== PENDING}\n                  error={this.hasBIP32PathError()}\n                  helperText={this.bip32PathError()}\n                />\n              </Grid>\n              <Grid item md={2}>\n                {!this.bip32PathIsDefault() && (\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    size=\"small\"\n                    onClick={this.resetBIP32Path}\n                    disabled={status !== PENDING}\n                  >\n                    Default\n                  </Button>\n                )}\n              </Grid>\n            </Grid>\n            <FormHelperText>\n              Use the default value if you don&rsquo;t understand BIP32 paths.\n            </FormHelperText>\n          </>\n        )}\n        <Box mt={2}>{this.renderAction()}</Box>\n        {this.renderDeviceConfirmInfo()}\n        <InteractionMessages\n          messages={interaction.messagesFor({ state: status })}\n          excludeCodes={[\"bip32\"]}\n        />\n      </Box>\n    );\n  };\n\n  renderDeviceConfirmInfo = () => {\n    const { fee, inputsTotalSats } = this.props;\n    const { status } = this.state;\n\n    if (status === ACTIVE) {\n      return (\n        <Box>\n          <p>Your device will ask you to verify the following information:</p>\n          <Table>\n            <TableHead>\n              <TableRow hover>\n                <TableCell />\n                <TableCell>Amount (BTC)</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.renderTargets()}\n              <TableRow hover>\n                <TableCell>Fee</TableCell>\n                <TableCell>{fee}</TableCell>\n              </TableRow>\n              <TableRow hover>\n                <TableCell>Total</TableCell>\n                <TableCell>\n                  {satoshisToBitcoins(inputsTotalSats).toString()}\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </Box>\n      );\n    }\n    return \"\";\n  };\n\n  renderTargets = () => {\n    const { outputs } = this.props;\n    return outputs.map((output) => {\n      return (\n        <TableRow hover key={output.address}>\n          <TableCell>\n            Address <code>{output.address}</code>\n          </TableCell>\n          <TableCell>{output.amount}</TableCell>\n        </TableRow>\n      );\n    });\n  };\n\n  renderAction = () => {\n    const { signatureError, status } = this.state;\n    return (\n      <Grid container alignItems=\"center\">\n        <Grid item md={3}>\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            color=\"primary\"\n            onClick={this.sign}\n            disabled={status !== PENDING}\n          >\n            Sign\n          </Button>\n        </Grid>\n        <Grid item md={9}>\n          <FormHelperText error>{signatureError}</FormHelperText>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  //\n  // BIP32 Path\n  //\n\n  hasBIP32PathError = () => {\n    const { bip32PathError, status } = this.state;\n    return (\n      bip32PathError !== \"\" ||\n      this.interaction().hasMessagesFor({\n        state: status,\n        level: ERROR,\n        code: \"bip32\",\n      })\n    );\n  };\n\n  bip32PathError = () => {\n    const { bip32PathError, status } = this.state;\n    if (bip32PathError !== \"\") {\n      return bip32PathError;\n    }\n    return this.interaction().messageTextFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  setBIP32PathError = (value) => {\n    this.setState({ bip32PathError: value });\n  };\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError);\n  };\n\n  bip32PathIsDefault = () => {\n    const { signatureImporter, defaultBIP32Path } = this.props;\n    return signatureImporter.bip32Path === defaultBIP32Path;\n  };\n\n  resetBIP32Path = () => {\n    const { resetBIP32Path } = this.props;\n    this.setBIP32PathError(\"\");\n    resetBIP32Path();\n  };\n\n  //\n  // Sign\n  //\n\n  sign = async () => {\n    const { disableChangeMethod, validateAndSetSignature, enableChangeMethod } =\n      this.props;\n    disableChangeMethod();\n    this.setState({ signatureError: \"\", status: ACTIVE });\n\n    try {\n      const signature = await this.interaction().run();\n      validateAndSetSignature(signature, (signatureError) => {\n        const stateUpdate = { signatureError };\n        if (signatureError !== \"\") stateUpdate.status = PENDING;\n        this.setState(stateUpdate);\n      });\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      this.setState({ signatureError: e.message, status: PENDING });\n    }\n    enableChangeMethod();\n  };\n}\n\nDirectSignatureImporter.propTypes = {\n  defaultBIP32Path: PropTypes.string.isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({\n    method: PropTypes.string,\n  }).isRequired,\n  fee: PropTypes.string.isRequired,\n  inputsTotalSats: PropTypes.shape({}).isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  isWallet: PropTypes.bool.isRequired,\n  network: PropTypes.string.isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  signatureImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    method: PropTypes.string,\n  }).isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  walletConfig: PropTypes.object.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetSignature: PropTypes.func.isRequired,\n};\n\nexport default DirectSignatureImporter;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { PENDING, ACTIVE } from \"unchained-wallets\";\nimport QrReader from \"react-qr-reader\";\nimport { Grid, Button, Box, FormHelperText } from \"@material-ui/core\";\nimport Copyable from \"../Copyable\";\n\nconst QR_CODE_READER_DELAY = 300; // ms?\n\nclass HermitReader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: PENDING,\n      error: \"\",\n    };\n  }\n\n  render = () => {\n    const { status, error } = this.state;\n    const { interaction, width, startText } = this.props;\n\n    if (status === PENDING) {\n      const commandMessage = interaction.messageFor({\n        state: status,\n        code: \"hermit.command\",\n      });\n      return (\n        <div>\n          <p>{commandMessage.instructions}</p>\n          <Grid container justify=\"center\" className=\"mb-2\">\n            <Copyable text={commandMessage.command} showText={false}>\n              <code>\n                <strong>{commandMessage.mode}&gt;</strong>{\" \"}\n                {commandMessage.command}\n              </code>\n            </Copyable>\n          </Grid>\n          <p>When you are ready, scan the QR code produced by Hermit:</p>\n          <Box mt={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"mt-2\"\n              size=\"large\"\n              onClick={this.handleStart}\n            >\n              {startText}\n            </Button>\n          </Box>\n        </div>\n      );\n    }\n\n    if (status === ACTIVE) {\n      return (\n        <Grid container direction=\"column\">\n          <Grid item>\n            <QrReader\n              delay={QR_CODE_READER_DELAY}\n              onError={this.handleError}\n              onScan={this.handleScan}\n              style={{ width }}\n              facingMode=\"user\"\n            />\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"small\"\n              onClick={this.handleStop}\n            >\n              Cancel\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    }\n\n    if (status === \"error\" || status === \"success\") {\n      return (\n        <div>\n          <FormHelperText error>{error}</FormHelperText>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            size=\"small\"\n            onClick={this.handleStop}\n          >\n            Reset\n          </Button>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  handleStart = () => {\n    const { onStart } = this.props;\n    this.setState({ status: ACTIVE, error: \"\" });\n    if (onStart) {\n      onStart();\n    }\n  };\n\n  handleError = (error) => {\n    const { onClear } = this.props;\n    this.setState({ status: \"error\", error: error.message });\n    if (onClear) {\n      onClear();\n    }\n  };\n\n  handleScan = (data) => {\n    const { onSuccess, interaction } = this.props;\n    if (data) {\n      try {\n        const result = interaction.parse(data);\n        onSuccess(result);\n        this.setState({ status: \"success\" });\n      } catch (e) {\n        this.handleError(e);\n      }\n    }\n  };\n\n  handleStop = () => {\n    const { onClear } = this.props;\n    this.setState({\n      status: PENDING,\n      error: \"\",\n    });\n    if (onClear) {\n      onClear();\n    }\n  };\n}\n\nHermitReader.propTypes = {\n  onStart: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n  onClear: PropTypes.func.isRequired,\n  width: PropTypes.string,\n  startText: PropTypes.string,\n  interaction: PropTypes.shape({\n    messageFor: PropTypes.func,\n    parse: PropTypes.func,\n  }).isRequired,\n};\n\nHermitReader.defaultProps = {\n  width: \"256px\",\n  startText: \"Scan\",\n};\n\nexport default HermitReader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport QRCode from \"qrcode.react\";\nimport Copyable from \"../Copyable\";\n\nconst HermitDisplayer = (props) => {\n  const { width, string } = props;\n  return (\n    <Copyable text={string} newline showText={false}>\n      <QRCode size={width} value={string} level=\"L\" />\n    </Copyable>\n  );\n};\n\nHermitDisplayer.propTypes = {\n  string: PropTypes.string,\n  width: PropTypes.number,\n};\n\nHermitDisplayer.defaultProps = {\n  string: \"\",\n  width: 120,\n};\n\nexport default HermitDisplayer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  HERMIT,\n  PENDING,\n  UNSUPPORTED,\n  SignMultisigTransaction,\n} from \"unchained-wallets\";\nimport {\n  Grid,\n  Box,\n  TextField,\n  Button,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport HermitReader from \"./HermitReader\";\nimport HermitDisplayer from \"./HermitDisplayer\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass HermitSignatureImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bip32PathError: \"\",\n      signatureError: \"\",\n      status: this.interaction(true).isSupported() ? PENDING : UNSUPPORTED,\n    };\n  }\n\n  interaction = () => {\n    const { signatureImporter, network, inputs, outputs } = this.props;\n    const bip32Paths = inputs.map((input) => {\n      if (typeof input.bip32Path === \"undefined\")\n        return signatureImporter.bip32Path; // pubkey path\n      return `${signatureImporter.bip32Path}${input.bip32Path.slice(1)}`; // xpub/pubkey slice away the m, keep /\n    });\n\n    return SignMultisigTransaction({\n      keystore: HERMIT,\n      network,\n      inputs,\n      outputs,\n      bip32Paths,\n    });\n  };\n\n  render = () => {\n    const { signatureImporter, disableChangeMethod, resetBIP32Path } =\n      this.props;\n    const { bip32PathError, signatureError, status } = this.state;\n    const interaction = this.interaction();\n    if (status === UNSUPPORTED) {\n      return (\n        <InteractionMessages\n          messages={interaction.messagesFor({ state: status })}\n          excludeCodes={[\"hermit.signature_request\", \"hermit.command\"]}\n        />\n      );\n    }\n    return (\n      <Box mt={2}>\n        <Grid container>\n          <Grid item md={10}>\n            <TextField\n              name=\"bip32Path\"\n              value={signatureImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={status !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={bip32PathError}\n            />\n          </Grid>\n\n          <Grid item md={2}>\n            {!this.bip32PathIsDefault() && (\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                size=\"small\"\n                onClick={resetBIP32Path}\n                disabled={status !== PENDING}\n              >\n                Default\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n\n        <FormHelperText>\n          Use the default value if you don&rsquo;t understand BIP32 paths.\n        </FormHelperText>\n\n        <Box mt={2}>\n          <Grid container justify=\"center\">\n            <Grid item>\n              <HermitDisplayer width={400} string={interaction.request()} />\n            </Grid>\n          </Grid>\n\n          <HermitReader\n            startText=\"Scan Signature QR Code\"\n            interaction={interaction}\n            onStart={disableChangeMethod}\n            onSuccess={this.import}\n            onClear={this.clear}\n          />\n\n          <InteractionMessages\n            messages={interaction.messagesFor({ state: status })}\n            excludeCodes={[\"hermit.signature_request\", \"hermit.command\"]}\n          />\n\n          <FormHelperText error>{signatureError}</FormHelperText>\n        </Box>\n      </Box>\n    );\n  };\n\n  import = (signature) => {\n    const { validateAndSetSignature, enableChangeMethod } = this.props;\n    this.setState({ signatureError: \"\" });\n    enableChangeMethod();\n    validateAndSetSignature(signature, (signatureError) => {\n      this.setState({ signatureError });\n    });\n  };\n\n  clear = () => {\n    const { resetBIP32Path, enableChangeMethod } = this.props;\n    resetBIP32Path();\n    this.setState({ signatureError: \"\" });\n    enableChangeMethod();\n  };\n\n  hasBIP32PathError = () => {\n    const { bip32PathError } = this.state;\n    return bip32PathError !== \"\";\n  };\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(\n      bip32Path,\n      () => {},\n      (bip32PathError) => {\n        this.setState({ bip32PathError });\n      }\n    );\n  };\n\n  bip32PathIsDefault = () => {\n    const { signatureImporter, defaultBIP32Path } = this.props;\n    return signatureImporter.bip32Path === defaultBIP32Path;\n  };\n}\n\nHermitSignatureImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  signatureImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n  }).isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetSignature: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func.isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n};\n\nexport default HermitSignatureImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  PENDING,\n  UNSUPPORTED,\n  SignMultisigTransaction,\n  ACTIVE,\n} from \"unchained-wallets\";\nimport {\n  Box,\n  FormHelperText,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  FormGroup,\n} from \"@material-ui/core\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass IndirectSignatureImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bip32PathError: \"\",\n      signatureError: \"\",\n      status: this.interaction().isSupported() ? PENDING : UNSUPPORTED,\n    };\n  }\n\n  interaction = () => {\n    const { signatureImporter, network, inputs, outputs } = this.props;\n    const keystore = signatureImporter.method;\n    const bip32Paths = inputs.map((input) => {\n      if (typeof input.bip32Path === \"undefined\")\n        return signatureImporter.bip32Path; // pubkey path\n      return `${signatureImporter.bip32Path}${input.bip32Path.slice(1)}`; // xpub/pubkey slice away the m, keep /\n    });\n\n    return SignMultisigTransaction({\n      keystore,\n      network,\n      inputs,\n      outputs,\n      bip32Paths,\n    });\n  };\n\n  renderDeviceConfirmInfo = () => {\n    const { fee, inputsTotalSats } = this.props;\n    return (\n      <Box>\n        <p>Your device will ask you to verify the following information:</p>\n        <Table>\n          <TableHead>\n            <TableRow hover>\n              <TableCell />\n              <TableCell>Amount (BTC)</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {this.renderTargets()}\n            <TableRow hover>\n              <TableCell>Fee</TableCell>\n              <TableCell>{fee}</TableCell>\n            </TableRow>\n            <TableRow hover>\n              <TableCell>Total</TableCell>\n              <TableCell>\n                {satoshisToBitcoins(inputsTotalSats).toString()}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  };\n\n  renderTargets = () => {\n    const { outputs } = this.props;\n    return outputs.map((output) => {\n      return (\n        <TableRow hover key={output.address}>\n          <TableCell>\n            Address <code>{output.address}</code>\n          </TableCell>\n          <TableCell>{output.amount}</TableCell>\n        </TableRow>\n      );\n    });\n  };\n\n  render = () => {\n    const { disableChangeMethod, extendedPublicKeyImporter, Signer } =\n      this.props;\n    const { signatureError, status } = this.state;\n    const interaction = this.interaction();\n    if (status === UNSUPPORTED) {\n      return (\n        <InteractionMessages\n          messages={interaction.messagesFor({ state: status })}\n          excludeCodes={[\"hermit.signature_request\", \"hermit.command\"]}\n        />\n      );\n    }\n    return (\n      <Box mt={2}>\n        <Box mt={2}>\n          {this.renderDeviceConfirmInfo()}\n          <FormGroup>\n            <Signer\n              setError={this.setError}\n              hasError={this.hasBIP32PathError()}\n              onReceive={this.onReceive}\n              onReceivePSBT={this.onReceivePSBT}\n              interaction={this.interaction()}\n              setActive={this.setActive}\n              disableChangeMethod={disableChangeMethod}\n              extendedPublicKeyImporter={extendedPublicKeyImporter}\n            />\n\n            <FormHelperText error>{signatureError}</FormHelperText>\n\n            <InteractionMessages\n              messages={interaction.messagesFor({ state: status })}\n            />\n          </FormGroup>\n        </Box>\n      </Box>\n    );\n  };\n\n  setActive = () => {\n    this.setState({ status: ACTIVE });\n  };\n\n  onReceive = (signature) => {\n    const { validateAndSetSignature, enableChangeMethod } = this.props;\n    this.setState({ signatureError: \"\" });\n    if (enableChangeMethod) {\n      enableChangeMethod();\n    }\n    validateAndSetSignature(signature, (signatureError) => {\n      this.setState({ signatureError });\n    });\n  };\n\n  onReceivePSBT = (data) => {\n    const { validateAndSetSignature } = this.props;\n    try {\n      // signatureData is one or more sets of signatures that are keyed\n      // based on which pubkey the signatures are signing.\n      const signatureData = this.interaction().parse(data);\n      const signatureSetsKeys = Object.keys(signatureData);\n      const signatures = [];\n\n      // We have a slight issue for the n-ly signed PSBT case\n      // because there is no order to the pubkey: [signature(s)] mapping\n      // returned from `unchained-bitcoin`. it's ok, we have valid signatures, etc.\n      // but truncating information can cause problems down the line in keeping\n      // the validation straightforward.\n\n      // e.g. have a doubly-signed psbt with 3 inputs on the same 2-of-3 multisig address,\n      // so 6 signatures total are returned in signatureData back for 2 pubkeys (3 signatures from each pubkey).\n      // here adding a pubkey set matches that signature array.\n      // [siga1, siga2, siga3, sigb1, sigb2, sigb3]\n      // In the case of multiple 2-of-3 multisig addresses, the pubkeys can get jumbled and there's no longer\n      // a clear break between signature sets based purely on pubkey. need xfp information as well.\n\n      // For now, shove all of the signatures into the same array and return that.\n      signatureSetsKeys.forEach((pubkey) => {\n        signatures.push(...signatureData[pubkey]);\n      });\n\n      this.setState({ signatureError: \"\" });\n      validateAndSetSignature(signatures, (signatureError) => {\n        this.setState({ signatureError });\n      });\n    } catch (e) {\n      e.errorType = \"Coldcard Signing Error\";\n      this.setState({ signatureError: e.message });\n    }\n  };\n\n  setError = (value) => {\n    this.setState({ signatureError: value });\n  };\n\n  clear = () => {\n    const { resetBIP32Path, enableChangeMethod } = this.props;\n    resetBIP32Path();\n    this.setState({ signatureError: \"\" });\n    enableChangeMethod();\n  };\n\n  hasBIP32PathError = () => {\n    const { bip32PathError } = this.state;\n    return bip32PathError !== \"\";\n  };\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(\n      bip32Path,\n      () => {},\n      (bip32PathError) => {\n        this.setState({ bip32PathError });\n      }\n    );\n  };\n\n  bip32PathIsDefault = () => {\n    const { signatureImporter, defaultBIP32Path } = this.props;\n    return signatureImporter.bip32Path === defaultBIP32Path;\n  };\n}\n\nIndirectSignatureImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  signatureImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    method: PropTypes.string,\n  }).isRequired,\n  resetBIP32Path: PropTypes.func,\n  defaultBIP32Path: PropTypes.string,\n  validateAndSetBIP32Path: PropTypes.func,\n  validateAndSetSignature: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func,\n  disableChangeMethod: PropTypes.func,\n  extendedPublicKeyImporter: PropTypes.shape({\n    method: PropTypes.string,\n  }),\n  Signer: PropTypes.shape({}).isRequired,\n  fee: PropTypes.string,\n  inputsTotalSats: PropTypes.shape({}),\n};\n\nIndirectSignatureImporter.defaultProps = {\n  resetBIP32Path: null,\n  defaultBIP32Path: \"\",\n  validateAndSetBIP32Path: null,\n  enableChangeMethod: null,\n  disableChangeMethod: null,\n  extendedPublicKeyImporter: {},\n  fee: \"\",\n  inputsTotalSats: {},\n};\n\nexport default IndirectSignatureImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"@material-ui/core\";\n\nconst ColdcardSigningButtons = (props) => {\n  const { handlePSBTDownloadClick, handleWalletConfigDownloadClick } = props;\n  return (\n    <>\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handlePSBTDownloadClick}\n      >\n        Download PSBT\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        onClick={handleWalletConfigDownloadClick}\n      >\n        Download Coldcard Config\n      </Button>\n    </>\n  );\n};\n\nColdcardSigningButtons.propTypes = {\n  handlePSBTDownloadClick: PropTypes.func.isRequired,\n  handleWalletConfigDownloadClick: PropTypes.func.isRequired,\n};\n\nexport default ColdcardSigningButtons;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport { COLDCARD, ConfigAdapter } from \"unchained-wallets\";\nimport { connect } from \"react-redux\";\nimport { ColdcardSigningButtons } from \".\";\nimport { ColdcardPSBTReader } from \"./ColdcardFileReader\";\nimport { downloadFile } from \"../../utils\";\nimport { getWalletDetailsText } from \"../../selectors/wallet\";\n\nclass ColdcardSigner extends Component {\n  handlePSBTDownloadClick = () => {\n    const { walletName, interaction, setActive } = this.props;\n    const body = interaction.request().toBase64();\n    const timestamp = moment().format(\"HHmm\");\n    const filename = `${timestamp}-${walletName}.psbt`;\n    downloadFile(body, filename);\n    setActive();\n  };\n\n  handleWalletConfigDownloadClick = () => {\n    const { walletDetailsText } = this.props;\n    this.reshapeConfig(walletDetailsText);\n  };\n\n  // This tries to reshape it to a Coldcard Wallet Config via unchained-wallets\n  reshapeConfig = (walletDetails) => {\n    const walletConfig = JSON.parse(walletDetails);\n    const { startingAddressIndex } = walletConfig;\n    // If this is a config that's been rekeyed, note that in the name.\n    walletConfig.name =\n      startingAddressIndex === 0\n        ? walletConfig.name\n        : `${walletConfig.name}_${startingAddressIndex.toString()}`;\n\n    // At the moment (2020-Dec), Coldcard has just released a new firmware version\n    // which addresses the following problem:  that they inverted the ordering\n    // for p2sh-p2wsh as p2wsh-p2sh but we need to support the older firmware.\n    walletConfig.addressType = walletConfig.addressType.includes(\"-\")\n      ? \"P2WSH-P2SH\"\n      : walletConfig.addressType;\n\n    const interaction = ConfigAdapter({\n      KEYSTORE: COLDCARD,\n      jsonConfig: walletConfig,\n    });\n    const body = interaction.adapt();\n    const filename = `wc-${walletConfig.name}.txt`;\n    downloadFile(body, filename);\n  };\n\n  render = () => {\n    const { onReceivePSBT, setError } = this.props;\n    return (\n      <div>\n        <ColdcardSigningButtons\n          handlePSBTDownloadClick={this.handlePSBTDownloadClick}\n          handleWalletConfigDownloadClick={this.handleWalletConfigDownloadClick}\n        />\n        <ColdcardPSBTReader onReceivePSBT={onReceivePSBT} setError={setError} />\n      </div>\n    );\n  };\n}\n\nColdcardSigner.propTypes = {\n  walletName: PropTypes.string.isRequired,\n  interaction: PropTypes.shape({\n    request: PropTypes.func,\n  }).isRequired,\n  setActive: PropTypes.func.isRequired,\n  walletDetailsText: PropTypes.string.isRequired,\n  onReceivePSBT: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    walletName: state.wallet.common.walletName,\n    walletDetailsText: getWalletDetailsText(state),\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ColdcardSigner);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport IndirectSignatureImporter from \"../ScriptExplorer/IndirectSignatureImporter\";\nimport ColdcardSigner from \"./ColdcardSigner\";\n\nconst ColdcardSignatureImporter = (props) => {\n  const {\n    signatureImporter,\n    extendedPublicKeyImporter,\n    inputs,\n    outputs,\n    inputsTotalSats,\n    fee,\n    validateAndSetSignature,\n    network,\n  } = props;\n  return (\n    <IndirectSignatureImporter\n      network={network}\n      signatureImporter={signatureImporter}\n      inputs={inputs}\n      outputs={outputs}\n      inputsTotalSats={inputsTotalSats}\n      fee={fee}\n      extendedPublicKeyImporter={extendedPublicKeyImporter}\n      validateAndSetSignature={validateAndSetSignature}\n      Signer={ColdcardSigner}\n    />\n  );\n};\n\nColdcardSignatureImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  signatureImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n  }).isRequired,\n  validateAndSetSignature: PropTypes.func.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n  inputsTotalSats: PropTypes.shape({}).isRequired,\n  fee: PropTypes.string.isRequired,\n};\n\nexport default ColdcardSignatureImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  validateHex,\n  validateMultisigSignature,\n  multisigBIP32Path,\n  multisigBIP32Root,\n  validateBIP32Path,\n} from \"unchained-bitcoin\";\nimport { TREZOR, LEDGER, HERMIT, COLDCARD } from \"unchained-wallets\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Select,\n  MenuItem,\n  InputLabel,\n  Button,\n  Box,\n  FormControl,\n} from \"@material-ui/core\";\nimport Copyable from \"../Copyable\";\nimport TextSignatureImporter from \"./TextSignatureImporter\";\nimport DirectSignatureImporter from \"./DirectSignatureImporter\";\nimport HermitSignatureImporter from \"../Hermit/HermitSignatureImporter\";\nimport ColdcardSignatureImporter from \"../Coldcard/ColdcardSignatureImporter\";\nimport EditableName from \"../EditableName\";\nimport {\n  setSignatureImporterName,\n  setSignatureImporterMethod,\n  setSignatureImporterBIP32Path,\n  setSignatureImporterPublicKeys,\n  setSignatureImporterSignature,\n  setSignatureImporterFinalized,\n  setSignatureImporterComplete,\n} from \"../../actions/signatureImporterActions\";\nimport \"react-table/react-table.css\";\nimport { setSigningKey as setSigningKeyAction } from \"../../actions/transactionActions\";\n\nconst TEXT = \"text\";\nconst UNKNOWN = \"unknown\";\n\nclass SignatureImporter extends React.Component {\n  titleRef = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      disableChangeMethod: false,\n    };\n  }\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n    this.scrollToTitle();\n  };\n\n  componentDidUpdate = () => {\n    this.scrollToTitle();\n  };\n\n  getCurrent() {\n    const { signatureImporters } = this.props;\n    return Object.keys(signatureImporters).reduce((o, k) => {\n      return o + (signatureImporters[k].finalized ? 1 : 0);\n    }, 1);\n  }\n\n  title = () => {\n    const { number, signatureImporter, setName } = this.props;\n    return (\n      <EditableName\n        number={number}\n        name={signatureImporter.name}\n        setName={setName}\n      />\n    );\n  };\n\n  scrollToTitle = () => {\n    const { number } = this.props;\n    if (number === this.getCurrent()) {\n      this.titleRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  renderImport = () => {\n    const { signatureImporter, number, isWallet } = this.props;\n    const currentNumber = this.getCurrent();\n    const notMyTurn = number > currentNumber;\n    const { disableChangeMethod } = this.state;\n    const labelId = `signature-${number}-importer-select-label`;\n    if (notMyTurn) {\n      return (\n        <p>\n          Once you have imported the signature above, you will be able to import\n          another signature here.\n        </p>\n      );\n    }\n\n    return (\n      <form>\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`signature-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={signatureImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value={UNKNOWN}>{\"< Select method >\"}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={COLDCARD} disabled={!isWallet}>\n              Coldcard\n            </MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n        </FormControl>\n\n        {this.renderImportByMethod()}\n      </form>\n    );\n  };\n\n  renderImportByMethod = () => {\n    const {\n      network,\n      signatureImporter,\n      signatureImporters,\n      inputs,\n      inputsTotalSats,\n      outputs,\n      fee,\n      isWallet,\n      extendedPublicKeyImporter,\n      extendedPublicKeys,\n      requiredSigners,\n      addressType,\n      walletName,\n    } = this.props;\n    const { method } = signatureImporter;\n\n    if (method === TREZOR || method === LEDGER) {\n      return (\n        <DirectSignatureImporter\n          network={network}\n          signatureImporter={signatureImporter}\n          signatureImporters={signatureImporters}\n          inputs={inputs}\n          outputs={outputs}\n          inputsTotalSats={inputsTotalSats}\n          fee={fee}\n          isWallet={isWallet}\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          resetBIP32Path={this.resetBIP32Path}\n          defaultBIP32Path={this.defaultBIP32Path()}\n          validateAndSetSignature={this.validateAndSetSignature}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          walletConfig={{\n            addressType,\n            network,\n            requiredSigners,\n            extendedPublicKeys,\n            name: walletName,\n          }}\n        />\n      );\n    }\n    if (method === HERMIT) {\n      return (\n        <HermitSignatureImporter\n          network={network}\n          signatureImporter={signatureImporter}\n          inputs={inputs}\n          outputs={outputs}\n          inputsTotalSats={inputsTotalSats}\n          fee={fee}\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          resetBIP32Path={this.resetBIP32Path}\n          defaultBIP32Path={this.defaultBIP32Path()}\n          validateAndSetSignature={this.validateAndSetSignature}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n        />\n      );\n    }\n    if (method === COLDCARD) {\n      return (\n        <ColdcardSignatureImporter\n          network={network}\n          signatureImporter={signatureImporter}\n          inputs={inputs}\n          outputs={outputs}\n          inputsTotalSats={inputsTotalSats}\n          fee={fee}\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetSignature={this.validateAndSetSignature}\n        />\n      );\n    }\n    if (method === TEXT) {\n      return (\n        <TextSignatureImporter\n          signatureImporter={signatureImporter}\n          validateAndSetSignature={this.validateAndSetSignature}\n        />\n      );\n    }\n    return null;\n  };\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod } = this.props;\n    setMethod(number, event.target.value);\n    this.reset();\n  };\n\n  disableChangeMethod = () => {\n    this.setState({ disableChangeMethod: true });\n  };\n\n  enableChangeMethod = () => {\n    this.setState({ disableChangeMethod: false });\n  };\n\n  //\n  // State\n  //\n\n  reset = () => {\n    const { number, setSignature, setPublicKeys, setFinalized } = this.props;\n    setSignature(number, \"\");\n    setPublicKeys(number, []);\n    setFinalized(number, false);\n  };\n\n  //\n  // BIP32 Path\n  //\n\n  defaultBIP32Path = () => {\n    const { addressType, network, isWallet } = this.props;\n    return isWallet\n      ? multisigBIP32Root(addressType, network)\n      : multisigBIP32Path(addressType, network);\n  };\n\n  resetBIP32Path = () => {\n    const { number, setBIP32Path, isWallet } = this.props;\n    if (isWallet) {\n      const { extendedPublicKeyImporter } = this.props;\n      if (\n        extendedPublicKeyImporter &&\n        extendedPublicKeyImporter.method !== \"text\"\n      )\n        return;\n    }\n    setBIP32Path(number, this.defaultBIP32Path());\n  };\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const { number, setBIP32Path } = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(number, bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback(\"\");\n      callback();\n    }\n  };\n\n  //\n  // Signature\n  //\n\n  renderSignature = () => {\n    const { signatureImporter, txid } = this.props;\n    const signatureJSON = JSON.stringify(signatureImporter.signature);\n    return (\n      <div>\n        <p>The following signature was imported:</p>\n        <Box>\n          <Copyable text={signatureJSON} showIcon code />\n        </Box>\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={txid !== \"\"}\n            size=\"small\"\n            onClick={this.reset}\n          >\n            Remove Signature\n          </Button>\n        </Box>\n      </div>\n    );\n  };\n\n  validateAndSetSignature = (inputsSignatures, errback) => {\n    const {\n      number,\n      inputs,\n      signatureImporters,\n      setComplete,\n      network,\n      outputs,\n      setSigningKey,\n    } = this.props;\n    if (!Array.isArray(inputsSignatures)) {\n      errback(\"Signature is not an array of strings.\");\n      return;\n    }\n\n    if (inputsSignatures.length < inputs.length) {\n      errback(\n        \"Not enough signatures (must be at least one signature for each input).\"\n      );\n      return;\n    }\n\n    if (inputsSignatures.length % inputs.length !== 0) {\n      errback(\"Number of signatures must be a multiple of number of inputs.\");\n      return;\n    }\n\n    const numSignatureSets = inputsSignatures.length / inputs.length;\n\n    if (numSignatureSets > Object.values(signatureImporters).length) {\n      errback(\n        \"Too many signatures. Max one set of signatures per required signer.\"\n      );\n      return;\n    }\n    const publicKeys = [];\n    if (numSignatureSets === 1) {\n      const finalizedSignatureImporters = Object.values(\n        signatureImporters\n      ).filter((signatureImporter) => signatureImporter.finalized);\n      for (\n        let inputIndex = 0;\n        inputIndex < inputsSignatures.length;\n        inputIndex += 1\n      ) {\n        const inputNumber = inputIndex + 1;\n        const inputSignature = inputsSignatures[inputIndex];\n        if (validateHex(inputSignature) !== \"\") {\n          errback(`Signature for input ${inputNumber} is not valid hex.`);\n          return;\n        }\n\n        let publicKey;\n        try {\n          publicKey = validateMultisigSignature(\n            network,\n            inputs,\n            outputs,\n            inputIndex,\n            inputSignature\n          );\n        } catch (e) {\n          errback(`Signature for input ${inputNumber} is invalid.`);\n          return;\n        }\n        if (publicKey) {\n          for (\n            let finalizedSignatureImporterNum = 0;\n            finalizedSignatureImporterNum < finalizedSignatureImporters.length;\n            finalizedSignatureImporterNum += 1\n          ) {\n            const finalizedSignatureImporter =\n              finalizedSignatureImporters[finalizedSignatureImporterNum];\n\n            if (\n              finalizedSignatureImporter.signature[inputIndex] ===\n                inputSignature ||\n              finalizedSignatureImporter.publicKeys[inputIndex] === publicKey\n            ) {\n              errback(\n                `Signature for input ${inputNumber} is a duplicate of a previously provided signature.`\n              );\n              return;\n            }\n          }\n          publicKeys.push(publicKey);\n        } else {\n          errback(`Signature for input ${inputNumber} is invalid.`);\n          return;\n        }\n      }\n      setComplete(number, {\n        signature: inputsSignatures,\n        publicKeys,\n        finalized: true,\n      });\n    } else {\n      // We land here if a PSBT has been uploaded with multiple signature sets.\n      // In case we already have some signatures saved, e.g. first a singly-signed\n      // PSBT was uploaded, and now a doubly-signed PSBT was uploaded, filter out\n      // the known signatures.\n      let signaturesToCheck = this.filterKnownSignatures(inputsSignatures);\n      let signatureSetNumber = number; // so we can iterate, number is a const from props.\n\n      while (\n        signatureSetNumber <= Object.keys(signatureImporters).length &&\n        signaturesToCheck.length > 0\n      ) {\n        setSigningKey(signatureSetNumber, signatureSetNumber - 1);\n        const signatureSet = [];\n        const publicKeySet = [];\n\n        // Loop over inputs and check the sigs array to see if you can find a public key or not.\n        // NOTE - signaturesToCheck.length could be much larger than inputs.length!\n        // This is *not* efficient, but it will work as a temporary solution until we refactor\n        // the signatures data structure returned from unchained-bitcoin or change how caravan\n        // validates signatures.\n\n        // The \"sets\" of signatures that come out of this process are not all connected /  tied to the same root xpub\n        // because we've truncated a little information in the psbt parsing => signature return process\n        // We can re-generate that information later but for now this should work. There are\n        // bugs in edge cases that need to be handled better.\n        for (let inputIndex = 0; inputIndex < inputs.length; inputIndex += 1) {\n          let publicKey;\n\n          // THIS NEEDS TO BE MORE OPINIONATED ABOUT *WHICH* SIGNING DEVICE ARE THESE PUBKEYS COMING FROM\n          // e.g. after the first round of this loop if you successfully find a public key -- that public key\n          // is derived from some root xpub with a particular fingerprint, as you move along this loop to the\n          // next input, you want to *keep* searching until you find a public key that's from the same root fingerprint.\n          // Meaning a member of the same signatureSet. All of the remaining publicKey solutions in this round of\n          // signature validation should be derived from the *same* xpub.\n          //\n          // This assumption is not held if you're just blindly searching for *any* (or the first) valid public key\n          // within the list of signatures. E.g. there are multiple *valid* publicKeys for every input if we're at\n          // this point in the code. But if you don't pay attention to the root xpub as you assign public keys to\n          // a signatureSet, you will get a row of public keys that *may not* all be associated with any particular\n          // ExtendedPublicKey. Obviously that's not quite right. But if uploaded PSBT is fully signed, then this\n          // should not matter and the transaction should validate, build, and be able to be broadcast.\n          for (let i = 0; i < signaturesToCheck.length; i += 1) {\n            const inputSignature = signaturesToCheck[i];\n            if (validateHex(inputSignature) !== \"\") {\n              errback(\n                `Signature for input at index ${inputIndex} is not valid hex.`\n              );\n              return;\n            }\n            try {\n              // This returns false if it completes with no error\n              publicKey = validateMultisigSignature(\n                network,\n                inputs,\n                outputs,\n                inputIndex,\n                inputSignature\n              );\n            } catch (e) {\n              // eslint-disable-next-line no-console\n              console.error(e);\n            }\n            // FIXME `&& publicKey is member of a particular root xpub/fingerprint` should be added here!\n            if (publicKey) {\n              // We know inputSignature is a signature for publicKey but we aren't keeping root xpub/xfp info around\n              publicKeySet.push(publicKey);\n              signatureSet.push(inputSignature);\n              break;\n            }\n          }\n          if (!publicKey) {\n            errback(`No valid signature for input ${inputIndex} found.`);\n            return;\n          }\n        }\n        if (\n          publicKeySet.length !== inputs.length ||\n          signatureSet.length !== inputs.length\n        ) {\n          errback(`There was an error in validating the transaction.`);\n          return;\n        }\n        // Set the signatureSetNumber we're currently on to complete and include publicKeySet/signatureSet\n        setComplete(signatureSetNumber, {\n          signature: signatureSet,\n          publicKeySet,\n          finalized: true,\n        });\n        // Send signatures to this method again, since now some of them are marked\n        // as finalized, and they will be filtered out.\n        signaturesToCheck = this.filterKnownSignatures(inputsSignatures);\n        // increment which signature number we're working on next.\n        signatureSetNumber += 1;\n      }\n    }\n  };\n\n  filterKnownSignatures = (inputsSignatures) => {\n    const { inputs, signatureImporters } = this.props;\n    const finalizedSignatureImporters = Object.values(\n      signatureImporters\n    ).filter((signatureImporter) => signatureImporter.finalized);\n    const knownSignatures = [];\n    for (let inputIndex = 0; inputIndex < inputs.length; inputIndex += 1) {\n      for (\n        let finalizedSignatureImporterNum = 0;\n        finalizedSignatureImporterNum < finalizedSignatureImporters.length;\n        finalizedSignatureImporterNum += 1\n      ) {\n        const finalizedSignatureImporter =\n          finalizedSignatureImporters[finalizedSignatureImporterNum];\n\n        knownSignatures.push(finalizedSignatureImporter.signature[inputIndex]);\n      }\n    }\n    // diff out any signature we've seen before\n    return inputsSignatures.filter((x) => !knownSignatures.includes(x));\n  };\n\n  render() {\n    const { signatureImporter } = this.props;\n    return (\n      <Card>\n        <CardHeader title={this.title()} ref={this.titleRef} />\n        <CardContent>\n          {signatureImporter.finalized\n            ? this.renderSignature()\n            : this.renderImport()}\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nSignatureImporter.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({\n    method: PropTypes.string,\n  }),\n  extendedPublicKeys: PropTypes.arrayOf(\n    PropTypes.shape({\n      path: PropTypes.string,\n      rootFingerprint: PropTypes.string,\n      base58String: PropTypes.string,\n    })\n  ).isRequired,\n  fee: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  inputsTotalSats: PropTypes.shape({}).isRequired,\n  isWallet: PropTypes.bool.isRequired,\n  network: PropTypes.string.isRequired,\n  number: PropTypes.number.isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  setName: PropTypes.func.isRequired,\n  setMethod: PropTypes.func.isRequired,\n  setBIP32Path: PropTypes.func.isRequired,\n  setSignature: PropTypes.func.isRequired,\n  setPublicKeys: PropTypes.func.isRequired,\n  setFinalized: PropTypes.func.isRequired,\n  setComplete: PropTypes.func.isRequired,\n  signatureImporter: PropTypes.shape({\n    finalized: PropTypes.bool,\n    name: PropTypes.string,\n    method: PropTypes.string,\n    signature: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }).isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  txid: PropTypes.string.isRequired,\n  unsignedTransaction: PropTypes.shape({}).isRequired,\n  setSigningKey: PropTypes.func.isRequired,\n  walletName: PropTypes.string.isRequired,\n};\n\nSignatureImporter.defaultProps = {\n  extendedPublicKeyImporter: {},\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...{\n      signatureImporters: state.spend.signatureImporters,\n      signatureImporter: state.spend.signatureImporters[ownProps.number],\n      fee: state.spend.transaction.fee,\n      txid: state.spend.transaction.txid,\n      walletName: state.wallet.common.walletName,\n    },\n    ...state.spend.transaction,\n    requiredSigners: state.settings.requiredSigners,\n    extendedPublicKeys: Object.values(\n      state.quorum.extendedPublicKeyImporters\n    ).map((key) => ({\n      bip32Path: key.bip32Path === \"Unknown\" ? \"m/45'/0/0/0\" : key.bip32Path,\n      xfp: key.rootXfp,\n      xpub: key.extendedPublicKey,\n    })),\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setSignatureImporterName,\n  setMethod: setSignatureImporterMethod,\n  setBIP32Path: setSignatureImporterBIP32Path,\n  setPublicKeys: setSignatureImporterPublicKeys,\n  setSignature: setSignatureImporterSignature,\n  setFinalized: setSignatureImporterFinalized,\n  setComplete: setSignatureImporterComplete,\n  setSigningKey: setSigningKeyAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignatureImporter);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\n// Actions\nimport { deriveChildPublicKey } from \"unchained-bitcoin\";\nimport {\n  Box,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n} from \"@material-ui/core\";\nimport {\n  setSignatureImporterBIP32Path,\n  setSignatureImporterMethod,\n} from \"../../actions/signatureImporterActions\";\n\nimport { setSigningKey as setSigningKeyAction } from \"../../actions/transactionActions\";\n\n// Components\nimport SignatureImporter from \"../ScriptExplorer/SignatureImporter\";\n\nclass ExtendedPublicKeySelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selection: \"\",\n    };\n  }\n\n  componentDidMount = () => {\n    const { signingKeys, number } = this.props;\n    if (signingKeys[number - 1] > 0)\n      this.updateKeySelection(signingKeys[number - 1]);\n  };\n\n  // There can be a situation where a signatureImporter is in the finalized\n  // state, but it was never actually selected as a key. This can\n  // happen when a signed PSBT is uploaded that has more than one set of\n  // signatures, given all of the assumptions around transaction signing flow\n  // and signature validation\n  render = () => {\n    const { selection } = this.state;\n    const { number, signatureImporter } = this.props;\n    return (\n      <div>\n        {this.renderKeySelectorMenu()}\n        {((selection > 0 && number > 0) ||\n          (signatureImporter && signatureImporter.finalized)) &&\n          this.renderSignatureImporter()}\n      </div>\n    );\n  };\n\n  renderSignatureImporter = () => {\n    const { number } = this.props;\n    const extendedPublicKeyImporter =\n      this.getAssociatedExtendedPublicKeyImporter();\n    return (\n      <Box mt={2}>\n        <SignatureImporter\n          number={number}\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n        />\n      </Box>\n    );\n  };\n\n  getAssociatedExtendedPublicKeyImporter = () => {\n    const { extendedPublicKeyImporters } = this.props;\n    const { selection } = this.state;\n    let associatedExtendedPublicKeyImporter = null;\n\n    if (selection) {\n      associatedExtendedPublicKeyImporter =\n        extendedPublicKeyImporters[selection];\n    }\n\n    return associatedExtendedPublicKeyImporter;\n  };\n\n  renderKeySelectorMenu = () => {\n    const { number, signatureImporters, setBIP32Path } = this.props;\n    const { selection } = this.state;\n    const labelId = `keySelector${number}`;\n\n    const extendedPublicKeyImporter =\n      this.getAssociatedExtendedPublicKeyImporter();\n    if (extendedPublicKeyImporter !== null && number > 0) {\n      const signatureImporter = signatureImporters[number];\n      if (signatureImporter.signature.length > 0) return \"\";\n\n      if (\n        extendedPublicKeyImporter.bip32Path !== signatureImporter.bip32Path &&\n        extendedPublicKeyImporter.method !== \"text\"\n      ) {\n        setTimeout(() => {\n          setBIP32Path(number, extendedPublicKeyImporter.bip32Path);\n        }, 0);\n      }\n    }\n\n    return (\n      <form>\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Key</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`signature-${number}-key-select`}\n            value={selection}\n            onChange={this.handleKeyChange}\n          >\n            <MenuItem value=\"\">{\"< Select Extended Public Key >\"}</MenuItem>\n            {this.renderKeySelectorMenuItems()}\n          </Select>\n        </FormControl>\n      </form>\n    );\n  };\n\n  extendedPublicKeyImporterNotUsed = (extendedPublicKeyImporter) => {\n    const { inputs, network, signatureImporters, number } = this.props;\n    if (number === 0) return true;\n\n    for (let inputIndex = 0; inputIndex < inputs.length; inputIndex += 1) {\n      const input = inputs[inputIndex];\n      const derivedKey = deriveChildPublicKey(\n        extendedPublicKeyImporter.extendedPublicKey,\n        input.bip32Path,\n        network\n      );\n      for (\n        let importerIndex = 1;\n        importerIndex <= Object.keys(signatureImporters).length;\n        importerIndex += 1\n      ) {\n        const importer = signatureImporters[importerIndex];\n        for (\n          let publicKeyIndex = 0;\n          publicKeyIndex < importer.publicKeys.length;\n          publicKeyIndex += 1\n        ) {\n          const publicKey = importer.publicKeys[publicKeyIndex];\n          if (publicKey === derivedKey) return false;\n        }\n      }\n    }\n    return true;\n  };\n\n  renderKeySelectorMenuItems = () => {\n    const { extendedPublicKeyImporters, totalSigners } = this.props;\n    const extendedPublicKeys = [];\n    for (\n      let extendedPublicKeyImporterNum = 1;\n      extendedPublicKeyImporterNum <= totalSigners;\n      extendedPublicKeyImporterNum += 1\n    ) {\n      const extendedPublicKeyImporter =\n        extendedPublicKeyImporters[extendedPublicKeyImporterNum];\n      if (this.extendedPublicKeyImporterNotUsed(extendedPublicKeyImporter)) {\n        extendedPublicKeys.push(\n          <MenuItem\n            value={extendedPublicKeyImporterNum}\n            key={extendedPublicKeyImporterNum}\n          >\n            {extendedPublicKeyImporter.name}\n          </MenuItem>\n        );\n      }\n    }\n    return extendedPublicKeys;\n  };\n\n  handleKeyChange = (event) => {\n    const { onChange } = this.props;\n    this.updateKeySelection(event.target.value);\n\n    if (onChange) {\n      const { extendedPublicKeyImporters } = this.props;\n\n      const importer = extendedPublicKeyImporters[event.target.value];\n      onChange(event, importer);\n    }\n  };\n\n  updateKeySelection(value) {\n    this.setState({ selection: value });\n    if (value === \"\") return;\n\n    const { extendedPublicKeyImporters, setMethod, number, setSigningKey } =\n      this.props;\n    const extendedPublicKeyImporter = extendedPublicKeyImporters[value];\n    const importMethod = extendedPublicKeyImporter.method;\n    if (importMethod === \"text\") {\n      setMethod(number, \"\"); // user picks\n    } else {\n      setMethod(number, importMethod);\n    }\n    if (number > 0) setSigningKey(number, value);\n  }\n}\n\nExtendedPublicKeySelector.propTypes = {\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n  inputs: PropTypes.arrayOf(\n    PropTypes.shape({\n      bip32Path: PropTypes.string,\n    })\n  ).isRequired,\n  onChange: PropTypes.func,\n  network: PropTypes.string.isRequired,\n  number: PropTypes.number.isRequired,\n  setBIP32Path: PropTypes.func.isRequired,\n  setMethod: PropTypes.func.isRequired,\n  setSigningKey: PropTypes.func.isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  signatureImporter: PropTypes.shape({\n    finalized: PropTypes.bool,\n  }),\n  signingKeys: PropTypes.arrayOf(PropTypes.number).isRequired,\n  totalSigners: PropTypes.number.isRequired,\n};\n\nExtendedPublicKeySelector.defaultProps = {\n  onChange: null,\n  signatureImporter: null,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.quorum,\n    totalSigners: state.spend.transaction.totalSigners,\n    inputs: state.spend.transaction.inputs,\n    network: state.settings.network,\n    signatureImporters: state.spend.signatureImporters,\n    signatureImporter: state.spend.signatureImporters[ownProps.number],\n    signingKeys: state.spend.transaction.signingKeys,\n  };\n}\n\nconst mapDispatchToProps = {\n  setBIP32Path: setSignatureImporterBIP32Path,\n  setMethod: setSignatureImporterMethod,\n  setSigningKey: setSigningKeyAction,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExtendedPublicKeySelector);\n","import React, { useReducer, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  Button,\n  FormControl,\n  Select,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell,\n  MenuItem,\n  InputLabel,\n} from \"@material-ui/core\";\nimport { ThumbUp as SuccessIcon, Error as ErrorIcon } from \"@material-ui/icons\";\nimport {\n  multisigAddressType,\n  multisigRequiredSigners,\n  multisigTotalSigners,\n} from \"unchained-bitcoin\";\nimport {\n  TREZOR,\n  LEDGER,\n  COLDCARD,\n  HERMIT,\n  ACTIVE,\n  PENDING,\n  ConfirmMultisigAddress,\n} from \"unchained-wallets\";\n\nimport ExtendedPublicKeySelector from \"../Wallet/ExtendedPublicKeySelector\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nimport { slicePropTypes } from \"../../proptypes\";\n\nconst TEXT = \"text\";\n\nconst initialInteractionState = {\n  keySelected: false,\n  deviceType: \"unknown\",\n  bip32Path: \"\",\n  hasInteraction: false,\n  interactionState: PENDING,\n  interactionError: \"\",\n  interactionMessage: \"\",\n};\n\nconst interactionReducer = (state, action) => {\n  switch (action.type) {\n    case \"RESET\":\n      return {\n        ...state,\n        interactionError: \"\",\n        interactionMessage: \"\",\n        interactionState: PENDING,\n      };\n    case \"SET_KEY_SELECTED\":\n      return { ...state, keySelected: true };\n    case \"SET_KEY_UNSELECTED\":\n      return { ...state, keySelected: false };\n    case \"SET_DEVICE_TYPE\":\n      return { ...state, deviceType: action.value };\n    case \"SET_BIP32_PATH\":\n      return { ...state, bip32Path: action.value };\n    case \"SET_ACTIVE\":\n      return { ...state, interactionState: ACTIVE };\n    case \"HAS_INTERACTION\":\n      return { ...state, hasInteraction: action.value };\n    case \"SET_MESSAGE\":\n      return {\n        ...state,\n        interactionMessage: action.value,\n        interactionError: \"\",\n      };\n    case \"SET_ERROR\":\n      return {\n        ...state,\n        interactionError: action.value,\n        interactionMessage: \"\",\n      };\n    default:\n      return state;\n  }\n};\n\nconst ConfirmAddress = ({ slice, network }) => {\n  const [state, dispatch] = useReducer(\n    interactionReducer,\n    initialInteractionState\n  );\n  const [interaction, setInteraction] = useState(null);\n\n  const addressType = multisigAddressType(slice.multisig);\n  const requiredSigners = multisigRequiredSigners(slice.multisig);\n  const totalSigners = multisigTotalSigners(slice.multisig);\n\n  // Sets device interaction for component based on xpub selected\n  function handleKeySelected(_event, extendedPublicKeyImporter) {\n    const { multisig, bip32Path } = slice;\n    if (extendedPublicKeyImporter) {\n      dispatch({ type: \"SET_KEY_SELECTED\" });\n      dispatch({\n        type: \"SET_DEVICE_TYPE\",\n        value: extendedPublicKeyImporter.method,\n      });\n      const fullBip32Path = `${\n        extendedPublicKeyImporter.bip32Path\n      }${bip32Path.slice(1)}`;\n      if (extendedPublicKeyImporter.bip32Path !== \"Unknown\") {\n        dispatch({\n          type: \"SET_BIP32_PATH\",\n          value: fullBip32Path,\n        });\n      } else {\n        dispatch({\n          type: \"SET_BIP32_PATH\",\n          value: \"\",\n        });\n      }\n      // FIXME - hardcoded to just show up for trezor\n      if (extendedPublicKeyImporter.method === \"trezor\") {\n        setInteraction(\n          ConfirmMultisigAddress({\n            keystore: extendedPublicKeyImporter.method,\n            network,\n            bip32Path: fullBip32Path,\n            multisig,\n          })\n        );\n        dispatch({ type: \"HAS_INTERACTION\", value: true });\n        dispatch({ type: \"RESET\" });\n      } else {\n        setInteraction(null);\n        dispatch({ type: \"HAS_INTERACTION\", value: false });\n        dispatch({ type: \"RESET\" });\n      }\n    } else {\n      setInteraction(null);\n      dispatch({ type: \"HAS_INTERACTION\", value: false });\n      dispatch({ type: \"RESET\" });\n      dispatch({ type: \"SET_KEY_UNSELECTED\" });\n    }\n  }\n\n  // Sets device interaction for component based on xpub selected\n  function handleMethodChange(event) {\n    if (event.target.value !== \"\") {\n      dispatch({\n        type: \"SET_DEVICE_TYPE\",\n        value: event.target.value,\n      });\n      const { multisig } = slice;\n      setInteraction(\n        ConfirmMultisigAddress({\n          keystore: event.target.value,\n          network,\n          bip32Path: state.bip32Path,\n          multisig,\n        })\n      );\n      dispatch({ type: \"HAS_INTERACTION\", value: true });\n      dispatch({ type: \"RESET\" });\n    }\n  }\n\n  // run interaction and see if address confirms\n  async function confirmOnDevice() {\n    dispatch({ type: \"SET_ACTIVE\" });\n    const { multisig } = slice;\n\n    try {\n      const confirmed = await interaction.run();\n      if (\n        confirmed.address === multisig.address &&\n        confirmed.serializedPath === interaction.bip32Path\n      ) {\n        dispatch({ type: \"SET_MESSAGE\", value: \"Success\" });\n      } else {\n        dispatch({ type: \"SET_ERROR\", value: \"An unknown error occured\" });\n      }\n    } catch (error) {\n      dispatch({ type: \"SET_ERROR\", value: error.message });\n    }\n  }\n\n  return (\n    <Grid item md={12}>\n      <ExtendedPublicKeySelector number={0} onChange={handleKeySelected} />\n      {state.keySelected && (\n        <form>\n          <FormControl fullWidth>\n            <InputLabel>Select Method</InputLabel>\n\n            <Select\n              id=\"confirm-importer-select\"\n              value=\"\"\n              onChange={handleMethodChange}\n            >\n              <MenuItem value=\"\">{\"< Select method >\"}</MenuItem>\n              <MenuItem value={TREZOR}>Trezor</MenuItem>\n              <MenuItem value={COLDCARD} disabled>\n                Coldcard\n              </MenuItem>\n              <MenuItem value={LEDGER} disabled>\n                Ledger\n              </MenuItem>\n              <MenuItem value={HERMIT} disabled>\n                Hermit\n              </MenuItem>\n              <MenuItem value={TEXT} disabled>\n                Enter as text\n              </MenuItem>\n            </Select>\n          </FormControl>\n        </form>\n      )}\n      {state.hasInteraction && (\n        <>\n          <Box>\n            <p>\n              Confirm the following {network.length ? network : \"\"}{\" \"}\n              {addressType} {requiredSigners} -of-\n              {totalSigners} multisig address on your device:\n            </p>\n            <Table>\n              <TableBody>\n                <TableRow>\n                  <TableCell>Address:</TableCell>\n                  <TableCell>\n                    <code>{slice.multisig.address}</code>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>BIP32 Path:</TableCell>\n                  <TableCell>\n                    <code>{state.bip32Path}</code>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </Box>\n          {state.interactionMessage !== \"\" && (\n            <Box mt={2} align=\"center\">\n              <Typography variant=\"h5\" style={{ color: \"green\" }}>\n                <SuccessIcon />\n                &nbsp; {state.interactionMessage}\n              </Typography>\n            </Box>\n          )}\n          {state.interactionError !== \"\" && (\n            <Box mt={2} align=\"center\" style={{ color: \"red\" }}>\n              <Typography variant=\"h5\">\n                <ErrorIcon />\n                &nbsp; Confirmation Error\n              </Typography>\n              <Typography variant=\"caption\">\n                {state.interactionError}\n              </Typography>\n            </Box>\n          )}\n          {state.interactionMessage === \"\" && state.interactionError === \"\" && (\n            <InteractionMessages\n              messages={interaction.messagesFor({\n                state: state.interactionState,\n              })}\n            />\n          )}\n          <Button\n            variant=\"contained\"\n            size=\"large\"\n            onClick={confirmOnDevice}\n            disabled={state.interactionState === ACTIVE || !state.bip32Path}\n          >\n            Confirm\n          </Button>\n          {(state.interactionMessage !== \"\" ||\n            state.interactionError !== \"\") && (\n            <Button size=\"large\" onClick={() => dispatch({ type: \"RESET\" })}>\n              Reset\n            </Button>\n          )}\n        </>\n      )}\n    </Grid>\n  );\n};\n\nConfirmAddress.propTypes = {\n  slice: PropTypes.shape(slicePropTypes).isRequired,\n  network: PropTypes.string,\n};\n\nConfirmAddress.defaultProps = {\n  network: \"\",\n};\n\nexport default ConfirmAddress;\n","/* eslint-disable react/no-array-index-key */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Typography,\n  Grid,\n  Tabs,\n  Tab,\n  Box,\n  Tooltip,\n  AppBar,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport UTXOSet from \"../ScriptExplorer/UTXOSet\";\nimport MultisigDetails from \"../MultisigDetails\";\nimport ImportAddressesButton from \"../ImportAddressesButton\";\nimport ConfirmAddress from \"./ConfirmAddress\";\n\nimport { slicePropTypes, clientPropTypes } from \"../../proptypes\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst createTab = ({ tab }, index) => {\n  const tooltipTab = (\n    <Tab value={index.toString()} key={index} {...a11yProps(index)} {...tab} />\n  );\n  if (tab.disabled)\n    return (\n      <Tooltip title=\"Not available for this address\" key={index} arrow>\n        <div>{tooltipTab}</div>\n      </Tooltip>\n    );\n  return tooltipTab;\n};\n\nfunction TabPanel({ children, value, index, ...other }) {\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      style={{ display: value === index ? \"inherit\" : \"none\" }}\n      {...other}\n    >\n      <Grid item md={11}>\n        <Box>{children}</Box>\n      </Grid>\n    </Grid>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  value: PropTypes.string.isRequired,\n  index: PropTypes.string.isRequired,\n};\n\nTabPanel.defaultProps = {\n  children: React.createElement(\"span\"),\n};\n\nconst SliceDetails = ({ slice, client, network }) => {\n  const [tabIndex, setTabIndex] = React.useState(\"0\");\n  const classes = useStyles();\n\n  const handleChange = (_e, newIndex) => setTabIndex(newIndex);\n  const tabs = [\n    {\n      tab: {\n        label: \"Redeem Script\",\n      },\n      panel: <MultisigDetails multisig={slice.multisig} showAddress={false} />,\n    },\n    {\n      tab: {\n        label: \"Confirm on Device\",\n      },\n      panel: (\n        <div>\n          <Typography variant=\"h6\">\n            Verify Address with Quorum Participants\n          </Typography>\n          <Typography variant=\"caption\">\n            (not all device variants supported)\n          </Typography>\n          <ConfirmAddress slice={slice} network={network} />\n        </div>\n      ),\n    },\n    {\n      tab: {\n        label: \"UTXOs\",\n        disabled: !slice.balanceSats.isGreaterThan(0),\n      },\n      panel: (\n        <UTXOSet\n          inputs={slice.utxos}\n          inputsTotalSats={slice.balanceSats}\n          showSelection={false}\n        />\n      ),\n    },\n    {\n      tab: {\n        label: \"Watch Address\",\n        disabled: client.type !== \"private\",\n      },\n      panel: (\n        <div>\n          <Typography variant=\"h6\">Import Watch-Only Address</Typography>\n          <Typography variant=\"caption\">\n            Address must be imported to get accurate balance data. If this\n            address has previous history, a rescan may be required.\n          </Typography>\n          <Box my={3}>\n            <ImportAddressesButton\n              addresses={[slice.multisig.address]}\n              client={client}\n            />\n          </Box>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Grid container className={classes.root}>\n      <AppBar position=\"static\" color=\"default\" variant=\"outlined\">\n        <Tabs\n          value={tabIndex}\n          onChange={handleChange}\n          aria-label=\"Slice Details View\"\n          centered\n        >\n          {tabs.map(createTab)}\n        </Tabs>\n      </AppBar>\n      {tabs.map(({ panel }, index) => (\n        <TabPanel value={tabIndex} index={index.toString()} key={index}>\n          <Box my={3}>{panel}</Box>\n        </TabPanel>\n      ))}\n    </Grid>\n  );\n};\n\nSliceDetails.propTypes = {\n  slice: PropTypes.shape(slicePropTypes).isRequired,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n  network: PropTypes.string.isRequired,\n};\n\nexport default SliceDetails;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport MaterialTable from \"material-table\";\nimport { Typography, Box, makeStyles } from \"@material-ui/core\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\n\nimport {\n  compareSlicesByPath,\n  compareSlicesByBalance,\n  compareSlicesByUTXOCount,\n  compareSlicesByTime,\n} from \"../../utils/slices\";\n\n// Components\nimport Copyable from \"../Copyable\";\nimport { slicePropTypes, clientPropTypes } from \"../../proptypes\";\nimport SliceDetails from \"./SliceDetails\";\n\nconst useStyles = makeStyles((theme) => ({\n  panel: {\n    boxShadow: `inset 0px 0px 4px 1px ${theme.palette.grey[500]}`,\n  },\n  spent: {\n    textDecoration: \"line-through\",\n  },\n}));\n\nconst SlicesTable = ({\n  slices,\n  search,\n  paging,\n  title,\n  client,\n  network,\n  disabled,\n}) => {\n  const classes = useStyles();\n\n  const options = {\n    search,\n    paging,\n    detailPanelType: \"single\",\n    showTitle: (title && title.length) || false,\n    emptyRowsWhenPaging: false,\n    pageSize: 10,\n    pageSizeOptions: [10, 20, 50],\n  };\n  options.toolbar = options.showTitle && options.search;\n  let columns = [\n    {\n      title: \"Path Suffix\",\n      field: \"bip32Path\",\n      render: (rowData) => (\n        <Typography>{rowData.bip32Path.replace(\"m\", \"*\")}</Typography>\n      ),\n      type: \"string\",\n      defaultSort: \"asc\",\n      customSort: compareSlicesByPath,\n    },\n    {\n      title: \"UTXOs\",\n      field: \"utxos\",\n      width: \"50px\",\n      render: (rowData) => <Typography>{rowData.utxos.length}</Typography>,\n      customSort: compareSlicesByUTXOCount,\n    },\n    {\n      title: \"Balance\",\n      field: \"balanceSats\",\n      render: (rowData) => (\n        <Typography>\n          {satoshisToBitcoins(rowData.balanceSats).toString()}\n        </Typography>\n      ),\n      customSort: compareSlicesByBalance,\n    },\n    {\n      title: \"Last Used\",\n      field: \"lastUsed\",\n      render: (rowData) => <Typography>{rowData.lastUsed || \"\"}</Typography>,\n      customSort: compareSlicesByTime,\n    },\n    {\n      title: \"Address\",\n      field: \"address\",\n      sorting: false,\n      render: (rowData) => (\n        <Copyable\n          text={rowData.multisig.address}\n          showIcon\n          showText\n          code\n          className={\n            rowData.addressUsed && rowData.balanceSats.isEqualTo(0)\n              ? classes.spent\n              : \"\"\n          }\n        />\n      ),\n    },\n  ];\n\n  // filter out any columns that should be disabled\n  columns = columns.filter((column) => !disabled.includes(column.field));\n  return (\n    <MaterialTable\n      options={options}\n      columns={columns}\n      data={slices}\n      detailPanel={[\n        {\n          tooltip: \"Address Details\",\n          render: (rowData) => (\n            <Box p={1} className={classes.panel}>\n              <SliceDetails client={client} slice={rowData} network={network} />\n            </Box>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nSlicesTable.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape(slicePropTypes)).isRequired,\n  search: PropTypes.bool,\n  paging: PropTypes.bool,\n  title: PropTypes.string,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n  network: PropTypes.string.isRequired,\n  disabled: PropTypes.arrayOf(PropTypes.string),\n};\n\nSlicesTable.defaultProps = {\n  search: false,\n  paging: false,\n  title: \"\",\n  disabled: [],\n};\n\nexport default SlicesTable;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport QRCode from \"qrcode.react\";\nimport {\n  Button,\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  InputAdornment,\n  Typography,\n  TextField,\n} from \"@material-ui/core\";\nimport { withSnackbar } from \"notistack\";\n\nimport { fetchAddressUTXOs } from \"../../blockchain\";\nimport {\n  updateDepositSliceAction,\n  resetWalletView as resetWalletViewAction,\n} from \"../../actions/walletActions\";\nimport { getDepositableSlices } from \"../../selectors/wallet\";\nimport { slicePropTypes } from \"../../proptypes\";\n\n// Components\nimport Copyable from \"../Copyable\";\nimport BitcoinIcon from \"../BitcoinIcon\";\nimport SlicesTable from \"../Slices/SlicesTable\";\n\nlet depositTimer;\n\nclass WalletDeposit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      address: \"\",\n      amount: 0,\n      amountError: \"\",\n      depositIndex: 0,\n      slice: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getDepositAddress();\n  }\n\n  componentWillUnmount() {\n    clearInterval(depositTimer);\n  }\n\n  getNextDepositAddress = () => {\n    const { depositIndex } = this.state;\n    this.setState({ depositIndex: depositIndex + 1 });\n    setTimeout(this.getDepositAddress, 0);\n  };\n\n  getDepositAddress = () => {\n    const {\n      network,\n      client,\n      updateDepositSlice,\n      depositableSlices,\n      enqueueSnackbar,\n    } = this.props;\n    const { depositIndex } = this.state;\n\n    if (depositIndex < depositableSlices.length)\n      this.setState({\n        slice: depositableSlices[depositIndex],\n        address: depositableSlices[depositIndex].multisig.address,\n      });\n\n    clearInterval(depositTimer);\n    depositTimer = setInterval(async () => {\n      let updates;\n      try {\n        const { address, slice } = this.state;\n        updates = await fetchAddressUTXOs(address, network, client);\n        if (updates && updates.utxos && updates.utxos.length) {\n          clearInterval(depositTimer);\n          updateDepositSlice({ ...updates, bip32Path: slice.bip32Path });\n          enqueueSnackbar(\n            \"Deposit received. A new address should now be available for deposit.\"\n          );\n          this.resetDepositAddressIndex();\n          setTimeout(this.getDepositAddress, 2000);\n        }\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(e);\n      }\n    }, 2000);\n  };\n\n  handleAmountChange = (event) => {\n    const amount = event.target.value;\n    let error = \"\";\n\n    if (amount.length && !amount.match(/^[0-9.]+$/)) {\n      error = \"Amount must be numeric\";\n    }\n    const decimal = amount.split(\".\");\n    if (decimal.length > 2) {\n      error = \"Amount must be numeric\";\n    } else if (decimal.length === 2 && decimal[1].length > 8) {\n      error = \"Amount must have maximum precision of 8 decimal places\";\n    }\n\n    this.setState({ amount: event.target.value, amountError: error });\n  };\n\n  qrString = () => {\n    const { address, amount } = this.state;\n    return `bitcoin:${address}${amount ? `?amount=${amount}` : \"\"}`;\n  };\n\n  resetDepositAddressIndex = () => {\n    const { depositableSlices } = this.props;\n    this.setState({\n      slice: depositableSlices[0],\n      address: depositableSlices[0].multisig.address,\n      depositIndex: 0,\n    });\n  };\n\n  render() {\n    const { client, network, depositableSlices } = this.props;\n    const { address, amount, amountError, depositIndex, slice } = this.state;\n\n    return (\n      <div>\n        <Card>\n          <CardContent>\n            <Grid\n              container\n              justify=\"center\"\n              direction=\"column\"\n              alignItems=\"center\"\n            >\n              <Grid item md={6}>\n                <Copyable text={address} newline showText={false}>\n                  <QRCode size={300} value={this.qrString()} level=\"L\" />\n                </Copyable>\n              </Grid>\n              <Grid item>\n                <Typography align=\"center\" variant=\"subtitle1\">\n                  Scan QR code or click to copy address to clipboard.\n                </Typography>\n              </Grid>\n              <Grid item md={6}>\n                <Box my={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Amount BTC\"\n                    name=\"depositAmount\"\n                    onChange={this.handleAmountChange}\n                    value={amount}\n                    error={amountError !== \"\"}\n                    helperText={amountError}\n                    InputProps={{\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <BitcoinIcon network={network} />\n                        </InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n              </Grid>\n            </Grid>\n            {slice ? (\n              <SlicesTable\n                slices={[slice]}\n                client={client}\n                network={network}\n                disabled={[\"lastUsed\"]}\n              />\n            ) : (\n              \"\"\n            )}\n            <Box mt={2}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.getNextDepositAddress}\n                disabled={depositIndex >= depositableSlices.length - 1}\n              >\n                Next Address\n              </Button>\n            </Box>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n}\n\nWalletDeposit.propTypes = {\n  client: PropTypes.shape({}).isRequired,\n  depositableSlices: PropTypes.arrayOf(PropTypes.shape(slicePropTypes))\n    .isRequired,\n  enqueueSnackbar: PropTypes.func.isRequired,\n  network: PropTypes.string.isRequired,\n  updateDepositSlice: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    depositableSlices: getDepositableSlices(state),\n    client: state.client,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateDepositSlice: updateDepositSliceAction,\n  resetWalletView: resetWalletViewAction,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withSnackbar(WalletDeposit));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport {\n  Grid,\n  Menu,\n  MenuItem,\n  Button,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Box,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell,\n  Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { ThumbUp as SuccessIcon, Error as ErrorIcon } from \"@material-ui/icons\";\nimport {\n  blockExplorerAddressURL,\n  multisigAddressType,\n  NETWORKS,\n} from \"unchained-bitcoin\";\nimport { PENDING, ACTIVE, ConfirmMultisigAddress } from \"unchained-wallets\";\nimport LaunchIcon from \"@material-ui/icons/Launch\";\nimport UTXOSet from \"../ScriptExplorer/UTXOSet\";\nimport MultisigDetails from \"../MultisigDetails\";\nimport ImportAddressesButton from \"../ImportAddressesButton\";\nimport Copyable from \"../Copyable\";\nimport InteractionMessages from \"../InteractionMessages\";\nimport ExtendedPublicKeySelector from \"./ExtendedPublicKeySelector\";\n\nimport styles from \"../ScriptExplorer/styles.module.scss\";\n\nimport { externalLink } from \"../../utils\";\n\nconst MODE_UTXO = 0;\nconst MODE_REDEEM = 1;\nconst MODE_CONFIRM = 2;\nconst MODE_WATCH = 3;\nlet anchor;\n\nclass AddressExpander extends React.Component {\n  interaction = null;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expandMode: null,\n      showMenu: false,\n      showMenuIcon: false,\n      hasInteraction: false,\n      interactionState: PENDING,\n      interactionError: \"\",\n      interactionMessage: \"\",\n    };\n  }\n\n  componentDidMount = () => {\n    this.defaultMode();\n  };\n\n  addressContent = () => {\n    const { node, network, client } = this.props;\n    const { multisig, addressUsed, balanceSats } = node;\n    const { expandMode, showMenu, showMenuIcon } = this.state;\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Typography>\n          <Copyable text={multisig.address} showIcon showText={false}>\n            <code\n              className={\n                addressUsed && balanceSats.isEqualTo(0) ? styles.spent : \"\"\n              }\n            >\n              {multisig.address}\n            </code>\n            &nbsp;\n          </Copyable>\n          {externalLink(\n            blockExplorerAddressURL(multisig.address, network),\n            <LaunchIcon onClick={(e) => e.stopPropagation()} />\n          )}\n        </Typography>\n        <MoreVertIcon\n          onClick={this.handleMenu}\n          style={{\n            float: \"right\",\n            display:\n              showMenuIcon && this.hasAdditionalOptions() ? \"block\" : \"none\",\n          }}\n          aria-controls=\"address-menu\"\n          aria-haspopup=\"true\"\n        />\n        <Menu\n          id=\"address-menu\"\n          anchorEl={anchor}\n          keepMounted\n          open={showMenu}\n          onClose={this.handleClose}\n        >\n          {balanceSats.isGreaterThan(0) && (\n            <MenuItem\n              selected={expandMode === MODE_UTXO}\n              onClick={(e) => {\n                this.setState({ expandMode: MODE_UTXO });\n                this.handleClose(e);\n              }}\n            >\n              UTXOs\n            </MenuItem>\n          )}\n          <MenuItem\n            selected={expandMode === MODE_REDEEM}\n            onClick={(e) => {\n              this.setState({ expandMode: MODE_REDEEM });\n              this.handleClose(e);\n            }}\n          >\n            Scripts\n          </MenuItem>\n          {this.canConfirm() && (\n            <MenuItem\n              selected={expandMode === MODE_CONFIRM}\n              onClick={(e) => {\n                this.setState({ expandMode: MODE_CONFIRM });\n                this.handleClose(e);\n              }}\n            >\n              Confirm on Device\n            </MenuItem>\n          )}\n          {client.type === \"private\" && (\n            <MenuItem\n              selected={expandMode === MODE_WATCH}\n              onClick={(e) => {\n                this.setState({ expandMode: MODE_WATCH });\n                this.handleClose(e);\n              }}\n            >\n              Watch with bitcoind Node\n            </MenuItem>\n          )}\n        </Menu>\n      </div>\n    );\n  };\n\n  canConfirm = () => {\n    const { extendedPublicKeyImporters } = this.props;\n    return (\n      Object.values(extendedPublicKeyImporters).filter(\n        (importer) => importer.method === \"trezor\"\n      ).length > 0\n    );\n  };\n\n  hasAdditionalOptions = () => {\n    const { client, node } = this.props;\n    const { balanceSats } = node;\n\n    return (\n      balanceSats.isGreaterThan(0) ||\n      client.type === \"private\" ||\n      this.canConfirm()\n    );\n  };\n\n  handleClose = (event) => {\n    event.stopPropagation();\n    this.setState({ showMenu: false });\n  };\n\n  handleMenu = (event) => {\n    event.stopPropagation();\n    anchor = event.target;\n    this.setState({ showMenu: true });\n  };\n\n  panelExpand = (event, expanded) => {\n    this.setState({ showMenuIcon: expanded });\n  };\n\n  render = () => {\n    const { node } = this.props;\n    const { bip32Path } = node;\n    return (\n      <ExpansionPanel onChange={this.panelExpand}>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id={`address-header${bip32Path}`}\n        >\n          {this.addressContent()}\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Grid container>{this.expandContent()}</Grid>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    );\n  };\n\n  defaultMode = () => {\n    const { node } = this.props;\n    const { balanceSats } = node;\n\n    this.setState({\n      expandMode: balanceSats.isGreaterThan(0) ? MODE_UTXO : MODE_REDEEM,\n    });\n  };\n\n  expandContent = () => {\n    const { client, node, setSpendCheckbox } = this.props;\n    const { utxos, balanceSats, multisig, bip32Path, spend } = node;\n    const { expandMode } = this.state;\n\n    if (client.type === \"public\" && expandMode === MODE_WATCH)\n      this.defaultMode();\n    if (balanceSats.isEqualTo(0) && expandMode === MODE_UTXO)\n      this.defaultMode();\n\n    switch (expandMode) {\n      case MODE_UTXO:\n        return (\n          <Grid item md={12}>\n            <UTXOSet\n              inputs={utxos}\n              inputsTotalSats={balanceSats}\n              multisig={multisig}\n              bip32Path={bip32Path}\n              hideSelectAllInHeader\n              selectAll={spend}\n              node={node}\n              setSpendCheckbox={setSpendCheckbox}\n            />\n          </Grid>\n        );\n      case MODE_REDEEM:\n        return (\n          <Grid item md={12}>\n            <MultisigDetails multisig={multisig} showAddress={false} />\n          </Grid>\n        );\n      case MODE_CONFIRM:\n        return this.renderAddressConfirmation();\n      case MODE_WATCH:\n        return (\n          <Grid item md={12}>\n            <ImportAddressesButton addresses={[multisig.address]} />\n          </Grid>\n        );\n      default:\n        return \"\";\n    }\n  };\n\n  renderAddressConfirmation = () => {\n    const {\n      interactionState,\n      interactionMessage,\n      interactionError,\n      hasInteraction,\n    } = this.state;\n    return (\n      <Grid item md={12}>\n        <ExtendedPublicKeySelector number={0} onChange={this.keySelected} />\n        {hasInteraction && (\n          <>\n            {this.confirmAddressDescription()}\n            {interactionMessage !== \"\" && (\n              <Box mt={2} align=\"center\">\n                <Typography variant=\"h5\" style={{ color: \"green\" }}>\n                  <SuccessIcon />\n                  &nbsp; {interactionMessage}\n                </Typography>\n              </Box>\n            )}\n            {interactionError !== \"\" && (\n              <Box mt={2} align=\"center\" style={{ color: \"red\" }}>\n                <Typography variant=\"h5\">\n                  <ErrorIcon />\n                  &nbsp; Confirmation Error\n                </Typography>\n                <Typography variant=\"caption\">{interactionError}</Typography>\n              </Box>\n            )}\n            {interactionMessage === \"\" && interactionError === \"\" && (\n              <InteractionMessages\n                messages={this.interaction.messagesFor({\n                  state: interactionState,\n                })}\n              />\n            )}\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={this.confirmOnDevice}\n              disabled={interactionState === ACTIVE}\n            >\n              Confirm\n            </Button>\n            {(interactionMessage !== \"\" || interactionError !== \"\") && (\n              <Button size=\"large\" onClick={this.resetInteractionState}>\n                Reset\n              </Button>\n            )}\n          </>\n        )}\n      </Grid>\n    );\n  };\n\n  resetInteractionState = () => {\n    this.setState({\n      interactionError: \"\",\n      interactionMessage: \"\",\n      interactionState: PENDING,\n    });\n  };\n\n  confirmOnDevice = async () => {\n    this.setState({ interactionState: ACTIVE });\n    const { node } = this.props;\n    const { multisig } = node;\n    try {\n      const confirmed = await this.interaction.run();\n      if (\n        confirmed.address === multisig.address &&\n        confirmed.serializedPath === this.interaction.bip32Path\n      ) {\n        this.setState({\n          interactionState: ACTIVE,\n          interactionMessage: \"Success\",\n          interactionError: \"\",\n        });\n      } else {\n        this.setState({\n          interactionState: ACTIVE,\n          interactionError: \"An unknow error occured\",\n          interactionMessage: \"\",\n        });\n      }\n    } catch (error) {\n      this.setState({\n        interactionState: ACTIVE,\n        interactionError: error.message,\n        interactionMessage: \"\",\n      });\n    }\n  };\n\n  keySelected = (event, extendedPublicKeyImporter) => {\n    const { network, node } = this.props;\n    const { multisig, bip32Path } = node;\n\n    this.interaction = ConfirmMultisigAddress({\n      keystore: extendedPublicKeyImporter.method,\n      network,\n      bip32Path: `${extendedPublicKeyImporter.bip32Path}${bip32Path.slice(1)}`,\n      multisig,\n    });\n    this.setState({ hasInteraction: true });\n    this.resetInteractionState();\n  };\n\n  // TODO: DRY out with test\n  confirmAddressDescription() {\n    const { network, node, requiredSigners, totalSigners } = this.props;\n    const { multisig } = node;\n    const addressType = multisigAddressType(multisig);\n\n    return (\n      <Box>\n        <p>\n          Confirm the following {network} {addressType} {requiredSigners}\n          -of-\n          {totalSigners} multisig address on your device:\n        </p>\n\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>Address:</TableCell>\n              <TableCell>\n                <code>{multisig.address}</code>\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>BIP32 Path:</TableCell>\n              <TableCell>\n                <code>{this.interaction.bip32Path}</code>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  }\n}\n\nAddressExpander.propTypes = {\n  client: PropTypes.shape({\n    type: PropTypes.string,\n  }).isRequired,\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n  node: PropTypes.shape({\n    addressUsed: PropTypes.bool,\n    balanceSats: PropTypes.shape({\n      isEqualTo: PropTypes.func,\n      isGreaterThan: PropTypes.func,\n    }),\n    bip32Path: PropTypes.string,\n    multisig: PropTypes.shape({\n      address: PropTypes.string,\n    }),\n    spend: PropTypes.bool,\n    utxos: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n  network: PropTypes.string,\n  requiredSigners: PropTypes.number.isRequired,\n  totalSigners: PropTypes.number.isRequired,\n  setSpendCheckbox: PropTypes.func,\n};\n\nAddressExpander.defaultProps = {\n  network: NETWORKS.TESTNET,\n  setSpendCheckbox: () => {},\n};\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    requiredSigners: state.settings.requiredSigners,\n    totalSigners: state.settings.totalSigners,\n    client: state.client,\n    extendedPublicKeyImporters: state.quorum.extendedPublicKeyImporters,\n    transaction: state.spend.transaction,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressExpander);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\n\n// Components\nimport { TableRow, TableCell, Checkbox } from \"@material-ui/core\";\nimport AddressExpander from \"./AddressExpander\";\n\n// Actions\nimport {\n  setInputs as setInputsAction,\n  setFeeRate as setFeeRateAction,\n  updateAutoSpendAction as updateAutoSpendActionImport,\n} from \"../../actions/transactionActions\";\nimport { WALLET_MODES } from \"../../actions/walletActions\";\n\nclass Node extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      indeterminate: false,\n      checked: false,\n    };\n  }\n\n  componentDidMount = () => {\n    this.generate();\n  };\n\n  // Passing this fn down to the UTXOSet so we can get updates here, from there.\n  setSpendCheckbox = (value) => {\n    const { spend } = this.props;\n    if (value === \"indeterminate\") {\n      this.setState({ indeterminate: true, checked: false });\n      this.markSpending(true);\n    } else if (value === spend) {\n      // handles select/de-select all as well as have selected some and click select all\n      this.setState({ indeterminate: false, checked: value });\n      this.markSpending(value);\n    } else {\n      // handles the case of de-selecting one-by-one until there's nothing left selected\n      // or there's only one utxo and we're selecting to spend it or not instead of at\n      // the top level select-all or deselect-all\n      this.setState({ indeterminate: false, checked: value });\n      this.markSpending(value);\n    }\n  };\n\n  markSpending = (value) => {\n    const { change, bip32Path, updateNode } = this.props;\n    updateNode(change, { spend: value, bip32Path });\n  };\n\n  render = () => {\n    const {\n      bip32Path,\n      fetchedUTXOs,\n      balanceSats,\n      multisig,\n      utxos,\n      walletMode,\n      addressKnown,\n    } = this.props;\n    const { indeterminate, checked } = this.state;\n    const spending = walletMode === WALLET_MODES.SPEND;\n    return (\n      <TableRow key={bip32Path}>\n        {spending && (\n          <TableCell>\n            <Checkbox\n              id={bip32Path}\n              name=\"spend\"\n              onChange={this.handleSpend}\n              checked={checked}\n              disabled={!fetchedUTXOs || balanceSats.isEqualTo(0)}\n              indeterminate={indeterminate}\n            />\n          </TableCell>\n        )}\n        <TableCell>\n          <code>{bip32Path.replace(\"m\", \"*\")}</code>\n        </TableCell>\n        <TableCell>{utxos.length}</TableCell>\n        <TableCell>\n          {fetchedUTXOs && addressKnown\n            ? satoshisToBitcoins(balanceSats).toFixed()\n            : \"\"}\n        </TableCell>\n        <TableCell>{this.maxUtxoDate()}</TableCell>\n\n        <TableCell>{multisig ? this.renderAddress() : \"...\"}</TableCell>\n      </TableRow>\n    );\n  };\n\n  maxUtxoDate = () => {\n    const { utxos } = this.props;\n    if (!utxos.length) return \"\";\n    const maxtime = Math.max(...utxos.map((utxo) => utxo.time));\n    if (Number.isNaN(maxtime)) return \"Pending\";\n    return new Date(1000 * maxtime).toLocaleDateString();\n  };\n\n  renderAddress = () => {\n    const { braidNode } = this.props;\n    return (\n      <AddressExpander\n        node={braidNode}\n        setSpendCheckbox={this.setSpendCheckbox}\n      />\n    );\n  };\n\n  generate = () => {\n    const { present, change, bip32Path, addNode } = this.props;\n    if (!present) {\n      addNode(change, bip32Path);\n    }\n  };\n\n  handleSpend = (e) => {\n    const {\n      change,\n      bip32Path,\n      updateNode,\n      inputs,\n      utxos,\n      multisig,\n      setInputs,\n      updateAutoSpend,\n      setFeeRate,\n      feeRate,\n    } = this.props;\n    let newInputs;\n\n    if (e.target.getAttribute(\"data-indeterminate\")) {\n      // remove any inputs that are ours\n      newInputs = inputs.filter((input) => {\n        const newUtxos = utxos.filter((utxo) => {\n          return utxo.txid === input.txid && utxo.index === input.index;\n        });\n        return newUtxos.length === 0;\n      });\n      // then add all ours back\n      newInputs = newInputs.concat(\n        utxos.map((utxo) => ({ ...utxo, multisig, bip32Path }))\n      );\n      this.setState({ indeterminate: false, checked: true });\n    } else if (e.target.checked) {\n      newInputs = inputs.concat(\n        utxos.map((utxo) => ({ ...utxo, multisig, bip32Path }))\n      );\n    } else {\n      newInputs = inputs.filter((input) => {\n        const newUtxos = utxos.filter((utxo) => {\n          return utxo.txid === input.txid && utxo.index === input.index;\n        });\n        return newUtxos.length === 0;\n      });\n    }\n    setInputs(newInputs);\n    updateNode(change, { spend: e.target.checked, bip32Path });\n    updateAutoSpend(false);\n    setFeeRate(feeRate);\n  };\n}\n\nNode.propTypes = {\n  addNode: PropTypes.func.isRequired,\n  addressKnown: PropTypes.bool.isRequired,\n  balanceSats: PropTypes.shape({\n    isEqualTo: PropTypes.func,\n  }).isRequired,\n  bip32Path: PropTypes.string.isRequired,\n  braidNode: PropTypes.shape({}).isRequired,\n  change: PropTypes.bool.isRequired,\n  feeRate: PropTypes.string.isRequired,\n  fetchedUTXOs: PropTypes.bool.isRequired,\n  inputs: PropTypes.arrayOf(\n    PropTypes.shape({\n      index: PropTypes.number,\n      txid: PropTypes.string,\n    })\n  ).isRequired,\n  multisig: PropTypes.shape({}),\n  present: PropTypes.bool,\n  setFeeRate: PropTypes.func.isRequired,\n  setInputs: PropTypes.func.isRequired,\n  spend: PropTypes.bool.isRequired,\n  updateAutoSpend: PropTypes.func.isRequired,\n  updateNode: PropTypes.func.isRequired,\n  utxos: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  walletMode: PropTypes.number.isRequired,\n};\n\nNode.defaultProps = {\n  multisig: {},\n  present: false,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  const change = (ownProps.bip32Path || \"\").split(\"/\")[1] === \"1\"; // // m, 0, 1\n  const braid = state.wallet[change ? \"change\" : \"deposits\"];\n  return {\n    ...state.settings,\n    ...{ change },\n    ...braid.nodes[ownProps.bip32Path],\n    ...state.spend.transaction,\n    walletMode: state.wallet.common.walletMode,\n    braidNode: braid.nodes[ownProps.bip32Path],\n  };\n}\n\nconst mapDispatchToProps = {\n  setInputs: setInputsAction,\n  setFeeRate: setFeeRateAction,\n  updateAutoSpend: updateAutoSpendActionImport,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Node);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\n// Components\nimport {\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n  FormLabel,\n  Grid,\n  Box,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  TablePagination,\n  TableSortLabel,\n} from \"@material-ui/core\";\nimport Node from \"./Node\";\nimport { WALLET_MODES } from \"../../actions/walletActions\";\n\nclass NodeSet extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0,\n      nodesPerPage: 10,\n      select: false,\n      filterIncludeSpent: false,\n      filterIncludeZeroBalance: false,\n      orderBy: \"bip32Path\",\n      orderDir: \"asc\",\n    };\n  }\n\n  sortAddresses = (key) => {\n    const { orderBy, orderDir } = this.state;\n    if (key === orderBy) {\n      this.setState({ page: 0, orderDir: orderDir === \"asc\" ? \"desc\" : \"asc\" });\n    } else {\n      this.setState({ page: 0, orderBy: key });\n    }\n  };\n\n  renderFilters = () => {\n    const { filterIncludeSpent, filterIncludeZeroBalance } = this.state;\n    return (\n      <FormGroup row>\n        <FormLabel component=\"h2\">\n          <Box mr={3}>Show Additional</Box>\n        </FormLabel>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={filterIncludeSpent}\n              value=\"filterIncludeSpent\"\n              onChange={this.filterAddresses}\n            />\n          }\n          label=\"Spent Addresses\"\n        />\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={filterIncludeZeroBalance}\n              value=\"filterIncludeZeroBalance\"\n              onChange={this.filterAddresses}\n            />\n          }\n          label=\"Zero Balance\"\n        />\n      </FormGroup>\n    );\n  };\n\n  filterAddresses = (event, checked) => {\n    this.setState({ [event.target.value]: checked, page: 0 });\n  };\n\n  getNodeSet = () => {\n    const { changeNodes, depositNodes } = this.props;\n    const { filterIncludeSpent, filterIncludeZeroBalance, orderBy, orderDir } =\n      this.state;\n    const nodes = Object.values(depositNodes)\n      .concat(Object.values(changeNodes))\n      .reduce((result, node) => {\n        const returnValue = result;\n        returnValue[node.bip32Path] = node;\n        return returnValue;\n      }, {});\n\n    let nodeSet = [];\n    Object.values(nodes).forEach((node) => {\n      if (node.balanceSats.isGreaterThan(0)) {\n        nodeSet.push(node);\n      } else if (\n        filterIncludeZeroBalance &&\n        node.balanceSats.isEqualTo(0) &&\n        !node.addressUsed\n      ) {\n        nodeSet.push(node);\n      } else if (filterIncludeSpent && node.addressUsed) {\n        nodeSet.push(node);\n      }\n    });\n\n    nodeSet = nodeSet.sort((a, b) => {\n      const direction = orderDir === \"asc\" ? 1 : -1;\n      if (orderBy === \"bip32Path\") {\n        if (a.change && !b.change) return direction;\n        if (!a.change && b.change) return -direction;\n        const aint = parseInt(a.bip32Path.split(\"/\").reverse()[0], 10);\n        const bint = parseInt(b.bip32Path.split(\"/\").reverse()[0], 10);\n        return aint > bint ? direction : -direction;\n      }\n      if (orderBy === \"balanceSats\") {\n        if (a.balanceSats.isEqualTo(b.balanceSats)) return 0;\n        return a.balanceSats.isGreaterThan(b.balanceSats)\n          ? direction\n          : -direction;\n      }\n      if (orderBy === \"utxos\") {\n        if (a.utxos.length === b.utxos.length) return 0;\n        return a.utxos.length > b.utxos.length ? direction : -direction;\n      }\n      if (orderBy === \"time\") {\n        if (a.utxos.length === 0) {\n          return b.utxos.length === 0 ? 0 : direction;\n        }\n        if (b.utxos.length === 0) {\n          return a.utxos.length === 0 ? 0 : -direction;\n        }\n        const amin = Math.min(...a.utxos.map((utxo) => utxo.time));\n        const bmin = Math.min(...b.utxos.map((utxo) => utxo.time));\n        if (Number.isNaN(amin) && Number.Number.isNaN(bmin)) return 0;\n        if (Number.isNaN(amin)) return direction;\n        if (Number.isNaN(bmin)) return -direction;\n        return amin > bmin ? direction : -direction;\n      }\n      return 0;\n    });\n\n    nodeSet = nodeSet.reduce((nodesObject, currentNode) => {\n      const returnValue = nodesObject;\n      returnValue[currentNode.bip32Path] = currentNode;\n      return returnValue;\n    }, {});\n\n    return nodeSet;\n  };\n\n  renderNodes = () => {\n    const { page, nodesPerPage, select } = this.state;\n    const { addNode, updateNode } = this.props;\n    const startingIndex = page * nodesPerPage;\n    const nodesRows = [];\n    const nodeSet = this.getNodeSet();\n    for (let index = 0; index < nodesPerPage; index += 1) {\n      const whichOne = startingIndex + index;\n      if (whichOne > Object.keys(nodeSet).length - 1) break;\n      const bip32Path = Object.values(nodeSet)[whichOne].bip32Path; // eslint-disable-line prefer-destructuring\n      const change = Object.values(nodeSet)[whichOne].change; // eslint-disable-line prefer-destructuring\n      const nodeRow = (\n        <Node\n          key={bip32Path}\n          bip32Path={bip32Path}\n          addNode={addNode}\n          updateNode={updateNode}\n          change={change}\n          select={select}\n        />\n      );\n      nodesRows.push(nodeRow);\n    }\n    return nodesRows;\n  };\n\n  handlePageChange = (e, selected) => {\n    const page = selected; // + 1;\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = (e) => {\n    this.setState({ nodesPerPage: e.target.value, page: 0 });\n  };\n\n  pageCount = () => {\n    const { nodesPerPage } = this.state;\n    return Math.ceil(this.rowCount() / nodesPerPage);\n  };\n\n  rowCount = () => {\n    const nodeSet = this.getNodeSet();\n    return Object.keys(nodeSet).length;\n  };\n\n  render() {\n    const { page, nodesPerPage, orderBy, orderDir } = this.state;\n    const { walletMode } = this.props;\n    const spending = walletMode === WALLET_MODES.SPEND;\n    return (\n      <Grid item md={12}>\n        <Table style={{ tableLayout: \"fixed\" }}>\n          <TableHead>\n            <TableRow>\n              {spending && <TableCell width={62}>Select</TableCell>}\n              <TableCell width={106}>\n                <TableSortLabel\n                  active={orderBy === \"bip32Path\"}\n                  direction={orderDir}\n                  onClick={() => this.sortAddresses(\"bip32Path\")}\n                >\n                  BIP32 Path\n                </TableSortLabel>\n              </TableCell>\n              <TableCell width={78}>\n                <TableSortLabel\n                  active={orderBy === \"utxos\"}\n                  direction={orderDir}\n                  onClick={() => this.sortAddresses(\"utxos\")}\n                >\n                  UTXOs\n                </TableSortLabel>\n              </TableCell>\n              <TableCell width={82}>\n                <TableSortLabel\n                  active={orderBy === \"balanceSats\"}\n                  direction={orderDir}\n                  onClick={() => this.sortAddresses(\"balanceSats\")}\n                >\n                  Balance\n                </TableSortLabel>\n              </TableCell>\n              <TableCell width={98}>\n                <TableSortLabel\n                  active={orderBy === \"time\"}\n                  direction={orderDir}\n                  onClick={() => this.sortAddresses(\"time\")}\n                >\n                  Last Used\n                </TableSortLabel>\n              </TableCell>\n              <TableCell>Address</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>{this.renderNodes()}</TableBody>\n        </Table>\n        <Grid container>\n          <Grid item md={6}>\n            <TablePagination\n              component=\"div\"\n              count={this.rowCount()}\n              rowsPerPage={nodesPerPage}\n              page={page}\n              backIconButtonProps={{\n                \"aria-label\": \"previous page\",\n              }}\n              nextIconButtonProps={{\n                \"aria-label\": \"next page\",\n              }}\n              onChangePage={this.handlePageChange}\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            />\n          </Grid>\n        </Grid>\n        {!spending && this.renderFilters()}\n      </Grid>\n    );\n  }\n}\n\nNodeSet.propTypes = {\n  depositNodes: PropTypes.shape({}).isRequired,\n  changeNodes: PropTypes.shape({}).isRequired,\n  addNode: PropTypes.func.isRequired,\n  updateNode: PropTypes.func.isRequired,\n  walletMode: PropTypes.number.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    changeNodes: state.wallet.change.nodes,\n    depositNodes: state.wallet.deposits.nodes,\n    walletMode: state.wallet.common.walletMode,\n    client: state.client,\n    ...state.settings,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NodeSet);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  satoshisToBitcoins,\n  bitcoinsToSatoshis,\n  validateOutputAmount,\n} from \"unchained-bitcoin\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  Grid,\n  Tooltip,\n  TextField,\n  IconButton,\n  InputAdornment,\n  FormHelperText,\n  Typography,\n} from \"@material-ui/core\";\nimport AccountBalanceWalletOutlinedIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport { Delete, AddCircle, RemoveCircle } from \"@material-ui/icons\";\nimport {\n  setOutputAddress,\n  setOutputAmount,\n  deleteOutput,\n  setChangeOutputIndex,\n  setMaxSpendOnOutput,\n} from \"../../actions/transactionActions\";\nimport styles from \"./styles.module.scss\";\n\nclass OutputEntry extends React.Component {\n  displayBalanceAction = () => {\n    const { isWallet, finalizedOutputs, autoSpend } = this.props;\n    if (isWallet) {\n      return (\n        !autoSpend &&\n        !finalizedOutputs &&\n        this.hasBalanceError() &&\n        this.isBalanceable()\n      );\n    }\n    return !finalizedOutputs && this.hasBalanceError() && this.isBalanceable();\n  };\n\n  //\n  // Address\n  //\n\n  addChangeAddress = () => {\n    const { changeNode, number, setAddress, setChangeOutput } = this.props;\n    setAddress(number, changeNode.multisig.address);\n    setChangeOutput(number);\n  };\n\n  renderChangeAdornment = () => {\n    const {\n      changeNode,\n      number,\n      changeOutputIndex,\n      address,\n      isWallet,\n      autoSpend,\n    } = this.props;\n    if (isWallet && autoSpend) return {};\n    if (changeNode !== null) {\n      let title;\n      let disable = false;\n      if (changeOutputIndex === 0 && address === \"\") {\n        title = \"Set to wallet change address\";\n      } else if (number === changeOutputIndex) {\n        title = \"Your change will go here.\";\n        disable = true;\n      } else return {};\n      return {\n        /* min: \"0\", */\n        /* max: \"1000\", */\n        /* step: \"any\", */\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <Tooltip placement=\"top\" title={title}>\n              <small>\n                <IconButton onClick={this.addChangeAddress} disabled={disable}>\n                  <AccountBalanceWalletOutlinedIcon />\n                </IconButton>\n              </small>\n            </Tooltip>\n          </InputAdornment>\n        ),\n      };\n    }\n    return {};\n  };\n\n  handleAddressChange = (event) => {\n    const { number, setAddress } = this.props;\n    setAddress(number, event.target.value);\n  };\n\n  hasAddressError = () => {\n    const { addressError } = this.props;\n    return addressError !== \"\";\n  };\n\n  //\n  // Amount\n  //\n\n  handleAmountChange = (event) => {\n    const { number, setAmount } = this.props;\n    setAmount(number, event.target.value);\n  };\n\n  hasAmountError = () => {\n    const { amountError } = this.props;\n    return amountError !== \"\";\n  };\n\n  //\n  // Balance\n  //\n\n  isNotBalanceable = () => {\n    const { number, outputs, feeError, amountError, amount, inputsTotalSats } =\n      this.props;\n    if (feeError !== \"\") {\n      return true;\n    }\n    for (let i = 0; i < outputs.length; i += 1) {\n      if (i !== number - 1) {\n        if (outputs[i].amountError !== \"\" || outputs[i].amount === \"\") {\n          return true;\n        }\n      }\n    }\n    const newAmount = this.autoBalancedAmount();\n    if (\n      validateOutputAmount(bitcoinsToSatoshis(newAmount), inputsTotalSats) !==\n      \"\"\n    ) {\n      return true;\n    }\n    return amountError === \"\" && newAmount === new BigNumber(amount);\n  };\n\n  isBalanceable = () => !this.isNotBalanceable();\n\n  hasBalanceError = () => {\n    const { balanceError } = this.props;\n    return balanceError !== \"\";\n  };\n\n  autoBalancedAmount = () => {\n    const { number, fee, inputsTotalSats, outputs } = this.props;\n    const outputTotalSats = outputs\n      .filter((output, i) => i !== number - 1)\n      .map((output) => output.amountSats)\n      .reduce(\n        (accumulator, currentValue) => accumulator.plus(currentValue),\n        new BigNumber(0)\n      );\n    const feeSats = bitcoinsToSatoshis(new BigNumber(fee));\n    return satoshisToBitcoins(\n      inputsTotalSats.minus(outputTotalSats.plus(feeSats))\n    );\n  };\n\n  balanceAction = () => {\n    const { balanceError } = this.props;\n    if (!this.hasBalanceError() || this.isNotBalanceable()) {\n      return null;\n    }\n    return balanceError.split(\" \")[0];\n  };\n\n  handleBalance = () => {\n    const { number, setAmount } = this.props;\n    setAmount(number, this.autoBalancedAmount().toString());\n  };\n\n  //\n  // State\n  //\n\n  hasError = () => {\n    return this.hasAddressError() || this.hasAmountError();\n  };\n\n  handleDelete = () => {\n    const { number, remove } = this.props;\n    remove(number);\n  };\n\n  handleMaxSpend = (e) => {\n    e.preventDefault();\n    const { number, setMaxSpend } = this.props;\n    setMaxSpend(number);\n  };\n\n  render() {\n    const {\n      outputs,\n      finalizedOutputs,\n      address,\n      amount,\n      addressError,\n      amountError,\n      changeOutputIndex,\n      autoSpend,\n      isWallet,\n      number,\n    } = this.props;\n\n    const gridSpacing = isWallet ? 10 : 1;\n\n    return (\n      <Grid container spacing={gridSpacing}>\n        <Grid item xs={7}>\n          <TextField\n            fullWidth\n            placeholder=\"Address\"\n            name=\"destination\"\n            className={styles.outputsFormInput}\n            disabled={finalizedOutputs}\n            onChange={this.handleAddressChange}\n            value={address}\n            error={this.hasAddressError()}\n            helperText={addressError}\n            InputProps={this.renderChangeAdornment()}\n          />\n        </Grid>\n\n        <Grid item xs={3}>\n          <TextField\n            fullWidth\n            placeholder=\"Amount\"\n            className={styles.outputsFormInput}\n            name=\"amount\"\n            disabled={finalizedOutputs}\n            onChange={this.handleAmountChange}\n            value={amount}\n            error={this.hasAmountError()}\n            helperText={amountError}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {isWallet &&\n                    autoSpend &&\n                    number === outputs.length &&\n                    number !== changeOutputIndex && (\n                      <Typography\n                        onClick={this.handleMaxSpend}\n                        className={styles.maxSpend}\n                        style={{ fontSize: \".7rem\" }}\n                      >\n                        MAX\n                      </Typography>\n                    )}\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <FormHelperText>BTC</FormHelperText>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </Grid>\n        {this.displayBalanceAction() && (\n          <Grid item xs={1}>\n            <Tooltip\n              title={`${this.balanceAction()} to ${this.autoBalancedAmount().toString()}`}\n              placement=\"top\"\n            >\n              <small>\n                <IconButton onClick={this.handleBalance}>\n                  {this.balanceAction() === \"Increase\" ? (\n                    <AddCircle />\n                  ) : (\n                    <RemoveCircle />\n                  )}\n                </IconButton>\n              </small>\n            </Tooltip>\n          </Grid>\n        )}\n\n        {!finalizedOutputs &&\n          outputs.length > (changeOutputIndex > 0 && autoSpend ? 2 : 1) && (\n            <Grid item xs={1}>\n              <Tooltip title=\"Remove Output\" placement=\"top\">\n                <IconButton onClick={this.handleDelete}>\n                  <Delete />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          )}\n      </Grid>\n    );\n  }\n}\n\nOutputEntry.propTypes = {\n  address: PropTypes.string.isRequired,\n  addressError: PropTypes.string.isRequired,\n  amount: PropTypes.string.isRequired,\n  amountError: PropTypes.string.isRequired,\n  autoSpend: PropTypes.bool.isRequired,\n  balanceError: PropTypes.string.isRequired,\n  changeNode: PropTypes.shape({\n    multisig: PropTypes.shape({\n      address: PropTypes.string,\n    }),\n  }),\n  changeOutputIndex: PropTypes.number.isRequired,\n  fee: PropTypes.string.isRequired,\n  feeError: PropTypes.string.isRequired,\n  finalizedOutputs: PropTypes.bool.isRequired,\n  inputsTotalSats: PropTypes.shape({\n    minus: PropTypes.func,\n  }).isRequired,\n  isWallet: PropTypes.bool.isRequired,\n  number: PropTypes.number.isRequired,\n  outputs: PropTypes.arrayOf(\n    PropTypes.shape({\n      amount: PropTypes.string,\n      amountError: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  remove: PropTypes.func.isRequired,\n  setAddress: PropTypes.func.isRequired,\n  setAmount: PropTypes.func.isRequired,\n  setMaxSpend: PropTypes.func.isRequired,\n  setChangeOutput: PropTypes.func.isRequired,\n};\n\nOutputEntry.defaultProps = {\n  changeNode: {},\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.spend.transaction,\n    ...state.spend.transaction.outputs[ownProps.number - 1],\n    changeNode: state.wallet.change.nextNode,\n  };\n}\n\nconst mapDispatchToProps = {\n  setAddress: setOutputAddress,\n  setAmount: setOutputAmount,\n  remove: deleteOutput,\n  setChangeOutput: setChangeOutputIndex,\n  setMaxSpend: setMaxSpendOnOutput,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OutputEntry);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { map } from \"lodash\";\nimport BigNumber from \"bignumber.js\";\nimport { bitcoinsToSatoshis, satoshisToBitcoins } from \"unchained-bitcoin\";\nimport {\n  Grid,\n  Button,\n  Tooltip,\n  TextField,\n  Box,\n  IconButton,\n  InputAdornment,\n  Typography,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport { Speed } from \"@material-ui/icons\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {\n  addOutput as addOutputAction,\n  setOutputAmount as setOutputAmountAction,\n  setFeeRate as setFeeRateAction,\n  setFee as setFeeAction,\n  finalizeOutputs as finalizeOutputsAction,\n  resetOutputs as resetOutputsAction,\n} from \"../../actions/transactionActions\";\nimport { fetchFeeEstimate } from \"../../blockchain\";\nimport { MIN_SATS_PER_BYTE_FEE } from \"../Wallet/constants\";\nimport OutputEntry from \"./OutputEntry\";\nimport styles from \"./styles.module.scss\";\n\nclass OutputsForm extends React.Component {\n  static unitLabel(label, options) {\n    let inputProps = {\n      endAdornment: (\n        <InputAdornment position=\"end\">\n          <FormHelperText>{label}</FormHelperText>\n        </InputAdornment>\n      ),\n    };\n    if (options) {\n      inputProps = {\n        ...inputProps,\n        ...options,\n      };\n    }\n    return inputProps;\n  }\n\n  titleRef = React.createRef();\n\n  outputsTotal = 0;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      feeRateFetchError: \"\",\n    };\n  }\n\n  componentDidMount = () => {\n    this.initialOutputState();\n    this.scrollToTitle();\n  };\n\n  scrollToTitle = () => {\n    const { signatureImporters, isWallet } = this.props;\n    const finalizedCount = Object.keys(signatureImporters).reduce(\n      (o, k) => o + signatureImporters[k].finalized,\n      0\n    );\n    if (finalizedCount === 0 && !isWallet)\n      this.titleRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  renderOutputs = () => {\n    const { outputs, changeOutputIndex, autoSpend } = this.props;\n    return map(outputs).map((output, i) => (\n      <Box\n        key={i} // eslint-disable-line react/no-array-index-key\n        display={autoSpend && changeOutputIndex === i + 1 ? \"none\" : \"block\"}\n      >\n        <Grid container>\n          <OutputEntry number={i + 1} />\n        </Grid>\n      </Box>\n    ));\n  };\n\n  inputsTotal = () => {\n    const { inputsTotalSats } = this.props;\n    return satoshisToBitcoins(inputsTotalSats);\n  };\n\n  outputsAndFeeTotal = () => {\n    const { outputs, fee, updatesComplete, inputs } = this.props;\n    let total = outputs\n      .map((output) => {\n        let { amount } = output;\n        if (!amount || !amount.length || Number.isNaN(amount)) amount = 0;\n        return new BigNumber(amount);\n      })\n      .reduce(\n        (accumulator, currentValue) => accumulator.plus(currentValue),\n        new BigNumber(0)\n      );\n\n    // only care to add fee if we have inputs\n    // which we won't have in auto-spend wallet output form\n    if (fee && inputs.length) total = total.plus(fee);\n\n    if (updatesComplete) {\n      this.outputsTotal = total;\n      return total.toFixed(8);\n    }\n    return \"0.00000000\";\n  };\n\n  hasFeeRateFetchError = () => {\n    const { feeRateFetchError } = this.state;\n    return feeRateFetchError !== \"\";\n  };\n\n  hasFeeRateError = () => {\n    const { feeRateError } = this.props;\n    return feeRateError !== \"\";\n  };\n\n  hasFeeError = () => {\n    const { feeError } = this.props;\n    return feeError !== \"\";\n  };\n\n  hasBalanceError = () => {\n    const { balanceError } = this.props;\n    return balanceError !== \"\";\n  };\n\n  hasError = () => {\n    return (\n      this.hasFeeRateFetchError() ||\n      this.hasFeeRateError() ||\n      this.hasFeeError() ||\n      this.hasBalanceError()\n    );\n  };\n\n  handleAddOutput = () => {\n    const { addOutput } = this.props;\n    addOutput();\n  };\n\n  handleFeeRateChange = (event) => {\n    const { setFeeRate } = this.props;\n    let rate = event.target.value;\n\n    if (\n      rate === \"\" ||\n      Number.isNaN(parseFloat(rate, 10)) ||\n      parseFloat(rate, 10) < 1\n    )\n      rate = \"0\";\n    setFeeRate(rate);\n  };\n\n  handleFeeChange = (event) => {\n    const { setFee } = this.props;\n    setFee(event.target.value);\n  };\n\n  handleFinalize = () => {\n    const { finalizeOutputs } = this.props;\n    finalizeOutputs(true);\n  };\n\n  handleReset = () => {\n    const { resetOutputs, isWallet } = this.props;\n    resetOutputs();\n    if (!isWallet) setTimeout(() => this.initialOutputState(), 0);\n  };\n\n  getFeeEstimate = async () => {\n    const { client, network, setFeeRate } = this.props;\n    let feeEstimate;\n    let feeRateFetchError = \"\";\n    try {\n      feeEstimate = await fetchFeeEstimate(network, client);\n    } catch (e) {\n      feeRateFetchError = \"There was an error fetching the fee rate.\";\n    } finally {\n      setFeeRate(\n        !Number.isNaN(feeEstimate)\n          ? feeEstimate.toString()\n          : MIN_SATS_PER_BYTE_FEE.toString()\n      );\n      this.setState({ feeRateFetchError });\n    }\n  };\n\n  gatherSignaturesDisabled = () => {\n    const { finalizedOutputs, outputs, inputs } = this.props;\n    if (inputs.length === 0) return true;\n    if (finalizedOutputs || this.hasError()) {\n      return true;\n    }\n    for (let i = 0; i < outputs.length; i += 1) {\n      const output = outputs[i];\n      if (\n        output.address === \"\" ||\n        output.amount === \"\" ||\n        output.addressError !== \"\" ||\n        output.amountError !== \"\"\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  async initialOutputState() {\n    const { inputs, outputs } = this.props;\n    await this.getFeeEstimate();\n    const { inputsTotalSats, fee, setOutputAmount } = this.props;\n    const feeSats = bitcoinsToSatoshis(new BigNumber(fee));\n    const outputAmount = satoshisToBitcoins(inputsTotalSats.minus(feeSats));\n    // only initialize once so we don't lose state\n    if (inputs.length && outputs[0].amount === \"\")\n      setOutputAmount(1, outputAmount.toFixed(8));\n  }\n\n  render() {\n    const {\n      feeRate,\n      fee,\n      finalizedOutputs,\n      feeRateError,\n      feeError,\n      balanceError,\n      inputs,\n      isWallet,\n      autoSpend,\n    } = this.props;\n    const { feeRateFetchError } = this.state;\n    const feeDisplay = inputs && inputs.length > 0 ? fee : \"0.0000\";\n    const feeMt = 3;\n    const totalMt = 7;\n    const actionMt = 7;\n    const gridSpacing = isWallet ? 10 : 1;\n    return (\n      <>\n        <Box ref={this.titleRef}>\n          <Grid container spacing={gridSpacing}>\n            <Grid item xs={4}>\n              <Typography variant=\"caption\" className={styles.outputsFormLabel}>\n                To\n              </Typography>\n            </Grid>\n            <Grid item xs={3}>\n              &nbsp;\n            </Grid>\n            <Grid item xs={3}>\n              <Typography variant=\"caption\" className={styles.outputsFormLabel}>\n                Amount\n              </Typography>\n            </Grid>\n          </Grid>\n\n          <Grid>{this.renderOutputs()}</Grid>\n\n          <Grid item container spacing={gridSpacing}>\n            <Grid item xs={12}>\n              <Button\n                color=\"primary\"\n                disabled={finalizedOutputs}\n                onClick={this.handleAddOutput}\n              >\n                <AddIcon /> Add output\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid item container spacing={gridSpacing}>\n            <Grid item xs={3}>\n              <Box mt={feeMt}>\n                <Typography\n                  variant=\"caption\"\n                  className={styles.outputsFormLabel}\n                >\n                  Fee Rate\n                </Typography>\n                <TextField\n                  fullWidth\n                  value={feeRate}\n                  type=\"number\"\n                  minimum={0}\n                  step={1}\n                  name=\"fee_rate\"\n                  disabled={finalizedOutputs}\n                  onChange={this.handleFeeRateChange}\n                  error={this.hasFeeRateError()}\n                  helperText={feeRateFetchError || feeRateError}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <Tooltip placement=\"top\" title=\"Estimate best rate\">\n                          <small>\n                            <IconButton\n                              onClick={this.getFeeEstimate}\n                              disabled={finalizedOutputs}\n                            >\n                              <Speed />\n                            </IconButton>\n                          </small>\n                        </Tooltip>\n                        <FormHelperText>Sats/byte</FormHelperText>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Box>\n            </Grid>\n\n            <Grid item xs={4}>\n              <Box mt={feeMt}>&nbsp;</Box>\n            </Grid>\n            {!isWallet || (isWallet && !autoSpend) ? (\n              <Grid item xs={3}>\n                <Box mt={feeMt}>\n                  <Typography\n                    variant=\"caption\"\n                    className={styles.outputsFormLabel}\n                  >\n                    Estimated Fees\n                  </Typography>\n                  <TextField\n                    fullWidth\n                    name=\"fee_total\"\n                    disabled={finalizedOutputs}\n                    value={feeDisplay}\n                    onChange={this.handleFeeChange}\n                    error={this.hasFeeError()}\n                    helperText={feeError}\n                    InputProps={OutputsForm.unitLabel(\"BTC\", {\n                      readOnly: true,\n                      disableUnderline: true,\n                      style: { color: \"gray\" },\n                    })}\n                  />\n                </Box>\n              </Grid>\n            ) : (\n              \"\"\n            )}\n\n            <Grid item xs={2} />\n          </Grid>\n\n          <Grid item container spacing={gridSpacing}>\n            <Grid item xs={4}>\n              <Box mt={totalMt}>\n                <Typography variant=\"h6\">\n                  {!isWallet || (isWallet && !autoSpend)\n                    ? \"Totals\"\n                    : \"Output Total\"}\n                </Typography>\n              </Box>\n            </Grid>\n            <Grid item xs={3}>\n              <Box\n                display={\n                  !isWallet || (isWallet && !autoSpend) ? \"block\" : \"none\"\n                }\n                mt={totalMt}\n              >\n                <TextField\n                  fullWidth\n                  label=\"Inputs Total\"\n                  readOnly\n                  value={this.inputsTotal().toFixed(8)}\n                  disabled={finalizedOutputs}\n                  InputProps={OutputsForm.unitLabel(\"BTC\", { readOnly: true })}\n                />\n              </Box>\n            </Grid>\n            <Grid item xs={3}>\n              <Box mt={totalMt}>\n                <TextField\n                  fullWidth\n                  label={\n                    !isWallet || (isWallet && !autoSpend)\n                      ? \"Outputs & Fee Total\"\n                      : \"\"\n                  }\n                  value={this.outputsAndFeeTotal()}\n                  error={this.hasBalanceError()}\n                  disabled={finalizedOutputs}\n                  helperText={balanceError}\n                  InputProps={OutputsForm.unitLabel(\"BTC\", {\n                    readOnly: true,\n                    disableUnderline: true,\n                  })}\n                />\n              </Box>\n            </Grid>\n            <Grid item xs={2} />\n          </Grid>\n        </Box>\n\n        {!isWallet && (\n          <Box mt={actionMt}>\n            <Grid container spacing={3} justify=\"center\">\n              <Grid item>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={this.gatherSignaturesDisabled()}\n                  onClick={this.handleFinalize}\n                >\n                  Gather Signatures\n                </Button>\n              </Grid>\n\n              <Grid item>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={finalizedOutputs}\n                  onClick={this.handleReset}\n                >\n                  Reset Outputs\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        )}\n      </>\n    );\n  }\n}\n\nOutputsForm.propTypes = {\n  addOutput: PropTypes.func.isRequired,\n  autoSpend: PropTypes.bool.isRequired,\n  balanceError: PropTypes.string.isRequired,\n  change: PropTypes.shape({\n    nextNode: PropTypes.shape({\n      multisig: PropTypes.shape({\n        address: PropTypes.string,\n      }),\n    }),\n  }).isRequired,\n  changeOutputIndex: PropTypes.number.isRequired,\n  client: PropTypes.shape({}).isRequired,\n  fee: PropTypes.string.isRequired,\n  feeError: PropTypes.string.isRequired,\n  feeRateError: PropTypes.string.isRequired,\n  finalizeOutputs: PropTypes.func.isRequired,\n  feeRate: PropTypes.string.isRequired,\n  finalizedOutputs: PropTypes.bool.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  inputsTotalSats: PropTypes.shape({\n    minus: PropTypes.func,\n  }).isRequired,\n  isWallet: PropTypes.bool.isRequired,\n  network: PropTypes.string.isRequired,\n  outputs: PropTypes.arrayOf(\n    PropTypes.shape({\n      address: PropTypes.string,\n      addressError: PropTypes.string,\n      amount: PropTypes.string,\n      amountError: PropTypes.string,\n    })\n  ).isRequired,\n  resetOutputs: PropTypes.func.isRequired,\n  setFeeRate: PropTypes.func.isRequired,\n  setFee: PropTypes.func.isRequired,\n  setOutputAmount: PropTypes.func.isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  updatesComplete: PropTypes.bool,\n};\n\nOutputsForm.defaultProps = {\n  updatesComplete: false,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...{\n      network: state.settings.network,\n      client: state.client,\n    },\n    ...state.spend.transaction,\n    ...state.client,\n    signatureImporters: state.spend.signatureImporters,\n    change: state.wallet.change,\n  };\n}\n\nconst mapDispatchToProps = {\n  addOutput: addOutputAction,\n  setOutputAmount: setOutputAmountAction,\n  setFeeRate: setFeeRateAction,\n  setFee: setFeeAction,\n  finalizeOutputs: finalizeOutputsAction,\n  resetOutputs: resetOutputsAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OutputsForm);\n","export const CARAVAN_CONFIG = \"caravan_config\";\nexport const MAX_TRAILING_EMPTY_NODES = 20;\nexport const MAX_FETCH_UTXOS_ERRORS = 5;\nexport const MIN_SATS_PER_BYTE_FEE = 1;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  signedMultisigTransaction,\n  blockExplorerTransactionURL,\n} from \"unchained-bitcoin\";\n\nimport {\n  Typography,\n  Box,\n  FormHelperText,\n  Button,\n  Card,\n  CardHeader,\n  CardContent,\n} from \"@material-ui/core\";\nimport { OpenInNew } from \"@material-ui/icons\";\nimport { broadcastTransaction } from \"../../blockchain\";\nimport Copyable from \"../Copyable\";\nimport { externalLink } from \"../../utils\";\nimport { setTXID } from \"../../actions/transactionActions\";\n\nclass Transaction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: \"\",\n      broadcasting: false,\n      txid: \"\",\n    };\n  }\n\n  buildSignedTransaction = () => {\n    const { network, inputs, outputs, signatureImporters } = this.props;\n    return signedMultisigTransaction(\n      network,\n      inputs,\n      outputs,\n      Object.values(signatureImporters).map(\n        (signatureImporter) => signatureImporter.signature\n      )\n    );\n  };\n\n  handleBroadcast = async () => {\n    const { client, network, setTxid } = this.props;\n    const signedTransaction = this.buildSignedTransaction();\n    let error = \"\";\n    let txid = \"\";\n    this.setState({ broadcasting: true });\n    try {\n      txid = await broadcastTransaction(\n        signedTransaction.toHex(),\n        network,\n        client\n      );\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      error = `There was an error broadcasting the transaction.: ${e}`;\n    } finally {\n      this.setState({ txid, error, broadcasting: false });\n      setTxid(txid);\n    }\n  };\n\n  transactionURL = () => {\n    const { network } = this.props;\n    const { txid } = this.state;\n    return blockExplorerTransactionURL(txid, network);\n  };\n\n  render() {\n    const { error, broadcasting, txid } = this.state;\n    const signedTransaction = this.buildSignedTransaction();\n    const signedTransactionHex = signedTransaction.toHex();\n    return (\n      <Card>\n        <CardHeader title=\"Broadcast\" />\n        <CardContent>\n          <form>\n            {signedTransaction && (\n              <Box mt={4}>\n                <Typography variant=\"h6\">Signed Transaction</Typography>\n                <Copyable text={signedTransactionHex} code showIcon />\n              </Box>\n            )}\n            {txid === \"\" ? (\n              <Box mt={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={!signedTransaction || broadcasting}\n                  onClick={this.handleBroadcast}\n                >\n                  Broadcast Transaction\n                </Button>\n                <FormHelperText error>{error}</FormHelperText>\n                <small>\n                  <FormHelperText>\n                    Warning: Broadcasting this transaction cannot be undone.\n                  </FormHelperText>\n                </small>\n              </Box>\n            ) : (\n              <Box mt={2}>\n                <Typography variant=\"h5\">\n                  <Copyable text={txid} code showIcon />\n                  &nbsp;\n                  {externalLink(this.transactionURL(), <OpenInNew />)}\n                </Typography>\n                <p>Transaction successfully broadcast.</p>\n              </Box>\n            )}\n          </form>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nTransaction.propTypes = {\n  client: PropTypes.shape({}).isRequired,\n  network: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  setTxid: PropTypes.func.isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    client: state.client,\n    ...state.client,\n    signatureImporters: state.spend.signatureImporters,\n    inputs: state.spend.transaction.inputs,\n    outputs: state.spend.transaction.outputs,\n  };\n}\n\nconst mapDispatchToProps = {\n  setTxid: setTXID,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Transaction);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { Button } from \"@material-ui/core\";\nimport Copyable from \"./Copyable\";\n\nclass UnsignedTransaction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showUnsignedTransaction: false,\n    };\n  }\n\n  render = () => {\n    const { showUnsignedTransaction } = this.state;\n    const { unsignedTransaction } = this.props;\n    if (showUnsignedTransaction) {\n      const hex = unsignedTransaction.toHex();\n      return (\n        <div>\n          <small>\n            <Button size=\"small\" onClick={this.handleHideUnsignedTransaction}>\n              Hide Unsigned Transaction\n            </Button>\n          </small>\n          <p>\n            <Copyable text={hex} showIcon />\n          </p>\n        </div>\n      );\n    }\n    return (\n      <small>\n        <Button size=\"small\" onClick={this.handleShowUnsignedTransaction}>\n          Show Unsigned Transaction\n        </Button>\n      </small>\n    );\n  };\n\n  handleShowUnsignedTransaction = () => {\n    this.setState({ showUnsignedTransaction: true });\n  };\n\n  handleHideUnsignedTransaction = () => {\n    this.setState({ showUnsignedTransaction: false });\n  };\n}\n\nUnsignedTransaction.propTypes = {\n  unsignedTransaction: PropTypes.shape({\n    toHex: PropTypes.func,\n  }).isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    unsignedTransaction: state.spend.transaction.unsignedTransaction,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UnsignedTransaction);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\n// Components\nimport { Box, Button } from \"@material-ui/core\";\nimport Transaction from \"../ScriptExplorer/Transaction\";\nimport ExtendedPublicKeySelector from \"./ExtendedPublicKeySelector\";\n\n// Actions\nimport {\n  finalizeOutputs as finalizeOutputsAction,\n  setRequiredSigners as setRequiredSignersAction,\n  resetTransaction as resetTransactionAction,\n  setSpendStep as setSpendStepAction,\n  SPEND_STEP_CREATE,\n} from \"../../actions/transactionActions\";\nimport {\n  updateTxSlices as updateTxSlicesAction,\n  resetWalletView as resetWalletViewAction,\n} from \"../../actions/walletActions\";\nimport UnsignedTransaction from \"../UnsignedTransaction\";\n\nclass WalletSign extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spent: false,\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { txid, changeSlice, updateTxSlices } = props;\n    if (txid.length && !state.spent) {\n      updateTxSlices(changeSlice);\n      return {\n        spent: true,\n      };\n    }\n    return null;\n  }\n\n  componentWillUnmount() {\n    const { resetTransaction } = this.props;\n    const { spent } = this.state;\n\n    // reset the transaction when we leave the view if tx is spent\n    if (spent) {\n      resetTransaction();\n    }\n  }\n\n  renderKeySelectors = () => {\n    const { requiredSigners } = this.props;\n    const keySelectors = [];\n    for (\n      let keySelectorNum = 1;\n      keySelectorNum <= requiredSigners;\n      keySelectorNum += 1\n    ) {\n      keySelectors.push(\n        <Box key={keySelectorNum} mt={2}>\n          <ExtendedPublicKeySelector number={keySelectorNum} />\n        </Box>\n      );\n    }\n    return keySelectors;\n  };\n\n  signaturesFinalized = () => {\n    const { signatureImporters } = this.props;\n    return (\n      Object.values(signatureImporters).length > 0 &&\n      Object.values(signatureImporters).every(\n        (signatureImporter) => signatureImporter.finalized\n      )\n    );\n  };\n\n  handleReturn = () => {\n    const { resetTransaction, resetWalletView } = this.props;\n    resetTransaction();\n    resetWalletView();\n  };\n\n  handleCancel = (event) => {\n    const {\n      finalizeOutputs,\n      requiredSigners,\n      setRequiredSigners,\n      setSpendStep,\n    } = this.props;\n    event.preventDefault();\n    setRequiredSigners(requiredSigners); // this will generate signature importers\n    finalizeOutputs(false);\n    setSpendStep(SPEND_STEP_CREATE);\n  };\n\n  render = () => {\n    const { spent } = this.state;\n    return (\n      <Box>\n        <Button href=\"#\" onClick={this.handleCancel}>\n          Edit Transaction\n        </Button>\n        <Box mt={2}>\n          <UnsignedTransaction />\n        </Box>\n        {this.renderKeySelectors()}\n\n        <Box mt={2}>\n          <Button\n            href=\"#\"\n            onClick={(e) => {\n              e.preventDefault();\n              this.handleReturn();\n            }}\n          >\n            Abandon Transaction\n          </Button>\n        </Box>\n\n        {this.signaturesFinalized() && (\n          <Box mt={2}>\n            <Transaction />\n          </Box>\n        )}\n\n        {spent && (\n          <Box mt={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.handleReturn}\n            >\n              Return\n            </Button>\n          </Box>\n        )}\n      </Box>\n    );\n  };\n}\n\nWalletSign.propTypes = {\n  changeSlice: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    multisig: PropTypes.shape({\n      address: PropTypes.string,\n    }),\n  }).isRequired,\n  finalizeOutputs: PropTypes.func.isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  resetTransaction: PropTypes.func.isRequired,\n  resetWalletView: PropTypes.func.isRequired,\n  setRequiredSigners: PropTypes.func.isRequired,\n  setSpendStep: PropTypes.func.isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  updateTxSlices: PropTypes.func.isRequired,\n  txid: PropTypes.string.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.wallet,\n    ...state.spend,\n    ...state.quorum,\n    txid: state.spend.transaction.txid,\n    requiredSigners: state.spend.transaction.requiredSigners,\n    totalSigners: state.spend.transaction.totalSigners,\n    changeSlice: state.wallet.change.nextNode,\n  };\n}\n\nconst mapDispatchToProps = {\n  finalizeOutputs: finalizeOutputsAction,\n  setRequiredSigners: setRequiredSignersAction,\n  updateTxSlices: updateTxSlicesAction,\n  resetTransaction: resetTransactionAction,\n  resetWalletView: resetWalletViewAction,\n  setSpendStep: setSpendStepAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletSign);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport BigNumber from \"bignumber.js\";\nimport { satoshisToBitcoins } from \"unchained-bitcoin\";\nimport {\n  Button,\n  Box,\n  Table,\n  TableHead,\n  TableBody,\n  TableFooter,\n  TableRow,\n  TableCell,\n  Grid,\n} from \"@material-ui/core\";\nimport UnsignedTransaction from \"../UnsignedTransaction\";\nimport { setChangeOutputMultisig as setChangeOutputMultisigAction } from \"../../actions/transactionActions\";\n\nclass TransactionPreview extends React.Component {\n  componentDidMount() {\n    const {\n      outputs,\n      changeAddress,\n      changeOutputIndex,\n      changeNode,\n      setChangeOutputMultisig,\n    } = this.props;\n    outputs.forEach((output) => {\n      if (output.address === changeAddress) {\n        setChangeOutputMultisig(changeOutputIndex, changeNode.multisig);\n      }\n    });\n  }\n\n  renderAddresses = () => {\n    const addressWithUtxos = this.mapAddresses();\n    return Object.keys(addressWithUtxos).map((address) => {\n      return (\n        <TableRow key={address}>\n          <TableCell>\n            <code>{address}</code>\n          </TableCell>\n          <TableCell>{addressWithUtxos[address].utxos.length}</TableCell>\n          <TableCell>\n            <code>{addressWithUtxos[address].amount.toFixed(8)}</code>\n          </TableCell>\n        </TableRow>\n      );\n    });\n  };\n\n  renderOutputAddresses = () => {\n    const { changeAddress, outputs } = this.props;\n\n    return outputs.map((output) => {\n      return (\n        <TableRow key={output.address}>\n          <TableCell>\n            <code>{output.address}</code>\n            {output.address === changeAddress ? (\n              <small>&nbsp;(change)</small>\n            ) : (\n              \"\"\n            )}\n          </TableCell>\n          <TableCell>\n            <code>{BigNumber(output.amount).toFixed(8)}</code>\n          </TableCell>\n        </TableRow>\n      );\n    });\n  };\n\n  renderOutputs = () => {\n    return (\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Address</TableCell>\n            <TableCell>Amount (BTC)</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>{this.renderOutputAddresses()}</TableBody>\n        <TableFooter>\n          <TableRow>\n            <TableCell>TOTAL:</TableCell>\n            <TableCell>{this.outputsTotal()}</TableCell>\n          </TableRow>\n        </TableFooter>\n      </Table>\n    );\n  };\n\n  renderInputs = () => {\n    const { inputsTotalSats } = this.props;\n\n    return (\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Address</TableCell>\n            <TableCell>UTXO count</TableCell>\n            <TableCell>Amount (BTC)</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>{this.renderAddresses()}</TableBody>\n        <TableFooter>\n          <TableRow>\n            <TableCell colSpan={2}>TOTAL:</TableCell>\n            <TableCell>\n              {satoshisToBitcoins(inputsTotalSats).toString()}\n            </TableCell>\n          </TableRow>\n        </TableFooter>\n      </Table>\n    );\n  };\n\n  mapAddresses = () => {\n    const { inputs } = this.props;\n    return inputs.reduce((mapped, input) => {\n      const mappedAddresses = mapped;\n      const { confirmed, txid, index, amount } = input;\n\n      mappedAddresses[input.multisig.address] = mapped[\n        input.multisig.address\n      ] || {\n        amount: BigNumber(0),\n        utxos: [],\n      };\n      mappedAddresses[input.multisig.address].utxos.push({\n        confirmed,\n        txid,\n        index,\n        amount,\n      });\n      mappedAddresses[input.multisig.address].amount = mapped[\n        input.multisig.address\n      ].amount.plus(BigNumber(input.amount));\n      return mappedAddresses;\n    }, {});\n  };\n\n  outputsTotal = () => {\n    const { outputs } = this.props;\n    return satoshisToBitcoins(\n      outputs.reduce(\n        (total, output) => total.plus(BigNumber(output.amountSats || 0)),\n        BigNumber(0)\n      )\n    ).toString();\n  };\n\n  render = () => {\n    const {\n      feeRate,\n      fee,\n      inputsTotalSats,\n      editTransaction,\n      handleSignTransaction,\n    } = this.props;\n\n    return (\n      <Box>\n        <h2>Transaction Preview</h2>\n        <UnsignedTransaction />\n        <h3>Inputs</h3>\n        {this.renderInputs()}\n        <h3>Outputs</h3>\n        {this.renderOutputs()}\n        <Grid container>\n          <Grid item xs={4}>\n            <h3>Fee</h3>\n            <div>{BigNumber(fee).toFixed(8)} BTC </div>\n          </Grid>\n          <Grid item xs={4}>\n            <h3>Fee Rate</h3>\n            <div>{feeRate} sats/byte</div>\n          </Grid>\n          <Grid item xs={4}>\n            <h3>Total</h3>\n            <div>\n              {satoshisToBitcoins(BigNumber(inputsTotalSats || 0)).toFixed(8)}{\" \"}\n              BTC\n            </div>\n          </Grid>\n        </Grid>\n        <Box mt={2}>\n          <Grid container spacing={2}>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  editTransaction();\n                }}\n              >\n                Edit Transaction\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSignTransaction}\n              >\n                Sign Transaction\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    );\n  };\n}\n\nTransactionPreview.propTypes = {\n  changeAddress: PropTypes.string.isRequired,\n  changeNode: PropTypes.shape({\n    multisig: PropTypes.shape({}),\n  }).isRequired,\n  changeOutputIndex: PropTypes.number.isRequired,\n  editTransaction: PropTypes.func.isRequired,\n  fee: PropTypes.string.isRequired,\n  feeRate: PropTypes.string.isRequired,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  inputsTotalSats: PropTypes.shape({}).isRequired,\n  outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  handleSignTransaction: PropTypes.func.isRequired,\n  setChangeOutputMultisig: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    changeOutputIndex: state.spend.transaction.changeOutputIndex,\n  };\n}\n\nconst mapDispatchToProps = {\n  setChangeOutputMultisig: setChangeOutputMultisigAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TransactionPreview);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  Switch,\n  FormControlLabel,\n  Button,\n} from \"@material-ui/core\";\nimport {\n  updateDepositSliceAction,\n  updateChangeSliceAction,\n  resetNodesSpend as resetNodesSpendAction,\n  autoSelectCoins as autoSelectCoinsAction,\n} from \"../../actions/walletActions\";\nimport {\n  setInputs as setInputsAction,\n  setFeeRate as setFeeRateAction,\n  addOutput,\n  setOutputAddress,\n  updateAutoSpendAction,\n  setChangeAddressAction,\n  finalizeOutputs as finalizeOutputsAction,\n  SPEND_STEP_CREATE,\n  SPEND_STEP_PREVIEW,\n  SPEND_STEP_SIGN,\n  setSpendStep as setSpendStepAction,\n  deleteChangeOutput as deleteChangeOutputAction,\n} from \"../../actions/transactionActions\";\nimport { naiveCoinSelection } from \"../../utils\";\nimport NodeSet from \"./NodeSet\";\nimport OutputsForm from \"../ScriptExplorer/OutputsForm\";\nimport WalletSign from \"./WalletSign\";\nimport TransactionPreview from \"./TransactionPreview\";\nimport { bigNumberPropTypes } from \"../../proptypes/utils\";\n\nclass WalletSpend extends React.Component {\n  outputsAmount = new BigNumber(0);\n\n  coinSelection = naiveCoinSelection;\n\n  feeAmount = new BigNumber(0);\n\n  componentDidUpdate = (prevProps) => {\n    const { finalizedOutputs } = this.props;\n    if (finalizedOutputs && !prevProps.finalizedOutputs) {\n      this.showPreview();\n    }\n  };\n\n  previewDisabled = () => {\n    const {\n      finalizedOutputs,\n      outputs,\n      feeRateError,\n      feeError,\n      inputs,\n      balanceError,\n      autoSpend,\n    } = this.props;\n\n    if (inputs.length === 0 && !autoSpend) return true;\n    if (finalizedOutputs || feeRateError || feeError || balanceError) {\n      return true;\n    }\n    for (let i = 0; i < outputs.length; i += 1) {\n      const output = outputs[i];\n      if (\n        output.address === \"\" ||\n        output.amount === \"\" ||\n        output.addressError !== \"\" ||\n        output.amountError !== \"\"\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  showSignTransaction = () => {\n    const { setSpendStep } = this.props;\n    setSpendStep(SPEND_STEP_SIGN);\n  };\n\n  handleShowPreview = () => {\n    const { autoSelectCoins, autoSpend, finalizeOutputs } = this.props;\n    if (autoSpend) autoSelectCoins();\n    else finalizeOutputs(true);\n  };\n\n  showPreview = () => {\n    const { setSpendStep } = this.props;\n    setSpendStep(SPEND_STEP_PREVIEW);\n  };\n\n  showCreate = () => {\n    const {\n      finalizeOutputs,\n      setSpendStep,\n      resetNodesSpend,\n      deleteChangeOutput,\n    } = this.props;\n    setSpendStep(SPEND_STEP_CREATE);\n    finalizeOutputs(false);\n\n    // for auto spend view, user doesn't have direct knowledge of\n    // input nodes and change. So when going back to edit a transaction\n    // we want to clear these from the state, since these are added automatically\n    // when going from output form to transaction preview\n\n    // for manual spend view, we don't store which utxo is selected right now\n    // So when going back to edit a transaction we want to clear everything\n    // from the state so that there are no surprises\n    resetNodesSpend();\n    deleteChangeOutput();\n  };\n\n  handleSpendMode = (event) => {\n    const { updateAutoSpend, resetNodesSpend, deleteChangeOutput } = this.props;\n    updateAutoSpend(!event.target.checked);\n    resetNodesSpend();\n    deleteChangeOutput();\n  };\n\n  render() {\n    const {\n      autoSpend,\n      changeAddress,\n      changeNode,\n      updateNode,\n      addNode,\n      spendingStep,\n      fee,\n      feeRate,\n      inputs,\n      inputsTotalSats,\n      outputs,\n    } = this.props;\n\n    return (\n      <Card>\n        <CardContent>\n          <Grid container>\n            {spendingStep === SPEND_STEP_SIGN && (\n              <Grid item md={12}>\n                <Box>\n                  <WalletSign />\n                </Box>\n              </Grid>\n            )}\n            {spendingStep === SPEND_STEP_CREATE && (\n              <Grid item md={12}>\n                <Grid container direction=\"row-reverse\">\n                  <Box display=\"flex-end\">\n                    <Box p={1}>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={!autoSpend}\n                            onChange={this.handleSpendMode}\n                          />\n                        }\n                        label=\"Manual\"\n                      />\n                    </Box>\n                  </Box>\n                </Grid>\n                <Box component=\"div\" display={autoSpend ? \"none\" : \"block\"}>\n                  <NodeSet addNode={addNode} updateNode={updateNode} />\n                </Box>\n                <OutputsForm />\n                <Box mt={2}>\n                  <Button\n                    onClick={this.handleShowPreview}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    disabled={this.previewDisabled()}\n                  >\n                    Preview Transaction\n                  </Button>\n                </Box>\n              </Grid>\n            )}\n            {spendingStep === SPEND_STEP_PREVIEW && (\n              <Grid item md={12}>\n                <Box mt={3}>\n                  <TransactionPreview\n                    changeAddress={changeAddress}\n                    changeNode={changeNode}\n                    editTransaction={this.showCreate}\n                    fee={fee}\n                    feeRate={feeRate}\n                    inputs={inputs}\n                    inputsTotalSats={inputsTotalSats}\n                    outputs={outputs}\n                    handleSignTransaction={() => this.showSignTransaction()}\n                  />\n                </Box>\n              </Grid>\n            )}\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nWalletSpend.propTypes = {\n  addNode: PropTypes.func.isRequired,\n  autoSpend: PropTypes.bool,\n  autoSelectCoins: PropTypes.func.isRequired,\n  balanceError: PropTypes.string,\n  changeNode: PropTypes.shape({\n    multisig: PropTypes.shape({\n      address: PropTypes.string,\n    }),\n  }).isRequired,\n  changeNodes: PropTypes.shape({}),\n  changeAddress: PropTypes.string.isRequired,\n  deleteChangeOutput: PropTypes.func.isRequired,\n  depositNodes: PropTypes.shape({}),\n  fee: PropTypes.string.isRequired,\n  feeError: PropTypes.string,\n  feeRate: PropTypes.string.isRequired,\n  feeRateError: PropTypes.string,\n  finalizeOutputs: PropTypes.func.isRequired,\n  finalizedOutputs: PropTypes.bool,\n  inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  inputsTotalSats: PropTypes.shape(bigNumberPropTypes).isRequired,\n  outputs: PropTypes.arrayOf(\n    PropTypes.shape({\n      address: PropTypes.string,\n      amount: PropTypes.string,\n      addressError: PropTypes.string,\n      amountError: PropTypes.string,\n    })\n  ).isRequired,\n  resetNodesSpend: PropTypes.func.isRequired,\n  setSpendStep: PropTypes.func.isRequired,\n  spendingStep: PropTypes.number,\n  updateAutoSpend: PropTypes.func.isRequired,\n  updateNode: PropTypes.func.isRequired,\n};\n\nWalletSpend.defaultProps = {\n  autoSpend: false,\n  balanceError: null,\n  changeNodes: {},\n  depositNodes: {},\n  finalizedOutputs: false,\n  feeError: null,\n  feeRateError: null,\n  spendingStep: 0,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.spend.transaction,\n    changeNodes: state.wallet.change.nodes,\n    changeNode: state.wallet.change.nextNode,\n    depositNodes: state.wallet.deposits.nodes,\n    autoSpend: state.spend.transaction.autoSpend,\n  };\n}\n\nconst mapDispatchToProps = {\n  autoSelectCoins: autoSelectCoinsAction,\n  deleteChangeOutput: deleteChangeOutputAction,\n  updateAutoSpend: updateAutoSpendAction,\n  setInputs: setInputsAction,\n  updateChangeSlice: updateChangeSliceAction,\n  updateDepositSlice: updateDepositSliceAction,\n  setAddress: setOutputAddress,\n  resetNodesSpend: resetNodesSpendAction,\n  setFeeRate: setFeeRateAction,\n  addOutput,\n  finalizeOutputs: finalizeOutputsAction,\n  setChangeAddress: setChangeAddressAction,\n  setSpendStep: setSpendStepAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletSpend);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport {\n  Box,\n  Card,\n  CardContent,\n  Checkbox,\n  FormControlLabel,\n  FormGroup,\n  FormLabel,\n  Grid,\n} from \"@material-ui/core\";\nimport {\n  getSlicesWithBalance,\n  getZeroBalanceSlices,\n  getSpentSlices,\n} from \"../../selectors/wallet\";\nimport { slicePropTypes, clientPropTypes } from \"../../proptypes\";\n\n// Components\nimport SlicesTable from \"./SlicesTable\";\n\nclass SlicesTableContainer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterIncludeSpent: false,\n      filterIncludeZeroBalance: false,\n      displaySlices: props.slicesWithBalance.length\n        ? [...props.slicesWithBalance]\n        : [],\n    };\n  }\n\n  componentDidUpdate(newProps) {\n    const { slicesWithBalance } = this.props;\n    if (newProps.slicesWithBalance.length !== slicesWithBalance.length) {\n      this.setDisplaySlices();\n    }\n  }\n\n  setDisplaySlices() {\n    const { slicesWithBalance, zeroBalanceSlices, spentSlices } = this.props;\n    const { filterIncludeSpent, filterIncludeZeroBalance } = this.state;\n    const newDisplaySlices = [...slicesWithBalance];\n    if (filterIncludeSpent) {\n      newDisplaySlices.push(...spentSlices);\n    }\n    if (filterIncludeZeroBalance) {\n      newDisplaySlices.push(...zeroBalanceSlices);\n    }\n    this.setState({ displaySlices: newDisplaySlices });\n  }\n\n  filterAddresses = (event, checked) => {\n    this.setState({ [event.target.value]: checked }, () =>\n      this.setDisplaySlices()\n    );\n  };\n\n  render() {\n    const { filterIncludeSpent, filterIncludeZeroBalance, displaySlices } =\n      this.state;\n    const { client, network } = this.props;\n\n    return (\n      <Card>\n        <CardContent>\n          <Grid container direction=\"column\">\n            <Grid item>\n              <SlicesTable\n                slices={displaySlices}\n                client={client}\n                network={network}\n                paging\n              />\n            </Grid>\n            <Grid item>\n              <FormGroup row>\n                <FormLabel component=\"h2\">\n                  <Box mr={3}>Show Additional</Box>\n                </FormLabel>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={filterIncludeSpent}\n                      value=\"filterIncludeSpent\"\n                      onChange={this.filterAddresses}\n                    />\n                  }\n                  label=\"Spent Addresses\"\n                />\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={filterIncludeZeroBalance}\n                      value=\"filterIncludeZeroBalance\"\n                      onChange={this.filterAddresses}\n                    />\n                  }\n                  label=\"Zero Balance\"\n                />\n              </FormGroup>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nSlicesTableContainer.propTypes = {\n  slicesWithBalance: PropTypes.arrayOf(PropTypes.shape(slicePropTypes))\n    .isRequired,\n  zeroBalanceSlices: PropTypes.arrayOf(PropTypes.shape(slicePropTypes))\n    .isRequired,\n  spentSlices: PropTypes.arrayOf(PropTypes.shape(slicePropTypes)).isRequired,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n  network: PropTypes.string.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    slicesWithBalance: getSlicesWithBalance(state),\n    zeroBalanceSlices: getZeroBalanceSlices(state),\n    spentSlices: getSpentSlices(state),\n    walletMode: state.wallet.common.walletMode,\n    client: state.client,\n    network: state.settings.network,\n  };\n}\n\nexport default connect(mapStateToProps)(SlicesTableContainer);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  Tabs,\n  Tab,\n  Box,\n  LinearProgress,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {\n  setWalletModeAction as setWalletModeActionImport,\n  WALLET_MODES,\n} from \"../../actions/walletActions\";\nimport { setRequiredSigners as setRequiredSignersAction } from \"../../actions/transactionActions\";\nimport { MAX_FETCH_UTXOS_ERRORS, MAX_TRAILING_EMPTY_NODES } from \"./constants\";\nimport WalletDeposit from \"./WalletDeposit\";\nimport WalletSpend from \"./WalletSpend\";\nimport { SlicesTableContainer } from \"../Slices\";\n\nclass WalletControl extends React.Component {\n  scrollRef = React.createRef();\n\n  componentDidMount = () => {\n    this.scrollRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  render = () => {\n    const { walletMode } = this.props;\n    return (\n      <div>\n        <Tabs\n          ref={this.scrollRef}\n          value={walletMode}\n          onChange={this.handleModeChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          {this.addressesAreLoaded() && [\n            <Tab label=\"Addresses\" value={WALLET_MODES.VIEW} key={0} />,\n            <Tab label=\"Receive\" value={WALLET_MODES.DEPOSIT} key={1} />,\n            <Tab label=\"Send\" value={WALLET_MODES.SPEND} key={2} />,\n          ]}\n        </Tabs>\n        <Box mt={2}>{this.renderModeComponent()}</Box>\n      </div>\n    );\n  };\n\n  renderModeComponent = () => {\n    const { walletMode, addNode, updateNode } = this.props;\n    if (this.addressesAreLoaded()) {\n      if (walletMode === WALLET_MODES.DEPOSIT) return <WalletDeposit />;\n      if (walletMode === WALLET_MODES.SPEND)\n        return <WalletSpend addNode={addNode} updateNode={updateNode} />;\n      if (walletMode === WALLET_MODES.VIEW) return <SlicesTableContainer />;\n    }\n    const progress = this.progress();\n    return [\n      <div style={{ textAlign: \"center\", marginBottom: \"5em\" }} key={0}>\n        <CircularProgress variant=\"indeterminate\" />\n      </div>,\n      <LinearProgress variant=\"determinate\" value={progress} key={1} />,\n    ];\n  };\n\n  progress = () => {\n    const { change, deposits } = this.props;\n    return (\n      (100 * (deposits.trailingEmptyNodes + change.trailingEmptyNodes)) /\n      (2 * MAX_TRAILING_EMPTY_NODES)\n    );\n  };\n\n  addressesAreLoaded = () => {\n    const { change, deposits, nodesLoaded } = this.props;\n    if (nodesLoaded) return true;\n    return (\n      (deposits.trailingEmptyNodes >= MAX_TRAILING_EMPTY_NODES ||\n        deposits.fetchUTXOsErrors >= MAX_FETCH_UTXOS_ERRORS) &&\n      (change.trailingEmptyNodes >= MAX_TRAILING_EMPTY_NODES ||\n        change.fetchUTXOsErrors >= MAX_FETCH_UTXOS_ERRORS)\n    );\n  };\n\n  handleModeChange = (_event, mode) => {\n    const { setMode, requiredSigners, setRequiredSigners, signatureImporters } =\n      this.props;\n    if (\n      mode === WALLET_MODES.SPEND &&\n      Object.keys(signatureImporters).length !== requiredSigners\n    ) {\n      setRequiredSigners(requiredSigners); // this will generate signature importers\n    }\n    setMode(mode);\n  };\n}\n\nWalletControl.propTypes = {\n  addNode: PropTypes.func.isRequired,\n  change: PropTypes.shape({\n    trailingEmptyNodes: PropTypes.number,\n    fetchUTXOsErrors: PropTypes.number,\n  }).isRequired,\n  deposits: PropTypes.shape({\n    trailingEmptyNodes: PropTypes.number,\n    fetchUTXOsErrors: PropTypes.number,\n  }).isRequired,\n  nodesLoaded: PropTypes.bool.isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  setMode: PropTypes.func.isRequired,\n  setRequiredSigners: PropTypes.func.isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n  updateNode: PropTypes.func.isRequired,\n  walletMode: PropTypes.number.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.wallet,\n    ...state.wallet.common,\n    requiredSigners: state.spend.transaction.requiredSigners,\n    signatureImporters: state.spend.signatureImporters,\n  };\n}\n\nconst mapDispatchToProps = {\n  setMode: setWalletModeActionImport,\n  setRequiredSigners: setRequiredSignersAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletControl);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport { CARAVAN_CONFIG } from \"./constants\";\n\nconst WalletConfigInteractionButtons = ({ onClearFn, onDownloadFn }) => {\n  const handleClearClick = (e) => {\n    e.preventDefault();\n    if (sessionStorage) sessionStorage.removeItem(CARAVAN_CONFIG);\n    onClearFn(e);\n  };\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item>\n        <Button variant=\"contained\" color=\"primary\" onClick={onDownloadFn}>\n          Download Wallet Details\n        </Button>\n      </Grid>\n      <Grid item>\n        <Button\n          onClick={(e) => handleClearClick(e)}\n          variant=\"contained\"\n          color=\"secondary\"\n        >\n          Clear Wallet\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nWalletConfigInteractionButtons.propTypes = {\n  onClearFn: PropTypes.func.isRequired,\n  onDownloadFn: PropTypes.func.isRequired,\n};\n\nexport default WalletConfigInteractionButtons;\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME\";\nexport const RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE =\n  \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE\";\n\nexport const {\n  setExtendedPublicKeyImporterName,\n  setExtendedPublicKeyImporterBIP32Path,\n  resetExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKeyImporterExtendedPublicKey,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,\n  setExtendedPublicKeyImporterFinalized,\n} = wrappedNumberedActions({\n  setExtendedPublicKeyImporterName: SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME,\n  resetExtendedPublicKeyImporterBIP32Path:\n    RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setExtendedPublicKeyImporterBIP32Path:\n    SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setExtendedPublicKeyImporterMethod: SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD,\n  setExtendedPublicKeyImporterExtendedPublicKey:\n    SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:\n    SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT,\n  setExtendedPublicKeyImporterFinalized:\n    SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED,\n});\n\nexport function setExtendedPublicKeyImporterVisible(value) {\n  return {\n    type: SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE,\n    value,\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { debounce } from \"lodash\";\nimport {\n  deriveMultisigByPath,\n  ExtendedPublicKey,\n  generateBraid,\n} from \"unchained-bitcoin\";\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardContent,\n  InputAdornment,\n  Grid,\n  TextField,\n  FormHelperText,\n  Typography,\n  Box,\n} from \"@material-ui/core\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport {\n  fetchAddressUTXOs,\n  getAddressStatus,\n  fetchFeeEstimate,\n} from \"../../blockchain\";\nimport ClientPicker from \"../ClientPicker\";\nimport ConfirmWallet from \"./ConfirmWallet\";\nimport WalletControl from \"./WalletControl\";\nimport WalletConfigInteractionButtons from \"./WalletConfigInteractionButtons\";\nimport { setFrozen } from \"../../actions/settingsActions\";\nimport {\n  updateDepositSliceAction,\n  updateChangeSliceAction,\n  resetNodesFetchErrors as resetNodesFetchErrorsAction,\n  resetWallet as resetWalletAction,\n  initialLoadComplete as initialLoadCompleteAction,\n} from \"../../actions/walletActions\";\nimport { fetchSliceData as fetchSliceDataAction } from \"../../actions/braidActions\";\nimport { setExtendedPublicKeyImporterVisible } from \"../../actions/extendedPublicKeyImporterActions\";\nimport { setIsWallet as setIsWalletAction } from \"../../actions/transactionActions\";\nimport { wrappedActions } from \"../../actions/utils\";\nimport {\n  SET_CLIENT_PASSWORD,\n  SET_CLIENT_PASSWORD_ERROR,\n} from \"../../actions/clientActions\";\nimport { MAX_FETCH_UTXOS_ERRORS, MAX_TRAILING_EMPTY_NODES } from \"./constants\";\n\n// const bitcoin = require('bitcoinjs-lib');\n\nclass WalletGenerator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      connectSuccess: false,\n      unknownClient: false,\n    };\n  }\n\n  componentDidMount() {\n    const {\n      refreshNodes,\n      common: { nodesLoaded },\n      setGenerating,\n    } = this.props;\n    this.debouncedTestConnection = debounce(\n      (args) => this.testConnection(args),\n      500,\n      { trailing: true, leading: false }\n    );\n    refreshNodes(this.refreshNodes);\n    if (nodesLoaded) setGenerating(true);\n  }\n\n  async componentDidUpdate(prevProps) {\n    const prevPassword = prevProps.client.password;\n    const {\n      setPasswordError,\n      network,\n      client,\n      common: { nodesLoaded },\n      setIsWallet,\n      configuring,\n    } = this.props;\n    const { unknownClient } = this.state;\n    if (client.type === \"unknown\" && prevProps.client.type === \"public\") {\n      this.setState({ unknownClient: true }); // eslint-disable-line react/no-did-update-set-state\n    } else if (configuring && client.type !== \"unknown\" && unknownClient) {\n      // re-initializes the state if we're in the configuring stage.\n      // catches situation where wallet is cleared and new one is added\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ unknownClient: false });\n    }\n    // if the password was updated\n    if (prevPassword !== client.password && client.password.length) {\n      // test the connection using the set password\n      // but only if the password field hasn't been changed for 500ms\n      this.debouncedTestConnection({ network, client, setPasswordError });\n    }\n\n    // make sure the spend view knows it's a wallet view once nodes\n    // are loaded\n    if (!prevProps.common.nodesLoaded && nodesLoaded) setIsWallet();\n  }\n\n  title = () => {\n    const { totalSigners, requiredSigners, addressType } = this.props;\n    return (\n      <span className=\"justify-content-between d-flex\">\n        Your {requiredSigners}\n        -of-\n        {totalSigners} {addressType} Multisig Wallet\n        <small className=\"text-muted\">{` Extended Public Keys: ${this.extendedPublicKeyCount()}/${totalSigners}`}</small>\n      </span>\n    );\n  };\n\n  testConnection = async ({ network, client, setPasswordError }, cb) => {\n    try {\n      await fetchFeeEstimate(network, client);\n      setPasswordError(\"\");\n      this.setState({ connectSuccess: true }, () => {\n        // if testConnection was passed a callback\n        // we call that after a successful test, which\n        // in this case generates the wallet\n        if (cb) setTimeout(cb, 750);\n      });\n    } catch (e) {\n      this.setState({ connectSuccess: false });\n      if (e.response && e.response.status === 401)\n        setPasswordError(\n          \"Unauthorized: Incorrect username and password combination\"\n        );\n      else setPasswordError(e.message);\n    }\n  };\n\n  extendedPublicKeyCount = () => {\n    const { extendedPublicKeyImporters } = this.props;\n    return Object.values(extendedPublicKeyImporters).filter(\n      (extendedPublicKeyImporter) => extendedPublicKeyImporter.finalized\n    ).length;\n  };\n\n  toggleImporters = (event, clear) => {\n    event.preventDefault();\n    const {\n      setImportersVisible,\n      configuring,\n      resetWallet,\n      initialLoadComplete,\n      setGenerating,\n    } = this.props;\n\n    if (!configuring) {\n      setGenerating(false);\n      if (clear) resetWallet();\n      if (!clear) initialLoadComplete();\n    }\n\n    setImportersVisible(!configuring);\n  };\n\n  generate = () => {\n    const { setImportersVisible, freeze, setGenerating, startingAddressIndex } =\n      this.props;\n    const startingDepositBIP32Suffix = `m/0/${startingAddressIndex}`;\n    const startingChangeBIP32Suffix = `m/1/${startingAddressIndex}`;\n    freeze(true);\n    setImportersVisible(false);\n    setGenerating(true);\n    this.setState({ connectSuccess: false }, () => {\n      this.addNode(false, startingDepositBIP32Suffix, true);\n      this.addNode(true, startingChangeBIP32Suffix, true);\n    });\n  };\n\n  updateNode = (isChange, update) => {\n    const { updateChangeSlice, updateDepositSlice } = this.props;\n    const updater = isChange ? updateChangeSlice : updateDepositSlice;\n    updater(update);\n  };\n\n  addNode = async (isChange, bip32Path, attemptToKeepGenerating) => {\n    const multisigUpdates = await this.generateMultisig(\n      isChange,\n      bip32Path,\n      attemptToKeepGenerating\n    );\n    this.updateNode(isChange, { bip32Path, ...multisigUpdates });\n  };\n\n  generateMultisig = async (isChange, bip32Path, attemptToKeepGenerating) => {\n    const {\n      extendedPublicKeyImporters,\n      network,\n      addressType,\n      requiredSigners,\n    } = this.props;\n\n    const extendedPublicKeys = this.generateRichExtendedPublicKeys(\n      extendedPublicKeyImporters\n    );\n    const index = isChange ? \"1\" : \"0\";\n    const braid = generateBraid(\n      network,\n      addressType,\n      extendedPublicKeys,\n      requiredSigners,\n      index\n    );\n    const multisig = deriveMultisigByPath(braid, bip32Path);\n\n    // FIXME: Add regtest option for private node, if you're on regtest have to change the prefix for p2wsh addresses.\n    // if (true) {\n    //   const multisigAddress = bitcoin.address.fromBech32(multisig.address);\n    //   multisig.address = bitcoin.address.toBech32(multisigAddress.data, multisigAddress.version, 'bcrt');\n    // }\n    const utxoUpdates = await this.fetchUTXOs(\n      isChange,\n      multisig,\n      attemptToKeepGenerating\n    );\n    return { multisig, ...utxoUpdates };\n  };\n\n  fetchUTXOs = async (isChange, multisig, attemptToKeepGenerating) => {\n    const { network, client } = this.props;\n    let addressStatus;\n    let updates = await fetchAddressUTXOs(multisig.address, network, client);\n\n    // only check for address status if there weren't any errors\n    // fetching the utxos for the address\n    if (updates && !updates.fetchUTXOsError.length)\n      addressStatus = await getAddressStatus(multisig.address, network, client);\n\n    if (addressStatus) {\n      updates = { ...updates, addressUsed: addressStatus.used };\n    }\n\n    if (attemptToKeepGenerating) {\n      setTimeout(() => this.generateNextNodeIfNecessary(isChange));\n    }\n    return updates;\n  };\n\n  generateNextNodeIfNecessary = (isChange) => {\n    const { change, deposits, initialLoadComplete } = this.props;\n    const { trailingEmptyNodes } = isChange ? change : deposits;\n    const { fetchUTXOsErrors } = isChange ? change : deposits;\n    const allBIP32Paths = Object.keys((isChange ? change : deposits).nodes);\n    if (\n      trailingEmptyNodes >= MAX_TRAILING_EMPTY_NODES ||\n      fetchUTXOsErrors >= MAX_FETCH_UTXOS_ERRORS\n    ) {\n      initialLoadComplete();\n      return;\n    }\n\n    allBIP32Paths.sort((p1, p2) => {\n      const p1Segments = (p1 || \"\").split(\"/\");\n      const p2Segments = (p2 || \"\").split(\"/\");\n      const p1Index = parseInt(p1Segments[2], 10);\n      const p2Index = parseInt(p2Segments[2], 10);\n      return p1Index - p2Index;\n    });\n    const pathSegments = (allBIP32Paths[allBIP32Paths.length - 1] || \"\").split(\n      \"/\"\n    ); // m, 0, 1\n    const maxIndex = parseInt(pathSegments[2], 10);\n    const nextBIP32Path = `m/${pathSegments[1]}/${maxIndex + 1}`;\n    // Similar to above, we wrap the call to add the next node with\n    // setTimeout with a timeout of zero to allow React time to\n    // render.\n    setTimeout(() => this.addNode(isChange, nextBIP32Path, true));\n  };\n\n  refreshNodes = async () => {\n    const { change, deposits, resetNodesFetchErrors } = this.props;\n    const allNodes = Object.values(deposits.nodes).concat(\n      Object.values(change.nodes)\n    );\n    const previousFetchErrors = Math.max(\n      change.fetchUTXOsErrors,\n      deposits.fetchUTXOsErrors\n    );\n\n    resetNodesFetchErrors();\n    await Promise.all(\n      allNodes.map(async (node) => {\n        const utxos = await this.fetchUTXOs(node.change, node.multisig);\n        this.updateNode(node.change, { bip32Path: node.bip32Path, ...utxos });\n      })\n    );\n\n    if (previousFetchErrors >= MAX_FETCH_UTXOS_ERRORS) {\n      const currentFetchErrors = Math.max(\n        change.fetchUTXOsErrors,\n        deposits.fetchUTXOsErrors\n      );\n      if (currentFetchErrors < 5) {\n        // eslint-disable-next-line no-console\n        console.log(\"we had errors but now looks good, try to build more\");\n      }\n    }\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  generateRichExtendedPublicKeys(extendedPublicKeyImporters) {\n    return Object.values(extendedPublicKeyImporters).map((importer) => {\n      const extendedPublicKey = ExtendedPublicKey.fromBase58(\n        importer.extendedPublicKey\n      );\n      extendedPublicKey.setRootFingerprint(\n        importer.rootXfp && !importer.rootXfp.toLowerCase().includes(\"unknown\")\n          ? importer.rootXfp\n          : \"00000000\"\n      );\n      extendedPublicKey.setBip32Path(\n        importer.bip32Path &&\n          !importer.bip32Path.toLowerCase().includes(\"unknown\")\n          ? importer.bip32Path\n          : `m${\"/0\".repeat(extendedPublicKey.depth)}`\n      );\n      extendedPublicKey.addBase58String();\n      return extendedPublicKey;\n    });\n  }\n\n  async handlePasswordEnter(event) {\n    event.preventDefault();\n    this.debouncedTestConnection.cancel();\n    await this.testConnection(this.props, this.generate);\n  }\n\n  async handlePasswordChange(event) {\n    event.preventDefault();\n    const { setPassword, setPasswordError } = this.props;\n    const password = event.target.value;\n    this.setState({ connectSuccess: false }, () => {\n      setPassword(password);\n      setPasswordError(\"\");\n    });\n  }\n\n  body() {\n    const {\n      totalSigners,\n      configuring,\n      downloadWalletDetails,\n      client,\n      generating,\n      extendedPublicKeyImporters,\n    } = this.props;\n    const { connectSuccess, unknownClient } = this.state;\n    const hasConflict = Object.values(extendedPublicKeyImporters).some(\n      (xpub) => xpub.conflict\n    );\n    if (this.extendedPublicKeyCount() === totalSigners) {\n      if (generating && !configuring) {\n        return (\n          <WalletControl addNode={this.addNode} updateNode={this.updateNode} />\n        );\n      }\n      if (!hasConflict) {\n        return (\n          <Card>\n            <CardHeader title={this.title()} />\n            <CardContent>\n              <Button href=\"#\" onClick={(e) => this.toggleImporters(e, false)}>\n                {configuring ? \"Hide Key Selection\" : \"Edit Details\"}\n              </Button>\n              <ConfirmWallet />\n              <p>\n                You have imported all&nbsp;\n                {totalSigners} extended public keys. You will need to save this\n                information.\n              </p>\n              <WalletConfigInteractionButtons\n                onClearFn={(e) => this.toggleImporters(e, true)}\n                onDownloadFn={downloadWalletDetails}\n              />\n              {unknownClient && (\n                <Box my={5}>\n                  <Typography variant=\"subtitle1\">\n                    This config does not contain client information. Please\n                    choose a client to connect to before importing your wallet.\n                  </Typography>\n                  <ClientPicker\n                    onSuccess={() => this.setState({ connectSuccess: true })}\n                  />\n                </Box>\n              )}\n              {client.type === \"private\" && !unknownClient && (\n                <Box my={5}>\n                  <Grid container spacing={2} alignItems=\"center\">\n                    <Grid item xs={12}>\n                      <Typography variant=\"subtitle1\">\n                        This config uses a private client. Please enter password\n                        if not set.\n                      </Typography>\n                    </Grid>\n                    <Grid item>\n                      <TextField\n                        id=\"client-username\"\n                        label=\"Username\"\n                        defaultValue={client.username}\n                        InputProps={{\n                          readOnly: true,\n                          disabled: true,\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <AccountCircleIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </Grid>\n                    <Grid item md={4} xs={10}>\n                      <form\n                        onSubmit={(event) => this.handlePasswordEnter(event)}\n                      >\n                        <TextField\n                          id=\"bitcoind-password\"\n                          fullWidth\n                          type=\"password\"\n                          label=\"Password\"\n                          placeholder=\"Enter bitcoind password\"\n                          value={client.password}\n                          onChange={(event) => this.handlePasswordChange(event)}\n                          error={client.passwordError.length > 0}\n                          helperText={client.passwordError}\n                        />\n                        {connectSuccess && (\n                          <FormHelperText>\n                            Connection confirmed with password!\n                          </FormHelperText>\n                        )}\n                      </form>\n                    </Grid>\n                  </Grid>\n                </Box>\n              )}\n              <p>\n                Please confirm that the above information is correct and you\n                wish to generate your wallet.\n              </p>\n              <Button\n                id=\"confirm-wallet\"\n                type=\"button\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.generate}\n                disabled={client.type !== \"public\" && !connectSuccess}\n              >\n                Confirm\n              </Button>\n            </CardContent>\n          </Card>\n        );\n      }\n      return (\n        <p>You must correct the conflict before the wallet can be generated.</p>\n      );\n    }\n    return (\n      <p>\n        {`Once you have imported all ${totalSigners} extended public keys, `}\n        {\"your wallet will be generated here.\"}\n        {hasConflict &&\n          ` You will not be able to continue until you address the conflict.`}\n      </p>\n    );\n  }\n\n  render() {\n    return <div>{this.body()}</div>;\n  }\n}\n\nWalletGenerator.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  change: PropTypes.shape({\n    nodes: PropTypes.shape({}),\n    fetchUTXOsErrors: PropTypes.number,\n  }).isRequired,\n  client: PropTypes.shape({\n    password: PropTypes.string,\n    passwordError: PropTypes.string,\n    type: PropTypes.string,\n    username: PropTypes.string,\n  }).isRequired,\n  common: PropTypes.shape({\n    nodesLoaded: PropTypes.bool,\n  }).isRequired,\n  configuring: PropTypes.bool.isRequired,\n  deposits: PropTypes.shape({\n    nodes: PropTypes.shape({}),\n    fetchUTXOsErrors: PropTypes.number,\n  }).isRequired,\n  downloadWalletDetails: PropTypes.func.isRequired,\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n  freeze: PropTypes.func.isRequired,\n  generating: PropTypes.bool.isRequired,\n  initialLoadComplete: PropTypes.func.isRequired,\n  network: PropTypes.string.isRequired,\n  setGenerating: PropTypes.func.isRequired,\n  startingAddressIndex: PropTypes.number.isRequired,\n  refreshNodes: PropTypes.func.isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  resetNodesFetchErrors: PropTypes.func.isRequired,\n  resetWallet: PropTypes.func.isRequired,\n  setImportersVisible: PropTypes.func.isRequired,\n  setIsWallet: PropTypes.func.isRequired,\n  setPassword: PropTypes.func.isRequired,\n  setPasswordError: PropTypes.func.isRequired,\n  totalSigners: PropTypes.number.isRequired,\n  updateChangeSlice: PropTypes.func.isRequired,\n  updateDepositSlice: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...{ client: state.client },\n    ...state.quorum,\n    ...state.wallet,\n    ...state.wallet.common,\n  };\n}\n\nconst mapDispatchToProps = {\n  freeze: setFrozen,\n  updateDepositSlice: updateDepositSliceAction,\n  updateChangeSlice: updateChangeSliceAction,\n  fetchSliceData: fetchSliceDataAction,\n  setImportersVisible: setExtendedPublicKeyImporterVisible,\n  setIsWallet: setIsWalletAction,\n  resetWallet: resetWalletAction,\n  resetNodesFetchErrors: resetNodesFetchErrorsAction,\n  ...wrappedActions({\n    setPassword: SET_CLIENT_PASSWORD,\n    setPasswordError: SET_CLIENT_PASSWORD_ERROR,\n  }),\n  initialLoadComplete: initialLoadCompleteAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletGenerator);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  UNSUPPORTED,\n  PENDING,\n  ACTIVE,\n  ERROR,\n  ExportExtendedPublicKey,\n} from \"unchained-wallets\";\nimport {\n  Button,\n  TextField,\n  FormHelperText,\n  Box,\n  Grid,\n} from \"@material-ui/core\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass DirectExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      extendedPublicKeyError: \"\",\n      status: this.interaction().isSupported() ? PENDING : UNSUPPORTED,\n    };\n  }\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n  };\n\n  interaction = () => {\n    const { network, extendedPublicKeyImporter } = this.props;\n    return ExportExtendedPublicKey({\n      network,\n      keystore: extendedPublicKeyImporter.method,\n      bip32Path: extendedPublicKeyImporter.bip32Path,\n      includeXFP: true,\n    });\n  };\n\n  render = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    const { status, extendedPublicKeyError } = this.state;\n    const interaction = this.interaction();\n    if (status === UNSUPPORTED) {\n      return (\n        <FormHelperText className=\"text-danger\">\n          {interaction.messageTextFor({ status })}\n        </FormHelperText>\n      );\n    }\n    return (\n      <Box mt={2}>\n        <Grid container>\n          <Grid item md={6}>\n            <TextField\n              fullWidth\n              label=\"BIP32 Path\"\n              value={extendedPublicKeyImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={status !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={this.bip32PathError()}\n            />\n          </Grid>\n          <Grid item md={6}>\n            {!this.bip32PathIsDefault() && (\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                size=\"small\"\n                onClick={this.resetBIP32Path}\n                disabled={status !== PENDING}\n              >\n                Default\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n        <FormHelperText>\n          Use the default value if you don&rsquo;t understand BIP32 paths.\n        </FormHelperText>\n        <Box mt={2}>\n          <Button\n            type=\"button\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={this.hasBIP32PathError() || status === ACTIVE}\n          >\n            Import Extended Public Key\n          </Button>\n        </Box>\n        <InteractionMessages\n          messages={interaction.messagesFor({ state: status })}\n        />\n        <FormHelperText error>{extendedPublicKeyError}</FormHelperText>\n      </Box>\n    );\n  };\n\n  import = async () => {\n    const {\n      validateAndSetExtendedPublicKey,\n      validateAndSetRootFingerprint,\n      enableChangeMethod,\n      disableChangeMethod,\n    } = this.props;\n    disableChangeMethod();\n    this.setState({ extendedPublicKeyError: \"\", status: ACTIVE });\n    try {\n      const result = await this.interaction().run();\n      const extendedPublicKey = result.xpub;\n      validateAndSetRootFingerprint(result.rootFingerprint, (error) => {\n        this.setState({ extendedPublicKeyError: error, status: PENDING });\n      });\n      validateAndSetExtendedPublicKey(extendedPublicKey, (error) => {\n        this.setState({ extendedPublicKeyError: error, status: PENDING });\n      });\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      this.setState({ extendedPublicKeyError: e.message, status: PENDING });\n    }\n    enableChangeMethod();\n  };\n\n  hasBIP32PathError = () => {\n    const { status } = this.state;\n    return this.interaction().hasMessagesFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  bip32PathError = () => {\n    const { status } = this.state;\n    return this.interaction().messageTextFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(\n      bip32Path,\n      () => {},\n      () => {}\n    );\n  };\n\n  bip32PathIsDefault = () => {\n    const { extendedPublicKeyImporter, defaultBIP32Path } = this.props;\n    return extendedPublicKeyImporter.bip32Path === defaultBIP32Path;\n  };\n\n  resetBIP32Path = () => {\n    const { resetBIP32Path } = this.props;\n    resetBIP32Path();\n  };\n}\n\nDirectExtendedPublicKeyImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    method: PropTypes.string,\n  }).isRequired,\n  validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetRootFingerprint: PropTypes.func.isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func.isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n};\n\nexport default DirectExtendedPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport { TextField, Box } from \"@material-ui/core\";\n\nclass TextExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: \"\",\n    };\n  }\n\n  render = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    const { error } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          name=\"publicKey\"\n          label=\"Extended Public Key\"\n          value={extendedPublicKeyImporter.extendedPublicKey}\n          onChange={this.handleChange}\n          error={this.hasError()}\n          helperText={error}\n        />\n      </Box>\n    );\n  };\n\n  hasError = () => {\n    const { error } = this.state;\n    return error !== \"\";\n  };\n\n  setError = (value) => {\n    this.setState({ error: value });\n  };\n\n  handleChange = (event) => {\n    const { validateAndSetExtendedPublicKey } = this.props;\n    validateAndSetExtendedPublicKey(event.target.value, this.setError);\n  };\n}\nTextExtendedPublicKeyImporter.propTypes = {\n  extendedPublicKeyImporter: PropTypes.shape({\n    extendedPublicKey: PropTypes.string,\n  }).isRequired,\n  validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n};\n\nexport default TextExtendedPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Typography,\n} from \"@material-ui/core\";\nimport { Warning } from \"@material-ui/icons\";\n\nconst Conflict = (props) => {\n  const { message } = props;\n\n  return (\n    <small>\n      <List>\n        <ListItem color=\"error.main\">\n          <ListItemIcon>\n            <Typography color=\"error\">\n              <Warning />\n            </Typography>\n          </ListItemIcon>\n          <ListItemText>\n            <Typography color=\"error\">{message}</Typography>\n          </ListItemText>\n        </ListItem>\n      </List>\n    </small>\n  );\n};\n\nConflict.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Conflict;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  ERROR,\n  ExportExtendedPublicKey,\n  PENDING,\n  UNSUPPORTED,\n} from \"unchained-wallets\";\nimport { FormGroup, FormHelperText } from \"@material-ui/core\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass IndirectExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: this.interaction().isSupported() ? PENDING : UNSUPPORTED,\n      extendedPublicKeyError: \"\",\n    };\n  }\n\n  // The extendedPublicKeyImporter has a \"default\" root multisig bip32path\n  // which does not work on Coldcard, so the status will be UNSUPPORTED.\n  // this gets updated almost immediately, so just fire off another isSupported()\n  // to check if we're good.\n  componentDidUpdate() {\n    const { status } = this.state;\n    if (status !== PENDING && this.interaction().isSupported()) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ status: PENDING });\n    }\n  }\n\n  interaction = () => {\n    const { network, extendedPublicKeyImporter } = this.props;\n    return new ExportExtendedPublicKey({\n      keystore: extendedPublicKeyImporter.method,\n      bip32Path: extendedPublicKeyImporter.bip32Path,\n      network,\n      includeXFP: true,\n    });\n  };\n\n  render = () => {\n    const {\n      Reader,\n      disableChangeMethod,\n      resetBIP32Path,\n      extendedPublicKeyImporter,\n    } = this.props;\n    const { status, extendedPublicKeyError } = this.state;\n    return (\n      <FormGroup>\n        <Reader\n          setError={this.setError}\n          hasError={this.hasBIP32PathError()}\n          errorMessage={this.bip32PathError()}\n          bip32PathIsDefault={this.bip32PathIsDefault}\n          handleBIP32PathChange={this.handleBIP32PathChange}\n          resetBIP32Path={resetBIP32Path}\n          onReceive={this.onReceive}\n          interaction={this.interaction()}\n          disableChangeMethod={disableChangeMethod}\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n        />\n        <InteractionMessages\n          messages={this.interaction().messagesFor({ state: status })}\n          excludeCodes={[\"bip32\"]}\n        />\n        <FormHelperText error>{extendedPublicKeyError}</FormHelperText>\n      </FormGroup>\n    );\n  };\n\n  hasBIP32PathError = () => {\n    const { status } = this.state;\n    return this.interaction().hasMessagesFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  bip32PathError = () => {\n    const { status } = this.state;\n    return this.interaction().messageTextFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(\n      bip32Path,\n      () => {},\n      () => {}\n    );\n  };\n\n  bip32PathIsDefault = () => {\n    const { extendedPublicKeyImporter, defaultBIP32Path } = this.props;\n    return extendedPublicKeyImporter.bip32Path === defaultBIP32Path;\n  };\n\n  resetBIP32Path = () => {\n    const { resetBIP32Path } = this.props;\n    resetBIP32Path();\n  };\n\n  setError = (value) => {\n    this.setState({ extendedPublicKeyError: value });\n  };\n\n  onReceive = (data) => {\n    const {\n      validateAndSetBIP32Path,\n      validateAndSetExtendedPublicKey,\n      validateAndSetRootFingerprint,\n      enableChangeMethod,\n    } = this.props;\n    if (enableChangeMethod) {\n      enableChangeMethod();\n    }\n    try {\n      const { xpub, bip32Path, rootFingerprint } =\n        this.interaction().parse(data);\n      validateAndSetRootFingerprint(rootFingerprint, this.setError);\n      validateAndSetBIP32Path(\n        bip32Path,\n        () => {\n          validateAndSetExtendedPublicKey(xpub, this.setError);\n        },\n        this.setError\n      );\n    } catch (e) {\n      this.setError(e.message);\n    }\n  };\n}\n\nIndirectExtendedPublicKeyImporter.propTypes = {\n  enableChangeMethod: PropTypes.func,\n  extendedPublicKeyImporter: PropTypes.shape({\n    method: PropTypes.string,\n    bip32Path: PropTypes.string,\n  }).isRequired,\n  disableChangeMethod: PropTypes.func,\n  network: PropTypes.string.isRequired,\n  Reader: PropTypes.func.isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n  validateAndSetRootFingerprint: PropTypes.func.isRequired,\n};\n\nIndirectExtendedPublicKeyImporter.defaultProps = {\n  enableChangeMethod: null,\n  disableChangeMethod: null,\n};\n\nexport default IndirectExtendedPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { COLDCARD } from \"unchained-wallets\";\nimport { FormGroup, FormHelperText } from \"@material-ui/core\";\nimport { MAINNET, P2SH } from \"unchained-bitcoin\";\nimport { ColdcardJSONReader } from \".\";\nimport IndirectExtendedPublicKeyImporter from \"../Wallet/IndirectExtendedPublicKeyImporter\";\n\nclass ColdcardExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    const coldcardBIP32Path = this.getColdcardBip32Path();\n    this.state = {\n      COLDCARD_MULTISIG_BIP32_PATH: coldcardBIP32Path,\n    };\n  }\n\n  componentDidMount = () => {\n    const { extendedPublicKeyImporter, validateAndSetBIP32Path } = this.props;\n    const { COLDCARD_MULTISIG_BIP32_PATH } = this.state;\n    if (extendedPublicKeyImporter.method === COLDCARD) {\n      validateAndSetBIP32Path(\n        COLDCARD_MULTISIG_BIP32_PATH,\n        () => {},\n        () => {},\n        {}\n      );\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    const { validateAndSetBIP32Path, network, addressType } = this.props;\n    const coldcardBIP32Path = this.getColdcardBip32Path();\n\n    // Any updates to the network/addressType we should set the BIP32Path\n    if (\n      prevProps.network !== network ||\n      prevProps.addressType !== addressType\n    ) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ COLDCARD_MULTISIG_BIP32_PATH: coldcardBIP32Path });\n      validateAndSetBIP32Path(\n        coldcardBIP32Path,\n        () => {},\n        () => {}\n      );\n    }\n  }\n\n  // Unfortunately not possible to use our Multisig P2SH ROOT on a Coldcard atm\n  // because they do not allow us to export m/45'/{0-1}'/0' yet.\n  getColdcardBip32Path = () => {\n    const { network, addressType, defaultBIP32Path } = this.props;\n    const coinPath = network === MAINNET ? \"0\" : \"1\";\n    const coldcardP2SHPath = `m/45'/${coinPath}/0`;\n    return addressType === P2SH ? coldcardP2SHPath : defaultBIP32Path;\n  };\n\n  render = () => {\n    const {\n      extendedPublicKeyImporter,\n      validateAndSetExtendedPublicKey,\n      validateAndSetBIP32Path,\n      validateAndSetRootFingerprint,\n      addressType,\n      network,\n    } = this.props;\n    const { extendedPublicKeyError, COLDCARD_MULTISIG_BIP32_PATH } = this.state;\n    return (\n      <FormGroup>\n        <IndirectExtendedPublicKeyImporter\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetExtendedPublicKey={validateAndSetExtendedPublicKey}\n          validateAndSetBIP32Path={validateAndSetBIP32Path}\n          validateAndSetRootFingerprint={validateAndSetRootFingerprint}\n          addressType={addressType}\n          network={network}\n          resetBIP32Path={this.resetColdcardBIP32Path}\n          defaultBIP32Path={COLDCARD_MULTISIG_BIP32_PATH}\n          Reader={ColdcardJSONReader}\n        />\n        <FormHelperText error>{extendedPublicKeyError}</FormHelperText>\n      </FormGroup>\n    );\n  };\n\n  resetColdcardBIP32Path = () => {\n    const { validateAndSetBIP32Path } = this.props;\n    const { COLDCARD_MULTISIG_BIP32_PATH } = this.state;\n    validateAndSetBIP32Path(\n      COLDCARD_MULTISIG_BIP32_PATH,\n      () => {},\n      () => {}\n    );\n  };\n}\n\nColdcardExtendedPublicKeyImporter.propTypes = {\n  extendedPublicKeyImporter: PropTypes.shape({\n    method: PropTypes.string,\n    bip32Path: PropTypes.string,\n  }).isRequired,\n  network: PropTypes.string.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n  validateAndSetRootFingerprint: PropTypes.func.isRequired,\n  addressType: PropTypes.string.isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n};\n\nexport default ColdcardExtendedPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { HermitExportExtendedPublicKey } from \"unchained-wallets\";\nimport { FormGroup, FormHelperText } from \"@material-ui/core\";\n\nimport HermitReader from \"./HermitReader\";\n\nclass HermitExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      extendedPublicKeyError: \"\",\n    };\n  }\n\n  componentDidMount = () => {\n    const { resetBIP32Path } = this.props;\n    resetBIP32Path();\n  };\n\n  interaction = () => {\n    const { network, extendedPublicKeyImporter } = this.props;\n    return new HermitExportExtendedPublicKey({\n      network,\n      bip32Path: extendedPublicKeyImporter.bip32Path,\n    });\n  };\n\n  render = () => {\n    const { disableChangeMethod } = this.props;\n    const { extendedPublicKeyError } = this.state;\n    // Here we are using the HermitReader directly instead of using the\n    // shared `Indirect` helper component class. This is because Hermit does\n    // not need any of the bip32 stuff that is useful from the indirect helper.\n    return (\n      <FormGroup>\n        <HermitReader\n          startText=\"Import Extended Public Key\"\n          interaction={this.interaction()}\n          onStart={disableChangeMethod}\n          onSuccess={this.import}\n          onClear={this.onClear}\n        />\n        <FormHelperText className=\"text-danger\">\n          {extendedPublicKeyError}\n        </FormHelperText>\n      </FormGroup>\n    );\n  };\n\n  setError = (value) => {\n    this.setState({ extendedPublicKeyError: value });\n  };\n\n  import = (data) => {\n    const {\n      validateAndSetBIP32Path,\n      validateAndSetExtendedPublicKey,\n      enableChangeMethod,\n    } = this.props;\n    enableChangeMethod();\n    const { xpub, bip32Path } = data;\n    validateAndSetBIP32Path(\n      bip32Path,\n      () => {\n        validateAndSetExtendedPublicKey(xpub, this.setError);\n      },\n      this.setError\n    );\n  };\n\n  onClear = () => {\n    const { reset, enableChangeMethod } = this.props;\n    reset(true); // clear BIP32 path\n    this.setError(\"\");\n    enableChangeMethod();\n  };\n}\n\nHermitExtendedPublicKeyImporter.propTypes = {\n  enableChangeMethod: PropTypes.func.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n  }).isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n  network: PropTypes.string.isRequired,\n  reset: PropTypes.func.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetBIP32Path: PropTypes.func.isRequired,\n  validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n};\n\nexport default HermitExtendedPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  validateBIP32Path,\n  validateRootFingerprint,\n  convertExtendedPublicKey,\n  validateExtendedPublicKey,\n  NETWORKS,\n} from \"unchained-bitcoin\";\nimport { TREZOR, LEDGER, HERMIT, COLDCARD } from \"unchained-wallets\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  Button,\n  FormHelperText,\n  Box,\n  withStyles,\n} from \"@material-ui/core\";\nimport Copyable from \"../Copyable\";\nimport DirectExtendedPublicKeyImporter from \"./DirectExtendedPublicKeyImporter\";\nimport TextExtendedPublicKeyImporter from \"./TextExtendedPublicKeyImporter\";\nimport EditableName from \"../EditableName\";\nimport Conflict from \"../CreateAddress/Conflict\";\nimport {\n  setExtendedPublicKeyImporterName,\n  resetExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKeyImporterExtendedPublicKey,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,\n  setExtendedPublicKeyImporterFinalized,\n} from \"../../actions/extendedPublicKeyImporterActions\";\nimport ColdcardExtendedPublicKeyImporter from \"../Coldcard/ColdcardExtendedPublicKeyImporter\";\nimport HermitExtendedPublicKeyImporter from \"../Hermit/HermitExtendedPublicKeyImporter\";\n\nconst TEXT = \"text\";\nconst UNKNOWN = \"unknown\";\n\nconst useStyles = () => ({\n  xpub: {\n    lineHeight: \".8rem\",\n    overflowWrap: \"break-word\",\n  },\n});\n\nclass ExtendedPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      disableChangeMethod: false,\n      conversionMessage: \"\",\n    };\n  }\n\n  title = () => {\n    const { number, extendedPublicKeyImporter, setName } = this.props;\n    return (\n      <EditableName\n        number={number}\n        name={extendedPublicKeyImporter.name}\n        setName={setName}\n      />\n    );\n  };\n\n  renderImport = () => {\n    const { extendedPublicKeyImporter, number } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = `xpub-${number}-importer-select-label`;\n    return (\n      <div>\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`public-key-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={extendedPublicKeyImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value={UNKNOWN}>{\"< Select method >\"}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={COLDCARD}>Coldcard</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n        </FormControl>\n\n        {this.renderImportByMethod()}\n      </div>\n    );\n  };\n\n  renderImportByMethod = () => {\n    const {\n      extendedPublicKeyImporter,\n      network,\n      addressType,\n      defaultBIP32Path,\n    } = this.props;\n    const { method } = extendedPublicKeyImporter;\n\n    if (method === TREZOR || method === LEDGER) {\n      return (\n        <DirectExtendedPublicKeyImporter\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          validateAndSetRootFingerprint={this.validateAndSetRootFingerprint}\n          resetBIP32Path={this.resetBIP32Path}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          addressType={addressType}\n          defaultBIP32Path={defaultBIP32Path}\n          network={network}\n        />\n      );\n    }\n    if (method === HERMIT) {\n      return (\n        <HermitExtendedPublicKeyImporter\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          validateAndSetRootFingerprint={this.validateAndSetRootFingerprint}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          addressType={addressType}\n          defaultBIP32Path={defaultBIP32Path}\n          network={network}\n          resetBIP32Path={this.resetBIP32Path}\n          reset={this.reset}\n        />\n      );\n    }\n    if (method === COLDCARD) {\n      return (\n        <ColdcardExtendedPublicKeyImporter\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          validateAndSetRootFingerprint={this.validateAndSetRootFingerprint}\n          addressType={addressType}\n          defaultBIP32Path={defaultBIP32Path}\n          network={network}\n        />\n      );\n    }\n    if (method === TEXT) {\n      return (\n        <TextExtendedPublicKeyImporter\n          extendedPublicKeyImporter={extendedPublicKeyImporter}\n          validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n        />\n      );\n    }\n    return null;\n  };\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod, setExtendedPublicKey } = this.props;\n    setMethod(number, event.target.value);\n    setExtendedPublicKey(number, \"\");\n  };\n\n  disableChangeMethod = () => {\n    this.setState({ disableChangeMethod: true });\n  };\n\n  enableChangeMethod = () => {\n    this.setState({ disableChangeMethod: false });\n  };\n\n  //\n  // State\n  //\n\n  finalize = () => {\n    const { number, setFinalized } = this.props;\n    setFinalized(number, true);\n  };\n\n  reset = (resetBIP32Path) => {\n    const { number, setExtendedPublicKey, setFinalized } = this.props;\n    setExtendedPublicKey(number, \"\");\n    setFinalized(number, false);\n    if (resetBIP32Path) {\n      this.resetBIP32Path();\n    }\n  };\n\n  //\n  // BIP32 Path\n  //\n\n  renderBIP32Path = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    if (extendedPublicKeyImporter.method === TEXT) {\n      return (\n        <div className=\"mt-4\">\n          <p>\n            Make sure you <strong>record the corresponding BIP32 path.</strong>\n          </p>\n        </div>\n      );\n    }\n    return (\n      <div className=\"mt-4\">\n        <p>The BIP32 path for this extended public key is:</p>\n        <div className=\"text-center\">\n          <Copyable text={extendedPublicKeyImporter.bip32Path} showIcon />\n        </div>\n        <p className=\"mt-4\">\n          You will need this BIP32 path to sign for this key later.{\" \"}\n          <strong>Write down this BIP32 path!</strong>\n        </p>\n      </div>\n    );\n  };\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const { number, setBIP32Path } = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(number, bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback(\"\");\n      callback();\n    }\n  };\n\n  resetBIP32Path = () => {\n    const { number, resetBIP32Path } = this.props;\n    resetBIP32Path(number);\n  };\n\n  //\n  // Extended Public Key\n  //\n\n  renderExtendedPublicKey = () => {\n    const { extendedPublicKeyImporter, network, classes } = this.props;\n    const { conversionMessage } = this.state;\n    const conversionAppend =\n      extendedPublicKeyImporter.method === HERMIT &&\n      network === NETWORKS.TESTNET\n        ? \"this should not be an issue as hermit signing is not affected by the conversion.\"\n        : \"this may indicate an invalid network setting, if so correct setting, remove key and try again.\";\n    return (\n      <div>\n        <p>The following extended public key was imported:</p>\n        <div className={classes.xpub}>\n          <Copyable\n            text={extendedPublicKeyImporter.extendedPublicKey}\n            showIcon\n          />\n        </div>\n        {this.renderBIP32Path()}\n        {conversionMessage !== \"\" && (\n          <Box mb={2}>\n            <FormHelperText>\n              {conversionMessage}, {conversionAppend}{\" \"}\n            </FormHelperText>\n          </Box>\n        )}\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          size=\"small\"\n          onClick={() => {\n            this.reset(extendedPublicKeyImporter.method === HERMIT);\n          }}\n        >\n          Remove Extended Public Key\n        </Button>\n      </div>\n    );\n  };\n\n  validateAndSetExtendedPublicKey = (extendedPublicKey, errback, callback) => {\n    const {\n      number,\n      network,\n      extendedPublicKeyImporters,\n      setExtendedPublicKey,\n    } = this.props;\n    const networkError = validateExtendedPublicKey(extendedPublicKey, network);\n    let actualExtendedPublicKey = extendedPublicKey;\n    if (networkError !== \"\") {\n      try {\n        actualExtendedPublicKey = convertExtendedPublicKey(\n          extendedPublicKey,\n          network === \"testnet\" ? \"tpub\" : \"xpub\"\n        );\n      } catch (error) {\n        errback(error.message);\n        setExtendedPublicKey(number, extendedPublicKey);\n        return;\n      }\n    }\n\n    const validationError = validateExtendedPublicKey(\n      actualExtendedPublicKey,\n      network\n    );\n    if (validationError !== \"\") {\n      errback(validationError);\n      setExtendedPublicKey(number, extendedPublicKey);\n      return;\n    }\n    setExtendedPublicKey(number, actualExtendedPublicKey);\n\n    if (\n      actualExtendedPublicKey &&\n      Object.values(extendedPublicKeyImporters).find(\n        (extendedPublicKeyImporter, extendedPublicKeyImporterIndex) =>\n          extendedPublicKeyImporterIndex !== number - 1 &&\n          extendedPublicKeyImporter.extendedPublicKey ===\n            actualExtendedPublicKey\n      )\n    ) {\n      errback(\"This extended public key has already been imported.\");\n    } else {\n      errback(\"\");\n      const conversionMessage =\n        actualExtendedPublicKey === extendedPublicKey\n          ? \"\"\n          : `Your extended public key has been converted from ${extendedPublicKey.slice(\n              0,\n              4\n            )} to ${actualExtendedPublicKey.slice(0, 4)}`;\n      this.setState({ conversionMessage });\n      this.finalize();\n\n      if (callback) {\n        callback();\n      }\n    }\n  };\n\n  validateAndSetRootFingerprint = (rootFingerprint, errback) => {\n    const { number, setExtendedPublicKeyRootXfp } = this.props;\n    const error = validateRootFingerprint(rootFingerprint);\n    if (error) {\n      errback(error);\n    } else {\n      setExtendedPublicKeyRootXfp(number, rootFingerprint);\n    }\n  };\n\n  render() {\n    const { extendedPublicKeyImporter, finalizedNetwork, network } = this.props;\n    const hasConflict =\n      extendedPublicKeyImporter.method /* && extendedPublicKeyImporter.method !== TEXT */ &&\n      extendedPublicKeyImporter.conflict;\n    let conflictMessage = \"\";\n    if (hasConflict) {\n      if (finalizedNetwork !== network) {\n        conflictMessage =\n          \"Warning, you can not mix xpub and tpub.  Do not proceed without resolving by either removing conflicting imported keys or returning network type to original state!\";\n      } else {\n        conflictMessage =\n          \"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!\";\n      }\n    }\n    return (\n      <Card>\n        <CardHeader title={this.title()} />\n        <CardContent>\n          {hasConflict && <Conflict message={conflictMessage} />}\n          {extendedPublicKeyImporter.finalized\n            ? this.renderExtendedPublicKey()\n            : this.renderImport()}\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nExtendedPublicKeyImporter.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  classes: PropTypes.shape({\n    xpub: PropTypes.string,\n  }).isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  extendedPublicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    conflict: PropTypes.bool,\n    extendedPublicKey: PropTypes.string,\n    finalized: PropTypes.bool,\n    name: PropTypes.string,\n    method: PropTypes.string,\n  }).isRequired,\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n  finalizedNetwork: PropTypes.string.isRequired,\n  network: PropTypes.string.isRequired,\n  number: PropTypes.number.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  setBIP32Path: PropTypes.func.isRequired,\n  setExtendedPublicKey: PropTypes.func.isRequired,\n  setExtendedPublicKeyRootXfp: PropTypes.func.isRequired,\n  setFinalized: PropTypes.func.isRequired,\n  setName: PropTypes.func.isRequired,\n  setMethod: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.settings,\n    ...state.quorum,\n    ...{\n      extendedPublicKeyImporter:\n        state.quorum.extendedPublicKeyImporters[ownProps.number],\n    },\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setExtendedPublicKeyImporterName,\n  resetBIP32Path: resetExtendedPublicKeyImporterBIP32Path,\n  setBIP32Path: setExtendedPublicKeyImporterBIP32Path,\n  setMethod: setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKey: setExtendedPublicKeyImporterExtendedPublicKey,\n  setExtendedPublicKeyRootXfp:\n    setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,\n  setFinalized: setExtendedPublicKeyImporterFinalized,\n};\n\nconst ExtendedPublicKeyImporterWithStyles = withStyles(useStyles)(\n  ExtendedPublicKeyImporter\n);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExtendedPublicKeyImporterWithStyles);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  ButtonGroup,\n  Grid,\n  makeStyles,\n  Tooltip,\n  withStyles,\n} from \"@material-ui/core\";\nimport MuiButton from \"@material-ui/core/Button\";\n\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {\n  RefreshOutlined,\n  ExitToAppOutlined,\n  GetAppOutlined,\n} from \"@material-ui/icons\";\n\nimport { clientPropTypes } from \"../../proptypes\";\nimport { CARAVAN_CONFIG } from \"./constants\";\n\nimport ImportAddressesButton from \"../ImportAddressesButton\";\n\nconst useStyles = makeStyles(() => ({\n  card: {\n    height: \"100%\",\n    flexDirection: \"column\",\n    display: \"flex\",\n  },\n  cardContent: {\n    textAlign: \"center\",\n    paddingTop: \"0px\",\n    display: \"flex\",\n    flex: 1,\n  },\n}));\n\nconst Button = withStyles({\n  root: {\n    \"&.Mui-disabled\": {\n      pointerEvents: \"auto\",\n    },\n  },\n})(MuiButton);\n\nconst ButtonWithTooltip = ({ tooltipText, disabled, onClick, ...other }) => {\n  const adjustedButtonProps = {\n    disabled,\n    component: disabled ? \"div\" : undefined,\n    onClick: disabled ? undefined : onClick,\n  };\n  return (\n    <Tooltip title={tooltipText}>\n      <Button {...other} {...adjustedButtonProps} />\n    </Tooltip>\n  );\n};\n\nButtonWithTooltip.propTypes = {\n  tooltipText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nconst WalletActionsPanel = ({\n  addresses,\n  client,\n  handleRefresh,\n  onClearConfig,\n  onDownloadConfig,\n  onImportAddresses,\n  refreshing,\n  walletActivated,\n}) => {\n  const classes = useStyles();\n  const handleClearClick = (e) => {\n    e.preventDefault();\n    if (sessionStorage) sessionStorage.removeItem(CARAVAN_CONFIG);\n    onClearConfig(e);\n  };\n  return (\n    <Card className={classes.card}>\n      <CardHeader title=\"Wallet Actions\" />\n      <CardContent className={classes.cardContent}>\n        <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\n          <Grid item xs={12}>\n            <ButtonGroup variant=\"outlined\">\n              <ButtonWithTooltip\n                tooltipText=\"Force a refresh for latest wallet state and balance.\"\n                disabled={!walletActivated}\n                onClick={handleRefresh}\n                startIcon={\n                  refreshing ? (\n                    <CircularProgress size={24} />\n                  ) : (\n                    <RefreshOutlined />\n                  )\n                }\n              >\n                Refresh\n              </ButtonWithTooltip>\n              <ButtonWithTooltip\n                tooltipText=\"Download wallet configuration to local machine for backup. No security is lost with this, but access to this file provides anyone who has it information about balances.\"\n                onClick={onDownloadConfig}\n                disabled={false}\n                startIcon={<GetAppOutlined />}\n              >\n                Download Configuration\n              </ButtonWithTooltip>\n              <ButtonWithTooltip\n                tooltipText=\"Only clears the wallet config from browser sessions. Funds remain unaffected.\"\n                disabled={!walletActivated}\n                startIcon={<ExitToAppOutlined />}\n                onClick={handleClearClick}\n              >\n                Clear Wallet\n              </ButtonWithTooltip>\n            </ButtonGroup>\n          </Grid>\n          {client.type === \"private\" && walletActivated && (\n            <Grid item>\n              <ImportAddressesButton\n                addresses={addresses}\n                client={client}\n                importCallback={onImportAddresses}\n              />\n            </Grid>\n          )}\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nWalletActionsPanel.propTypes = {\n  addresses: PropTypes.arrayOf(PropTypes.string),\n  onImportAddresses: PropTypes.func.isRequired,\n  walletActivated: PropTypes.bool,\n  handleRefresh: PropTypes.func.isRequired,\n  onClearConfig: PropTypes.func.isRequired,\n  onDownloadConfig: PropTypes.func.isRequired,\n  refreshing: PropTypes.bool,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n};\n\nWalletActionsPanel.defaultProps = {\n  walletActivated: false,\n  refreshing: false,\n  addresses: [],\n};\n\nexport default WalletActionsPanel;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  satoshisToBitcoins,\n  validateBIP32Index,\n  validateBIP32Path,\n  validateExtendedPublicKey,\n} from \"unchained-bitcoin\";\nimport { Box, Button, FormHelperText, Grid } from \"@material-ui/core\";\nimport { downloadFile } from \"../../utils\";\nimport {\n  resetWallet as resetWalletAction,\n  updateChangeSliceAction,\n  updateDepositSliceAction,\n  updateWalletNameAction as updateWalletNameActionImport,\n} from \"../../actions/walletActions\";\nimport { fetchSliceData as fetchSliceDataAction } from \"../../actions/braidActions\";\nimport walletSelectors from \"../../selectors\";\nimport { CARAVAN_CONFIG } from \"./constants\";\nimport WalletInfoCard from \"./WalletInfoCard\";\nimport NetworkPicker from \"../NetworkPicker\";\nimport QuorumPicker from \"../QuorumPicker\";\nimport AddressTypePicker from \"../AddressTypePicker\";\nimport ClientPicker from \"../ClientPicker\";\nimport StartingAddressIndexPicker from \"../StartingAddressIndexPicker\";\nimport WalletGenerator from \"./WalletGenerator\";\nimport ExtendedPublicKeyImporter from \"./ExtendedPublicKeyImporter\";\nimport WalletActionsPanel from \"./WalletActionsPanel\";\nimport {\n  getUnknownAddresses,\n  getUnknownAddressSlices,\n  getWalletDetailsText,\n} from \"../../selectors/wallet\";\nimport {\n  setAddressType as setAddressTypeAction,\n  setNetwork as setNetworkAction,\n  setRequiredSigners as setRequiredSignersAction,\n  setStartingAddressIndex as setStartingAddressIndexAction,\n  setTotalSigners as setTotalSignersAction,\n} from \"../../actions/settingsActions\";\nimport {\n  setExtendedPublicKeyImporterBIP32Path as setExtendedPublicKeyImporterBIP32PathAction,\n  setExtendedPublicKeyImporterExtendedPublicKey as setExtendedPublicKeyImporterExtendedPublicKeyAction,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint as setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprintAction,\n  setExtendedPublicKeyImporterFinalized as setExtendedPublicKeyImporterFinalizedAction,\n  setExtendedPublicKeyImporterMethod as setExtendedPublicKeyImporterMethodAction,\n  setExtendedPublicKeyImporterName as setExtendedPublicKeyImporterNameAction,\n  setExtendedPublicKeyImporterVisible as setExtendedPublicKeyImporterVisibleAction,\n} from \"../../actions/extendedPublicKeyImporterActions\";\nimport { wrappedActions } from \"../../actions/utils\";\nimport {\n  SET_CLIENT_PASSWORD,\n  SET_CLIENT_TYPE,\n  SET_CLIENT_URL,\n  SET_CLIENT_USERNAME,\n} from \"../../actions/clientActions\";\nimport { clientPropTypes, slicePropTypes } from \"../../proptypes\";\n\nclass CreateWallet extends React.Component {\n  static validateProperties(config, properties, key) {\n    for (let index = 0; index < properties.length; index += 1) {\n      const property = properties[index];\n      const configObj = key !== \"\" ? config[key] : config;\n      if (!Object.prototype.hasOwnProperty.call(configObj, property)) {\n        return `Configuration missing property \"${\n          key !== \"\" ? `${key}.` : \"\"\n        }${property}\"`;\n      }\n    }\n    return \"\";\n  }\n\n  static validateConfig(config) {\n    const configProperties = [\n      \"name\",\n      \"addressType\",\n      \"network\",\n      \"quorum\",\n      \"extendedPublicKeys\",\n    ];\n    const validProperties = CreateWallet.validateProperties(\n      config,\n      configProperties,\n      \"\"\n    );\n    if (validProperties !== \"\") return validProperties;\n\n    if (config.startingAddressIndex !== undefined) {\n      const startingAddressIndexError = validateBIP32Index(\n        String(config.startingAddressIndex),\n        { mode: \"unhardened \" }\n      ).replace(\"BIP32\", \"Starting Address\");\n      if (startingAddressIndexError !== \"\") return startingAddressIndexError;\n    }\n\n    if (config.client) {\n      const clientProperties =\n        config.client.type === \"public\"\n          ? [\"type\"]\n          : [\"type\", \"url\", \"username\"];\n      const validClient = CreateWallet.validateProperties(\n        config,\n        clientProperties,\n        \"client\"\n      );\n      if (validClient !== \"\") return validClient;\n    }\n\n    const quorumProperties = [\"requiredSigners\", \"totalSigners\"];\n    const validQuorum = CreateWallet.validateProperties(\n      config,\n      quorumProperties,\n      \"quorum\"\n    );\n    if (validQuorum !== \"\") return validQuorum;\n\n    return CreateWallet.validateExtendedPublicKeys(\n      config.extendedPublicKeys,\n      config.network\n    );\n  }\n\n  static validateExtendedPublicKeys(xpubs, network) {\n    let tmpNetwork = network;\n    if (network === \"regtest\") {\n      tmpNetwork = \"testnet\";\n    }\n    const xpubFields = {\n      name: (name, index) =>\n        typeof name === \"string\"\n          ? \"\"\n          : `Extended public key ${index} name must be a string`,\n      bip32Path: (bip32Path, index) => {\n        if (xpubs[index - 1].method === \"text\") return \"\";\n        if (typeof xpubs[index - 1].method === \"undefined\") return \"\";\n        const pathError = validateBIP32Path(bip32Path);\n        if (pathError !== \"\")\n          return `Extended public key ${index} error: ${pathError}`;\n        return \"\";\n      },\n      xpub: (xpub) => validateExtendedPublicKey(xpub, tmpNetwork),\n      method: (method, index) => {\n        if (\n          [\n            \"trezor\",\n            \"coldcard\",\n            \"ledger\",\n            \"hermit\",\n            \"xpub\",\n            \"text\",\n            undefined,\n          ].includes(method)\n        ) {\n          return \"\";\n        }\n        return `Invalid method for extended public key ${index}`;\n      },\n    };\n\n    const keys = Object.keys(xpubFields);\n    const seen = [];\n    for (let xpubIndex = 0; xpubIndex < xpubs.length; xpubIndex += 1) {\n      if (!seen.includes(xpubs[xpubIndex].xpub)) {\n        seen.push(xpubs[xpubIndex].xpub);\n      } else {\n        return \"Duplicate xpub found.\";\n      }\n      for (let keyIndex = 0; keyIndex < keys.length; keyIndex += 1) {\n        const key = keys[keyIndex];\n        const value = xpubs[xpubIndex][key];\n        const valueError = xpubFields[key](value, xpubIndex + 1);\n        if (valueError !== \"\") return valueError;\n      }\n    }\n    return \"\";\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      configError: \"\",\n      configJson: \"\",\n      refreshing: false,\n      generating: false,\n    };\n  }\n\n  componentDidMount() {\n    if (sessionStorage) {\n      const configJson = sessionStorage.getItem(CARAVAN_CONFIG);\n      if (configJson) this.setConfigJson(configJson);\n    }\n  }\n\n  setConfigJson(configJson) {\n    let configError;\n    try {\n      const config = JSON.parse(configJson);\n      configError = CreateWallet.validateConfig(config);\n    } catch (parseError) {\n      configError = \"Invalid JSON\";\n    }\n\n    if (sessionStorage && configError === \"\") {\n      sessionStorage.setItem(CARAVAN_CONFIG, configJson);\n    }\n\n    // async since importDetails needs the updated state for it to work\n    this.setState({ configJson, configError }, () => {\n      if (configError === \"\") this.importDetails();\n    });\n  }\n\n  setGenerating(_val) {\n    const { generating } = this.state;\n    let val = _val;\n    if (_val === undefined) val = !generating;\n    this.setState({ generating: val });\n  }\n\n  handleImport = ({ target }) => {\n    const fileReader = new FileReader();\n    if (target.files[0] && target.files[0].size < 1048576) {\n      fileReader.onload = (event) => {\n        const configJson = event.target.result;\n        this.setConfigJson(configJson);\n      };\n      fileReader.readAsText(target.files[0]);\n    } else {\n      this.setState({ configError: \"Problem uploading file.\" });\n    }\n  };\n\n  refresh = async () => {\n    this.setState({ refreshing: true });\n    await this.generatorRefresh();\n    this.setState({ refreshing: false });\n  };\n\n  resetErrorAndClearTargetValue = (event) => {\n    // eslint-disable-next-line no-param-reassign\n    event.target.value = \"\";\n    this.setState({ configError: \"\" });\n  };\n\n  importDetails = () => {\n    const { configJson } = this.state;\n    const {\n      setTotalSigners,\n      setRequiredSigners,\n      setAddressType,\n      setNetwork,\n      setStartingAddressIndex,\n      setExtendedPublicKeyImporterMethod,\n      setExtendedPublicKeyImporterExtendedPublicKey,\n      setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,\n      setExtendedPublicKeyImporterBIP32Path,\n      setExtendedPublicKeyImporterFinalized,\n      setExtendedPublicKeyImporterName,\n      updateWalletNameAction,\n      setClientType,\n      setClientUrl,\n      setClientUsername,\n    } = this.props;\n\n    const walletConfiguration = JSON.parse(configJson);\n    setTotalSigners(walletConfiguration.quorum.totalSigners);\n    setRequiredSigners(walletConfiguration.quorum.requiredSigners);\n    setAddressType(walletConfiguration.addressType);\n    if (walletConfiguration.network === \"regtest\") {\n      setNetwork(\"testnet\");\n    } else {\n      setNetwork(walletConfiguration.network);\n    }\n    updateWalletNameAction(0, walletConfiguration.name);\n    // set client to unknown\n    if (walletConfiguration.client) {\n      setClientType(walletConfiguration.client.type);\n      if (walletConfiguration.client.type === \"private\") {\n        setClientUrl(walletConfiguration.client.url);\n        setClientUsername(walletConfiguration.client.username);\n      }\n    } else {\n      setClientType(\"unknown\");\n    }\n    // optionally, set starting address index\n    if (walletConfiguration.startingAddressIndex) {\n      setStartingAddressIndex(walletConfiguration.startingAddressIndex);\n    }\n    walletConfiguration.extendedPublicKeys.forEach(\n      (extendedPublicKey, index) => {\n        const number = index + 1;\n        setExtendedPublicKeyImporterName(number, extendedPublicKey.name);\n        if (extendedPublicKey.method) {\n          setExtendedPublicKeyImporterMethod(number, extendedPublicKey.method);\n        } else {\n          setExtendedPublicKeyImporterMethod(number, \"unknown\");\n        }\n\n        setExtendedPublicKeyImporterBIP32Path(\n          number,\n          extendedPublicKey.bip32Path\n        );\n        setExtendedPublicKeyImporterExtendedPublicKey(\n          number,\n          extendedPublicKey.xpub\n        );\n        if (extendedPublicKey.xfp) {\n          setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint(\n            number,\n            extendedPublicKey.xfp\n          );\n        } else {\n          setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint(\n            number,\n            \"unknown\"\n          );\n        }\n\n        setExtendedPublicKeyImporterFinalized(number, true);\n      }\n    );\n  };\n\n  // add client picker if client === 'unknown'\n  renderWalletImporter = () => {\n    const { configError } = this.state;\n    const { configuring } = this.props;\n\n    if (configuring)\n      return (\n        <>\n          <label htmlFor=\"upload-config\">\n            <input\n              style={{ display: \"none\" }}\n              id=\"upload-config\"\n              name=\"upload-config\"\n              accept=\"application/json\"\n              onChange={this.handleImport}\n              onClick={this.resetErrorAndClearTargetValue}\n              type=\"file\"\n            />\n\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              component=\"span\"\n              style={{ marginTop: \"20px\" }}\n            >\n              Import Wallet Configuration\n            </Button>\n          </label>\n          <FormHelperText error>{configError}</FormHelperText>\n        </>\n      );\n    return \"\";\n  };\n\n  renderSettings = () => {\n    const { configuring } = this.props;\n    let settings = null;\n\n    if (configuring)\n      settings = (\n        <Grid item md={4}>\n          <Box>\n            <QuorumPicker />\n          </Box>\n          <Box mt={2}>\n            <AddressTypePicker />\n          </Box>\n          <Box mt={2}>\n            <NetworkPicker />\n          </Box>\n          <Box mt={2}>\n            <ClientPicker />\n          </Box>\n          <Box mt={2}>\n            <StartingAddressIndexPicker />\n          </Box>\n        </Grid>\n      );\n    return settings;\n  };\n\n  renderExtendedPublicKeyImporters = () => {\n    const { totalSigners, configuring } = this.props;\n    const extendedPublicKeyImporters = [];\n    for (\n      let extendedPublicKeyImporterNum = 1;\n      extendedPublicKeyImporterNum <= totalSigners;\n      extendedPublicKeyImporterNum += 1\n    ) {\n      extendedPublicKeyImporters.push(\n        <Box\n          key={extendedPublicKeyImporterNum}\n          mt={extendedPublicKeyImporterNum === 1 ? 0 : 2}\n          display={configuring ? \"block\" : \"none\"}\n        >\n          <ExtendedPublicKeyImporter\n            key={extendedPublicKeyImporterNum}\n            number={extendedPublicKeyImporterNum}\n          />\n        </Box>\n      );\n    }\n    return extendedPublicKeyImporters;\n  };\n\n  downloadWalletDetails = (event) => {\n    const { walletDetailsText } = this.props;\n    event.preventDefault();\n    const filename = this.walletDetailsFilename();\n    downloadFile(walletDetailsText, filename);\n  };\n\n  walletDetailsFilename = () => {\n    const { totalSigners, requiredSigners, addressType, walletName } =\n      this.props;\n    return `bitcoin-${requiredSigners}-of-${totalSigners}-${addressType}-${walletName}.json`;\n  };\n\n  totalBalance = () => {\n    const { deposits, change } = this.props;\n    if (!Object.keys(deposits.nodes).length) return \"\";\n    return satoshisToBitcoins(\n      deposits.balanceSats.plus(change.balanceSats)\n    ).toFixed();\n  };\n\n  clearConfig = (e) => {\n    const { setExtendedPublicKeyImporterVisible, resetWallet } = this.props;\n    e.preventDefault();\n    resetWallet();\n    setExtendedPublicKeyImporterVisible(true);\n    this.setState({ generating: false });\n  };\n\n  /**\n   * Callback function to pass to the address importer\n   * after addresses have been imported we want\n   * @param {Array<string>} importedAddresses\n   * @param {boolean} rescan - whether or not a rescan is being performed\n   */\n  async afterImportAddresses(importedAddresses, rescan) {\n    // if rescan is true then there's no point in fetching\n    // the slice data yet since we likely won't get anything\n    // until the rescan is complete\n    if (rescan) return;\n\n    const { unknownSlices, fetchSliceData } = this.props;\n    const importedSlices = unknownSlices.reduce((slices, slice) => {\n      if (importedAddresses.indexOf(slice.multisig.address) > -1)\n        slices.push(slice);\n      return slice;\n    }, []);\n\n    await fetchSliceData(importedSlices);\n  }\n\n  render = () => {\n    const {\n      client,\n      configuring,\n      confirmedBalance,\n      walletName,\n      setName,\n      deposits,\n      change,\n      network,\n      pendingBalance,\n      nodesLoaded,\n      frozen,\n      unknownAddresses,\n    } = this.props;\n    const { refreshing, generating } = this.state;\n    const walletLoadError =\n      change.fetchUTXOsErrors + deposits.fetchUTXOsErrors > 0\n        ? \"Wallet loaded, but with errors...\"\n        : \"\";\n\n    return (\n      <>\n        <Box mt={3}>\n          <Grid container spacing={3}>\n            <Grid item xs={10} md={6}>\n              <WalletInfoCard\n                editable={\n                  !Object.keys(deposits.nodes).length ||\n                  !Object.keys(change.nodes).length\n                }\n                walletName={walletName}\n                setName={setName}\n                balance={+satoshisToBitcoins(confirmedBalance).toFixed()}\n                pendingBalance={+satoshisToBitcoins(pendingBalance).toFixed()}\n                network={network}\n              />\n            </Grid>\n            <Grid item xs={10} md={6}>\n              {(nodesLoaded || frozen) && (\n                <WalletActionsPanel\n                  addresses={unknownAddresses}\n                  refreshing={refreshing}\n                  walletActivated={nodesLoaded}\n                  handleRefresh={() => this.refresh()}\n                  onClearConfig={(e) => {\n                    this.clearConfig(e);\n                  }}\n                  onDownloadConfig={(e) => this.downloadWalletDetails(e)}\n                  client={client}\n                  onImportAddresses={(addresses, rescan) =>\n                    this.afterImportAddresses(rescan)\n                  }\n                />\n              )}\n            </Grid>\n          </Grid>\n        </Box>\n        {walletLoadError.length ? (\n          <FormHelperText\n            style={{ float: \"right\", padding: \"11px\", fontSize: \"1.5em\" }}\n            error\n          >\n            {walletLoadError}\n          </FormHelperText>\n        ) : (\n          \"\"\n        )}\n        <Box>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              {this.renderWalletImporter()}\n            </Grid>\n            <Grid item md={configuring ? 8 : 12}>\n              {this.renderExtendedPublicKeyImporters()}\n              <Box mt={2}>\n                <WalletGenerator\n                  generating={generating}\n                  setGenerating={(value) => this.setGenerating(value)}\n                  downloadWalletDetails={this.downloadWalletDetails}\n                  // eslint-disable-next-line no-return-assign\n                  refreshNodes={(click) => (this.generatorRefresh = click)} // FIXME TIGHT COUPLING ALERT, this calls function downstream\n                />\n              </Box>\n            </Grid>\n            {this.renderSettings()}\n          </Grid>\n        </Box>\n      </>\n    );\n  };\n}\n\nCreateWallet.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  change: PropTypes.shape({\n    balanceSats: PropTypes.shape({}),\n    fetchUTXOsErrors: PropTypes.number,\n    nodes: PropTypes.shape({}),\n  }).isRequired,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n  configuring: PropTypes.bool.isRequired,\n  deposits: PropTypes.shape({\n    balanceSats: PropTypes.shape({\n      plus: PropTypes.func,\n    }),\n    fetchUTXOsErrors: PropTypes.number,\n    nodes: PropTypes.shape({}),\n  }).isRequired,\n  confirmedBalance: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    .isRequired,\n  extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n  frozen: PropTypes.bool.isRequired,\n  fetchSliceData: PropTypes.func.isRequired,\n  network: PropTypes.string.isRequired,\n  nodesLoaded: PropTypes.bool.isRequired,\n  pendingBalance: PropTypes.number,\n  requiredSigners: PropTypes.number.isRequired,\n  resetWallet: PropTypes.func.isRequired,\n  setTotalSigners: PropTypes.func.isRequired,\n  setRequiredSigners: PropTypes.func.isRequired,\n  setAddressType: PropTypes.func.isRequired,\n  setName: PropTypes.func.isRequired,\n  setNetwork: PropTypes.func.isRequired,\n  setStartingAddressIndex: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterMethod: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterExtendedPublicKey: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:\n    PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterBIP32Path: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterFinalized: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterName: PropTypes.func.isRequired,\n  setExtendedPublicKeyImporterVisible: PropTypes.func.isRequired,\n  setClientType: PropTypes.func.isRequired,\n  setClientUrl: PropTypes.func.isRequired,\n  setClientUsername: PropTypes.func.isRequired,\n  totalSigners: PropTypes.number.isRequired,\n  updateWalletNameAction: PropTypes.func.isRequired,\n  unknownAddresses: PropTypes.arrayOf(PropTypes.string).isRequired,\n  unknownSlices: PropTypes.arrayOf(PropTypes.shape(slicePropTypes)).isRequired,\n  walletName: PropTypes.string.isRequired,\n  walletDetailsText: PropTypes.string.isRequired,\n};\n\nCreateWallet.defaultProps = {\n  pendingBalance: 0,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...state.quorum,\n    ...{\n      walletName: state.wallet.common.walletName,\n      nodesLoaded: state.wallet.common.nodesLoaded,\n      walletMode: state.wallet.common.walletMode,\n    },\n    confirmedBalance: walletSelectors.getConfirmedBalance(state),\n    pendingBalance: walletSelectors.getPendingBalance(state),\n    walletDetailsText: getWalletDetailsText(state),\n    unknownAddresses: getUnknownAddresses(state),\n    unknownSlices: getUnknownAddressSlices(state),\n    ...state.wallet,\n    client: state.client,\n  };\n}\n\nconst mapDispatchToProps = {\n  fetchSliceData: fetchSliceDataAction,\n  resetWallet: resetWalletAction,\n  setName: updateWalletNameActionImport,\n  setTotalSigners: setTotalSignersAction,\n  setRequiredSigners: setRequiredSignersAction,\n  setAddressType: setAddressTypeAction,\n  setNetwork: setNetworkAction,\n  setStartingAddressIndex: setStartingAddressIndexAction,\n  setExtendedPublicKeyImporterMethod: setExtendedPublicKeyImporterMethodAction,\n  setExtendedPublicKeyImporterExtendedPublicKey:\n    setExtendedPublicKeyImporterExtendedPublicKeyAction,\n  setExtendedPublicKeyImporterBIP32Path:\n    setExtendedPublicKeyImporterBIP32PathAction,\n  setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:\n    setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprintAction,\n  setExtendedPublicKeyImporterName: setExtendedPublicKeyImporterNameAction,\n  setExtendedPublicKeyImporterFinalized:\n    setExtendedPublicKeyImporterFinalizedAction,\n  setExtendedPublicKeyImporterVisible:\n    setExtendedPublicKeyImporterVisibleAction,\n  updateWalletNameAction: updateWalletNameActionImport,\n  ...wrappedActions({\n    setClientType: SET_CLIENT_TYPE,\n    setClientUrl: SET_CLIENT_URL,\n    setClientUsername: SET_CLIENT_USERNAME,\n    setClientPassword: SET_CLIENT_PASSWORD,\n  }),\n  updateDepositNode: updateDepositSliceAction,\n  updateChangeNode: updateChangeSliceAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateWallet);\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const SET_PUBLIC_KEY_IMPORTER_NAME = \"SET_PUBLIC_KEY_IMPORTER_NAME\";\nexport const RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_METHOD = \"SET_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY =\n  \"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY\";\nexport const SET_PUBLIC_KEY_IMPORTER_FINALIZED =\n  \"SET_PUBLIC_KEY_IMPORTER_FINALIZED\";\nexport const MOVE_PUBLIC_KEY_IMPORTER_UP = \"MOVE_PUBLIC_KEY_IMPORTER_UP\";\nexport const MOVE_PUBLIC_KEY_IMPORTER_DOWN = \"MOVE_PUBLIC_KEY_IMPORTER_DOWN\";\nexport const SORT_PUBLIC_KEY_IMPORTERS = \"SORT_PUBLIC_KEY_IMPORTERS\";\nexport const UPDATE_MULTISIG_ADDRESS = \"UPDATE_MULTISIG_ADDRESS\";\n\nexport function sortPublicKeyImporters() {\n  return {\n    type: SORT_PUBLIC_KEY_IMPORTERS,\n  };\n}\n\nexport function setMultisigAddress(address) {\n  return {\n    type: UPDATE_MULTISIG_ADDRESS,\n    value: address,\n  };\n}\n\nexport const {\n  setPublicKeyImporterName,\n  setPublicKeyImporterBIP32Path,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n  setPublicKeyImporterFinalized,\n  movePublicKeyImporterUp,\n  movePublicKeyImporterDown,\n} = wrappedNumberedActions({\n  setPublicKeyImporterName: SET_PUBLIC_KEY_IMPORTER_NAME,\n  resetPublicKeyImporterBIP32Path: RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setPublicKeyImporterBIP32Path: SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setPublicKeyImporterMethod: SET_PUBLIC_KEY_IMPORTER_METHOD,\n  setPublicKeyImporterPublicKey: SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n  setPublicKeyImporterFinalized: SET_PUBLIC_KEY_IMPORTER_FINALIZED,\n  movePublicKeyImporterUp: MOVE_PUBLIC_KEY_IMPORTER_UP,\n  movePublicKeyImporterDown: MOVE_PUBLIC_KEY_IMPORTER_DOWN,\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  generateMultisigFromPublicKeys,\n  scriptToHex,\n  multisigRedeemScript,\n  multisigWitnessScript,\n  validatePublicKey,\n} from \"unchained-bitcoin\";\nimport {\n  Box,\n  Grid,\n  Button,\n  Card,\n  CardHeader,\n  CardContent,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport { externalLink, downloadFile } from \"../../utils\";\n\n// Actions\nimport {\n  sortPublicKeyImporters as sortPublicKeyImportersAction,\n  setMultisigAddress as setMultisigAddressAction,\n} from \"../../actions/publicKeyImporterActions\";\n\n// Components\nimport MultisigDetails from \"../MultisigDetails\";\nimport Conflict from \"./Conflict\";\n\nclass AddressGenerator extends React.Component {\n  isInConflict = () => {\n    const { publicKeyImporters } = this.props;\n    return Object.values(publicKeyImporters).some(\n      (importer) => importer.conflict\n    );\n  };\n\n  publicKeyCount = () => {\n    const { publicKeyImporters, addressType } = this.props;\n    return Object.values(publicKeyImporters).filter(\n      ({ publicKey, finalized }) => {\n        return finalized && !validatePublicKey(publicKey, addressType);\n      }\n    ).length;\n  };\n\n  publicKeysAreCanonicallySorted = () => {\n    const { publicKeyImporters } = this.props;\n    const publicKeys = Object.values(publicKeyImporters)\n      .map((publicKeyImporter) => publicKeyImporter.publicKey)\n      .filter((publicKey) => publicKey !== \"\");\n    const sortedPublicKeys = Object.values(publicKeyImporters)\n      .map((publicKeyImporter) => publicKeyImporter.publicKey)\n      .filter((publicKey) => publicKey !== \"\")\n      .sort(); // sort mutates the array\n    const sorted =\n      publicKeys.filter((publicKey, index) => {\n        return publicKey === sortedPublicKeys[index];\n      }).length === publicKeys.length;\n    return sorted;\n  };\n\n  canonicallySortPublicKeys = () => {\n    const { sortPublicKeyImporters } = this.props;\n    sortPublicKeyImporters();\n  };\n\n  generateMultisig = () => {\n    const {\n      network,\n      publicKeyImporters,\n      totalSigners,\n      requiredSigners,\n      addressType,\n      setMultisigAddress,\n    } = this.props;\n    const publicKeys = [];\n    for (\n      let publicKeyImporterNum = 1;\n      publicKeyImporterNum <= totalSigners;\n      publicKeyImporterNum += 1\n    ) {\n      publicKeys.push(publicKeyImporters[publicKeyImporterNum].publicKey);\n    }\n    const multisig = generateMultisigFromPublicKeys(\n      network,\n      addressType,\n      requiredSigners,\n      ...publicKeys\n    );\n    setMultisigAddress(multisig.address);\n    return multisig;\n  };\n\n  downloadAddressDetails = (event) => {\n    event.preventDefault();\n    const multisig = this.generateMultisig();\n    const body = this.addressDetailsText(multisig);\n    const filename = this.addressDetailsFilename(multisig);\n    downloadFile(body, filename);\n  };\n\n  addressDetailsFilename = (multisig) => {\n    const { totalSigners, requiredSigners, addressType } = this.props;\n    return `bitcoin-${requiredSigners}-of-${totalSigners}-${addressType}-${multisig.address}.txt`;\n  };\n\n  addressDetailsText = (multisig) => {\n    const { addressType, network, totalSigners, requiredSigners } = this.props;\n    const redeemScript = multisigRedeemScript(multisig);\n    const witnessScript = multisigWitnessScript(multisig);\n    const redeemScriptLine = redeemScript\n      ? `Redeem Script: ${scriptToHex(redeemScript)}`\n      : \"\";\n    const witnessScriptLine = witnessScript\n      ? `Witness Script: ${scriptToHex(witnessScript)}`\n      : \"\";\n    const scriptsSpacer = redeemScript && witnessScript ? \"\\n\\n\" : \"\";\n    return `Address: ${multisig.address}\n\nType: ${addressType}\n\nNetwork: ${network}\n\nQuorum: ${requiredSigners}-of-${totalSigners}\n\nBIP32 Paths:\n${this.publicKeyImporterBIP32Paths()}\n\n${redeemScriptLine}${scriptsSpacer}${witnessScriptLine}\n`;\n  };\n\n  publicKeyImporterBIP32Paths = () => {\n    const { totalSigners } = this.props;\n    const publicKeyImporterBIP32Paths = [];\n    for (\n      let publicKeyImporterNum = 1;\n      publicKeyImporterNum <= totalSigners;\n      publicKeyImporterNum += 1\n    ) {\n      publicKeyImporterBIP32Paths.push(\n        this.publicKeyImporterBIP32Path(publicKeyImporterNum)\n      );\n    }\n    return publicKeyImporterBIP32Paths.join(\"\\n\");\n  };\n\n  publicKeyImporterBIP32Path = (number) => {\n    const { publicKeyImporters } = this.props;\n    const publicKeyImporter = publicKeyImporters[number];\n    const bip32Path =\n      publicKeyImporter.method === \"text\"\n        ? \"Unknown (make sure you have written this down previously!)\"\n        : publicKeyImporter.bip32Path;\n    return `  * ${publicKeyImporter.name}: ${bip32Path}: ${publicKeyImporter.publicKey}`;\n  };\n\n  title = () => {\n    const { totalSigners, requiredSigners, addressType } = this.props;\n    return (\n      <Grid container justify=\"space-between\">\n        <Grid item>\n          {requiredSigners}\n          -of-\n          {totalSigners} Multisig {addressType}{\" \"}\n        </Grid>\n        <Grid item>\n          <small>{`Public Keys: ${this.publicKeyCount()}/${totalSigners}`}</small>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  body() {\n    const { totalSigners } = this.props;\n    if (this.publicKeyCount() === totalSigners) {\n      const multisig = this.generateMultisig();\n\n      const canonicallySorted = this.publicKeysAreCanonicallySorted();\n      return (\n        <div>\n          {this.isInConflict() && <Conflict />}\n          {!canonicallySorted && (\n            <Grid container justify=\"space-between\">\n              <Grid item md={8}>\n                <FormHelperText error>\n                  WARNING: These public keys are not in the standard{\" \"}\n                  {externalLink(\n                    \"https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki\",\n                    \"BIP67 order\"\n                  )}\n                  .\n                </FormHelperText>\n              </Grid>\n              <Grid item md={4}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={this.canonicallySortPublicKeys}\n                >\n                  Sort Public Keys\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n\n          <Box mt={2}>\n            <MultisigDetails multisig={multisig} />\n          </Box>\n\n          <Box mt={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.downloadAddressDetails}\n            >\n              Download Address Details\n            </Button>\n          </Box>\n        </div>\n      );\n    }\n    return (\n      <p>\n        {`Once you have imported all ${totalSigners} public keys, `}\n        {\"your address details will be displayed here.\"}\n      </p>\n    );\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader title={this.title()} />\n        <CardContent>{this.body()}</CardContent>\n      </Card>\n    );\n  }\n}\n\nAddressGenerator.propTypes = {\n  network: PropTypes.string.isRequired,\n  totalSigners: PropTypes.number.isRequired,\n  requiredSigners: PropTypes.number.isRequired,\n  addressType: PropTypes.string.isRequired,\n  publicKeyImporters: PropTypes.shape({}).isRequired,\n  sortPublicKeyImporters: PropTypes.func.isRequired,\n  setMultisigAddress: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...state.address,\n  };\n}\n\nconst mapDispatchToProps = {\n  sortPublicKeyImporters: sortPublicKeyImportersAction,\n  setMultisigAddress: setMultisigAddressAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressGenerator);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport { Button, TextField, Box } from \"@material-ui/core\";\n\nclass TextPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: \"\",\n      publicKey: \"\",\n    };\n  }\n\n  render = () => {\n    const { error, publicKey } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          name=\"publicKey\"\n          label=\"Public Key\"\n          value={publicKey}\n          onChange={this.handleChange}\n          error={this.hasError()}\n          helperText={error}\n        />\n\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={publicKey === \"\" || this.hasError()}\n          >\n            Add Public Key\n          </Button>\n        </Box>\n      </Box>\n    );\n  };\n\n  import = () => {\n    const { validatePublicKey, onImport } = this.props;\n    const { publicKey } = this.state;\n    const error = validatePublicKey(publicKey);\n\n    if (error) {\n      this.setError(error);\n    } else {\n      onImport({ publicKey });\n    }\n  };\n\n  hasError = () => {\n    const { error } = this.state;\n    return error !== \"\";\n  };\n\n  setError = (value) => {\n    this.setState({ error: value });\n  };\n\n  handleChange = (event) => {\n    const publicKey = event.target.value;\n    const { validatePublicKey } = this.props;\n    const error = validatePublicKey(publicKey);\n    this.setState({ publicKey, error });\n  };\n}\n\nTextPublicKeyImporter.propTypes = {\n  validatePublicKey: PropTypes.func.isRequired,\n  onImport: PropTypes.func.isRequired,\n};\n\nexport default TextPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  convertExtendedPublicKey,\n  validateExtendedPublicKey,\n  validateExtendedPublicKeyForNetwork,\n  deriveChildPublicKey,\n  validateBIP32Path,\n} from \"unchained-bitcoin\";\n\n// Components\nimport {\n  Button,\n  TextField,\n  FormHelperText,\n  Box,\n  Grid,\n} from \"@material-ui/core\";\n\nconst DEFAULT_BIP32_PATH = \"m/0\";\n\nclass ExtendedPublicKeyPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      bip32Path: DEFAULT_BIP32_PATH,\n      extendedPublicKey: \"\",\n      extendedPublicKeyError: \"\",\n      bip32PathError: \"\",\n      conversionMessage: \"\",\n    };\n  }\n\n  render = () => {\n    const {\n      bip32Path,\n      extendedPublicKey,\n      extendedPublicKeyError,\n      bip32PathError,\n      conversionMessage,\n    } = this.state;\n    return (\n      <div>\n        <Box mt={2}>\n          <TextField\n            fullWidth\n            name=\"extendedPublicKey\"\n            label=\"Extended Public Key\"\n            value={extendedPublicKey}\n            onChange={this.handleExtendedPublicKeyChange}\n            error={this.hasExtendedPublicKeyError()}\n            helperText={extendedPublicKeyError}\n          />\n        </Box>\n        {conversionMessage !== \"\" && (\n          <Box mb={2}>\n            <FormHelperText>\n              {conversionMessage}, this may indicate an invalid network setting,\n              if so correct setting, remove key and try again.\n            </FormHelperText>\n          </Box>\n        )}\n\n        <Box mt={2}>\n          <Grid container>\n            <Grid item md={10}>\n              <TextField\n                fullWidth\n                name=\"bip32Path\"\n                label=\"BIP32 Path (relative to xpub)\"\n                type=\"text\"\n                value={bip32Path}\n                onChange={this.handleBIP32PathChange}\n                error={this.hasBIP32PathError()}\n                helperText={bip32PathError}\n              />\n              <FormHelperText>\n                Use the default value if you don&rsquo;t understand BIP32 paths.\n              </FormHelperText>\n            </Grid>\n            <Grid item md={2}>\n              {!this.bip32PathIsDefault() && (\n                <Button\n                  type=\"button\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  onClick={this.resetBIP32Path}\n                >\n                  Default\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n          <Box mt={2}>\n            <Button\n              type=\"button\"\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={this.import}\n              disabled={extendedPublicKey === \"\" || this.hasError()}\n            >\n              Import Public Key\n            </Button>\n          </Box>\n        </Box>\n      </div>\n    );\n  };\n\n  import = () => {\n    const { network, validatePublicKey, onImport } = this.props;\n    const { extendedPublicKey, bip32Path } = this.state;\n    const publicKey = deriveChildPublicKey(\n      extendedPublicKey,\n      bip32Path,\n      network\n    );\n\n    const error = validatePublicKey(publicKey);\n    if (error) {\n      this.setState({\n        bip32PathError: error,\n      });\n    } else {\n      onImport({ publicKey, bip32Path });\n    }\n  };\n\n  hasBIP32PathError = () => {\n    const { bip32PathError } = this.state;\n    return bip32PathError !== \"\";\n  };\n\n  hasExtendedPublicKeyError = () => {\n    const { extendedPublicKeyError } = this.state;\n    return extendedPublicKeyError !== \"\";\n  };\n\n  hasError = () => this.hasBIP32PathError() || this.hasExtendedPublicKeyError();\n\n  handleBIP32PathChange = (event) => {\n    const nextBIP32Path = event.target.value;\n\n    const error = validateBIP32Path(nextBIP32Path, {\n      mode: \"unhardened\",\n    });\n\n    this.setState({\n      bip32Path: nextBIP32Path,\n      bip32PathError: error ?? \"\",\n    });\n  };\n\n  bip32PathIsDefault = () => {\n    const { bip32Path } = this.state;\n    return bip32Path === DEFAULT_BIP32_PATH;\n  };\n\n  resetBIP32Path = () => {\n    this.setState({\n      bip32Path: DEFAULT_BIP32_PATH,\n      bip32PathError: \"\",\n    });\n  };\n\n  handleExtendedPublicKeyChange = (event) => {\n    const { network } = this.props;\n\n    const extendedPublicKey = event.target.value;\n\n    const networkError = validateExtendedPublicKeyForNetwork(\n      extendedPublicKey,\n      network\n    );\n    let actualExtendedPublicKey = extendedPublicKey;\n    if (networkError !== \"\") {\n      try {\n        actualExtendedPublicKey = convertExtendedPublicKey(\n          extendedPublicKey,\n          network === \"testnet\" ? \"tpub\" : \"xpub\"\n        );\n      } catch (error) {\n        this.setState({\n          extendedPublicKey,\n          extendedPublicKeyError: error.message,\n          conversionMessage: \"\",\n        });\n        return;\n      }\n    }\n\n    const validationError = validateExtendedPublicKey(\n      actualExtendedPublicKey,\n      network\n    );\n    if (validationError !== \"\") {\n      this.setState({\n        extendedPublicKey,\n        extendedPublicKeyError: validationError,\n        conversionMessage: \"\",\n      });\n      return;\n    }\n    const conversionMessage =\n      actualExtendedPublicKey === extendedPublicKey\n        ? \"\"\n        : `Your extended public key has been converted from ${extendedPublicKey.slice(\n            0,\n            4\n          )} to ${actualExtendedPublicKey.slice(0, 4)}`;\n\n    this.setState({\n      extendedPublicKey: actualExtendedPublicKey,\n      extendedPublicKeyError: \"\",\n      conversionMessage,\n    });\n  };\n}\n\nExtendedPublicKeyPublicKeyImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  validatePublicKey: PropTypes.func.isRequired,\n  onImport: PropTypes.func.isRequired,\n};\n\nexport default ExtendedPublicKeyPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { HERMIT, ExportPublicKey } from \"unchained-wallets\";\nimport { validateBIP32Path } from \"unchained-bitcoin\";\n\n// Components\nimport { FormGroup, FormHelperText } from \"@material-ui/core\";\n\nimport HermitReader from \"../Hermit/HermitReader\";\n\nclass HermitPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      publicKeyError: \"\",\n    };\n  }\n\n  interaction = () => {\n    const { network, defaultBIP32Path } = this.props;\n    return ExportPublicKey({\n      keystore: HERMIT,\n      network,\n      bip32Path: defaultBIP32Path,\n    });\n  };\n\n  render = () => {\n    const { publicKeyError } = this.state;\n    return (\n      <FormGroup>\n        <HermitReader\n          startText=\"Import Public Key\"\n          interaction={this.interaction()}\n          onStart={this.handleReaderStart}\n          onSuccess={this.handleReaderSuccess}\n          onClear={this.handleReaderClear}\n        />\n        <FormHelperText error>{publicKeyError}</FormHelperText>\n      </FormGroup>\n    );\n  };\n\n  setError = (value) => {\n    this.setState({ publicKeyError: value });\n  };\n\n  handleReaderStart = () => {\n    const { disableChangeMethod } = this.props;\n    disableChangeMethod();\n  };\n\n  handleReaderSuccess = (data) => {\n    const { validatePublicKey, onImport, enableChangeMethod } = this.props;\n    const { pubkey: nextPublicKey, bip32Path: nextBIP32Path } = data;\n\n    enableChangeMethod();\n\n    const bip32PathError = validateBIP32Path(nextBIP32Path);\n    if (bip32PathError) {\n      this.setError(bip32PathError);\n      return;\n    }\n\n    const publicKeyError = validatePublicKey(nextPublicKey);\n    if (publicKeyError) {\n      this.setError(publicKeyError);\n      return;\n    }\n\n    onImport({ publicKey: nextPublicKey, bip32Path: nextBIP32Path });\n  };\n\n  handleReaderClear = () => {\n    const { enableChangeMethod } = this.props;\n    this.setError(\"\");\n    enableChangeMethod();\n  };\n}\n\nHermitPublicKeyImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  validatePublicKey: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func.isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n  onImport: PropTypes.func.isRequired,\n};\n\nexport default HermitPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  UNSUPPORTED,\n  PENDING,\n  ACTIVE,\n  ERROR,\n  ExportPublicKey,\n  TREZOR,\n  LEDGER,\n} from \"unchained-wallets\";\nimport { validateBIP32Path } from \"unchained-bitcoin\";\n\n// Components\nimport {\n  Button,\n  TextField,\n  FormHelperText,\n  Box,\n  Grid,\n} from \"@material-ui/core\";\n\nimport InteractionMessages from \"../InteractionMessages\";\n\nclass HardwareWalletPublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bip32Path: props.defaultBIP32Path,\n      publicKeyError: \"\",\n      bip32PathError: \"\",\n      status: this.interaction().isSupported() ? PENDING : UNSUPPORTED,\n    };\n  }\n\n  interaction = () => {\n    const { network, method, defaultBIP32Path } = this.props;\n    const { bip32Path } = this.state;\n    return ExportPublicKey({\n      network,\n      keystore: method,\n      bip32Path: bip32Path ?? defaultBIP32Path,\n    });\n  };\n\n  render = () => {\n    const { status, bip32Path, publicKeyError } = this.state;\n    const interaction = this.interaction();\n    if (status === UNSUPPORTED) {\n      return (\n        <FormHelperText error>\n          {interaction.messageTextFor({ status })}\n        </FormHelperText>\n      );\n    }\n    return (\n      <Box mt={2}>\n        <Grid container>\n          <Grid item md={6}>\n            <TextField\n              fullWidth\n              label=\"BIP32 Path\"\n              value={bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={status !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={this.bip32PathError()}\n            />\n          </Grid>\n          <Grid item md={6}>\n            {!this.bip32PathIsDefault() && (\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                size=\"small\"\n                onClick={this.resetBIP32Path}\n                disabled={status !== PENDING}\n              >\n                Default\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n        <FormHelperText>\n          Use the default value if you don&rsquo;t understand BIP32 paths.\n        </FormHelperText>\n        <Box mt={2}>\n          <Button\n            type=\"button\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={this.hasBIP32PathError() || status === ACTIVE}\n          >\n            Import Public Key\n          </Button>\n        </Box>\n        <InteractionMessages\n          messages={interaction.messagesFor({ state: status })}\n          excludeCodes={[\"bip32\"]}\n        />\n        <FormHelperText error>{publicKeyError}</FormHelperText>\n      </Box>\n    );\n  };\n\n  import = async () => {\n    const {\n      enableChangeMethod,\n      disableChangeMethod,\n      validatePublicKey,\n      onImport,\n    } = this.props;\n    const { bip32Path } = this.state;\n    disableChangeMethod();\n    this.setState({ publicKeyError: \"\", status: ACTIVE });\n    try {\n      const publicKey = await this.interaction().run();\n      const error = validatePublicKey(publicKey);\n\n      if (error) {\n        this.setState({\n          publicKeyError: error,\n          status: PENDING,\n        });\n      } else {\n        onImport({ publicKey, bip32Path });\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      this.setState({ publicKeyError: e.message, status: PENDING });\n    }\n\n    enableChangeMethod();\n  };\n\n  hasBIP32PathError = () => {\n    const { bip32PathError, status } = this.state;\n    return (\n      bip32PathError !== \"\" ||\n      this.interaction().hasMessagesFor({\n        state: status,\n        level: ERROR,\n        code: \"bip32\",\n      })\n    );\n  };\n\n  bip32PathError = () => {\n    const { bip32PathError, status } = this.state;\n    if (bip32PathError !== \"\") {\n      return bip32PathError;\n    }\n    return this.interaction().messageTextFor({\n      state: status,\n      level: ERROR,\n      code: \"bip32\",\n    });\n  };\n\n  handleBIP32PathChange = (event) => {\n    const nextBIP32Path = event.target.value;\n    const error = validateBIP32Path(nextBIP32Path);\n\n    this.setState({\n      bip32Path: nextBIP32Path,\n      bip32PathError: error ?? \"\",\n    });\n  };\n\n  bip32PathIsDefault = () => {\n    const { bip32Path } = this.state;\n    const { defaultBIP32Path } = this.props;\n    return bip32Path === defaultBIP32Path;\n  };\n\n  resetBIP32Path = () => {\n    const { defaultBIP32Path } = this.props;\n    this.setState({\n      bip32Path: defaultBIP32Path,\n      bip32PathError: \"\",\n    });\n  };\n}\n\nHardwareWalletPublicKeyImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  method: PropTypes.oneOf([LEDGER, TREZOR]).isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  validatePublicKey: PropTypes.func.isRequired,\n  enableChangeMethod: PropTypes.func.isRequired,\n  disableChangeMethod: PropTypes.func.isRequired,\n  onImport: PropTypes.func.isRequired,\n};\n\nexport default HardwareWalletPublicKeyImporter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { validatePublicKey as baseValidatePublicKey } from \"unchained-bitcoin\";\nimport { TREZOR, LEDGER, HERMIT } from \"unchained-wallets\";\n\n// Components\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  Button,\n  Grid,\n  Box,\n} from \"@material-ui/core\";\nimport { ArrowUpward, ArrowDownward } from \"@material-ui/icons\";\n\nimport Copyable from \"../Copyable\";\nimport TextPublicKeyImporter from \"./TextPublicKeyImporter\";\nimport ExtendedPublicKeyPublicKeyImporter from \"./ExtendedPublicKeyPublicKeyImporter\";\nimport HermitPublicKeyImporter from \"./HermitPublicKeyImporter\";\nimport HardwareWalletPublicKeyImporter from \"./HardwareWalletPublicKeyImporter\";\nimport EditableName from \"../EditableName\";\nimport Conflict from \"./Conflict\";\n\n// Actions\nimport {\n  setPublicKeyImporterName,\n  setPublicKeyImporterBIP32Path,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n  setPublicKeyImporterFinalized,\n  movePublicKeyImporterUp,\n  movePublicKeyImporterDown,\n} from \"../../actions/publicKeyImporterActions\";\n\nconst XPUB = \"xpub\";\nconst TEXT = \"text\";\n\nclass PublicKeyImporter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disableChangeMethod: false,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { number, setFinalized, addressType, publicKeyImporter } = this.props;\n\n    if (\n      prevProps.addressType !== addressType &&\n      this.validatePublicKey(publicKeyImporter.publicKey)\n    ) {\n      setFinalized(number, false);\n    }\n  }\n\n  title = () => {\n    const { number, totalSigners, publicKeyImporter, setName } = this.props;\n    return (\n      <Grid container justify=\"space-between\">\n        <Grid item>\n          <EditableName\n            number={number}\n            name={publicKeyImporter.name}\n            setName={setName}\n          />\n        </Grid>\n        <Grid item>\n          <Grid container justify=\"flex-end\">\n            <Button\n              type=\"button\"\n              variant=\"contained\"\n              onClick={this.moveUp}\n              disabled={number === 1}\n            >\n              <ArrowUpward />\n            </Button>\n            <span>&nbsp;</span>\n            <Button\n              type=\"button\"\n              variant=\"contained\"\n              onClick={this.moveDown}\n              disabled={number === totalSigners}\n            >\n              <ArrowDownward />\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  renderImport = () => {\n    const { publicKeyImporter, number } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = `public-key-${number}-importer-select-label`;\n    return (\n      <div>\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`public-key-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={publicKeyImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value=\"\">{\"< Select method >\"}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={XPUB}>Derive from extended public key</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n        </FormControl>\n\n        {this.renderImportByMethod()}\n      </div>\n    );\n  };\n\n  renderImportByMethod = () => {\n    const { publicKeyImporter, network, defaultBIP32Path } = this.props;\n\n    if (\n      publicKeyImporter.method === TREZOR ||\n      publicKeyImporter.method === LEDGER\n    ) {\n      return (\n        <HardwareWalletPublicKeyImporter\n          method={publicKeyImporter.method}\n          validatePublicKey={this.validatePublicKey}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          defaultBIP32Path={defaultBIP32Path}\n          network={network}\n          onImport={this.handleImport}\n        />\n      );\n    }\n    if (publicKeyImporter.method === HERMIT) {\n      return (\n        <HermitPublicKeyImporter\n          network={network}\n          defaultBIP32Path={defaultBIP32Path}\n          validatePublicKey={this.validatePublicKey}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          onImport={this.handleImport}\n        />\n      );\n    }\n    if (publicKeyImporter.method === XPUB) {\n      return (\n        <ExtendedPublicKeyPublicKeyImporter\n          network={network}\n          validatePublicKey={this.validatePublicKey}\n          onImport={this.handleImport}\n        />\n      );\n    }\n    if (publicKeyImporter.method === TEXT) {\n      return (\n        <TextPublicKeyImporter\n          validatePublicKey={this.validatePublicKey}\n          onImport={this.handleImport}\n        />\n      );\n    }\n    return null;\n  };\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod, setPublicKey } = this.props;\n    setMethod(number, event.target.value);\n    setPublicKey(number, \"\");\n  };\n\n  disableChangeMethod = () => {\n    this.setState({ disableChangeMethod: true });\n  };\n\n  enableChangeMethod = () => {\n    this.setState({ disableChangeMethod: false });\n  };\n\n  //\n  // State\n  //\n\n  finalize = () => {\n    const { number, setFinalized } = this.props;\n    setFinalized(number, true);\n  };\n\n  reset = (shouldResetBIP32Path) => {\n    const { number, setPublicKey, resetBIP32Path, setFinalized } = this.props;\n    setPublicKey(number, \"\");\n    setFinalized(number, false);\n    if (shouldResetBIP32Path) {\n      resetBIP32Path(number);\n    }\n  };\n\n  //\n  // Position\n  //\n\n  moveUp = (event) => {\n    const { moveUp, number } = this.props;\n    event.preventDefault();\n    moveUp(number);\n  };\n\n  moveDown = (event) => {\n    const { moveDown, number } = this.props;\n    event.preventDefault();\n    moveDown(number);\n  };\n\n  //\n  // BIP32 Path\n  //\n\n  renderBIP32Path = () => {\n    const { publicKeyImporter } = this.props;\n    if (publicKeyImporter.method !== TEXT) {\n      return (\n        <Box mt={4}>\n          <p>The BIP32 path for this public key is:</p>\n          <Grid container justify=\"center\">\n            <Copyable text={publicKeyImporter.bip32Path} code />\n          </Grid>\n          <Box mt={4}>\n            <p>\n              You will need this BIP32 path to sign for this key later.{\" \"}\n              <strong>Write down this BIP32 path!</strong>\n            </p>\n          </Box>\n        </Box>\n      );\n    }\n    return null;\n  };\n\n  //\n  // Public Key\n  //\n\n  renderPublicKey = () => {\n    const { publicKeyImporter } = this.props;\n    return (\n      <div>\n        <p>The following public key was imported:</p>\n        <Grid container justify=\"center\">\n          <Copyable text={publicKeyImporter.publicKey} showIcon code />\n        </Grid>\n        {this.renderBIP32Path()}\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            size=\"small\"\n            onClick={() => {\n              this.reset(publicKeyImporter.method === HERMIT);\n            }}\n          >\n            Remove Public Key\n          </Button>\n        </Box>\n      </div>\n    );\n  };\n\n  handleImport = ({ bip32Path, publicKey }) => {\n    const { number, setBIP32Path, setPublicKey } = this.props;\n\n    // bip32Path is not present in the TEXT input method.\n    if (bip32Path) {\n      setBIP32Path(number, bip32Path);\n    }\n    setPublicKey(number, publicKey);\n    this.finalize();\n  };\n\n  validatePublicKey = (publicKey) => {\n    const { number, addressType, publicKeyImporters } = this.props;\n    const publicKeyError = baseValidatePublicKey(publicKey, addressType);\n    if (publicKeyError) {\n      return publicKeyError;\n    }\n\n    const duplicateError =\n      publicKey &&\n      Object.values(publicKeyImporters).find(\n        (publicKeyImporter, publicKeyImporterIndex) =>\n          publicKeyImporterIndex !== number - 1 &&\n          publicKeyImporter.publicKey === publicKey\n      )\n        ? \"This public key has already been imported.\"\n        : null;\n    if (duplicateError) {\n      return duplicateError;\n    }\n\n    return \"\";\n  };\n\n  render() {\n    const { publicKeyImporter } = this.props;\n    const publicKeyError = this.validatePublicKey(publicKeyImporter.publicKey);\n    return (\n      <Card>\n        <CardHeader title={this.title()} />\n        <CardContent>\n          {publicKeyImporter.method &&\n            publicKeyImporter.method !== TEXT &&\n            publicKeyImporter.conflict && (\n              <Conflict message=\"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!\" />\n            )}\n          {publicKeyError.includes(\n            \"does not support uncompressed public keys\"\n          ) && <Conflict message={publicKeyError} />}\n          {publicKeyImporter.finalized\n            ? this.renderPublicKey()\n            : this.renderImport()}\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nPublicKeyImporter.propTypes = {\n  network: PropTypes.string.isRequired,\n  totalSigners: PropTypes.number.isRequired,\n  number: PropTypes.number.isRequired,\n  publicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    conflict: PropTypes.bool,\n    finalized: PropTypes.bool,\n    method: PropTypes.string,\n    name: PropTypes.string,\n    publicKey: PropTypes.string,\n  }).isRequired,\n  publicKeyImporters: PropTypes.shape({}).isRequired,\n  defaultBIP32Path: PropTypes.string.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  addressType: PropTypes.string.isRequired,\n  setName: PropTypes.func.isRequired,\n  setBIP32Path: PropTypes.func.isRequired,\n  setMethod: PropTypes.func.isRequired,\n  setPublicKey: PropTypes.func.isRequired,\n  setFinalized: PropTypes.func.isRequired,\n  moveUp: PropTypes.func.isRequired,\n  moveDown: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.settings,\n    ...state.address,\n    ...{ publicKeyImporter: state.address.publicKeyImporters[ownProps.number] },\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setPublicKeyImporterName,\n  setBIP32Path: setPublicKeyImporterBIP32Path,\n  resetBIP32Path: resetPublicKeyImporterBIP32Path,\n  setMethod: setPublicKeyImporterMethod,\n  setPublicKey: setPublicKeyImporterPublicKey,\n  setFinalized: setPublicKeyImporterFinalized,\n  moveUp: movePublicKeyImporterUp,\n  moveDown: movePublicKeyImporterDown,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PublicKeyImporter);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Grid, Box } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\n\n// Components\nimport NetworkPicker from \"../NetworkPicker\";\nimport QuorumPicker from \"../QuorumPicker\";\nimport AddressTypePicker from \"../AddressTypePicker\";\nimport AddressGenerator from \"./AddressGenerator\";\nimport PublicKeyImporter from \"./PublicKeyImporter\";\nimport ClientPicker from \"../ClientPicker\";\nimport ImportAddressesButton from \"../ImportAddressesButton\";\n\nimport { clientPropTypes } from \"../../proptypes\";\nimport \"../styles.css\";\n\nclass CreateAddress extends React.Component {\n  render = () => {\n    const { address, client } = this.props;\n    return (\n      <Box mt={2}>\n        <Grid container spacing={3}>\n          <Grid item xs={12}>\n            <h1>Address Generator</h1>\n          </Grid>\n          <Grid item md={8}>\n            {this.renderPublicKeyImporters()}\n            <Box mt={2}>\n              <AddressGenerator />\n            </Box>\n          </Grid>\n          <Grid item md={4}>\n            <Box>\n              <QuorumPicker />\n            </Box>\n            <Box mt={2}>\n              <AddressTypePicker />\n            </Box>\n            <Box mt={2}>\n              <NetworkPicker />\n            </Box>\n            <Box mt={2}>\n              <ClientPicker\n                publicNotes={\n                  <span>\n                    If you plan to use this address with your own bitcoind node\n                    you can import the address created here by switching for\n                    &quot;Public&quot; to &quot;Private&quot;. Otherwise no\n                    action is needed here.\n                  </span>\n                }\n                privateNotes={\n                  <div>\n                    <ImportAddressesButton\n                      addresses={[address]}\n                      client={client}\n                    />\n                  </div>\n                }\n              />\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  renderPublicKeyImporters = () => {\n    const { totalSigners } = this.props;\n    const publicKeyImporters = [];\n    for (\n      let publicKeyImporterNum = 1;\n      publicKeyImporterNum <= totalSigners;\n      publicKeyImporterNum += 1\n    ) {\n      publicKeyImporters.push(\n        <Box key={publicKeyImporterNum} mt={publicKeyImporterNum === 1 ? 0 : 2}>\n          <PublicKeyImporter number={publicKeyImporterNum} />\n        </Box>\n      );\n    }\n    return publicKeyImporters;\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...{ totalSigners: state.settings.totalSigners },\n    ...state.address,\n    client: state.client,\n  };\n}\n\nCreateAddress.propTypes = {\n  address: PropTypes.string,\n  totalSigners: PropTypes.number.isRequired,\n  client: PropTypes.shape(clientPropTypes).isRequired,\n};\n\nCreateAddress.defaultProps = {\n  address: \"\",\n};\n\nexport default connect(mapStateToProps)(CreateAddress);\n","export const START_TEST_SUITE_RUN = \"START_TEST_SUITE_RUN\";\nexport const SET_CURRENT_TEST_RUN = \"SET_CURRENT_TEST_RUN\";\n\nexport function startTestSuiteRun() {\n  return {\n    type: START_TEST_SUITE_RUN,\n  };\n}\n\nexport function setCurrentTestRun(runIndex) {\n  return {\n    type: SET_CURRENT_TEST_RUN,\n    value: runIndex,\n  };\n}\n","export const SET_KEYSTORE = \"SET_KEYSTORE\";\nexport const SET_KEYSTORE_NOTE = \"SET_KEYSTORE_NOTE\";\nexport const SET_KEYSTORE_STATUS = \"SET_KEYSTORE_STATUS\";\n\nexport function setKeystore(keystoreType, version) {\n  return {\n    type: SET_KEYSTORE,\n    keystoreType,\n    version,\n  };\n}\n\nexport function setKeystoreNote(text) {\n  return {\n    type: SET_KEYSTORE_NOTE,\n    value: text,\n  };\n}\n\nexport function setKeystoreStatus(status) {\n  return {\n    type: SET_KEYSTORE_STATUS,\n    value: status,\n  };\n}\n","export const START_TEST_RUN = \"START_TEST_RUN\";\nexport const END_TEST_RUN = \"END_TEST_RUN\";\nexport const RESET_TEST_RUN = \"RESET_TEST_RUN\";\nexport const SET_TEST_RUN_NOTE = \"SET_TEST_RUN_NOTE\";\n\nexport function startTestRun(testRunIndex) {\n  return {\n    type: START_TEST_RUN,\n    testRunIndex,\n  };\n}\n\nexport function endTestRun(testRunIndex, status, message) {\n  return {\n    type: END_TEST_RUN,\n    testRunIndex,\n    status,\n    message,\n  };\n}\n\nexport function resetTestRun(testRunIndex) {\n  return {\n    type: RESET_TEST_RUN,\n    testRunIndex,\n  };\n}\n\nexport function setTestRunNote(testRunIndex, text) {\n  return {\n    type: SET_TEST_RUN_NOTE,\n    testRunIndex,\n    note: text,\n  };\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\n\nimport { TextField } from \"@material-ui/core\";\nimport { setKeystoreNote } from \"../../actions/keystoreActions\";\nimport { setTestRunNote } from \"../../actions/testRunActions\";\n\nconst KEYSTORE_MODE = \"keystore\";\nconst TEST_RUN_MODE = \"testRun\";\n\nclass NoteBase extends React.Component {\n  handleChange = (event) => {\n    const { setNote, mode, testRunIndex } = this.props;\n    const newNote = event.target.value;\n    if (mode === TEST_RUN_MODE) {\n      setNote(testRunIndex, newNote);\n    } else {\n      setNote(newNote);\n    }\n  };\n\n  render() {\n    const { note } = this.props;\n    return (\n      <TextField\n        name=\"notes\"\n        label=\"Notes\"\n        value={note}\n        onChange={this.handleChange}\n        multiline\n        fullWidth\n        rows={3}\n      />\n    );\n  }\n}\n\nNoteBase.propTypes = {\n  note: PropTypes.string.isRequired,\n  mode: PropTypes.string.isRequired,\n  setNote: PropTypes.func.isRequired,\n  testRunIndex: PropTypes.number,\n};\n\nNoteBase.defaultProps = {\n  testRunIndex: 0,\n};\n\nconst mapStateToKeystoreNoteProps = (state) => {\n  return {\n    note: state.keystore.note,\n    mode: KEYSTORE_MODE,\n  };\n};\n\nconst mapDispatchToKeystoreNoteProps = {\n  setNote: setKeystoreNote,\n};\n\nconst mapStateToTestRunNoteProps = (state) => {\n  return {\n    mode: TEST_RUN_MODE,\n    testRunIndex: state.testSuiteRun.currentTestRunIndex,\n    note: state.testSuiteRun.testRuns[state.testSuiteRun.currentTestRunIndex]\n      .note,\n  };\n};\n\nconst mapDispatchToTestRunNoteProps = {\n  setNote: setTestRunNote,\n};\n\nconst KeystoreNote = connect(\n  mapStateToKeystoreNoteProps,\n  mapDispatchToKeystoreNoteProps\n)(NoteBase);\nconst TestRunNote = connect(\n  mapStateToTestRunNoteProps,\n  mapDispatchToTestRunNoteProps\n)(NoteBase);\n\nexport { KeystoreNote, TestRunNote };\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n  COLDCARD,\n  PENDING,\n  ACTIVE,\n  INDIRECT_KEYSTORES,\n  GetMetadata,\n} from \"unchained-wallets\";\n\nimport {\n  Box,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n  Button,\n} from \"@material-ui/core\";\nimport * as keystoreActions from \"../../actions/keystoreActions\";\nimport { setErrorNotification as setErrorNotificationAction } from \"../../actions/errorNotificationActions\";\n\nimport { KeystoreNote } from \"./Note\";\nimport InteractionMessages from \"../InteractionMessages\";\n\nconst NO_VERSION_DETECTION = [\"\", ...Object.values(INDIRECT_KEYSTORES)];\n\nclass KeystorePickerBase extends React.Component {\n  detectVersion = async () => {\n    const { type, setKeystore, setKeystoreStatus, setErrorNotification } =\n      this.props;\n    setKeystoreStatus(ACTIVE);\n    try {\n      const result = await this.interaction().run();\n      if (result) {\n        setKeystore(type, result.spec);\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      setErrorNotification(e.message);\n    }\n    setKeystoreStatus(PENDING);\n  };\n\n  interaction = () => {\n    const { type } = this.props;\n    return GetMetadata({ keystore: type });\n  };\n\n  handleTypeChange = (event) => {\n    const { version, setKeystore } = this.props;\n    const newType = event.target.value;\n    setKeystore(newType, version);\n  };\n\n  handleVersionChange = (event) => {\n    const { type, setKeystore } = this.props;\n    const newVersion = event.target.value;\n    setKeystore(type, newVersion);\n  };\n\n  render() {\n    const { type, status, version } = this.props;\n    return (\n      <Box>\n        <Grid container spacing={2} justify=\"center\">\n          <Grid item md={4}>\n            <FormControl fullWidth>\n              <InputLabel id=\"keystore-select-label\">Type</InputLabel>\n              <Select\n                labelId=\"keystore-select-label\"\n                id=\"keystore-select\"\n                value={type}\n                onChange={this.handleTypeChange}\n              >\n                <MenuItem value=\"\">{\"< Select type >\"}</MenuItem>\n                <MenuItem value={TREZOR}>Trezor</MenuItem>\n                <MenuItem value={LEDGER}>Ledger</MenuItem>\n                <MenuItem value={COLDCARD}>Coldcard</MenuItem>\n                <MenuItem value={HERMIT}>Hermit</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n\n          <Grid item md={6}>\n            <TextField\n              name=\"version\"\n              fullWidth\n              label=\"Version\"\n              value={version}\n              disabled={type === \"\"}\n              onChange={this.handleVersionChange}\n            />\n          </Grid>\n\n          <Grid item md={2}>\n            <Button\n              disabled={\n                status === ACTIVE || NO_VERSION_DETECTION.includes(type)\n              }\n              onClick={this.detectVersion}\n            >\n              {status === ACTIVE ? \"Detecting...\" : \"Detect\"}\n            </Button>\n          </Grid>\n        </Grid>\n\n        {type && !NO_VERSION_DETECTION.includes(type) && (\n          <InteractionMessages\n            messages={this.interaction().messagesFor({ state: status })}\n          />\n        )}\n\n        <KeystoreNote />\n      </Box>\n    );\n  }\n}\n\nKeystorePickerBase.propTypes = {\n  setErrorNotification: PropTypes.func.isRequired,\n  setKeystore: PropTypes.func.isRequired,\n  setKeystoreStatus: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  version: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.keystore,\n  };\n};\n\nconst mapDispatchToProps = {\n  ...keystoreActions,\n  setErrorNotification: setErrorNotificationAction,\n};\n\nconst KeystorePicker = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KeystorePickerBase);\n\nexport default KeystorePicker;\n","import { diffChars, diffArrays, diffJson } from \"diff\";\n\nconst SUCCESS = \"success\";\nconst FAILURE = \"failure\";\nconst ERROR = \"error\";\n\nclass Test {\n  static SUCCESS = SUCCESS;\n\n  static FAILURE = FAILURE;\n\n  static ERROR = ERROR;\n\n  // eslint-disable-next-line class-methods-use-this\n  postprocess(thing) {\n    return thing;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  interaction() {\n    throw Error(\"Define the `interaction` method in your subclass of `Test`.\");\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  matches(expected, actual) {\n    if (typeof expected === \"object\" && typeof actual === \"object\") {\n      return Object.keys(actual).every((key) => {\n        return expected[key] === actual[key];\n      });\n    }\n    return expected === actual;\n  }\n\n  constructor(params) {\n    this.params = params || {};\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  diff(expected, actual) {\n    if (typeof expected === \"string\" && typeof actual === \"string\") {\n      return diffChars(expected, actual);\n    }\n    if (typeof expected === \"object\" && typeof actual === \"object\") {\n      if (expected.length !== undefined && actual.length !== undefined) {\n        return diffArrays(expected, actual);\n      }\n      if (expected.length === undefined && actual.length === undefined) {\n        return diffJson(expected, actual);\n      }\n    }\n    return null;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  supports() {\n    return true;\n  }\n\n  name() {\n    return this.params.name;\n  }\n\n  description() {\n    return this.params.description;\n  }\n\n  expected() {\n    return this.params.expected;\n  }\n\n  async actual(data) {\n    return this.postprocess(\n      data ? this.interaction().parse(data) : await this.interaction().run()\n    );\n  }\n\n  async run() {\n    try {\n      const actual = await this.actual();\n      return this.resolve(actual);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      return { status: ERROR, message: e.message };\n    }\n  }\n\n  async runParse(data) {\n    try {\n      const actual = await this.actual(data);\n      // Both Coldcard responses include Objects\n      // but the xpub object includes a rootFingerprint\n      // while signatures only includes pubkeys and signatures\n      const sendToResolver = actual.rootFingerprint\n        ? {\n            // Either an xpub or a pubkey\n            pubkey: actual.pubkey,\n            xpub: actual.xpub || actual.tpub,\n            rootFingerprint: actual.rootFingerprint,\n          }\n        : Object.values(actual)[0];\n      return this.resolve(sendToResolver);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n      return { status: ERROR, message: e.message };\n    }\n  }\n\n  resolve(actual) {\n    const expected = this.expected();\n    if (this.matches(expected, actual)) {\n      return { status: SUCCESS };\n    }\n    return {\n      status: FAILURE,\n      expected,\n      actual,\n      diff: this.diff(expected, actual),\n    };\n  }\n}\n\nexport default Test;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport Bowser from \"bowser\";\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n  COLDCARD,\n  PENDING,\n  ACTIVE,\n  VERSION as UNCHAINED_WALLETS_VERSION,\n} from \"unchained-wallets\";\n\nimport {\n  Grid,\n  Box,\n  Typography,\n  Card,\n  CardHeader,\n  CardContent,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Tooltip,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {\n  ThumbUp as SuccessIcon,\n  ThumbDown as FailureIcon,\n  Error as ErrorIcon,\n  Notes as NoteIcon,\n  MoreHoriz as PendingIcon,\n} from \"@material-ui/icons\";\nimport Test from \"../../tests/Test\";\n\nimport { setCurrentTestRun as setCurrentTestRunAction } from \"../../actions/testSuiteRunActions\";\n\nimport \"./TestSuiteRunSummary.css\";\n\nclass TestSuiteRunSummaryBase extends React.Component {\n  render = () => {\n    const { testSuiteRun, keystore } = this.props;\n    const environment = Bowser.getParser(window.navigator.userAgent);\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Summary\" />\n            <CardContent>\n              <dl>\n                <dt>OS:</dt>\n                <dd>\n                  {environment.getOSName()} {environment.getOSVersion()}\n                </dd>\n                <dt>Browser:</dt>\n                <dd>\n                  {environment.getBrowserName()}{\" \"}\n                  {environment.getBrowserVersion()}\n                </dd>\n                <dt>unchained-wallets:</dt>\n                <dd>\n                  v.\n                  {UNCHAINED_WALLETS_VERSION}\n                </dd>\n                {keystore.type && (\n                  <Box>\n                    <dt>Keystore:</dt>\n                    <dd>\n                      {this.keystoreName(keystore.type)} {keystore.version}\n                    </dd>\n                  </Box>\n                )}\n                {keystore.note && (\n                  <Box>\n                    <dt>Notes:</dt>\n                    <dd>{keystore.note}</dd>\n                  </Box>\n                )}\n              </dl>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader\n              title=\"Tests\"\n              subheader={`${testSuiteRun.testRuns.length} Total`}\n            />\n            <CardContent>{this.renderTests()}</CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  renderTests = () => {\n    const { testSuiteRun, keystore } = this.props;\n    if (keystore.type === \"\") {\n      return <p>Choose a keystore type to generate a test suite...</p>;\n    }\n    return (\n      <Box>\n        <Typography variant=\"h6\">\n          <span className=\"TestSuiteRunSummary-success\">\n            {\n              testSuiteRun.testRuns.filter(\n                (testRun) => testRun.status === Test.SUCCESS\n              ).length\n            }{\" \"}\n            <small>SUCCESS</small>\n          </span>\n          &nbsp; / &nbsp;\n          <span className=\"TestSuiteRunSummary-failure\">\n            {\n              testSuiteRun.testRuns.filter(\n                (testRun) => testRun.status === Test.FAILURE\n              ).length\n            }{\" \"}\n            <small>FAIL</small>\n          </span>\n          &nbsp; / &nbsp;\n          <span className=\"TestSuiteRunSummary-error\">\n            {\n              testSuiteRun.testRuns.filter(\n                (testRun) => testRun.status === Test.ERROR\n              ).length\n            }{\" \"}\n            <small>ERROR</small>\n          </span>\n        </Typography>\n\n        <Divider />\n\n        <List\n          style={{ maxHeight: \"200px\", overflow: \"auto\" }}\n          dense\n          component=\"nav\"\n        >\n          {testSuiteRun.testRuns.map(this.renderTestRun)}\n        </List>\n      </Box>\n    );\n  };\n\n  renderTestRun = (testRun, i) => {\n    const { testSuiteRun } = this.props;\n    return (\n      <ListItem\n        selected={testSuiteRun.currentTestRunIndex === i}\n        button\n        key={i}\n        onClick={this.testRunChooser(i)}\n        disabled={!testSuiteRun.started}\n      >\n        {this.renderTestRunResult(testRun)}\n        <ListItemText>\n          {testRun.test.name()}\n          {testRun.status !== PENDING && testRun.status !== ACTIVE && (\n            <small>\n              &nbsp; (\n              {moment\n                .duration(testRun.endedAt.diff(testRun.startedAt))\n                .asSeconds()}\n              s)\n            </small>\n          )}\n        </ListItemText>\n        {testRun.note && (\n          <ListItemIcon>\n            <Tooltip title={testRun.note}>\n              <NoteIcon />\n            </Tooltip>\n          </ListItemIcon>\n        )}\n      </ListItem>\n    );\n  };\n\n  renderTestRunResult = (testRun) => {\n    switch (testRun.status) {\n      case PENDING:\n        return (\n          <ListItemIcon>\n            <PendingIcon className=\"TestSuiteRunSummary-pending\" />\n          </ListItemIcon>\n        );\n      case Test.SUCCESS:\n        return (\n          <ListItemIcon>\n            <SuccessIcon className=\"TestSuiteRunSummary-success\" />\n          </ListItemIcon>\n        );\n      case Test.FAILURE:\n        return (\n          <ListItemIcon>\n            <FailureIcon className=\"TestSuiteRunSummary-failure\" />\n          </ListItemIcon>\n        );\n      case Test.ERROR:\n        return (\n          <ListItemIcon>\n            <ErrorIcon className=\"TestSuiteRunSummary-error\" />\n          </ListItemIcon>\n        );\n      case ACTIVE:\n        return (\n          <ListItemIcon>\n            <CircularProgress className=\"TestSuiteRunSummary-active\" />\n          </ListItemIcon>\n        );\n      default:\n        return null;\n    }\n  };\n\n  testRunChooser = (testRunIndex) => {\n    const { setCurrentTestRun } = this.props;\n    return () => {\n      setCurrentTestRun(testRunIndex);\n    };\n  };\n\n  keystoreName = (type) => {\n    switch (type) {\n      case TREZOR:\n        return \"Trezor\";\n      case LEDGER:\n        return \"Ledger\";\n      case HERMIT:\n        return \"Hermit\";\n      case COLDCARD:\n        return \"Coldcard\";\n      default:\n        return \"\";\n    }\n  };\n}\n\nTestSuiteRunSummaryBase.propTypes = {\n  keystore: PropTypes.shape({\n    note: PropTypes.string,\n    type: PropTypes.string,\n    version: PropTypes.string,\n  }).isRequired,\n  testSuiteRun: PropTypes.shape({\n    currentTestRunIndex: PropTypes.number,\n    started: PropTypes.bool,\n    testRuns: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n  setCurrentTestRun: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    keystore: state.keystore,\n    testSuiteRun: state.testSuiteRun,\n  };\n};\n\nconst mapDispatchToProps = {\n  setCurrentTestRun: setCurrentTestRunAction,\n};\n\nconst TestSuiteRunSummary = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TestSuiteRunSummaryBase);\n\nexport default TestSuiteRunSummary;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  PENDING,\n  ACTIVE,\n  HERMIT,\n  COLDCARD,\n  INDIRECT_KEYSTORES,\n} from \"unchained-wallets\";\nimport {\n  Box,\n  Typography,\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Button,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {\n  ThumbUp as SuccessIcon,\n  ThumbDown as FailureIcon,\n  Error as ErrorIcon,\n} from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport Test from \"../../tests/Test\";\nimport * as testRunActions from \"../../actions/testRunActions\";\nimport * as errorNotificationActions from \"../../actions/errorNotificationActions\";\nimport InteractionMessages from \"../InteractionMessages\";\nimport { TestRunNote } from \"./Note\";\nimport { HermitReader, HermitDisplayer } from \"../Hermit\";\nimport {\n  ColdcardJSONReader,\n  ColdcardPSBTReader,\n  ColdcardSigningButtons,\n} from \"../Coldcard\";\nimport \"./TestRun.css\";\nimport { downloadFile } from \"../../utils\";\n\nconst SPACEBAR_CODE = 32;\n\nclass TestRunBase extends React.Component {\n  componentDidMount = () => {\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  handleKeyDown = (event) => {\n    const { status, isLastTest, nextTest } = this.props;\n    if (event.keyCode !== SPACEBAR_CODE) {\n      return;\n    }\n    if (event.target.tagName.toLowerCase() === \"textarea\") {\n      return;\n    }\n    event.preventDefault();\n    if (status === ACTIVE) {\n      return;\n    }\n    if (status === PENDING) {\n      this.start();\n    } else if (!isLastTest) {\n      nextTest();\n    }\n  };\n\n  handleDownloadPSBTClick = () => {\n    const { test } = this.props;\n    const interaction = test.interaction();\n    const nameBits = test.name().split(\" \");\n    const body = interaction.request().toBase64();\n    const timestamp = moment().format(\"HHmm\");\n    const filename = `${timestamp}-${nameBits[2]}-${nameBits[1][0]}.psbt`;\n    downloadFile(body, filename);\n  };\n\n  handledDownloadWalletConfigClick = () => {\n    const { test } = this.props;\n    const nameBits = test.name().split(\" \");\n    const name = `${nameBits[2].toLowerCase()}-${nameBits[1][0]}`;\n    // FIXME - need to know firmware version and then set P2WSH-P2SH vs P2SH-P2WSH appropriately\n    //   leaving it as P2WSH-P2SH for now.\n    let output = `# Coldcard Multisig setup file for test suite\n#\nName: ${name}\nPolicy: 2 of 2\nFormat: ${test.params.format.includes(\"-\") ? \"P2WSH-P2SH\" : test.params.format}\nDerivation: ${test.params.derivation}\n\n`;\n    // We need to loop over xpubs and output `xfp: xpub` for each\n    const xpubs = test.params.extendedPublicKeys.map(\n      (xpub) => `${xpub.rootFingerprint}: ${xpub.base58String}`\n    );\n    output += xpubs.join(\"\\r\\n\");\n    output += \"\\r\\n\";\n    const filename = `wc-${name}.txt`;\n    downloadFile(output, filename);\n  };\n\n  render = () => {\n    const { test, testRunIndex, status, keystore } = this.props;\n    if (!test) {\n      return (\n        <Box>\n          <p>No test selected.</p>\n        </Box>\n      );\n    }\n    return (\n      <Box>\n        <Card>\n          <CardHeader\n            title={test.name()}\n            subheader={`Test ${testRunIndex + 1}`}\n          />\n          <CardContent>\n            {test.description()}\n            {keystore.type === COLDCARD && !test.unsignedTransaction && (\n              <Box align=\"center\">\n                <ColdcardJSONReader\n                  interaction={test.interaction()}\n                  onReceive={this.startParse}\n                  onStart={this.start}\n                  setError={this.reset}\n                  isTest\n                />\n              </Box>\n            )}\n            {keystore.type === COLDCARD && test.unsignedTransaction && (\n              <Box align=\"center\" style={{ marginTop: \"2em\" }}>\n                <ColdcardSigningButtons\n                  handlePSBTDownloadClick={this.handleDownloadPSBTClick}\n                  handleWalletConfigDownloadClick={\n                    this.handledDownloadWalletConfigClick\n                  }\n                />\n                <ColdcardPSBTReader\n                  interaction={test.interaction()}\n                  onReceivePSBT={this.startParse}\n                  onStart={this.start}\n                  setError={this.reset}\n                  fileType=\"PSBT\"\n                  validFileFormats=\".psbt\"\n                />\n              </Box>\n            )}\n            {this.renderInteractionMessages()}\n            {status === PENDING &&\n              !Object.values(INDIRECT_KEYSTORES).includes(keystore.type) && (\n                <Box align=\"center\">\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={this.start}\n                  >\n                    Start Test\n                  </Button>\n                </Box>\n              )}\n            {keystore.type === HERMIT &&\n              test.interaction().displayer &&\n              status === PENDING && (\n                <Box align=\"center\">\n                  <HermitDisplayer\n                    width={400}\n                    string={test.interaction().request()}\n                  />\n                </Box>\n              )}\n            {keystore.type === HERMIT && !this.testComplete() && (\n              <Box>\n                <HermitReader\n                  onStart={this.start}\n                  onSuccess={this.resolve}\n                  onClear={this.reset}\n                  startText=\"Scan Hermit Response\"\n                  interaction={test.interaction()}\n                />\n              </Box>\n            )}\n            {this.testComplete() && this.renderResult()}\n\n            <TestRunNote />\n          </CardContent>\n          <CardActions>\n            {status === ACTIVE && (\n              <Button disabled>\n                <CircularProgress />\n                &nbsp; Running test...\n              </Button>\n            )}\n            {this.testComplete() && (\n              <Button color=\"secondary\" onClick={this.reset}>\n                Reset Test\n              </Button>\n            )}\n          </CardActions>\n        </Card>\n      </Box>\n    );\n  };\n\n  testComplete = () => {\n    const { status } = this.props;\n    return (\n      status === Test.SUCCESS ||\n      status === Test.ERROR ||\n      status === Test.FAILURE\n    );\n  };\n\n  renderInteractionMessages = () => {\n    const { status, test } = this.props;\n    if (status === PENDING || status === ACTIVE) {\n      return (\n        <InteractionMessages\n          excludeCodes={[\"hermit.command\"]}\n          messages={test.interaction().messagesFor({ state: status })}\n        />\n      );\n    }\n    return null;\n  };\n\n  renderResult = () => {\n    const { status, message } = this.props;\n    switch (status) {\n      case Test.SUCCESS:\n        return (\n          <Box mt={2} align=\"center\">\n            <Typography variant=\"h5\" className=\"TestRun-success\">\n              <SuccessIcon />\n              &nbsp; Test passed\n            </Typography>\n          </Box>\n        );\n      case Test.FAILURE:\n        return (\n          <Box mt={2}>\n            <Box align=\"center\">\n              <Typography variant=\"h5\" className=\"TestRun-failure\">\n                <FailureIcon />\n                &nbsp; Test failed\n              </Typography>\n            </Box>\n            {message}\n          </Box>\n        );\n      case Test.ERROR:\n        return (\n          <Box mt={2}>\n            <Box align=\"center\">\n              <Typography variant=\"h5\" className=\"TestRun-error\">\n                <ErrorIcon />\n                &nbsp; Test error\n              </Typography>\n            </Box>\n            {message}\n          </Box>\n        );\n      default:\n        return null;\n    }\n  };\n\n  start = async () => {\n    const { test, keystore, testRunIndex, startTestRun } = this.props;\n    startTestRun(testRunIndex);\n    if (keystore.type === HERMIT) {\n      return;\n    }\n    const result = await test.run();\n    this.handleResult(result);\n  };\n\n  startParse = async (data) => {\n    const { test, testRunIndex, startTestRun } = this.props;\n    startTestRun(testRunIndex);\n    const result = await test.runParse(data);\n    this.handleResult(result);\n  };\n\n  resolve = (actual) => {\n    const { test } = this.props;\n    const result = test.resolve(test.postprocess(actual));\n    this.handleResult(result);\n  };\n\n  handleResult = (result) => {\n    const { testRunIndex, endTestRun, setErrorNotification } = this.props;\n    if (result.status === Test.ERROR) {\n      setErrorNotification(result.message);\n    }\n    endTestRun(testRunIndex, result.status, this.formatMessage(result));\n  };\n\n  reset = () => {\n    const { testRunIndex, resetTestRun } = this.props;\n    resetTestRun(testRunIndex);\n  };\n\n  formatMessage = (result) => {\n    switch (result.status) {\n      case Test.FAILURE:\n        return (\n          <Box>\n            <dl>\n              <dt>Expected:</dt>\n              <dd>\n                <code className=\"TestRun-wrap\">\n                  {this.formatOutput(result.expected)}\n                </code>\n              </dd>\n              <dt>Actual:</dt>\n              <dd>\n                <code className=\"TestRun-wrap\">\n                  {this.formatOutput(result.actual)}\n                </code>\n              </dd>\n              {result.diff && (\n                <div>\n                  <dt>Diff:</dt>\n                  <dd>\n                    <code className=\"TestRun-wrap\">\n                      {result.diff.map(this.formatDiffSegment)}\n                    </code>\n                  </dd>\n                </div>\n              )}\n            </dl>\n          </Box>\n        );\n      case Test.ERROR:\n        return <code>{result.message}</code>;\n      default:\n        return \"\";\n    }\n  };\n\n  formatOutput = (output) => {\n    switch (typeof output) {\n      case \"object\":\n        return JSON.stringify(output);\n      case \"string\":\n      case \"number\":\n        return output;\n      default:\n        return \"Did not recognize output type\";\n    }\n  };\n\n  formatDiffSegment = (segment, i) => {\n    return (\n      <span\n        key={i}\n        className={`TestRun-diff-segment-${this.diffSegmentClass(segment)}`}\n      >\n        {segment.value}\n      </span>\n    );\n  };\n\n  diffSegmentClass = (segment) => {\n    if (segment.added) {\n      return \"added\";\n    }\n    if (segment.removed) {\n      return \"removed\";\n    }\n    return \"common\";\n  };\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...{ keystore: state.keystore },\n    ...(state.testSuiteRun.testRuns[ownProps.testRunIndex] || {}),\n    ...{ testRunIndex: ownProps.testRunIndex },\n  };\n};\n\nconst mapDispatchToProps = {\n  ...testRunActions,\n  ...errorNotificationActions,\n};\n\nconst TestRun = connect(mapStateToProps, mapDispatchToProps)(TestRunBase);\n\nTestRunBase.propTypes = {\n  endTestRun: PropTypes.func.isRequired,\n  isLastTest: PropTypes.bool.isRequired,\n  keystore: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n  message: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({})])\n    .isRequired,\n  nextTest: PropTypes.func.isRequired,\n  resetTestRun: PropTypes.func.isRequired,\n  testRunIndex: PropTypes.number.isRequired,\n  test: PropTypes.shape({\n    name: PropTypes.func.isRequired,\n    description: PropTypes.func.isRequired,\n    interaction: PropTypes.func.isRequired,\n    params: PropTypes.shape({\n      format: PropTypes.string,\n      derivation: PropTypes.string,\n      extendedPublicKeys: PropTypes.array,\n    }),\n    run: PropTypes.func.isRequired,\n    runParse: PropTypes.func.isRequired,\n    resolve: PropTypes.func.isRequired,\n    postprocess: PropTypes.func.isRequired,\n    unsignedTransaction: PropTypes.func,\n  }),\n  setErrorNotification: PropTypes.func.isRequired,\n  startTestRun: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n};\n\nTestRunBase.defaultProps = {\n  test: {\n    unsignedTransaction: null,\n    params: {},\n  },\n};\n\nexport default TestRun;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { TEST_FIXTURES } from \"unchained-bitcoin\";\nimport { Grid } from \"@material-ui/core\";\nimport { COLDCARD } from \"unchained-wallets\";\nimport PropTypes from \"prop-types\";\n\nconst { bip39Phrase } = TEST_FIXTURES.keys.open_source;\n\nclass SeedBase extends React.Component {\n  static renderSeedWord(word, i) {\n    return (\n      <li key={i}>\n        <code>{word}</code>\n      </li>\n    );\n  }\n\n  render() {\n    const { keystore } = this.props;\n    return (\n      <>\n        <Grid container>\n          <Grid item md={3}>\n            <ol>{bip39Phrase.slice(0, 6).map(SeedBase.renderSeedWord)}</ol>\n          </Grid>\n          <Grid item md={3}>\n            <ol start={7}>\n              {bip39Phrase.slice(6, 12).map(SeedBase.renderSeedWord)}\n            </ol>\n          </Grid>\n          <Grid item md={3}>\n            <ol start={13}>\n              {bip39Phrase.slice(12, 18).map(SeedBase.renderSeedWord)}\n            </ol>\n          </Grid>\n          <Grid item md={3}>\n            <ol start={19}>\n              {bip39Phrase.slice(18, 24).map(SeedBase.renderSeedWord)}\n            </ol>\n          </Grid>\n        </Grid>\n        {keystore && keystore.type === COLDCARD && (\n          <Grid style={{ marginTop: \"2em\", marginBottom: \"2em\" }}>\n            If using the simulator, here&apos;s a handy command with the same\n            seed phrase:\n            <br />\n            <code>\n              ./simulator.py --seed &apos;{bip39Phrase.join(\" \")}&apos;\n            </code>\n          </Grid>\n        )}\n      </>\n    );\n  }\n}\n\nSeedBase.propTypes = {\n  keystore: PropTypes.shape({\n    note: PropTypes.string,\n    type: PropTypes.string,\n    status: PropTypes.string,\n    version: PropTypes.string,\n  }),\n};\n\nSeedBase.defaultProps = {\n  keystore: null,\n};\n\nconst mapStateToProps = () => {\n  return {};\n};\n\nconst mapDispatchToProps = {};\n\nconst Seed = connect(mapStateToProps, mapDispatchToProps)(SeedBase);\n\nexport default Seed;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport { PENDING, ACTIVE } from \"unchained-wallets\";\n\nimport {\n  Grid,\n  Box,\n  Card,\n  CardHeader,\n  CardContent,\n  Button,\n  LinearProgress,\n} from \"@material-ui/core\";\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\nimport * as testSuiteRunActions from \"../../actions/testSuiteRunActions\";\nimport KeystorePicker from \"./KeystorePicker\";\nimport TestSuiteRunSummary from \"./TestSuiteRunSummary\";\nimport TestRun from \"./TestRun\";\nimport Seed from \"./Seed\";\n\nconst SPACEBAR_CODE = 32;\nconst LEFT_ARROW_CODE = 37;\nconst UP_ARROW_CODE = 38;\nconst RIGHT_ARROW_CODE = 39;\nconst DOWN_ARROW_CODE = 40;\n\nclass TestSuiteRunBase extends React.Component {\n  componentDidMount = () => {\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  currentTestIsActive = () => {\n    const { testSuiteRun } = this.props;\n    if (!testSuiteRun.started) {\n      return false;\n    }\n    const test = testSuiteRun.testRuns[testSuiteRun.currentTestRunIndex];\n    if (!test) {\n      return false;\n    }\n    return test.status === ACTIVE;\n  };\n\n  handleKeyDown = (event) => {\n    const { testSuiteRun } = this.props;\n    if (testSuiteRun.started) {\n      if (this.currentTestIsActive()) {\n        return;\n      }\n      switch (event.keyCode) {\n        case LEFT_ARROW_CODE:\n          if (!this.isFirstTest()) {\n            this.previousTest();\n          }\n          break;\n        case UP_ARROW_CODE:\n          if (!this.isFirstTest()) {\n            this.previousTest();\n          }\n          break;\n        case RIGHT_ARROW_CODE:\n          if (!this.isLastTest()) {\n            this.nextTest();\n          }\n          break;\n        case DOWN_ARROW_CODE:\n          if (!this.isLastTest()) {\n            this.nextTest();\n          }\n          break;\n        default:\n          break;\n      }\n    } else {\n      if (event.keyCode !== SPACEBAR_CODE) {\n        return;\n      }\n      const tag = event.target.tagName.toLowerCase();\n      if (tag === \"textarea\" || tag === \"input\") {\n        return;\n      }\n      event.preventDefault();\n      if (this.startDisabled()) {\n        return;\n      }\n      this.start();\n    }\n  };\n\n  render = () => {\n    const { testSuiteRun } = this.props;\n    return (\n      <Box mt={2}>\n        {testSuiteRun.started && (\n          <Box mt={2} mb={2}>\n            <LinearProgress\n              variant=\"determinate\"\n              value={\n                100 *\n                (testSuiteRun.testRuns.filter(\n                  (testRun) =>\n                    testRun.status !== PENDING && testRun.status !== ACTIVE\n                ).length /\n                  testSuiteRun.testRuns.length)\n              }\n            />\n          </Box>\n        )}\n        <Grid container spacing={3}>\n          <Grid item md={4}>\n            <TestSuiteRunSummary />\n          </Grid>\n          <Grid item md={8}>\n            {this.renderBody()}\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  renderSetup = () => {\n    const { keystore } = this.props;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Choose Keystore\" />\n            <CardContent>\n              <KeystorePicker />\n              <Box align=\"center\" mt={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={this.startDisabled()}\n                  onClick={this.start}\n                  type=\"submit\"\n                >\n                  Begin Test Suite\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Keystore Setup\" />\n            <CardContent>\n              <p>\n                Ensure your keystore has been initialized with the following\n                seed:\n              </p>\n              <Seed keystore={keystore} />\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  renderBody = () => {\n    const { testSuiteRun } = this.props;\n    if (testSuiteRun.started) {\n      return (\n        <Box>\n          <TestRun\n            isLastTest={this.isLastTest()}\n            nextTest={this.nextTest}\n            testRunIndex={testSuiteRun.currentTestRunIndex}\n          />\n          <Box mt={2}>\n            <Grid container justify=\"space-between\">\n              <Grid item>\n                <Button\n                  disabled={this.isFirstTest() || this.currentTestIsActive()}\n                  onClick={this.previousTest}\n                >\n                  <ArrowBack /> &nbsp; Previous\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button\n                  disabled={this.isLastTest() || this.currentTestIsActive()}\n                  onClick={this.nextTest}\n                >\n                  Next &nbsp; <ArrowForward />\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      );\n    }\n    return this.renderSetup();\n  };\n\n  start = () => {\n    const { startTestSuiteRun } = this.props;\n    startTestSuiteRun();\n  };\n\n  startDisabled = () => {\n    const { testSuiteRun, keystore } = this.props;\n    return (\n      keystore.type === \"\" ||\n      keystore.status === ACTIVE ||\n      testSuiteRun.started ||\n      testSuiteRun.testRuns.length === 0\n    );\n  };\n\n  isFirstTest = () => {\n    const { testSuiteRun } = this.props;\n    return testSuiteRun.currentTestRunIndex === 0;\n  };\n\n  isLastTest = () => {\n    const { testSuiteRun } = this.props;\n    return (\n      testSuiteRun.currentTestRunIndex === testSuiteRun.testRuns.length - 1\n    );\n  };\n\n  previousTest = () => {\n    const { testSuiteRun, setCurrentTestRun } = this.props;\n    if (testSuiteRun.currentTestRunIndex < 1) {\n      return;\n    }\n    setCurrentTestRun(testSuiteRun.currentTestRunIndex - 1);\n  };\n\n  nextTest = () => {\n    const { testSuiteRun, setCurrentTestRun } = this.props;\n    if (testSuiteRun.currentTestRunIndex === testSuiteRun.testRuns.length - 1) {\n      return;\n    }\n    setCurrentTestRun(testSuiteRun.currentTestRunIndex + 1);\n  };\n}\n\nTestSuiteRunBase.propTypes = {\n  keystore: PropTypes.shape({\n    note: PropTypes.string,\n    type: PropTypes.string,\n    status: PropTypes.string,\n    version: PropTypes.string,\n  }).isRequired,\n  setCurrentTestRun: PropTypes.func.isRequired,\n  startTestSuiteRun: PropTypes.func.isRequired,\n  testSuiteRun: PropTypes.shape({\n    currentTestRunIndex: PropTypes.number,\n    started: PropTypes.bool,\n    testRuns: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    keystore: state.keystore,\n    testSuiteRun: state.testSuiteRun,\n  };\n};\n\nconst mapDispatchToProps = {\n  ...testSuiteRunActions,\n};\n\nconst TestSuiteRun = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TestSuiteRunBase);\n\nexport default TestSuiteRun;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  P2SH,\n  P2SH_P2WSH,\n  P2WSH,\n  generateMultisigFromHex,\n  validateHex,\n  multisigRequiredSigners,\n  multisigTotalSigners,\n} from \"unchained-bitcoin\";\nimport {\n  Box,\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Button,\n  TextField,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport { fetchAddressUTXOs } from \"../../blockchain\";\n\n// Components\nimport MultisigDetails from \"../MultisigDetails\";\nimport ImportAddressesButton from \"../ImportAddressesButton\";\n\n// Actions\nimport { setFrozen as setFrozenAction } from \"../../actions/settingsActions\";\nimport {\n  choosePerformSpend as chosePerformSpendAction,\n  setRequiredSigners as setRequiredSignersAction,\n  setTotalSigners as setTotalSignersAction,\n  setInputs as setInputsAction,\n} from \"../../actions/transactionActions\";\nimport {\n  chooseConfirmOwnership as chooseConfirmOwnershipAction,\n  setOwnershipMultisig as setOwnershipMultisigAction,\n} from \"../../actions/ownershipActions\";\n\nclass ScriptEntry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scriptHex: \"\",\n      scriptError: \"\",\n      fetchUTXOsError: \"\",\n      fetchedUTXOs: false,\n    };\n  }\n\n  disabled = () => {};\n\n  hasScriptError = () => {\n    const { scriptError } = this.state;\n    return scriptError !== \"\";\n  };\n\n  hasFetchUTXOsError = () => {\n    const { fetchUTXOsError } = this.state;\n    return fetchUTXOsError !== \"\";\n  };\n\n  hasError = () => this.hasScriptError() || this.hasFetchUTXOsError();\n\n  //\n  // Script\n  //\n\n  scriptName = () => {\n    const { addressType } = this.props;\n    switch (addressType) {\n      case P2SH:\n        return \"redeem\";\n      case P2SH_P2WSH:\n        return \"witness\";\n      case P2WSH:\n        return \"witness\";\n      default:\n        return null;\n    }\n  };\n\n  scriptTitle = () => {\n    const scriptName = this.scriptName();\n    return scriptName.charAt(0).toUpperCase() + scriptName.substring(1);\n  };\n\n  handleScriptChange = (event) => {\n    const scriptHex = event.target.value;\n    let scriptError = \"\";\n\n    if (scriptHex === \"\") {\n      scriptError = `${this.scriptTitle()} script cannot be blank.`;\n    }\n\n    if (\n      scriptError === \"\" &&\n      (scriptHex.includes(\"\\n\") ||\n        scriptHex.includes(\"\\t\") ||\n        scriptHex.includes(\" \"))\n    ) {\n      scriptError = `${this.scriptTitle()} script should not contain spaces, tabs, or newlines.`;\n    }\n\n    if (scriptError === \"\") {\n      const hexError = validateHex(scriptHex);\n      if (hexError !== \"\") {\n        scriptError = `${this.scriptTitle()} script is not valid hex.`;\n      }\n    }\n\n    if (scriptHex !== \"\" && scriptError === \"\") {\n      try {\n        this.generateMultisig(scriptHex);\n      } catch (parseError) {\n        // eslint-disable-next-line no-console\n        console.error(parseError);\n        scriptError = `Failed to parse ${this.scriptName()} script.`;\n      }\n    }\n\n    this.setState({\n      scriptHex,\n      scriptError,\n      fetchUTXOsError: \"\",\n      fetchedUTXOs: false,\n    });\n  };\n\n  generateMultisig = (newScriptHex) => {\n    const { network, addressType } = this.props;\n    const { scriptHex } = this.state;\n    let multisigScriptHex = scriptHex;\n    if (newScriptHex) multisigScriptHex = newScriptHex;\n\n    return generateMultisigFromHex(network, addressType, multisigScriptHex);\n  };\n\n  //\n  // Details\n  //\n\n  renderDetails = () => {\n    const { fetchUTXOsError } = this.state;\n    const { chosePerformSpend, choseConfirmOwnership, client } = this.props;\n    const multisig = this.generateMultisig();\n    const buttonsDisabled = chosePerformSpend || choseConfirmOwnership;\n    return (\n      <div>\n        <MultisigDetails multisig={multisig} />\n        <Box mt={2}>\n          <Grid container spacing={3}>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                onClick={this.performSpend}\n                disabled={buttonsDisabled}\n              >\n                Spend from this address\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                size=\"large\"\n                onClick={this.confirmOwnership}\n                disabled={buttonsDisabled}\n              >\n                Confirm ownership\n              </Button>\n            </Grid>\n          </Grid>\n          <FormHelperText error>{fetchUTXOsError}</FormHelperText>\n        </Box>\n        {client.type === \"private\" && (\n          <Box mt={2}>\n            <ImportAddressesButton\n              addresses={[multisig.address]}\n              client={client}\n            />\n          </Box>\n        )}\n      </div>\n    );\n  };\n\n  //\n  // Perform Spend\n  //\n\n  performSpend = async () => {\n    const {\n      setRequiredSigners,\n      setTotalSigners,\n      setInputs,\n      setFrozen,\n      choosePerformSpend,\n    } = this.props;\n    const multisig = this.generateMultisig();\n    const fetchUTXOsResult = await this.fetchUTXOs(multisig);\n    if (fetchUTXOsResult) {\n      const { utxos, balanceSats } = fetchUTXOsResult;\n      let fetchUTXOsError = \"\";\n      if (balanceSats.isLessThanOrEqualTo(0)) {\n        fetchUTXOsError = \"This address has a zero balance.\";\n      }\n      this.setState({\n        fetchedUTXOs: true,\n        fetchUTXOsError,\n      });\n      if (fetchUTXOsError === \"\") {\n        // transaction methods expect inputs to have a multisig prop\n        // that provides input info such as address\n        const inputs = utxos.map((utxo) => {\n          const input = { ...utxo, multisig };\n          return input;\n        });\n        setInputs(inputs);\n        setRequiredSigners(multisigRequiredSigners(multisig));\n        setTotalSigners(multisigTotalSigners(multisig));\n        setFrozen(true);\n        choosePerformSpend();\n      }\n    } else {\n      this.setState({\n        fetchedUTXOs: false,\n        fetchUTXOsError: \"Failed to fetch UTXOs.\",\n      });\n    }\n  };\n\n  fetchUTXOs = async (multisig) => {\n    const { network, client } = this.props;\n    const addressData = await fetchAddressUTXOs(\n      multisig.address,\n      network,\n      client\n    );\n\n    if (addressData && addressData.utxos && addressData.utxos.length)\n      return addressData;\n\n    return false;\n  };\n\n  //\n  // Confirm Ownership\n  //\n\n  confirmOwnership = () => {\n    const { chooseConfirmOwnership, setOwnershipMultisig, setFrozen } =\n      this.props;\n    setOwnershipMultisig(this.generateMultisig());\n    chooseConfirmOwnership();\n    setFrozen(true);\n  };\n\n  //\n  // Render\n  //\n  render() {\n    const { scriptHex, scriptError, fetchedUTXOs } = this.state;\n\n    return (\n      <Card>\n        <CardHeader title={`Enter ${this.scriptTitle()} Script`} />\n        <CardContent>\n          <form>\n            <TextField\n              fullWidth\n              multiline\n              autoFocus\n              variant=\"outlined\"\n              label={`${this.scriptTitle()} Script`}\n              value={scriptHex}\n              rows={5}\n              onChange={this.handleScriptChange}\n              disabled={fetchedUTXOs && !this.hasFetchUTXOsError()}\n              helperText={scriptError}\n              error={scriptError !== \"\"}\n            />\n          </form>\n\n          {scriptHex !== \"\" && !this.hasScriptError() ? (\n            this.renderDetails()\n          ) : (\n            <p>\n              Enter a valid {this.scriptName()} script to generate an address to\n              spend funds from.\n            </p>\n          )}\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nScriptEntry.propTypes = {\n  addressType: PropTypes.string.isRequired,\n  choosePerformSpend: PropTypes.func.isRequired,\n  chosePerformSpend: PropTypes.bool.isRequired,\n  choseConfirmOwnership: PropTypes.bool.isRequired,\n  chooseConfirmOwnership: PropTypes.func.isRequired,\n  client: PropTypes.shape({\n    type: PropTypes.string,\n  }).isRequired,\n  network: PropTypes.string.isRequired,\n  setFrozen: PropTypes.func.isRequired,\n  setInputs: PropTypes.func.isRequired,\n  setOwnershipMultisig: PropTypes.func.isRequired,\n  setRequiredSigners: PropTypes.func.isRequired,\n  setTotalSigners: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...{ client: state.client },\n    ...{\n      choseConfirmOwnership: state.spend.ownership.chosen,\n      chosePerformSpend: state.spend.transaction.chosen,\n    },\n  };\n}\n\nconst mapDispatchToProps = {\n  choosePerformSpend: chosePerformSpendAction,\n  setInputs: setInputsAction,\n  setTotalSigners: setTotalSignersAction,\n  setRequiredSigners: setRequiredSignersAction,\n  chooseConfirmOwnership: chooseConfirmOwnershipAction,\n  setOwnershipMultisig: setOwnershipMultisigAction,\n  setFrozen: setFrozenAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScriptEntry);\n","export const CHOOSE_CONFIRM_OWNERSHIP = \"CHOOSE_CONFIRM_OWNERSHIP\";\nexport const SET_OWNERSHIP_MULTISIG = \"SET_OWNERSHIP_MULTISIG\";\nexport const RESET_PUBLIC_KEY_IMPORTER = \"RESET_PUBLIC_KEY_IMPORTER\";\nexport const RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_BIP32_PATH =\n  \"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_METHOD = \"SET_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY =\n  \"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY\";\n\nexport function chooseConfirmOwnership() {\n  return {\n    type: CHOOSE_CONFIRM_OWNERSHIP,\n  };\n}\n\nexport function setOwnershipMultisig(value) {\n  return {\n    type: SET_OWNERSHIP_MULTISIG,\n    value,\n  };\n}\n\nexport function resetPublicKeyImporter() {\n  return {\n    type: RESET_PUBLIC_KEY_IMPORTER,\n  };\n}\n\nexport function resetPublicKeyImporterBIP32Path() {\n  return {\n    type: RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  };\n}\n\nexport function setPublicKeyImporterBIP32Path(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n    value,\n  };\n}\n\nexport function setPublicKeyImporterMethod(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_METHOD,\n    value,\n  };\n}\n\nexport function setPublicKeyImporterPublicKey(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n    value,\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { validatePublicKey, validateBIP32Path } from \"unchained-bitcoin\";\nimport { TREZOR, LEDGER, HERMIT } from \"unchained-wallets\";\n\n// Components\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { styled } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControl,\n  Button,\n  Typography,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport HardwareWalletPublicKeyImporter from \"../CreateAddress/HardwareWalletPublicKeyImporter\";\nimport HermitPublicKeyImporter from \"../CreateAddress/HermitPublicKeyImporter\";\n\n// Actions\nimport {\n  resetPublicKeyImporter,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n} from \"../../actions/ownershipActions\";\n\nimport \"react-table/react-table.css\";\n\nclass ConfirmOwnership extends React.Component {\n  titleRef = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      disableChangeMethod: false,\n    };\n  }\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n    this.scrollToTitle();\n  };\n\n  componentDidUpdate = () => {\n    this.scrollToTitle();\n  };\n\n  scrollToTitle = () => {\n    this.titleRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { setMethod } = this.props;\n    setMethod(event.target.value);\n    this.reset();\n  };\n\n  disableChangeMethod = () => {\n    this.setState({ disableChangeMethod: true });\n  };\n\n  enableChangeMethod = () => {\n    this.setState({ disableChangeMethod: false });\n  };\n\n  //\n  // State\n  //\n\n  reset = () => {\n    const { reset } = this.props;\n    reset();\n  };\n\n  //\n  // BIP32 Path\n  //\n\n  resetBIP32Path = () => {\n    const { resetBIP32Path } = this.props;\n    resetBIP32Path();\n  };\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const { setBIP32Path } = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback(\"\");\n      callback();\n    }\n  };\n\n  //\n  // Public Keey & Confirmation\n  //\n\n  validateAndSetPublicKey = (publicKey, errback, callback) => {\n    const { setPublicKey } = this.props;\n    const error = validatePublicKey(publicKey);\n    setPublicKey(publicKey);\n    if (error) {\n      if (errback) errback(error);\n    } else {\n      if (errback) errback(\"\");\n      if (callback) callback();\n    }\n  };\n\n  renderConfirmation = () => {\n    const { publicKeys, publicKeyImporter } = this.props;\n    if (publicKeyImporter.publicKey === \"\") {\n      return null;\n    }\n    if (publicKeys.includes(publicKeyImporter.publicKey)) {\n      const GreenListItemIcon = styled(ListItemIcon)({ color: \"green\" });\n      return (\n        <List>\n          <ListItem>\n            <GreenListItemIcon>\n              <CheckIcon />\n            </GreenListItemIcon>\n            <ListItemText>\n              The public key exported at BIP32 path{\" \"}\n              <code>{publicKeyImporter.bip32Path}</code> is present in the\n              provided redeem script.\n            </ListItemText>\n          </ListItem>\n        </List>\n      );\n    }\n    return (\n      <List>\n        <ListItem>\n          <ListItemIcon>\n            <Typography color=\"error\">\n              <ClearIcon />\n            </Typography>\n          </ListItemIcon>\n          <ListItemText>\n            The public key exported at BIP32 path{\" \"}\n            <code>{publicKeyImporter.bip32Path}</code> is not present in the\n            provided redeem script.\n          </ListItemText>\n        </ListItem>\n      </List>\n    );\n  };\n\n  renderImportByMethod = () => {\n    const { network, publicKeyImporter, defaultBIP32Path } = this.props;\n    if (publicKeyImporter.method === HERMIT) {\n      return (\n        <HermitPublicKeyImporter\n          publicKeyImporter={publicKeyImporter}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          validateAndSetPublicKey={this.validateAndSetPublicKey}\n          resetBIP32Path={this.resetBIP32Path}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n          reset={this.reset}\n        />\n      );\n    }\n    if (\n      publicKeyImporter.method === TREZOR ||\n      publicKeyImporter.method === LEDGER\n    ) {\n      return (\n        <HardwareWalletPublicKeyImporter\n          network={network}\n          publicKeyImporter={publicKeyImporter}\n          validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n          resetBIP32Path={this.resetBIP32Path}\n          defaultBIP32Path={defaultBIP32Path}\n          validateAndSetPublicKey={this.validateAndSetPublicKey}\n          enableChangeMethod={this.enableChangeMethod}\n          disableChangeMethod={this.disableChangeMethod}\n        />\n      );\n    }\n    return null;\n  };\n\n  render() {\n    const { publicKeyImporter } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = \"public-key-importer-select-label\";\n    const selectLabelId = `${labelId}-select`;\n\n    return (\n      <Card>\n        <CardHeader ref={this.titleRef} title=\"Confirm Ownership\" />\n        <CardContent>\n          <form>\n            <p>How will you confirm your ownership of this address?</p>\n\n            <FormControl fullWidth>\n              <InputLabel id={labelId}>Select Method</InputLabel>\n\n              <Select\n                labelId={selectLabelId}\n                id=\"public-key-importer-select\"\n                disabled={disableChangeMethod}\n                value={publicKeyImporter.method}\n                onChange={this.handleMethodChange}\n              >\n                <MenuItem value=\"\">{\"< Select method >\"}</MenuItem>\n                <MenuItem value={TREZOR}>Trezor</MenuItem>\n                <MenuItem value={LEDGER}>Ledger</MenuItem>\n                <MenuItem value={HERMIT}>Hermit</MenuItem>\n              </Select>\n            </FormControl>\n\n            {this.renderImportByMethod()}\n\n            {this.renderConfirmation()}\n\n            {publicKeyImporter.method !== \"\" && (\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                color=\"secondary\"\n                role=\"button\"\n                onClick={this.reset}\n              >\n                Start Again\n              </Button>\n            )}\n          </form>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nConfirmOwnership.propTypes = {\n  defaultBIP32Path: PropTypes.string.isRequired,\n  network: PropTypes.string.isRequired,\n  publicKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  publicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n    method: PropTypes.string,\n    publicKey: PropTypes.string,\n  }).isRequired,\n  reset: PropTypes.func.isRequired,\n  resetBIP32Path: PropTypes.func.isRequired,\n  setMethod: PropTypes.func.isRequired,\n  setPublicKey: PropTypes.func.isRequired,\n  setBIP32Path: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return state.spend.ownership;\n}\n\nconst mapDispatchToProps = {\n  setMethod: setPublicKeyImporterMethod,\n  setBIP32Path: setPublicKeyImporterBIP32Path,\n  setPublicKey: setPublicKeyImporterPublicKey,\n  resetBIP32Path: resetPublicKeyImporterBIP32Path,\n  reset: resetPublicKeyImporter,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmOwnership);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\n// Components\nimport { Grid, Box, Card, CardContent, Typography } from \"@material-ui/core\";\nimport NetworkPicker from \"../NetworkPicker\";\nimport ClientPicker from \"../ClientPicker\";\nimport AddressTypePicker from \"../AddressTypePicker\";\nimport ScriptEntry from \"./ScriptEntry\";\nimport UTXOSet from \"./UTXOSet\";\nimport OutputsForm from \"./OutputsForm\";\nimport SignatureImporter from \"./SignatureImporter\";\nimport Transaction from \"./Transaction\";\nimport ConfirmOwnership from \"./ConfirmOwnership\";\nimport UnsignedTransaction from \"../UnsignedTransaction\";\nimport \"../styles.css\";\n\nclass Spend extends React.Component {\n  render = () => {\n    return (\n      <Box mt={2}>\n        <Grid container spacing={3}>\n          <Grid item md={8}>\n            <Box>\n              <ScriptEntry />\n            </Box>\n            {this.renderBody()}\n          </Grid>\n          <Grid item md={4}>\n            <Box>\n              <AddressTypePicker />\n            </Box>\n            <Box mt={2}>\n              <NetworkPicker />\n            </Box>\n            <Box mt={2}>\n              <ClientPicker />\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  renderBody = () => {\n    const { transaction, ownership } = this.props;\n    if (ownership.chosen) {\n      return (\n        <Box mt={2}>\n          <ConfirmOwnership />\n        </Box>\n      );\n    }\n    return (\n      <Box>\n        {this.spendable() && (\n          <Box>\n            <Box mt={2}>\n              <Card>\n                <CardContent>\n                  <UTXOSet\n                    inputs={transaction.inputs}\n                    inputsTotalSats={transaction.inputsTotalSats}\n                  />\n                </CardContent>\n              </Card>\n            </Box>\n            <Box mt={2}>\n              <Card>\n                <CardContent>\n                  <Typography variant=\"h5\">Define Outputs</Typography>\n                  <OutputsForm />\n                </CardContent>\n              </Card>\n            </Box>\n          </Box>\n        )}\n\n        {transaction.finalizedOutputs && (\n          <div>\n            <Box mt={2}>\n              <UnsignedTransaction />\n            </Box>\n\n            <Box mt={2}>{this.renderSignatureImporters()}</Box>\n          </div>\n        )}\n\n        {this.signaturesFinalized() && (\n          <Box mt={2}>\n            <Transaction />\n          </Box>\n        )}\n      </Box>\n    );\n  };\n\n  renderSignatureImporters = () => {\n    const { transaction } = this.props;\n    const signatureImporters = [];\n    for (\n      let signatureImporterNum = 1;\n      signatureImporterNum <= transaction.requiredSigners;\n      signatureImporterNum += 1\n    ) {\n      signatureImporters.push(\n        <Box key={signatureImporterNum} mt={2}>\n          <SignatureImporter number={signatureImporterNum} />\n        </Box>\n      );\n    }\n    return signatureImporters;\n  };\n\n  spendable = () => {\n    const { transaction } = this.props;\n    return transaction.inputs.length > 0;\n  };\n\n  signaturesFinalized = () => {\n    const { signatureImporters } = this.props;\n    return (\n      Object.values(signatureImporters).length > 0 &&\n      Object.values(signatureImporters).every(\n        (signatureImporter) => signatureImporter.finalized\n      )\n    );\n  };\n\n  confirmOwnership = (value) => {\n    // TODO can this entire function be removed? The states aren't being used.\n    // eslint-disable-next-line react/no-unused-state\n    this.setState({ addressFinalized: true, confirmOwnership: value });\n  };\n}\n\nSpend.propTypes = {\n  transaction: PropTypes.shape({\n    finalizedOutputs: PropTypes.bool,\n    inputs: PropTypes.arrayOf(PropTypes.shape({})),\n    inputsTotalSats: PropTypes.shape({}),\n    requiredSigners: PropTypes.number,\n  }).isRequired,\n  ownership: PropTypes.shape({\n    chosen: PropTypes.bool,\n  }).isRequired,\n  signatureImporters: PropTypes.shape({}).isRequired,\n};\n\nfunction mapStateToProps(state) {\n  return state.spend;\n}\n\nexport default connect(mapStateToProps)(Spend);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  AppBar,\n  Toolbar,\n  Button,\n  makeStyles,\n  Typography,\n  Menu,\n  MenuItem,\n  Box,\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  menuItem: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    paddingX: theme.spacing(3),\n  },\n  menuLink: {\n    color: \"inherit\",\n    textDecoration: \"none\",\n  },\n}));\n\n// This needs to be a class component because it uses a ref\n// eslint-disable-next-line react/prefer-stateless-function\nclass NavItem extends React.Component {\n  render() {\n    const { href, title, classes, handleClose } = this.props;\n    return (\n      <a href={href} className={classes.menuLink}>\n        <MenuItem className={classes.menuItem} onClick={handleClose}>\n          {title}\n        </MenuItem>\n      </a>\n    );\n  }\n}\n\nNavItem.propTypes = {\n  href: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  classes: PropTypes.shape({\n    menuLink: PropTypes.string.isRequired,\n    menuItem: PropTypes.string.isRequired,\n  }).isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nconst Navbar = () => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const menuItems = [\n    { href: \"#/wallet\", title: \"Wallet\" },\n    { href: \"#/address\", title: \"Create Address\" },\n    { href: \"#/script\", title: \"Script Explorer\" },\n    { href: \"#/test\", title: \"Test Suite\" },\n    { href: \"#/help\", title: \"Help\" },\n  ];\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            <Button color=\"inherit\" href=\"#/\">\n              Caravan\n            </Button>\n          </Typography>\n\n          <Button\n            aria-controls=\"simple-menu\"\n            aria-haspopup=\"true\"\n            color=\"inherit\"\n            onClick={handleClick}\n          >\n            <Box mr={3}>\n              <Typography>Menu</Typography>\n            </Box>\n            <MenuIcon />\n          </Button>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={() => setAnchorEl(null)}\n          >\n            {menuItems.map(({ href, title }) => (\n              <NavItem\n                href={href}\n                title={title}\n                classes={classes}\n                key={href}\n                handleClose={() => setAnchorEl(null)}\n              />\n            ))}\n          </Menu>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { Grid, Box } from \"@material-ui/core\";\nimport { externalLink } from \"../utils\";\nimport { version } from \"../../package.json\";\n\n// Components\n\n// Assets\nconst logo = require(\"../images/logo.png\");\n\nconst Footer = () => (\n  <Box mt={2}>\n    <hr />\n    <Grid container justify=\"space-between\" alignItems=\"center\">\n      <Grid item sm={2}>\n        {externalLink(\n          \"https://www.unchained-capital.com\",\n          <img\n            src={logo}\n            className=\"logo\"\n            alt=\"Unchained Capital logo\"\n            height=\"32\"\n          />\n        )}\n      </Grid>\n\n      <Grid item sm={5}>\n        <p>\n          Copyright&nbsp;\n          {new Date(Date.now()).getFullYear()} by Unchained Capital and released\n          under an MIT license.\n        </p>\n      </Grid>\n\n      <Grid item sm={2} align=\"right\">\n        <p>{`v${version} commit: ${process.env.REACT_APP_GIT_SHA}`}</p>\n      </Grid>\n    </Grid>\n  </Box>\n);\n\nexport default Footer;\n","import { Box, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst reportingURL = \"https://github.com/unchained-capital/caravan/issues\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      errorInfo,\n      error,\n    });\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error, errorInfo } = this.state;\n    if (errorInfo) {\n      return (\n        <Box m={4}>\n          <Box m={2}>\n            <Typography variant=\"h3\" component=\"h1\">\n              Something went wrong.\n            </Typography>\n          </Box>\n          <Box m={2}>\n            <Typography variant=\"body1\">\n              Let us know what happened on{\" \"}\n              <a href={reportingURL} target=\"_blank\" rel=\"noopener noreferrer\">\n                github\n              </a>\n              .\n            </Typography>\n          </Box>\n          <Box mx={2} my={3}>\n            <details style={{ whiteSpace: \"pre-wrap\" }}>\n              {error && error.toString()}\n              <br />\n              {errorInfo.componentStack}\n            </details>\n          </Box>\n        </Box>\n      );\n    }\n\n    return children;\n  }\n}\n\nErrorBoundary.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n\nexport default ErrorBoundary;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport { Snackbar, IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport { clearErrorNotification as clearErrorNotificationAction } from \"../actions/errorNotificationActions\";\n\nconst ErrorNotificationBase = (props) => {\n  const { open, message, clearErrorNotification } = props;\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: \"bottom\",\n        horizontal: \"left\",\n      }}\n      open={open}\n      /* autoHideDuration={6000} */\n      onClose={clearErrorNotification}\n      ContentProps={{\n        \"aria-describedby\": \"error-notification\",\n      }}\n      message={<span id=\"error-notification\">{message}</span>}\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"close\"\n          color=\"inherit\"\n          onClick={clearErrorNotification}\n        >\n          <Close />\n        </IconButton>,\n      ]}\n    />\n  );\n};\n\nErrorNotificationBase.propTypes = {\n  open: PropTypes.bool.isRequired,\n  message: PropTypes.string.isRequired,\n  clearErrorNotification: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  return state.errorNotification;\n};\n\nconst mapDispatchToProps = {\n  clearErrorNotification: clearErrorNotificationAction,\n};\n\nconst ErrorNotification = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ErrorNotificationBase);\n\nexport default ErrorNotification;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\n// Components\nimport { CssBaseline, Container } from \"@material-ui/core\";\nimport { SnackbarProvider } from \"notistack\";\n\nimport Help from \"./Help\";\nimport Wallet from \"./Wallet\";\nimport CreateAddress from \"./CreateAddress\";\nimport TestSuiteRun from \"./TestSuiteRun\";\nimport ScriptExplorer from \"./ScriptExplorer\";\nimport Navbar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport ErrorNotification from \"./ErrorNotification\";\n\nconst App = () => (\n  <div className=\"App\">\n    <CssBaseline />\n    <SnackbarProvider maxSnack={3}>\n      <Container maxWidth=\"lg\">\n        <Navbar />\n        <ErrorBoundary>\n          <Router>\n            <Switch>\n              <Route path=\"/test\" component={TestSuiteRun} />\n              <Route path=\"/address\" component={CreateAddress} />\n              <Redirect from=\"/spend\" to=\"/script\" />\n              <Route path=\"/script\" component={ScriptExplorer} />\n              <Route path=\"/wallet\" component={Wallet} />\n              <Route path=\"/help\" component={Help} />\n              <Route path=\"/\" component={Help} />\n            </Switch>\n          </Router>\n          <ErrorNotification />\n        </ErrorBoundary>\n        <Footer />\n      </Container>\n    </SnackbarProvider>\n  </div>\n);\n\nexport default App;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createBrowserHistory } from \"history\";\nimport { connect } from \"react-redux\";\n\nimport App from \"./App\";\n\nclass AppContainer extends Component {\n  history = createBrowserHistory();\n\n  componentDidMount() {\n    const { resetApp } = this.props;\n    // Listen for changes to the current location\n    // and reset the redux store which is needed\n    // to avoid conflicts in the state between views/pages\n    this.unlisten = this.history.listen(() => {\n      resetApp();\n    });\n  }\n\n  componentWillUnmount() {\n    this.unlisten();\n  }\n\n  render() {\n    return <App />;\n  }\n}\n\nAppContainer.propTypes = {\n  resetApp: PropTypes.func.isRequired,\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    resetApp: () => dispatch({ type: \"RESET_APP_STATE\" }),\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(AppContainer);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // TODO FIXME\n      // eslint-disable-next-line  no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              // eslint-disable-next-line no-console\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","function updateState(state, change) {\n  return {\n    ...state,\n    ...change,\n  };\n}\n\nexport default updateState;\n","import { MAINNET, P2SH } from \"unchained-bitcoin\";\n\nimport updateState from \"./utils\";\nimport {\n  SET_NETWORK,\n  SET_TOTAL_SIGNERS,\n  SET_REQUIRED_SIGNERS,\n  SET_STARTING_ADDRESS_INDEX,\n  SET_ADDRESS_TYPE,\n  SET_FROZEN,\n} from \"../actions/settingsActions\";\n\nconst initialState = {\n  network: MAINNET,\n  totalSigners: 3,\n  requiredSigners: 2,\n  addressType: P2SH,\n  startingAddressIndex: 0,\n  frozen: false,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_NETWORK:\n      return updateState(state, { network: action.value });\n    case SET_TOTAL_SIGNERS:\n      return updateState(state, { totalSigners: action.value });\n    case SET_REQUIRED_SIGNERS:\n      return updateState(state, { requiredSigners: action.value });\n    case SET_STARTING_ADDRESS_INDEX:\n      return updateState(state, { startingAddressIndex: action.value });\n    case SET_ADDRESS_TYPE:\n      return updateState(state, { addressType: action.value });\n    case SET_FROZEN:\n      return updateState(state, { frozen: action.value });\n    default:\n      return state;\n  }\n};\n","import updateState from \"./utils\";\nimport {\n  SET_CLIENT_TYPE,\n  SET_CLIENT_URL,\n  SET_CLIENT_USERNAME,\n  SET_CLIENT_PASSWORD,\n  SET_CLIENT_URL_ERROR,\n  SET_CLIENT_USERNAME_ERROR,\n  SET_CLIENT_PASSWORD_ERROR,\n} from \"../actions/clientActions\";\n\nconst initialState = {\n  type: \"public\",\n  url: \"\",\n  username: \"\",\n  password: \"\",\n  urlError: \"\",\n  usernameError: \"\",\n  passwordError: \"\",\n  status: \"unknown\",\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CLIENT_TYPE:\n      return updateState(state, { type: action.value });\n    case SET_CLIENT_URL:\n      return updateState(state, { url: action.value });\n    case SET_CLIENT_USERNAME:\n      return updateState(state, { username: action.value });\n    case SET_CLIENT_PASSWORD:\n      return updateState(state, { password: action.value });\n    case SET_CLIENT_URL_ERROR:\n      return updateState(state, { urlError: action.value });\n    case SET_CLIENT_USERNAME_ERROR:\n      return updateState(state, { usernameError: action.value });\n    case SET_CLIENT_PASSWORD_ERROR:\n      return updateState(state, { passwordError: action.value });\n\n    default:\n      return state;\n  }\n};\n","import BigNumber from \"bignumber.js\";\nimport {\n  RESET_NODES_SPEND,\n  RESET_NODES_FETCH_ERRORS,\n} from \"../actions/walletActions\";\nimport updateState from \"./utils\";\n\nconst intialSliceState = {\n  present: true,\n  bip32Path: \"\",\n  publicKeys: [],\n  multisig: {},\n  address: \"\",\n  balanceSats: new BigNumber(0),\n  utxos: [],\n  change: false,\n  spend: false,\n  fetchedUTXOs: false,\n  fetchUTXOsError: \"\",\n  addressUsed: false,\n  addressKnown: true,\n};\n\nconst initialState = {\n  nodes: {},\n  trailingEmptyNodes: 0,\n  fetchUTXOsErrors: 0,\n  balanceSats: new BigNumber(0),\n  spendingSats: new BigNumber(0),\n  nextNode: null,\n};\n\nfunction getNextNode(state) {\n  const nodes = Object.values(state.nodes);\n  for (let i = 0; i < nodes.length; i += 1) {\n    const node = nodes[i];\n    if (node.balanceSats.isEqualTo(0) && !node.addressUsed) {\n      return node;\n    }\n  }\n  return null;\n}\n\nfunction updateSlice(state, action) {\n  const slice = {\n    ...intialSliceState,\n    ...(state.nodes[action.value.bip32Path] || {}),\n    ...action.value,\n  };\n  const newSlices = {};\n  newSlices[slice.bip32Path] = slice;\n\n  const updatedState = {\n    ...state,\n    ...{\n      nodes: {\n        ...state.nodes,\n        ...newSlices,\n      },\n    },\n  };\n  if (typeof action.value.spend !== \"undefined\") {\n    // TODO (BUCK): I'm not sure this works. If you change\n    // the output value of a spend before spending, this will just\n    // add the new value to the previous value. We also can't just\n    // reset spendingSats because there might be multiple outputs\n    updatedState.spendingSats = action.value.spend\n      ? state.spendingSats.plus(slice.balanceSats)\n      : state.spendingSats.minus(slice.balanceSats);\n  }\n\n  if (action.value.balanceSats) {\n    const currentNodeBalance = state.nodes[slice.bip32Path]\n      ? state.nodes[slice.bip32Path].balanceSats\n      : BigNumber(0);\n    updatedState.balanceSats = state.balanceSats.plus(\n      slice.balanceSats.minus(currentNodeBalance)\n    );\n  }\n\n  let trailingEmptyNodes = 0;\n  let fetchUTXOsErrors = 0;\n  const allBIP32Paths = Object.keys(updatedState.nodes);\n  allBIP32Paths.sort((p1, p2) => {\n    const p1Segments = (p1 || \"\").split(\"/\");\n    const p2Segments = (p2 || \"\").split(\"/\");\n    const p1Index = parseInt(p1Segments[2], 10);\n    const p2Index = parseInt(p2Segments[2], 10);\n    return p1Index - p2Index;\n  });\n  let nodeFoundWithValue = false;\n  for (let i = 0; i < allBIP32Paths.length; i += 1) {\n    const bip32Path = allBIP32Paths[allBIP32Paths.length - (i + 1)];\n    const otherNode = updatedState.nodes[bip32Path];\n    if (otherNode.fetchedUTXOs) {\n      if (\n        otherNode.balanceSats.isEqualTo(0) &&\n        !otherNode.addressUsed &&\n        !nodeFoundWithValue\n      ) {\n        trailingEmptyNodes += 1;\n      } else nodeFoundWithValue = true;\n    }\n    if (otherNode.fetchUTXOsError !== \"\") {\n      fetchUTXOsErrors += 1;\n    }\n  }\n  updatedState.trailingEmptyNodes = trailingEmptyNodes;\n  updatedState.fetchUTXOsErrors = fetchUTXOsErrors;\n  updatedState.nextNode = getNextNode(updatedState);\n  return updatedState;\n}\n\nfunction resetSpend(state) {\n  const updatedState = { ...state };\n  Object.values(updatedState.nodes).forEach((node) => {\n    node.spend = false; // eslint-disable-line no-param-reassign\n  });\n  return updatedState;\n}\n\nexport default (actionType) =>\n  (state = initialState, action) => {\n    switch (action.type) {\n      case RESET_NODES_SPEND:\n        return resetSpend(state);\n      case RESET_NODES_FETCH_ERRORS:\n        return updateState(state, {\n          fetchUTXOsErrors: 0,\n          nodes: Object.values(state.nodes).reduce((allNodes, thisNode) => {\n            const updatedNodes = allNodes;\n            updatedNodes[thisNode.bip32Path] = {\n              ...thisNode,\n              fetchUTXOsError: \"\",\n            };\n            return updatedNodes;\n          }, {}),\n        });\n      case actionType:\n        return updateSlice(state, action);\n      default:\n        return state;\n    }\n  };\n","import { MAINNET, P2SH, multisigBIP32Root } from \"unchained-bitcoin\";\nimport updateState from \"./utils\";\nimport {\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME,\n  RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE,\n} from \"../actions/extendedPublicKeyImporterActions\";\nimport {\n  SET_TOTAL_SIGNERS,\n  SET_NETWORK,\n  SET_ADDRESS_TYPE,\n} from \"../actions/settingsActions\";\n\nfunction fingerprint(state) {\n  const timestamp = new Date().getTime().toString();\n  const extendedPublicKeys = Object.values(state.extendedPublicKeyImporters)\n    .map(\n      (extendedPublicKeyImporter) => extendedPublicKeyImporter.extendedPublicKey\n    )\n    .join(\"\");\n  return `${timestamp}-${extendedPublicKeys}`;\n}\n\nconst initialExtendedPublicKeyImporterState = (name = \"\") => ({\n  name,\n  bip32Path: multisigBIP32Root(P2SH, MAINNET),\n  bip32PathModified: false,\n  method: \"\",\n  extendedPublicKey: \"\",\n  rootXfp: \"\",\n  finalized: false,\n  conflict: false,\n});\n\nfunction createInitialState() {\n  const extendedPublicKeyImporters = [...Array(4).keys()]\n    .slice(1)\n    .reduce((importers, index) => {\n      return {\n        ...importers,\n        [index]: initialExtendedPublicKeyImporterState(\n          `Extended Public Key ${index}`\n        ),\n      };\n    }, {});\n\n  return {\n    extendedPublicKeyImporters,\n    defaultBIP32Path: multisigBIP32Root(P2SH, MAINNET),\n    network: MAINNET,\n    addressType: P2SH,\n    fingerprint: \"\",\n    finalizedNetwork: \"\",\n    finalizedAddressType: \"\",\n    configuring: true,\n  };\n}\n\nfunction setConflict(extendedPublicKeyImporter, state) {\n  if (state.finalizedNetwork) {\n    // eslint-disable-next-line no-param-reassign\n    extendedPublicKeyImporter.conflict =\n      state.finalizedNetwork !== state.network ||\n      state.finalizedAddressType !== state.addressType;\n  }\n}\n\nfunction updateExtendedPublicKeyImporterState(state, action, field) {\n  const extendedPublicKeyImporterChange = {};\n  extendedPublicKeyImporterChange[field] = action.value;\n  const newState = {\n    ...state,\n    ...{ nodes: {} },\n  };\n  newState.extendedPublicKeyImporters[action.number] = updateState(\n    state.extendedPublicKeyImporters[action.number],\n    extendedPublicKeyImporterChange\n  );\n  const importCount = Object.values(newState.extendedPublicKeyImporters).reduce(\n    (sum, current) => {\n      return sum + current.finalized;\n    },\n    0\n  );\n  if (\n    importCount === Object.keys(newState.extendedPublicKeyImporters).length &&\n    field === \"finalized\" &&\n    Object.values(newState.extendedPublicKeyImporters).every(\n      (xpub) => !xpub.conflict\n    )\n  ) {\n    newState.configuring = false;\n  }\n  setConflict(newState.extendedPublicKeyImporters[action.number], state);\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction updateTotalSigners(state, action) {\n  const totalSigners = action.value;\n  const extendedPublicKeyImporters = {};\n  for (\n    let extendedPublicKeyImporterNum = 1;\n    extendedPublicKeyImporterNum <= totalSigners;\n    extendedPublicKeyImporterNum += 1\n  ) {\n    extendedPublicKeyImporters[extendedPublicKeyImporterNum] =\n      state.extendedPublicKeyImporters[extendedPublicKeyImporterNum] ||\n      initialExtendedPublicKeyImporterState(\n        `Extended Public Key ${extendedPublicKeyImporterNum}`\n      );\n  }\n  let finalizedCount = 0;\n\n  Object.keys(extendedPublicKeyImporters).forEach((index) => {\n    const importer = extendedPublicKeyImporters[index];\n    if (importer.finalized) finalizedCount += 1;\n  });\n\n  return {\n    ...state,\n    configuring: finalizedCount < totalSigners,\n    ...{ extendedPublicKeyImporters },\n  };\n}\n\nfunction updateImporterPaths(state, newState, bip32Path) {\n  for (\n    let extendedPublicKeyImporterNum = 1;\n    extendedPublicKeyImporterNum <=\n    Object.values(state.extendedPublicKeyImporters).length;\n    extendedPublicKeyImporterNum += 1\n  ) {\n    const extendedPublicKeyImporter =\n      newState.extendedPublicKeyImporters[extendedPublicKeyImporterNum];\n    if (!extendedPublicKeyImporter.bip32PathModified) {\n      if (!extendedPublicKeyImporter.finalized)\n        extendedPublicKeyImporter.bip32Path = bip32Path;\n    }\n    setConflict(extendedPublicKeyImporter, newState);\n  }\n}\n\nfunction updateNetwork(state, action) {\n  const { addressType } = state;\n  const network = action.value;\n  const bip32Path = multisigBIP32Root(addressType, network);\n  const newState = { ...state, ...{ network, defaultBIP32Path: bip32Path } };\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateAddressType(state, action) {\n  const addressType = action.value;\n  const { network } = state;\n  const bip32Path = multisigBIP32Root(addressType, network);\n  const newState = {\n    ...state,\n    ...{ addressType, defaultBIP32Path: bip32Path },\n  };\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateFinalizedSettings(state, action) {\n  const newState = { ...state };\n  if (action.value === true && state.finalizedNetwork === \"\") {\n    newState.finalizedNetwork = state.network;\n    newState.finalizedAddressType = state.addressType;\n  } else if (action.value === false && state.finalizedNetwork !== \"\") {\n    const finalizedCount = Object.values(\n      state.extendedPublicKeyImporters\n    ).reduce((count, importer) => {\n      if (importer.finalized === true) return count + 1;\n      return count;\n    }, 0);\n    if (finalizedCount === 1) {\n      // last one to be removed\n      newState.finalizedNetwork = \"\";\n      newState.finalizedAddressType = \"\";\n      Object.values(newState.extendedPublicKeyImporters).forEach(\n        // eslint-disable-next-line no-param-reassign,no-return-assign\n        (importer) => (importer.conflict = false)\n      );\n    }\n  }\n  return newState;\n}\n\nexport default (state = createInitialState(), action) => {\n  switch (action.type) {\n    case SET_NETWORK:\n      return updateNetwork(state, action);\n    case SET_ADDRESS_TYPE:\n      return updateAddressType(state, action);\n    case SET_TOTAL_SIGNERS:\n      return updateTotalSigners(state, action);\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME:\n      return updateExtendedPublicKeyImporterState(state, action, \"name\");\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updateExtendedPublicKeyImporterState(\n        updateExtendedPublicKeyImporterState(state, action, \"bip32Path\"),\n        { number: action.number, value: true },\n        \"bip32PathModified\"\n      );\n    case RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updateExtendedPublicKeyImporterState(\n        updateExtendedPublicKeyImporterState(\n          state,\n          { number: action.number, value: state.defaultBIP32Path },\n          \"bip32Path\"\n        ),\n        { number: action.number, value: false },\n        \"bip32PathModified\"\n      );\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD:\n      return updateExtendedPublicKeyImporterState(state, action, \"method\");\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY:\n      return updateExtendedPublicKeyImporterState(\n        state,\n        action,\n        \"extendedPublicKey\"\n      );\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT:\n      return updateExtendedPublicKeyImporterState(state, action, \"rootXfp\");\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED:\n      return updateExtendedPublicKeyImporterState(\n        updateFinalizedSettings(state, action),\n        action,\n        \"finalized\"\n      );\n    case SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE:\n      return { ...state, ...{ configuring: action.value } };\n    default:\n      return state;\n  }\n};\n","import { MAINNET, P2SH, multisigBIP32Path } from \"unchained-bitcoin\";\nimport updateState from \"./utils\";\nimport {\n  SET_TOTAL_SIGNERS,\n  SET_NETWORK,\n  SET_ADDRESS_TYPE,\n} from \"../actions/settingsActions\";\nimport {\n  SET_PUBLIC_KEY_IMPORTER_NAME,\n  RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n  SET_PUBLIC_KEY_IMPORTER_FINALIZED,\n  MOVE_PUBLIC_KEY_IMPORTER_UP,\n  MOVE_PUBLIC_KEY_IMPORTER_DOWN,\n  SORT_PUBLIC_KEY_IMPORTERS,\n  UPDATE_MULTISIG_ADDRESS,\n} from \"../actions/publicKeyImporterActions\";\n\nconst TEXT = \"text\";\n\nfunction fingerprint(state) {\n  const timestamp = new Date().getTime().toString();\n  const publicKeys = Object.values(state.publicKeyImporters)\n    .map((publicKeyImporter) => publicKeyImporter.publicKey)\n    .join(\"\");\n  return `${timestamp}-${publicKeys}`;\n}\n\nconst initialPublicKeyImporterState = (name = \"\") => ({\n  name,\n  bip32Path: multisigBIP32Path(P2SH, MAINNET),\n  bip32PathModified: false,\n  method: \"\",\n  publicKey: \"\",\n  finalized: false,\n  conflict: false,\n});\n\n// function to create a new initial state so that it\n// is properly initialized when the state is cleared\n// i.e. a \"deep clean\" through the object\nfunction createInitialState() {\n  // need create new objects for each pub key importer\n  // otherwise does not properly reset when state is cleared\n  const publicKeyImporters = [...Array(4).keys()]\n    .slice(1)\n    .reduce((importers, index) => {\n      return {\n        ...importers,\n        [index]: initialPublicKeyImporterState(`Public Key ${index}`),\n      };\n    }, {});\n\n  return {\n    publicKeyImporters,\n    defaultBIP32Path: multisigBIP32Path(P2SH, MAINNET),\n    network: MAINNET,\n    addressType: P2SH,\n    fingerprint: \"\",\n    finalizedNetwork: \"\",\n    finalizedAddressType: \"\",\n    address: \"\",\n  };\n}\n\nfunction movePublicKeyImporterUp(state, action) {\n  if (action.number === 1) {\n    return state;\n  }\n  const newState = {\n    ...state,\n  };\n  const abovePublicKeyImporter = state.publicKeyImporters[action.number - 1];\n  const publicKeyImporter = state.publicKeyImporters[action.number];\n  newState.publicKeyImporters[action.number - 1] = publicKeyImporter;\n  newState.publicKeyImporters[action.number] = abovePublicKeyImporter;\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction movePublicKeyImporterDown(state, action) {\n  if (action.number === Object.values(state.publicKeyImporters).length) {\n    return state;\n  }\n  const newState = {\n    ...state,\n  };\n  const belowPublicKeyImporter = state.publicKeyImporters[action.number + 1];\n  const publicKeyImporter = state.publicKeyImporters[action.number];\n  newState.publicKeyImporters[action.number + 1] = publicKeyImporter;\n  newState.publicKeyImporters[action.number] = belowPublicKeyImporter;\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction sortPublicKeyImporters(state) {\n  const publicKeyImporters = Object.values(state.publicKeyImporters);\n  const sortedPublicKeys = publicKeyImporters\n    .map((publicKeyImporter) => publicKeyImporter.publicKey)\n    .sort();\n  const sortedPublicKeyImporters = sortedPublicKeys.map((publicKey) => {\n    return publicKeyImporters.find(\n      (publicKeyImporter) => publicKeyImporter.publicKey === publicKey\n    );\n  });\n  const publicKeyImportersChange = {};\n  for (\n    let publicKeyImporterNum = 1;\n    publicKeyImporterNum <= sortedPublicKeyImporters.length;\n    publicKeyImporterNum += 1\n  ) {\n    publicKeyImportersChange[publicKeyImporterNum] =\n      sortedPublicKeyImporters[publicKeyImporterNum - 1];\n  }\n\n  const newState = {\n    ...state,\n    ...{ publicKeyImporters: publicKeyImportersChange },\n  };\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction setConflict(publicKeyImporterIndex, state) {\n  if (state.finalizedNetwork) {\n    const publicKeyImporters = { ...state.publicKeyImporters };\n    const publicKeyImporter = publicKeyImporters[publicKeyImporterIndex];\n\n    publicKeyImporter.conflict =\n      state.finalizedNetwork !== state.network ||\n      state.finalizedAddressType !== state.addressType;\n\n    return updateState(state, { publicKeyImporters });\n  }\n  return state;\n}\n\nfunction updatePublicKeyImporterState(state, action, field) {\n  const publicKeyImporterChange = {};\n  publicKeyImporterChange[field] = action.value;\n  let newState = {\n    ...state,\n  };\n  newState.publicKeyImporters[action.number] = updateState(\n    state.publicKeyImporters[action.number],\n    publicKeyImporterChange\n  );\n  newState = setConflict(action.number, state);\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction updateTotalSigners(state, action) {\n  const totalSigners = action.value;\n  const publicKeyImporters = {};\n  for (\n    let publicKeyImporterNum = 1;\n    publicKeyImporterNum <= totalSigners;\n    publicKeyImporterNum += 1\n  ) {\n    publicKeyImporters[publicKeyImporterNum] = state.publicKeyImporters[\n      publicKeyImporterNum\n    ] || {\n      ...initialPublicKeyImporterState(),\n      ...{\n        name: `Public Key ${publicKeyImporterNum}`,\n      },\n    };\n  }\n  const newState = {\n    ...state,\n    ...{ publicKeyImporters, stub: action.type },\n  };\n  return updateState(newState, { fingerprint: fingerprint(newState) });\n}\n\nfunction updateImporterPaths(state, bip32Path) {\n  let newState = { ...state };\n  for (\n    let publicKeyImporterNum = 1;\n    publicKeyImporterNum <= Object.values(state.publicKeyImporters).length;\n    publicKeyImporterNum += 1\n  ) {\n    const publicKeyImporter = newState.publicKeyImporters[publicKeyImporterNum];\n    if (!publicKeyImporter.bip32PathModified) {\n      if (!publicKeyImporter.finalized) publicKeyImporter.bip32Path = bip32Path;\n    }\n    newState = setConflict(publicKeyImporterNum, newState);\n  }\n  return newState;\n}\n\nfunction updateNetwork(state, action) {\n  const network = action.value;\n  const { addressType } = state;\n  const bip32Path = multisigBIP32Path(addressType, network);\n  let newState = { ...state, ...{ network, defaultBIP32Path: bip32Path } };\n  newState = updateImporterPaths(newState, bip32Path);\n  return newState;\n}\n\nfunction updateAddressType(state, action) {\n  const { network } = state;\n  const addressType = action.value;\n  const bip32Path = multisigBIP32Path(addressType, network);\n  let newState = {\n    ...state,\n    ...{ addressType, defaultBIP32Path: bip32Path },\n  };\n  newState = updateImporterPaths(newState, bip32Path);\n  return newState;\n}\n\nfunction updateFinalizedSettings(state, action) {\n  const newState = { ...state };\n  if (\n    action.value === true &&\n    state.finalizedNetwork === \"\" &&\n    newState.publicKeyImporters[action.number].method !== TEXT\n  ) {\n    newState.finalizedNetwork = state.network;\n    newState.finalizedAddressType = state.addressType;\n  } else if (action.value === false && state.finalizedNetwork !== \"\") {\n    const finalizedCount = Object.values(state.publicKeyImporters).reduce(\n      (count, importer) => {\n        if (importer.finalized === true && importer.method !== TEXT)\n          return count + 1;\n        return count;\n      },\n      0\n    );\n    if (finalizedCount === 1) {\n      // last one to be removed\n      newState.finalizedNetwork = \"\";\n      newState.finalizedAddressType = \"\";\n      Object.values(newState.publicKeyImporters).forEach(\n        // eslint-disable-next-line no-param-reassign,no-return-assign\n        (importer) => (importer.conflict = false)\n      );\n    }\n  }\n  return newState;\n}\n\nexport default (state = createInitialState(), action) => {\n  switch (action.type) {\n    case SET_NETWORK:\n      return updateNetwork(state, action);\n    case SET_ADDRESS_TYPE:\n      return updateAddressType(state, action);\n    case SET_TOTAL_SIGNERS:\n      return updateTotalSigners(state, action);\n    case SET_PUBLIC_KEY_IMPORTER_NAME:\n      return updatePublicKeyImporterState(state, action, \"name\");\n    case RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updatePublicKeyImporterState(\n        updatePublicKeyImporterState(\n          state,\n          { number: action.number, value: state.defaultBIP32Path },\n          \"bip32Path\"\n        ),\n        { number: action.number, value: false },\n        \"bip32PathModified\"\n      );\n    case SET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updatePublicKeyImporterState(\n        updatePublicKeyImporterState(state, action, \"bip32Path\"),\n        { number: action.number, value: true },\n        \"bip32PathModified\"\n      );\n    case SET_PUBLIC_KEY_IMPORTER_METHOD:\n      return updatePublicKeyImporterState(state, action, \"method\");\n    case SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY:\n      return updatePublicKeyImporterState(state, action, \"publicKey\");\n    case SET_PUBLIC_KEY_IMPORTER_FINALIZED:\n      return updatePublicKeyImporterState(\n        updateFinalizedSettings(state, action),\n        action,\n        \"finalized\"\n      );\n    case MOVE_PUBLIC_KEY_IMPORTER_UP:\n      return movePublicKeyImporterUp(state, action);\n    case MOVE_PUBLIC_KEY_IMPORTER_DOWN:\n      return movePublicKeyImporterDown(state, action);\n    case SORT_PUBLIC_KEY_IMPORTERS:\n      return sortPublicKeyImporters(state, action);\n    case UPDATE_MULTISIG_ADDRESS:\n      return updateState(state, { address: action.value });\n    default:\n      return state;\n  }\n};\n","import {\n  UPDATE_WALLET_NAME,\n  RESET_WALLET_VIEW,\n  WALLET_MODES,\n  UPDATE_WALLET_MODE,\n  INITIAL_LOAD_COMPLETE,\n} from \"../actions/walletActions\";\nimport updateState from \"./utils\";\n\nconst initialState = {\n  walletMode: WALLET_MODES.VIEW,\n  walletName: \"My Multisig Wallet\",\n  nodesLoaded: false,\n};\n\nfunction resetWalletViews(state) {\n  return updateState(state, {\n    walletMode: WALLET_MODES.VIEW,\n  });\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case UPDATE_WALLET_MODE:\n      return updateState(state, { walletMode: action.value });\n    case UPDATE_WALLET_NAME:\n      return updateState(state, { walletName: action.value });\n    case RESET_WALLET_VIEW:\n      return resetWalletViews(state);\n    case INITIAL_LOAD_COMPLETE:\n      return updateState(state, { nodesLoaded: true });\n    default:\n      return state;\n  }\n};\n","import {\n  P2SH,\n  MAINNET,\n  multisigAddressType,\n  multisigBIP32Path,\n  multisigPublicKeys,\n} from \"unchained-bitcoin\";\nimport updateState from \"./utils\";\nimport { SET_NETWORK } from \"../actions/settingsActions\";\nimport {\n  CHOOSE_CONFIRM_OWNERSHIP,\n  SET_OWNERSHIP_MULTISIG,\n  RESET_PUBLIC_KEY_IMPORTER,\n  RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n} from \"../actions/ownershipActions\";\n\nconst initialPublicKeyImporterState = {\n  bip32Path: \"\",\n  method: \"\",\n  publicKey: \"\",\n};\n\nconst initialState = {\n  chosen: false,\n  publicKeyImporter: { ...initialPublicKeyImporterState },\n  network: MAINNET,\n  addressType: P2SH,\n  publicKeys: [],\n  address: \"\",\n  defaultBIP32Path: multisigBIP32Path(P2SH, MAINNET),\n};\n\nfunction updatePublicKeyImporterState(state, action, field) {\n  const publicKeyImporterChange = {};\n  publicKeyImporterChange[field] = action.value;\n  return {\n    ...state,\n    ...{\n      publicKeyImporter: {\n        ...state.publicKeyImporter,\n        ...publicKeyImporterChange,\n      },\n    },\n  };\n}\n\nfunction updateMultisig(state, action) {\n  const multisig = action.value;\n  const addressType = multisigAddressType(multisig);\n  const defaultBIP32Path = multisigBIP32Path(addressType, state.network);\n  return {\n    ...state,\n    ...{\n      network: state.network,\n      addressType,\n      publicKeys: multisigPublicKeys(multisig),\n      address: multisig.address,\n      defaultBIP32Path,\n    },\n  };\n}\n\nexport default (state = initialState, action) => {\n  const keyResetState = updatePublicKeyImporterState(\n    state,\n    { value: \"\" },\n    \"publicKey\"\n  );\n\n  switch (action.type) {\n    case CHOOSE_CONFIRM_OWNERSHIP:\n      return updateState(state, { chosen: true });\n    case SET_NETWORK:\n      return updateState(state, { network: action.value });\n    case SET_OWNERSHIP_MULTISIG:\n      return updateMultisig(state, action);\n    case SET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updatePublicKeyImporterState(keyResetState, action, \"bip32Path\");\n    case SET_PUBLIC_KEY_IMPORTER_METHOD:\n      return updatePublicKeyImporterState(state, action, \"method\");\n    case SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY:\n      return updatePublicKeyImporterState(state, action, \"publicKey\");\n    case RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n      return updatePublicKeyImporterState(\n        state,\n        { value: state.defaultBIP32Path },\n        \"bip32Path\"\n      );\n    case RESET_PUBLIC_KEY_IMPORTER:\n      return {\n        ...state,\n        ...{\n          publicKeyImporter: {\n            ...state.publicKeyImporter,\n            ...{ bip32Path: state.defaultBIP32Path, publicKey: \"\" },\n          },\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import updateState from \"./utils\";\nimport {\n  SET_SIGNATURE_IMPORTER_NAME,\n  SET_SIGNATURE_IMPORTER_METHOD,\n  SET_SIGNATURE_IMPORTER_BIP32_PATH,\n  SET_SIGNATURE_IMPORTER_SIGNATURE,\n  SET_SIGNATURE_IMPORTER_PUBLIC_KEYS,\n  SET_SIGNATURE_IMPORTER_FINALIZED,\n  SET_SIGNATURE_IMPORTER_COMPLETE,\n} from \"../actions/signatureImporterActions\";\nimport {\n  SET_REQUIRED_SIGNERS,\n  RESET_TRANSACTION,\n} from \"../actions/transactionActions\";\n\nconst initialSignatureImporterState = {\n  name: \"\",\n  method: \"\",\n  publicKeys: [],\n  signature: [],\n  bip32Path: \"\",\n  finalized: false,\n};\n\nconst initialState = {};\n\nfunction setRequiredSigners(state, action) {\n  const signatureImporters = {};\n  for (\n    let signatureImporterNum = 1;\n    signatureImporterNum <= action.value;\n    signatureImporterNum += 1\n  ) {\n    signatureImporters[signatureImporterNum] = {\n      ...initialSignatureImporterState,\n      ...{ name: `Signature ${signatureImporterNum}` },\n    };\n  }\n  return signatureImporters;\n}\n\nfunction updateSignatureImporterState(state, action, field) {\n  const signatureImporterChange = {};\n  signatureImporterChange[field] = action.value;\n  const newState = {\n    ...state,\n  };\n  newState[action.number] = updateState(\n    state[action.number],\n    signatureImporterChange\n  );\n  return newState;\n}\n\nfunction finalizeSignatureImporterState(state, action) {\n  const newState = {\n    ...state,\n  };\n  newState[action.number] = updateState(state[action.number], action.value);\n  return newState;\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case RESET_TRANSACTION:\n      return { ...initialState };\n    case SET_REQUIRED_SIGNERS:\n      return setRequiredSigners(state, action);\n    case SET_SIGNATURE_IMPORTER_NAME:\n      return updateSignatureImporterState(state, action, \"name\");\n    case SET_SIGNATURE_IMPORTER_METHOD:\n      return updateSignatureImporterState(state, action, \"method\");\n    case SET_SIGNATURE_IMPORTER_BIP32_PATH:\n      return updateSignatureImporterState(state, action, \"bip32Path\");\n    case SET_SIGNATURE_IMPORTER_SIGNATURE:\n      return updateSignatureImporterState(state, action, \"signature\");\n    case SET_SIGNATURE_IMPORTER_PUBLIC_KEYS:\n      return updateSignatureImporterState(state, action, \"publicKeys\");\n    case SET_SIGNATURE_IMPORTER_FINALIZED:\n      return updateSignatureImporterState(state, action, \"finalized\");\n    case SET_SIGNATURE_IMPORTER_COMPLETE:\n      return finalizeSignatureImporterState(state, action);\n\n    default:\n      return state;\n  }\n};\n","import BigNumber from \"bignumber.js\";\nimport {\n  MAINNET,\n  P2SH,\n  estimateMultisigTransactionFee,\n  validateFeeRate,\n  validateFee,\n  validateOutputAmount,\n  satoshisToBitcoins,\n  bitcoinsToSatoshis,\n  validateAddress,\n  unsignedMultisigTransaction,\n  unsignedMultisigPSBT,\n  unsignedTransactionObjectFromPSBT,\n} from \"unchained-bitcoin\";\nimport updateState from \"./utils\";\nimport { SET_NETWORK, SET_ADDRESS_TYPE } from \"../actions/settingsActions\";\nimport {\n  CHOOSE_PERFORM_SPEND,\n  SET_REQUIRED_SIGNERS,\n  SET_TOTAL_SIGNERS,\n  SET_INPUTS,\n  ADD_OUTPUT,\n  SET_OUTPUT_ADDRESS,\n  SET_OUTPUT_AMOUNT,\n  DELETE_OUTPUT,\n  SET_FEE_RATE,\n  SET_FEE,\n  FINALIZE_OUTPUTS,\n  RESET_OUTPUTS,\n  SET_TXID,\n  RESET_TRANSACTION,\n  SET_IS_WALLET,\n  SET_CHANGE_OUTPUT_INDEX,\n  SET_CHANGE_OUTPUT_MULTISIG,\n  UPDATE_AUTO_SPEND,\n  SET_SIGNING_KEY,\n  SET_CHANGE_ADDRESS,\n  SET_BALANCE_ERROR,\n  SET_SPEND_STEP,\n  SPEND_STEP_CREATE,\n} from \"../actions/transactionActions\";\nimport { RESET_NODES_SPEND } from \"../actions/walletActions\";\n\nfunction sortInputs(a, b) {\n  const x = a.txid.toLowerCase();\n  const y = b.txid.toLowerCase();\n  if (x < y) {\n    return -1;\n  }\n  if (x > y) {\n    return 1;\n  }\n  if (a.n < b.n) {\n    return -1;\n  }\n  if (a.n > b.n) {\n    return 1;\n  }\n  return 0;\n}\n\nexport const initialOutputState = () => ({\n  address: \"\",\n  amount: \"\",\n  amountSats: \"\",\n  addressError: \"\",\n  amountError: \"\",\n});\n\nconst initialOutputsState = () => [initialOutputState()];\n\nexport const initialState = () => ({\n  chosen: false,\n  network: MAINNET,\n  inputs: [],\n  inputsTotalSats: new BigNumber(0),\n  outputs: initialOutputsState(),\n  changeOutputIndex: 0,\n  feeRate: \"\",\n  feeRateError: \"\",\n  fee: \"\",\n  feeError: \"\",\n  finalizedOutputs: false,\n  txid: \"\",\n  balanceError: \"\",\n  addressType: P2SH,\n  requiredSigners: 2,\n  totalSigners: 3,\n  unsignedTransaction: {},\n  isWallet: false,\n  autoSpend: true,\n  changeAddress: \"\",\n  updatesComplete: true,\n  signingKeys: [0, 0], // default 2 required signers\n  spendingStep: SPEND_STEP_CREATE,\n});\n\nfunction updateInputs(state, action) {\n  const inputsTotalSats = action.value.reduce(\n    (accumulator, input) => accumulator.plus(input.amountSats),\n    new BigNumber(0)\n  );\n  return updateState(state, {\n    inputs: action.value.sort(sortInputs),\n    inputsTotalSats,\n  });\n}\n\nfunction calcOutputTotalSats(state) {\n  return state.outputs.reduce(\n    (accumulator, { amount }) =>\n      accumulator.plus(bitcoinsToSatoshis(new BigNumber(amount || 0))),\n    new BigNumber(0)\n  );\n}\n\nfunction setFeeForRate(state, feeRateString, nout) {\n  return satoshisToBitcoins(\n    estimateMultisigTransactionFee({\n      addressType: state.addressType,\n      numInputs: state.inputs.length,\n      numOutputs: nout,\n      m: state.requiredSigners,\n      n: state.totalSigners,\n      feesPerByteInSatoshis: feeRateString,\n    })\n  )\n    .toFixed(8)\n    .toString();\n}\n\nfunction deleteOutput(state, action) {\n  const newState = { ...state };\n  const newOutputs = [];\n  for (let i = 0; i < newState.outputs.length; i += 1) {\n    if (i !== action.number - 1) {\n      newOutputs.push(newState.outputs[i]);\n    } else if (action.number === newState.changeOutputIndex) {\n      newState.changeOutputIndex = 0;\n    }\n    if (action.number < newState.changeOutputIndex)\n      newState.changeOutputIndex -= 1;\n  }\n  return {\n    ...newState,\n    ...{\n      outputs: newOutputs,\n      fee: setFeeForRate(newState, newState.feeRate, newOutputs.length),\n    },\n  };\n}\n\nfunction updateFeeRate(state, action) {\n  const feeRateString = action.value;\n  const feeRateError = validateFeeRate(feeRateString);\n  const fee =\n    feeRateError === \"\"\n      ? setFeeForRate(state, feeRateString, state.outputs.length)\n      : \"\";\n\n  return updateState(state, {\n    feeRate: feeRateString,\n    feeRateError,\n    fee,\n    feeError: \"\",\n  });\n}\n\nfunction updateFee(state, action) {\n  const feeString = action.value;\n  const feeSats = bitcoinsToSatoshis(feeString);\n  const feeError = validateFee(feeSats, state.inputsTotalSats);\n\n  return updateState(state, {\n    fee: feeString,\n    feeError,\n    feeRateError: \"\",\n  });\n}\n\nfunction addOutput(state) {\n  const newOutputs = state.outputs.concat(initialOutputState());\n  return {\n    ...state,\n    ...{\n      outputs: newOutputs,\n      fee: setFeeForRate(state, state.feeRate, newOutputs.length),\n    },\n  };\n}\n\nfunction updateOutputAddress(state, action) {\n  const newOutputs = [...state.outputs];\n  const address = action.value;\n  let error = validateAddress(address, state.network);\n  if (error === \"\") {\n    for (\n      let inputIndex = 0;\n      inputIndex < state.inputs.length;\n      inputIndex += 1\n    ) {\n      const input = state.inputs[inputIndex];\n      if (input.multisig && address === input.multisig.address) {\n        error = \"Output address cannot equal input address.\";\n        break;\n      }\n    }\n  }\n  if (error === \"\") {\n    for (\n      let outputIndex = 0;\n      outputIndex < state.outputs.length;\n      outputIndex += 1\n    ) {\n      if (outputIndex !== action.number - 1) {\n        if (state.outputs[outputIndex].address === address) {\n          error = \"Duplicate output address.\";\n          break;\n        }\n      }\n    }\n  }\n  newOutputs[action.number - 1].address = address;\n  newOutputs[action.number - 1].addressError = error;\n  return {\n    ...state,\n    ...{ outputs: newOutputs },\n  };\n}\n\nfunction updateOutputMultisig(state, action) {\n  const newOutputs = [...state.outputs];\n  newOutputs[action.number - 1].multisig = action.value;\n  return {\n    ...state,\n    ...{ outputs: newOutputs },\n  };\n}\n\nfunction updateOutputAmount(state, action) {\n  const newOutputs = [...state.outputs];\n  let amount = action.value;\n  const amountSats = bitcoinsToSatoshis(BigNumber(amount));\n  let error = validateOutputAmount(amountSats, state.inputsTotalSats);\n\n  if (state.isWallet && error === \"Total input amount must be positive.\")\n    error = \"\";\n  if (state.isWallet && error === \"Output amount is too large.\") error = \"\";\n\n  const dp = BigNumber(amount).dp();\n  if (dp > 8) amount = amount.slice(0, 8 - dp);\n\n  newOutputs[action.number - 1].amount = amount;\n  newOutputs[action.number - 1].amountError = error;\n  newOutputs[action.number - 1].amountSats = error ? \"\" : amountSats;\n  return {\n    ...state,\n    ...{ outputs: newOutputs },\n  };\n}\n\nfunction finalizeOutputs(state, action) {\n  let unsignedTransaction;\n  // First try to build the transaction via PSBT, if that fails (e.g. an input doesn't know about its braid),\n  // then try to build it using the old TransactionBuilder plumbing.\n  try {\n    const unsignedTransactionPSBT = unsignedMultisigPSBT(\n      state.network,\n      state.inputs,\n      state.outputs\n    );\n    unsignedTransaction = unsignedTransactionObjectFromPSBT(\n      unsignedTransactionPSBT\n    );\n  } catch (e) {\n    // probably has an input that isn't braid aware.\n    unsignedTransaction = unsignedMultisigTransaction(\n      state.network,\n      state.inputs,\n      state.outputs\n    ); // bitcoinjs-lib will throw a Deprecation warning for using TransactionBuilder\n  }\n  return {\n    ...state,\n    ...{ finalizedOutputs: action.value, unsignedTransaction },\n  };\n}\n\nfunction updateRequiredSigners(state, action) {\n  return updateState(state, {\n    requiredSigners: action.value,\n    signingKeys: Array(action.value).fill(0),\n  });\n}\n\nfunction updateSigningKey(state, action) {\n  const signingKeys = [...state.signingKeys];\n  signingKeys[action.number - 1] = action.value;\n  return updateState(state, { signingKeys });\n}\n\nfunction outputInitialStateForMode(state) {\n  return updateState(state, {\n    outputs: initialOutputsState(),\n    fee: \"\",\n    balanceError: \"\",\n    changeOutputIndex: 0,\n  });\n}\n\nfunction resetTransactionState(state) {\n  let newState = updateState(state, {\n    ...initialState(),\n    totalSigners: state.totalSigners,\n    network: state.network,\n    addressType: state.addressType,\n    isWallet: state.isWallet,\n    changeAddress: state.changeAddress,\n  });\n  newState = updateRequiredSigners(newState, { value: state.requiredSigners });\n  newState = outputInitialStateForMode(newState);\n  return newState;\n}\n\nfunction validateTransaction(state) {\n  let newState = { ...state };\n  // TODO: need less hacky way to supress error\n  if (\n    newState.outputs.find(\n      (output) => output.addressError !== \"\" || output.amountError !== \"\"\n    ) ||\n    newState.feeError !== \"\" ||\n    newState.feeRateError !== \"\" ||\n    newState.inputs.length === 0\n  ) {\n    return {\n      ...newState,\n      balanceError: \"\",\n    };\n  }\n  const feeSats = bitcoinsToSatoshis(new BigNumber(newState.fee));\n  const outputTotalSats = calcOutputTotalSats(newState);\n  if (!newState.inputsTotalSats.isEqualTo(outputTotalSats.plus(feeSats))) {\n    const diff = outputTotalSats.plus(feeSats).minus(newState.inputsTotalSats);\n    let balanceError;\n    if (diff.isNaN()) {\n      balanceError = \"Cannot calculate total.\";\n    } else {\n      newState = updateState(newState, { updatesComplete: true });\n      const action = diff.isLessThan(0) ? \"Increase\" : \"Decrease\";\n      balanceError = `${action} by ${satoshisToBitcoins(\n        diff.absoluteValue()\n      ).toFixed(8)}.`;\n    }\n    return {\n      ...newState,\n      balanceError,\n    };\n  }\n  const minFee = new BigNumber(setFeeForRate(newState, \"1\", 0));\n\n  if (new BigNumber(newState.fee).isLessThan(minFee)) {\n    return {\n      ...newState,\n      balanceError: `Fee is too small. Should be no less than ${bitcoinsToSatoshis(\n        minFee\n      )} satoshis.`,\n    };\n  }\n\n  return {\n    ...newState,\n    balanceError: \"\",\n  };\n}\n\nexport default (state = initialState(), action) => {\n  switch (action.type) {\n    case CHOOSE_PERFORM_SPEND:\n      return updateState(state, { chosen: true });\n    case SET_NETWORK:\n      return updateState(state, { network: action.value });\n    case SET_ADDRESS_TYPE:\n      return updateState(state, { addressType: action.value });\n    case SET_REQUIRED_SIGNERS:\n      return updateRequiredSigners(state, action);\n    case SET_TOTAL_SIGNERS:\n      return updateState(state, { totalSigners: action.value });\n    case SET_INPUTS:\n      return validateTransaction(updateInputs(state, action));\n    case ADD_OUTPUT:\n      return validateTransaction(addOutput(state, action));\n    case SET_CHANGE_OUTPUT_INDEX:\n      return updateState(state, { changeOutputIndex: action.value });\n    case SET_CHANGE_OUTPUT_MULTISIG:\n      return updateOutputMultisig(state, action);\n    case SET_OUTPUT_ADDRESS:\n      return validateTransaction(updateOutputAddress(state, action));\n    case SET_OUTPUT_AMOUNT:\n      return validateTransaction(updateOutputAmount(state, action));\n    case DELETE_OUTPUT:\n      return validateTransaction(deleteOutput(state, action));\n    case SET_FEE_RATE:\n      return validateTransaction(updateFeeRate(state, action));\n    case SET_FEE:\n      return validateTransaction(updateFee(state, action));\n    case FINALIZE_OUTPUTS:\n      return finalizeOutputs(state, action);\n    case RESET_OUTPUTS:\n      return outputInitialStateForMode(state);\n    case SET_TXID:\n      return updateState(state, { txid: action.value });\n    case SET_IS_WALLET:\n      return updateState(state, { isWallet: true });\n    case RESET_TRANSACTION:\n      return resetTransactionState(state);\n    case UPDATE_AUTO_SPEND:\n      return updateState(state, { autoSpend: action.value });\n    case SET_SIGNING_KEY:\n      return updateSigningKey(state, action);\n    case SET_CHANGE_ADDRESS:\n      return updateState(state, { changeAddress: action.value });\n    case RESET_NODES_SPEND:\n      return updateInputs(state, { value: [] });\n    case SET_BALANCE_ERROR:\n      return updateState(state, { balanceError: action.value });\n    case SET_SPEND_STEP:\n      return updateState(state, { spendingStep: action.value });\n    default:\n      return state;\n  }\n};\n","import { PENDING } from \"unchained-wallets\";\n\nimport {\n  SET_KEYSTORE,\n  SET_KEYSTORE_NOTE,\n  SET_KEYSTORE_STATUS,\n} from \"../actions/keystoreActions\";\n\nconst initialState = {\n  type: \"\",\n  version: \"\",\n  note: \"\",\n  status: PENDING,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_KEYSTORE:\n      return {\n        ...state,\n        ...{ type: action.keystoreType, version: action.version },\n      };\n    case SET_KEYSTORE_NOTE:\n      return {\n        ...state,\n        ...{ note: action.value },\n      };\n    case SET_KEYSTORE_STATUS:\n      return {\n        ...state,\n        ...{ status: action.value },\n      };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport { MAINNET, TESTNET, TEST_FIXTURES } from \"unchained-bitcoin\";\nimport { COLDCARD, ExportPublicKey, HERMIT } from \"unchained-wallets\";\n\nimport Test from \"./Test\";\n\nclass ExportPublicKeyTest extends Test {\n  // eslint-disable-next-line class-methods-use-this\n  postprocess(result) {\n    return result.pubkey ? result.pubkey : result;\n  }\n\n  name() {\n    return `Export ${this.params.network} public key at ${this.params.bip32Path}`;\n  }\n\n  description() {\n    return (\n      <p>\n        Export a public key at BIP32 path\n        <code>{this.params.bip32Path}</code>.\n      </p>\n    );\n  }\n\n  interaction() {\n    return ExportPublicKey({\n      keystore: this.params.keystore,\n      network: this.params.network,\n      bip32Path: this.params.bip32Path,\n      includeXFP: true,\n    });\n  }\n\n  expected() {\n    const { pub, rootFingerprint } =\n      TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path];\n    if (this.params.keystore === HERMIT) {\n      return pub;\n    }\n    return { publicKey: pub, rootFingerprint };\n  }\n}\n\nconst publicKeyTests = (keystore) => {\n  switch (keystore) {\n    case COLDCARD:\n      return [\n        new ExportPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/48'/1'/0'/1'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/48'/1'/0'/2'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/48'/0'/0'/1'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/48'/0'/0'/2'/0/0\",\n        }),\n      ];\n    default:\n      return [\n        new ExportPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/48'/1'/0'/1'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/48'/1'/0'/2'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/48'/0'/0'/1'/0/0\",\n        }),\n        new ExportPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/48'/0'/0'/2'/0/0\",\n        }),\n      ];\n  }\n};\n\nexport default publicKeyTests;\n","import React from \"react\";\nimport { MAINNET, TESTNET, TEST_FIXTURES } from \"unchained-bitcoin\";\nimport {\n  LEDGER,\n  TREZOR,\n  COLDCARD,\n  ExportExtendedPublicKey,\n  HERMIT,\n} from \"unchained-wallets\";\nimport Test from \"./Test\";\n\nclass ExportExtendedPublicKeyTest extends Test {\n  // eslint-disable-next-line class-methods-use-this\n  postprocess(result) {\n    return result.pubkey ? result.pubkey : result;\n  }\n\n  name() {\n    return `Export ${this.params.network} xpub at ${this.params.bip32Path}`;\n  }\n\n  description() {\n    return (\n      <p>\n        Export an extended public key at BIP32 path{\" \"}\n        <code>{this.params.bip32Path}</code>\n      </p>\n    );\n  }\n\n  interaction() {\n    return ExportExtendedPublicKey({\n      keystore: this.params.keystore,\n      network: this.params.network,\n      bip32Path: this.params.bip32Path,\n      includeXFP: true,\n    });\n  }\n\n  expected() {\n    const { xpub, tpub, rootFingerprint } =\n      TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path];\n\n    if (this.params.keystore === HERMIT) {\n      return { xpub, bip32Path: this.params.bip32Path };\n    }\n    if (this.params.network === MAINNET || this.params.keystore === TREZOR)\n      return { xpub, rootFingerprint };\n    if (this.params.keystore === LEDGER || this.params.keystore === COLDCARD)\n      return { xpub: tpub || xpub, rootFingerprint };\n    return { tpub, rootFingerprint };\n  }\n}\n\nconst extendedPublicKeyTests = (keystore) => {\n  switch (keystore) {\n    case COLDCARD:\n      return [\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0/0\",\n        }),\n      ];\n    case LEDGER:\n      return [\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/48'/1'/0'/2'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/4'/99'/2147483647/3/1\",\n        }),\n      ];\n    case TREZOR:\n      return [\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/4'/99'/2147483647/3/1\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/4'/99'/2147483647/3/1\",\n        }),\n      ];\n    default:\n      return [\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: TESTNET,\n          bip32Path: \"m/45'/1'/4'/99'/2147483647/3/1\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/0'/0/0\",\n        }),\n        new ExportExtendedPublicKeyTest({\n          keystore,\n          network: MAINNET,\n          bip32Path: \"m/45'/0'/4'/99'/2147483647/3/1\",\n        }),\n      ];\n  }\n};\n\nexport default extendedPublicKeyTests;\n","import React from \"react\";\n\nimport { blockExplorerAddressURL, TEST_FIXTURES } from \"unchained-bitcoin\";\nimport {\n  ConfirmMultisigAddress,\n  LEDGER,\n  braidDetailsToWalletConfig,\n} from \"unchained-wallets\";\nimport { Box, Table, TableBody, TableRow, TableCell } from \"@material-ui/core\";\nimport { externalLink } from \"../utils\";\n\nimport Test from \"./Test\";\n\nclass ConfirmMultisigAddressTest extends Test {\n  name() {\n    return `Confirm ${this.params.network} ${this.params.type} multisig address`;\n  }\n\n  description() {\n    return (\n      <Box>\n        <p>\n          Confirm the following\n          {this.params.network} {this.params.type} 2-of-2 multisig address on\n          your device:\n        </p>\n\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>Address:</TableCell>\n              <TableCell>\n                {externalLink(\n                  blockExplorerAddressURL(\n                    this.params.address,\n                    this.params.network\n                  ),\n                  <code>{this.params.address}</code>\n                )}\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>BIP32 Path:</TableCell>\n              <TableCell>\n                <code>{this.params.bip32Path}</code>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  }\n\n  interaction() {\n    return ConfirmMultisigAddress({\n      keystore: this.params.keystore,\n      network: this.params.network,\n      bip32Path: this.params.bip32Path,\n      multisig: this.params.multisig,\n      addressIndex: this.params.addressIndex,\n      // only used with ledgers, version 2.1 and above\n      policyHmac: this.params.policyHmac,\n      ...braidDetailsToWalletConfig(\n        JSON.parse(this.params.multisig.braidDetails)\n      ),\n    });\n  }\n}\n\nconst addressTests = (keystore) =>\n  TEST_FIXTURES.multisigs\n    // if ledger only return if policyHmac exists\n    .filter((fixture) => (keystore === LEDGER ? fixture.policyHmac : true))\n    .map((fixture) => {\n      // todo, this should be explicit, coming from the fixture\n      const addressIndex = fixture?.bip32Path.split(\"/\").slice(-1)[0];\n      return new ConfirmMultisigAddressTest({\n        ...fixture,\n        ...{ keystore },\n        addressIndex,\n        expected: fixture.address,\n      });\n    });\n\nexport default addressTests;\n","import React from \"react\";\nimport {\n  blockExplorerAddressURL,\n  satoshisToBitcoins,\n  unsignedMultisigTransaction,\n  unsignedMultisigPSBT,\n  unsignedTransactionObjectFromPSBT,\n  TEST_FIXTURES,\n} from \"unchained-bitcoin\";\nimport {\n  COLDCARD,\n  HERMIT,\n  LEDGER,\n  SignMultisigTransaction,\n  braidDetailsToWalletConfig,\n} from \"unchained-wallets\";\nimport { Box, Table, TableBody, TableRow, TableCell } from \"@material-ui/core\";\nimport { externalLink } from \"../utils\";\nimport Test from \"./Test\";\n\nclass SignMultisigTransactionTest extends Test {\n  name() {\n    return `Sign ${this.params.network} transaction w/ ${this.params.outputs.length} outputs and ${this.params.inputs.length} inputs`;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  postprocess(result) {\n    return result.signatures ? result.signatures : result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  matches(expected, actual) {\n    return JSON.stringify(expected) === JSON.stringify(actual);\n  }\n\n  description() {\n    return (\n      <Box>\n        <p>Sign a transaction which{this.params.description}.</p>\n        <p>\n          <small>\n            This transaction is not meant to be broadcast, but just in case, the\n            output address is fixed and owned by Unchained Capital.\n          </small>\n        </p>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>Output Address:</TableCell>\n              <TableCell>\n                {externalLink(\n                  blockExplorerAddressURL(\n                    this.outputAddress(),\n                    this.params.network\n                  ),\n                  <code>{this.outputAddress()}</code>\n                )}\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>Output Amount:</TableCell>\n              <TableCell>\n                {satoshisToBitcoins(this.outputAmountSats()).toString()} BTC\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>Change Output Address:</TableCell>\n              <TableCell>\n                <code>{this.changeOutputAddress()}</code>\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>Change Output Amount:</TableCell>\n              <TableCell>\n                {satoshisToBitcoins(this.changeOutputAmountSats()).toString()}{\" \"}\n                BTC\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>Fees:</TableCell>\n              <TableCell>\n                {satoshisToBitcoins(this.feeSats()).toString()} BTC\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  }\n\n  inputsTotalSats() {\n    return this.params.inputs.reduce((total, input) => {\n      return total + input.amountSats.toNumber();\n    }, 0);\n  }\n\n  outputAddress() {\n    return this.params.outputs[0].address;\n  }\n\n  outputAmountSats() {\n    return this.params.outputs[0].amountSats.toNumber();\n  }\n\n  changeOutputAddress() {\n    return this.params.outputs[1].address;\n  }\n\n  changeOutputAmountSats() {\n    return this.params.outputs[1].amountSats.toNumber();\n  }\n\n  feeSats() {\n    return (\n      this.inputsTotalSats() -\n      this.outputAmountSats() -\n      this.changeOutputAmountSats()\n    );\n  }\n\n  unsignedTransaction() {\n    let unsignedTx;\n    try {\n      const unsignedTransactionPSBT = unsignedMultisigPSBT(\n        this.params.network,\n        this.params.inputs,\n        this.params.outputs\n      );\n      unsignedTx = unsignedTransactionObjectFromPSBT(unsignedTransactionPSBT);\n    } catch (e) {\n      // probably has an input that isn't braid aware.\n      unsignedTx = unsignedMultisigTransaction(\n        this.params.network,\n        this.params.inputs,\n        this.params.outputs\n      ); // bitcoinjs-lib will throw a Deprecation warning for using TransactionBuilder\n    }\n    return unsignedTx;\n  }\n\n  interaction() {\n    return SignMultisigTransaction({\n      keystore: this.params.keystore,\n      network: this.params.network,\n      inputs: this.params.inputs,\n      outputs: this.params.outputs,\n      bip32Paths: this.params.bip32Paths,\n      walletConfig: braidDetailsToWalletConfig(this.params.braidDetails),\n      policyHmac: this.params.policyHmac,\n      psbt: this.params.psbt,\n    });\n  }\n\n  expected() {\n    if (this.params.keystore === COLDCARD) {\n      return this.params.byteCeilingSignature;\n    }\n    return this.params.signature;\n  }\n}\n\nexport function signingTests(keystore) {\n  const transactions = [];\n  switch (keystore) {\n    case HERMIT:\n      TEST_FIXTURES.transactions.forEach((fixture) => {\n        if (!fixture.segwit) {\n          transactions.push(\n            new SignMultisigTransactionTest({\n              ...fixture,\n              ...{ keystore },\n            })\n          );\n        }\n      });\n      return transactions;\n    case LEDGER:\n      return TEST_FIXTURES.transactions\n        .filter((fixture) => fixture.policyHmac && fixture.braidDetails)\n        .map(\n          (fixture) =>\n            new SignMultisigTransactionTest({\n              ...fixture,\n              ...{ keystore },\n            })\n        );\n    default:\n      return TEST_FIXTURES.transactions.map(\n        (fixture) =>\n          new SignMultisigTransactionTest({\n            ...fixture,\n            ...{ keystore },\n          })\n      );\n  }\n}\n\nexport default signingTests;\n","import { TREZOR } from \"unchained-wallets\";\n\nimport publicKeyTests from \"./publicKeys\";\nimport extendedPublicKeyTests from \"./extendedPublicKeys\";\nimport addressTests from \"./addresses\";\nimport { signingTests } from \"./signing\";\n\nexport default publicKeyTests(TREZOR)\n  .concat(extendedPublicKeyTests(TREZOR))\n  .concat(signingTests(TREZOR))\n  .concat(addressTests(TREZOR));\n","import React from \"react\";\n\nimport { TEST_FIXTURES } from \"unchained-bitcoin\";\nimport {\n  RegisterWalletPolicy,\n  braidDetailsToWalletConfig,\n} from \"unchained-wallets\";\nimport { Box, Table, TableBody, TableRow, TableCell } from \"@material-ui/core\";\n\nimport Test from \"./Test\";\n\nclass RegisterWalletPolicyTest extends Test {\n  name() {\n    return `Confirm ${this.params.network} ${this.params.type} multisig wallet policy`;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  postprocess(result) {\n    return result;\n  }\n\n  expected() {\n    return this.params.policyHmac;\n  }\n\n  description() {\n    return (\n      <Box>\n        <p>\n          Confirm the wallet policy: &quot;{this.params.network}{\" \"}\n          {this.params.type} 2-of-2 multisig address&quote;\n        </p>\n\n        <Table style={{ tableLayout: \"fixed\", width: \"100%\" }}>\n          <TableBody>\n            <TableRow>\n              <TableCell>Name:</TableCell>\n              <TableCell colSpan={5}>{this.params.walletConfig.name}</TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell>Expected token:</TableCell>\n              <TableCell colSpan={5}>\n                <code>{this.params.policyHmac}</code>\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell\n                colSpan={6}\n                style={{ textAlign: \"center\", textTransform: \"uppercase\" }}\n              >\n                Registering Quorum\n              </TableCell>\n            </TableRow>\n            {this.params.braidDetails.extendedPublicKeys.map((key, index) => (\n              <React.Fragment key={key.rootFingerprint}>\n                <TableRow>\n                  <TableCell colSpan={6} style={{ textAlign: \"center\" }}>\n                    Key {index}\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>xpub:</TableCell>\n                  <TableCell style={{ wordBreak: \"break-word\" }} colSpan={5}>\n                    <code>{key.base58String}</code>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>xfp:</TableCell>\n                  <TableCell style={{ wordBreak: \"break-word\" }} colSpan={5}>\n                    <code>{key.rootFingerprint}</code>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Path:</TableCell>\n                  <TableCell style={{ wordBreak: \"break-word\" }} colSpan={5}>\n                    <code>{key.path}</code>\n                  </TableCell>\n                </TableRow>\n              </React.Fragment>\n            ))}\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  }\n\n  interaction() {\n    return RegisterWalletPolicy({\n      keystore: this.params.keystore,\n      // only used with ledgers, version 2.1 and above\n      policyHmac: this.params.policyHmac,\n      verify: true,\n      ...this.params.walletConfig,\n    });\n  }\n}\n\nconst registrationTests = (keystore) =>\n  TEST_FIXTURES.multisigs\n    .filter((fixture) => fixture.policyHmac && fixture.braidDetails)\n    .map(\n      (fixture) =>\n        new RegisterWalletPolicyTest({\n          ...fixture,\n          ...{ keystore },\n          walletConfig: braidDetailsToWalletConfig(fixture.braidDetails),\n        })\n    );\n\nexport default registrationTests;\n","import { LEDGER } from \"unchained-wallets\";\n\nimport publicKeyTests from \"./publicKeys\";\nimport extendedPublicKeyTests from \"./extendedPublicKeys\";\nimport { signingTests } from \"./signing\";\nimport addressTests from \"./addresses\";\nimport registrationTests from \"./registration\";\n\nexport default publicKeyTests(LEDGER)\n  .concat(extendedPublicKeyTests(LEDGER))\n  .concat(signingTests(LEDGER))\n  .concat(addressTests(LEDGER))\n  .concat(registrationTests(LEDGER));\n","import { HERMIT } from \"unchained-wallets\";\n\nimport publicKeyTests from \"./publicKeys\";\nimport extendedPublicKeyTests from \"./extendedPublicKeys\";\nimport { signingTests } from \"./signing\";\n\nexport default publicKeyTests(HERMIT)\n  .concat(extendedPublicKeyTests(HERMIT))\n  .concat(signingTests(HERMIT));\n","import { COLDCARD } from \"unchained-wallets\";\n\nimport extendedPublicKeyTests from \"./extendedPublicKeys\";\nimport { signingTests } from \"./signing\";\nimport publicKeyTests from \"./publicKeys\";\n\nexport default publicKeyTests(COLDCARD)\n  .concat(extendedPublicKeyTests(COLDCARD))\n  .concat(signingTests(COLDCARD));\n","import { TREZOR, LEDGER, HERMIT, COLDCARD } from \"unchained-wallets\";\nimport { TEST_FIXTURES } from \"unchained-bitcoin\";\n\nimport trezorTests from \"./trezor\";\nimport ledgerTests from \"./ledger\";\nimport hermitTests from \"./hermit\";\nimport coldcardTests from \"./coldcard\";\n\nconst SUITE = {};\n\nSUITE[TREZOR] = trezorTests;\nSUITE[LEDGER] = ledgerTests;\nSUITE[HERMIT] = hermitTests;\nSUITE[COLDCARD] = coldcardTests;\n\nconst SEED = TEST_FIXTURES.bip39Phrase;\n\nexport { SUITE, SEED };\n","import moment from \"moment\";\nimport { PENDING, ACTIVE } from \"unchained-wallets\";\n\nimport { SUITE } from \"../tests\";\n\nimport { SET_KEYSTORE } from \"../actions/keystoreActions\";\nimport {\n  START_TEST_SUITE_RUN,\n  SET_CURRENT_TEST_RUN,\n} from \"../actions/testSuiteRunActions\";\nimport {\n  START_TEST_RUN,\n  END_TEST_RUN,\n  RESET_TEST_RUN,\n  SET_TEST_RUN_NOTE,\n} from \"../actions/testRunActions\";\n\nconst initialTestRunState = {\n  startedAt: \"\",\n  endedAt: \"\",\n  status: PENDING,\n  message: \"\",\n  note: \"\",\n};\n\nconst initialState = {\n  started: false,\n  startedAt: \"\",\n  endedAt: \"\",\n  testRuns: [],\n  currentTestRunIndex: -1,\n};\n\nconst testRunsForKeystore = (action) => {\n  if (action.keystoreType === \"\") {\n    return [];\n  }\n  return (SUITE[action.keystoreType] || []).map((test) => {\n    return {\n      ...initialTestRunState,\n      ...{ test },\n    };\n  });\n};\n\nconst updatedTestRun = (state, testRunIndex, update) => {\n  return {\n    ...state,\n    ...{\n      testRuns: state.testRuns.map((testRun, i) => {\n        if (i === testRunIndex) {\n          return {\n            ...testRun,\n            ...update,\n          };\n        }\n        return testRun;\n      }),\n    },\n  };\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_KEYSTORE:\n      return {\n        ...state,\n        ...{ testRuns: testRunsForKeystore(action) },\n      };\n    case START_TEST_SUITE_RUN:\n      return {\n        ...state,\n        ...{\n          started: true,\n          startedAt: moment(),\n          currentTestRunIndex: 0,\n        },\n      };\n    case SET_CURRENT_TEST_RUN:\n      return {\n        ...state,\n        ...{ currentTestRunIndex: action.value },\n      };\n    case START_TEST_RUN:\n      return updatedTestRun(state, action.testRunIndex, {\n        startedAt: moment(),\n        status: ACTIVE,\n      });\n    case END_TEST_RUN:\n      return updatedTestRun(state, action.testRunIndex, {\n        endedAt: moment(),\n        status: action.status,\n        message: action.message,\n      });\n    case RESET_TEST_RUN:\n      return updatedTestRun(state, action.testRunIndex, initialTestRunState);\n    case SET_TEST_RUN_NOTE:\n      return updatedTestRun(state, action.testRunIndex, { note: action.note });\n    default:\n      return state;\n  }\n};\n","import {\n  SET_ERROR_NOTIFICATION,\n  CLEAR_ERROR_NOTIFICATION,\n} from \"../actions/errorNotificationActions\";\n\nconst initialState = {\n  message: \"\",\n  open: false,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_ERROR_NOTIFICATION:\n      return {\n        ...state,\n        ...{ open: true, message: action.value },\n      };\n    case CLEAR_ERROR_NOTIFICATION:\n      return {\n        ...state,\n        ...{ open: false, message: \"\" },\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport settingsReducer from \"./settingsReducer\";\nimport clientReducer from \"./clientReducer\";\nimport braidReducer from \"./braidReducer\";\nimport quorumReducer from \"./quorumReducer\";\nimport addressReducer from \"./addressReducer\";\nimport walletReducer from \"./walletReducer\";\n\nimport ownershipReducer from \"./ownershipReducer\";\nimport signatureImportersReducer from \"./signatureImportersReducer\";\nimport transactionReducer from \"./transactionReducer\";\nimport keystoreReducer from \"./keystoreReducer\";\nimport testSuiteRunReducer from \"./testSuiteRunReducer\";\nimport errorNotificationReducer from \"./errorNotificationReducer\";\n\nimport {\n  UPDATE_DEPOSIT_SLICE,\n  UPDATE_CHANGE_SLICE,\n  RESET_WALLET,\n} from \"../actions/walletActions\";\n\nconst spendReducers = combineReducers({\n  ownership: ownershipReducer,\n  transaction: transactionReducer,\n  signatureImporters: signatureImportersReducer,\n});\n\nconst walletReducers = combineReducers({\n  deposits: braidReducer(UPDATE_DEPOSIT_SLICE),\n  change: braidReducer(UPDATE_CHANGE_SLICE),\n  common: walletReducer,\n});\n\nconst appReducer = combineReducers({\n  settings: settingsReducer,\n  client: clientReducer,\n  address: addressReducer,\n  spend: spendReducers,\n  quorum: quorumReducer,\n  wallet: walletReducers,\n  testSuiteRun: testSuiteRunReducer,\n  keystore: keystoreReducer,\n  errorNotification: errorNotificationReducer,\n});\n\nconst rootReducer = (state, action) => {\n  let newState = state;\n  if (action.type === RESET_WALLET || action.type === \"RESET_APP_STATE\")\n    newState = undefined;\n\n  return appReducer(newState, action);\n};\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport ReduxPromise from \"redux-promise\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./components/AppContainer\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport reducers from \"./reducers\";\n\n/* eslint-disable-next-line no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(ReduxPromise, thunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"app\")\n);\nregisterServiceWorker();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TESTNET = exports.SIGNET = exports.REGTEST = exports.NETWORKS = exports.MAINNET = void 0;\nexports.getNetworkFromPrefix = getNetworkFromPrefix;\nexports.networkData = networkData;\nexports.networkLabel = networkLabel;\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\n/**\n * This module exports network constants and provide some utility\n * functions for displaying the network name and passing the network\n * value to bitcoinjs.\n *\n * @module networks\n */\n\n/**\n * Constant corresponding to the Bitcoin mainnet.\n *\n * @constant\n * @type {string}\n * @default mainnet\n *\n */\nvar MAINNET = \"mainnet\";\n\n/**\n * Constant corresponding to the current Bitcoin testnet.\n *\n * @constant\n * @type {string}\n * @default testnet\n */\nexports.MAINNET = MAINNET;\nvar TESTNET = \"testnet\";\n\n/**\n * Constant corresponding to a bitcoin regtest network\n *\n * @constant\n * @type {string}\n * @default regtest\n */\nexports.TESTNET = TESTNET;\nvar REGTEST = \"regtest\";\n\n/**\n * Constant corresponding to a bitcoin signet network\n *\n * @constant\n * @type {string}\n * @default signet\n */\nexports.REGTEST = REGTEST;\nvar SIGNET = \"signet\";\n\n/**\n * Enumeration of possible values for bitcoin networks ([MAINET]{@link module:networks.MAINNET}|[TESTNET]{@link module:networks.TESTNET}).\n *\n * @constant\n * @enum {string}\n * @default\n */\nexports.SIGNET = SIGNET;\nvar NETWORKS = {\n  MAINNET: MAINNET,\n  TESTNET: TESTNET\n};\n\n/**\n * Returns bitcoinjs-lib network object corresponding to the given\n * network.\n *\n * This function is for internal use by this library.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {Network} bitcoinjs-lib network object\n */\nexports.NETWORKS = NETWORKS;\nfunction networkData(network) {\n  switch (network) {\n    case NETWORKS.MAINNET:\n      return _bitcoinjsLib.networks.bitcoin;\n    case NETWORKS.TESTNET:\n      return _bitcoinjsLib.networks.testnet;\n    default:\n      return _bitcoinjsLib.networks.testnet;\n  }\n}\n\n/**\n * Returns human-readable network label for the specified network.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} network label\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * console.log(networkLabel(MAINNET)); // \"Mainnet\"\n */\nfunction networkLabel(network) {\n  switch (network) {\n    case NETWORKS.MAINNET:\n      return \"Mainnet\";\n    case NETWORKS.TESTNET:\n      return \"Testnet\";\n    default:\n      return \"Testnet\";\n  }\n}\n\n/**\n * @description given a prefix determine the network it indicates\n * @param {string} prefix - extended public key prefix (e.g. xpub, tpub)\n * @returns {string} - string indicating network\n */\nfunction getNetworkFromPrefix(prefix) {\n  switch (prefix.toLowerCase()) {\n    case \"xpub\":\n    case \"ypub\":\n    case \"zpub\":\n      return MAINNET;\n    case \"tpub\":\n    case \"upub\":\n    case \"vpub\":\n      return TESTNET;\n    default:\n      throw new Error(\"Unrecognized extended public key prefix \".concat(prefix));\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.P2SH_P2WSH = void 0;\nexports.estimateMultisigP2SH_P2WSHTransactionVSize = estimateMultisigP2SH_P2WSHTransactionVSize;\n/**\n * This module provides functions and constants for the P2SH-wrapped\n * P2WSH address type, sometimes written P2SH-P2WSH.\n * \n * @module p2sh_p2wsh\n */\n\n/**\n * Address type constant for \"pay-to-script-hash\" wrapped\n * \"pay-to-witness-script-hash\" (P2SH-P2WSH) addresses.\n *\n * @constant\n * @type {string}\n * @default P2SH-P2WSH\n * \n */\nvar P2SH_P2WSH = \"P2SH-P2WSH\";\n\n/**\n * Estimate the transaction virtual size (vsize) when spending inputs\n * from the same multisig P2SH-P2WSH address.\n *\n * @param {Object} config - configuration for the calculation\n * @param {number} config.numInputs - number of m-of-n multisig P2SH inputs\n * @param {number} config.numOutputs - number of outputs\n * @param {number} config.m - required signers\n * @param {number} config.n - total signers\n * @returns {number} estimated transaction virtual size in bytes\n */\nexports.P2SH_P2WSH = P2SH_P2WSH;\nfunction estimateMultisigP2SH_P2WSHTransactionVSize(config) {\n  var baseSize = 76 * config.numInputs + 34 * config.numOutputs + 30;\n  var signatureLength = 72;\n  var overhead = 6;\n  var keylength = 33;\n  var witnessSize = signatureLength * config.m * config.numInputs + keylength * config.n * config.numInputs + overhead * config.numInputs;\n  var vsize = Math.ceil(0.75 * baseSize + 0.25 * (baseSize + witnessSize));\n  return vsize;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.P2WSH = void 0;\nexports.calculateBase = calculateBase;\nexports.calculateTotalWitnessSize = calculateTotalWitnessSize;\nexports.estimateMultisigP2WSHTransactionVSize = estimateMultisigP2WSHTransactionVSize;\nexports.getRedeemScriptSize = getRedeemScriptSize;\nexports.getWitnessSize = getWitnessSize;\nvar _bufio = require(\"bufio\");\n/**\n * This module provides functions and constants for the P2WSH address type.\n * \n * @module p2wsh\n */\n\n/**\n * Address type constant for \"pay-to-witness-script-hash\" or (P2WSH)\n * addresses.\n * \n * @constant\n * @type {string}\n * @default P2WSH\n */\nvar P2WSH = \"P2WSH\";\n\n/**\n * @description provides the size of single tx input for a segwit tx (i.e. empty script)\n * Each input field will look like:\n * prevhash (32 bytes) + prevIndex (4) + scriptsig (1) + sequence bytes (4)\n * @returns {Number} 41 (always 41 for segwit inputs since script sig is in witness)\n */\nexports.P2WSH = P2WSH;\nfunction txinSize() {\n  var PREVHASH_BYTES = 32;\n  var PREV_INDEX_BYTES = 4;\n  var SCRIPT_LENGTH_BYTES = 1;\n  var SEQUENCE_BYTES = 4;\n  return PREVHASH_BYTES + PREV_INDEX_BYTES + SEQUENCE_BYTES + SCRIPT_LENGTH_BYTES;\n}\n\n/**\n * @description Returns the approximate size of outputs in tx. \n * Calculated by adding value field (8 bytes), field providing length\n * scriptPubkey and the script pubkey itself\n * @param {Number} [scriptPubkeySize = 34] size of script pubkey. \n * Defaults to 34 which is the size of a P2WSH script pubkey and the\n * largest possible standard\n * @returns {Number} size of tx output (default: 43)\n */\nfunction txoutSize() {\n  var scriptPubkeySize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 34;\n  // per_output: value (8) + script length (1) + \n  var VAL_BYTES = 8;\n  var scriptLengthBytes = _bufio.encoding.sizeVarint(scriptPubkeySize);\n  // for P2WSH Locking script which is largest possible(34)\n  return VAL_BYTES + scriptLengthBytes + scriptPubkeySize;\n}\n\n/**\n * @description calculates size of redeem script given n pubkeys.\n * Calculation looks like: \n * OP_M (1 byte) + size of each pubkey in redeem script (OP_DATA= 1 byte * N) +\n * pubkey size (33 bytes * N) + OP_N (1 byte) + OP_CHECKMULTISIG (1 byte)\n *  => 1 + (1 * N) + (33 * N) + 1 + 1\n * @param {Number} n - value of n in m-of-n for multisig script\n * @returns {Number} 3 + 34 * N\n */\nfunction getRedeemScriptSize(n) {\n  var OP_M_BYTES = 1;\n  var OP_N_BYTES = 1;\n  var opDataBytes = n; // 1 byte per pubkey in redeem script\n  var pubkeyBytes = 33 * n;\n  var OP_CHECKMULTISIG_BYTES = 1;\n  return OP_M_BYTES + opDataBytes + pubkeyBytes + OP_N_BYTES + OP_CHECKMULTISIG_BYTES;\n}\n\n/**\n * @description Calculates the value of a multisig witness given m-of-n values\n * Calculation is of the following form:\n * witness_items count (varint 1+) + null_data (1 byte) + size of each signature (1 byte * OP_M) + signatures (73 * M) +\n * redeem script length (1 byte) + redeem script size (4 + 34 * N bytes)\n * @param {Number} m - value of m in m-of-n for multisig script\n * @param {Number} n - value of n in m-of-n for multisig script\n * @returns {Number} 6 + (74 * M) + (34 * N)\n */\nfunction getWitnessSize(m, n) {\n  var OP_NULL_BYTES = 1; // needs to be added b/c of bug in multisig implementation\n  var opDataBytes = m;\n  // assumes largest possible signature size which could be 71, 72, or 73\n  var signaturesSize = 73 * m;\n  var REDEEM_SCRIPT_LENGTH = 1;\n  var redeemScriptSize = getRedeemScriptSize(n);\n  // total witness stack will be null bytes + each signature (m) + redeem script\n  var WITNESS_ITEMS_COUNT = _bufio.encoding.sizeVarint(1 + m + 1);\n  return WITNESS_ITEMS_COUNT + OP_NULL_BYTES + opDataBytes + signaturesSize + REDEEM_SCRIPT_LENGTH + redeemScriptSize;\n}\n\n/**\n * @description Calculates the size of the fields in a transaction which DO NOT\n * get counted towards witness discount.\n * Calculated as: version bytes (4) + locktime bytes (4) + input_len (1+) + txins (41+) + output_len (1+) + outputs (9+)\n * @param {*} inputsCount - number of inputs in the tx\n * @param {*} outputsCount - number of outputs in the tx\n * @returns {Number} number of bytes in the tx without witness fields\n */\nfunction calculateBase(inputsCount, outputsCount) {\n  var total = 0;\n  total += 4; // version\n  total += 4; // locktime\n\n  total += _bufio.encoding.sizeVarint(inputsCount); // inputs length\n  total += inputsCount * txinSize();\n  total += _bufio.encoding.sizeVarint(outputsCount);\n  total += outputsCount * txoutSize();\n  return total;\n}\nfunction calculateTotalWitnessSize(_ref) {\n  var numInputs = _ref.numInputs,\n    m = _ref.m,\n    n = _ref.n;\n  var total = 0;\n  total += 1; // segwit marker\n  total += 1; // segwit flag\n\n  total += _bufio.encoding.sizeVarint(numInputs); // bytes for number of witnesses\n  total += numInputs * getWitnessSize(m, n); // add witness for each input\n\n  return total;\n}\n\n/**\n * @description Calculate virtual bytes or \"vsize\". \n * vsize is equal three times \"base size\" of a tx w/o witness data, plus the\n * total size of all data, with the final result divided by scaling factor\n * of 4 and round up to the next integer. For example, if a transaction is\n * 200 bytes with new serialization, and becomes 99 bytes with marker, flag,\n * and witness removed, the vsize is (99 * 3 + 200) / 4 = 125 with round up.\n * @param {Number} baseSize - base size of transaction\n * @param {Number} witnessSize - size of witness fields\n * @returns {Number} virtual size of tx\n */\nfunction calculateVSize(baseSize, witnessSize) {\n  var WITNESS_SCALE_FACTOR = 4;\n  var totalSize = baseSize + witnessSize;\n  var txWeight = baseSize * 3 + totalSize;\n  return Math.ceil(txWeight / WITNESS_SCALE_FACTOR);\n}\n\n/**\n * Estimate the transaction virtual size (vsize) when spending inputs\n * from the same multisig P2WSH address. \n * @param {Object} config - configuration for the calculation\n * @param {number} config.numInputs - number of m-of-n multisig P2SH inputs\n * @param {number} config.numOutputs - number of outputs\n * @param {number} config.m - required signers\n * @param {number} config.n - total signers\n * @returns {number} estimated transaction virtual size in bytes\n */\nfunction estimateMultisigP2WSHTransactionVSize(config) {\n  // non-segwit discount fields\n  var baseSize = calculateBase(config.numInputs, config.numOutputs);\n  // these are the values that benefit from the segwit discount\n  var witnessSize = calculateTotalWitnessSize(config);\n  return calculateVSize(baseSize, witnessSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ZERO = void 0;\nexports.bitcoinsToSatoshis = bitcoinsToSatoshis;\nexports.hash160 = hash160;\nexports.satoshisToBitcoins = satoshisToBitcoins;\nexports.toHexString = toHexString;\nexports.validBase64 = validBase64;\nexports.validateHex = validateHex;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.array.map\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * This module provides conversion and validation functions for units\n * (Satoshis, BTC) and hex strings.\n * \n * @module utils\n */\n\nvar VALID_BASE64_REGEX = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/;\nvar VALID_HEX_REGEX = /^[0-9A-Fa-f]*$/;\n\n/**\n * Converts a byte array to its hex representation.\n * \n * @param {number[] | Buffer} byteArray - input byte array\n * @returns {string} hex representation of input array\n * \n * @example\n * import {toHexString} from \"unchained-bitcoin\";\n * const hex = toHexString([255, 0, 15, 16, 31, 32]);\n * console.log(hex) // ff000f101f20\n * \n */\nfunction toHexString(byteArray) {\n  return Array.prototype.map.call(byteArray, function (byte) {\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n  }).join('');\n}\n\n/**\n * Validate whether the given string is base64.\n *\n * - Valid base64 consists of whole groups of 4 characters containing `a-z`, `A-Z`, 0-9,\n *   `+`, or `/`. The end of the string may be padded with `==` or `=` to\n *   complete the four character group.\n * \n * @param {string} inputString - string to validate\n * @returns {boolean} true if base64, false otherwise.\n */\nfunction validBase64(inputString) {\n  return VALID_BASE64_REGEX.test(inputString);\n}\n\n/**\n * Validate whether the given string is hex.\n *\n * - Valid hex consists of an even number of characters 'a-f`, `A-F`,\n *   or `0-9`.  This is case-insensitive.\n *\n * - The presence of the common prefix `0x` will make the input be\n *   considered invalid (because of the` `x`).\n * \n * @param {string} inputString - string to validate\n * @returns {string} empty if valid or corresponding validation message if not\n * \n * @example\n * import {validateHex} from \"unchained-bitcoin\";\n * console.log(validateHex('00112233gg')) // \"Invalid hex: ...\"\n * console.log(validateHex('0xdeadbeef')) // \"Invalid hex: ...\"\n * console.log(validateHex('deadbeef')) // \"\"\n * console.log(validateHex('DEADbeef')) // \"\"\n * \n */\nfunction validateHex(inputString) {\n  if (inputString.length % 2) {\n    return 'Invalid hex: odd-length string.';\n  }\n  if (!VALID_HEX_REGEX.test(inputString)) {\n    return 'Invalid hex: only characters a-f, A-F and 0-9 allowed.';\n  }\n  return '';\n}\n\n/**\n * Convert a value in Satoshis to BTC.\n *\n * - Accepts both positive and negative input values.\n * - Rounds down (towards zero) input value to the nearest Satoshi.\n * \n * @param {BigNumber|string|number} satoshis - value in Satoshis\n * @returns {BigNumber} value in BTC\n * \n * @example\n * import {satoshisToBitcoins} from \"unchained-bitcoin\";\n * console.log(satoshisToBitcoins(123450000)); // 1.2345\n * console.log(satoshisToBitcoins('0.5')); // 0\n * console.log(satoshisToBitcoins('-100000000.5')); // -1.0\n * \n */\nfunction satoshisToBitcoins(satoshis) {\n  var originalValue = (0, _bignumber.default)(satoshis);\n  var roundedValue = originalValue.integerValue(_bignumber.default.ROUND_DOWN);\n  return roundedValue.shiftedBy(-8);\n}\n\n/**\n * Convert a value in BTC to Satoshis.\n *\n * - Accepts both positive and negative input values.\n * - Rounds down output value to the nearest Satoshi.\n * \n * @param {BigNumber|string|number} btc - value in BTC\n * @returns {BigNumber} value in satoshis\n * \n * @example\n * import {bitcoinsToSatoshis} from \"unchained-bitcoin\";\n * console.log(bitcoinsToSatoshis(1.2345)); // 123450000\n * console.log(bitcoinsToSatoshis(-1.2345)); // -123450000\n */\nfunction bitcoinsToSatoshis(btc) {\n  return (0, _bignumber.default)(btc).shiftedBy(8).integerValue(_bignumber.default.ROUND_DOWN);\n}\nvar ZERO = (0, _bignumber.default)(0);\n\n/**\n * Given a buffer as a digest, pass through sha256 and ripemd160\n * hash functions. Returns the result\n * @param {Buffer} buf - buffer to get hash160 of\n * @returns {Buffer} hash160 of the given buffer\n */\nexports.ZERO = ZERO;\nfunction hash160(buf) {\n  return _bitcoinjsLib.crypto.ripemd160(_bitcoinjsLib.crypto.sha256(buf));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MULTISIG_ADDRESS_TYPES = void 0;\nexports.generateMultisigFromHex = generateMultisigFromHex;\nexports.generateMultisigFromPublicKeys = generateMultisigFromPublicKeys;\nexports.generateMultisigFromRaw = generateMultisigFromRaw;\nexports.multisigAddress = multisigAddress;\nexports.multisigAddressType = multisigAddressType;\nexports.multisigBraidDetails = multisigBraidDetails;\nexports.multisigPublicKeys = multisigPublicKeys;\nexports.multisigRedeemScript = multisigRedeemScript;\nexports.multisigRequiredSigners = multisigRequiredSigners;\nexports.multisigScript = multisigScript;\nexports.multisigTotalSigners = multisigTotalSigners;\nexports.multisigWitnessScript = multisigWitnessScript;\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.array.map\");\nvar _networks = require(\"./networks\");\nvar _p2sh = require(\"./p2sh\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _utils = require(\"./utils\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\n/**\n * This module provides an API around the multisig capabilities of the\n * bitcoinjs-lib library.  The API is functional but requires you\n * creating and passing around a [`Multisig`]{@link module:multisig.MULTISIG} object.\n *\n * This `Multisig` object represents the combination of:\n *\n * 1) a sequence of N public keys\n * 2) the number of required signers (M)\n * 3) the address type  (P2SH, P2SH-P2WSH, P2WSH)\n * 4) the bitcoin network\n *\n * This corresponds to a unique bitcoin multisig address.  Note that\n * since (3) & (4) can change without changing (1) & (2), different\n * `Multisig` objects (and their corresponding bitcoin addresses) can\n * have different representations but the same security rules as to\n * who can sign.\n *\n * You can create `Multisig` objects yourself using the following\n * functions:\n *\n * - `generateMultisigFromPublicKeys` which takes public keys as input\n * - `generateMultisigFromHex` which takes a redeem/witness script as input\n *\n * Once you have a `Multisig` object you can pass it around in your\n * code and then ask questions about it using the other functions\n * defined in this module.\n *\n * You can manipulate `Multisig` objects directly but it's better to\n * use the functions from API provided by this module.\n *\n * @module multisig\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigRequiredSigners, multisigTotalSigners,\n *   multisigAddressType,\n *   multisigPublicKeys,\n * } from \"unchained-bitcoin\";\n * const pubkey1 = \"03a...\";\n * const pubkey2 = \"03b...\";\n * // A mainnet 1-of-2 P2SH multisig\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 1, pubkey1, pubkey2);\n *\n * console.log(multisigRequiredSigners(multisig)); // 1\n * console.log(multisigTotalSigners(multisig)); // 2\n * console.log(multisigAddressType(multisig)); // \"P2SH\"\n * console.log(multisigPublicKeys(multisig)); // [\"03a...\", \"03b...\"]\n *\n */\n\n/**\n * Describes the return type of several functions in the\n * `payments` module of bitcoinjs-lib.\n *\n * The following functions in this module will return objects of this\n * type:\n *\n * - `generateMultisigFromPublicKeys` which takes public keys as input\n * - `generateMultisigFromHex` which takes a redeem/witness script as input\n *\n * The remaining functions accept these objects as arguments.\n *\n * @typedef Multisig\n * @type {Object}\n * @property {string} address - The multisig address\n * @property {Object} redeem - the redeem object from p2ms\n * @property {Object} multisigBraidDetails - details about the braid (addressType, network, requiredSigners, xpubs, index)\n * @property {Object[]} getBip32Derivation - Array of objects for every key in this multisig address\n *\n */\n\n/**\n * Enumeration of possible multisig address types ([P2SH]{@link module:p2sh.P2SH}|[P2SH_P2WSH]{@link module:p2sh_p2wsh.P2SH_P2WSH}|[P2WSH]{@link module:p2wsh.P2WSH}).\n *\n * @constant\n * @enum {string}\n * @default\n */\nvar MULTISIG_ADDRESS_TYPES = {\n  P2SH: _p2sh.P2SH,\n  P2SH_P2WSH: _p2sh_p2wsh.P2SH_P2WSH,\n  P2WSH: _p2wsh.P2WSH\n};\n\n/**\n * Return an M-of-N [`Multisig`]{@link module:multisig.MULTISIG}\n * object by specifying the total number of signers (M) and the public\n * keys (N total).\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} addressType - address type\n * @param {number} requiredSigners - number of signers required needed to spend funds (M)\n * @param  {...string} publicKeys - list of public keys, 1 per possible signer (N)\n * @returns {Multisig} the corresponding `Multisig` object\n * @example\n * // A 2-of-3 P2SH mainnet multisig built from 3 public keys.\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH, P2WSH,\n * } from \"unchained-bitcoin\";\n * const multisigP2SH = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * const multisigP2WSH = generateMultisigFromPublicKeys(MAINNET, P2WSH, 2, \"03a...\", \"03b...\", \"03c...\");\n */\nexports.MULTISIG_ADDRESS_TYPES = MULTISIG_ADDRESS_TYPES;\nfunction generateMultisigFromPublicKeys(network, addressType, requiredSigners) {\n  for (var _len = arguments.length, publicKeys = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    publicKeys[_key - 3] = arguments[_key];\n  }\n  var multisig = _bitcoinjsLib.payments.p2ms({\n    m: requiredSigners,\n    pubkeys: publicKeys.map(function (hex) {\n      return Buffer.from(hex, \"hex\");\n    }),\n    network: (0, _networks.networkData)(network)\n  });\n  return generateMultisigFromRaw(addressType, multisig);\n}\n\n/**\n * Return an M-of-N [`Multisig`]{@link module.multisig:Multisig}\n * object by passing a script in hex.\n *\n * If the `addressType` is `P2SH` then the script hex being passed is\n * the redeem script.  If the `addressType` is P2SH-wrapped SegWit\n * (`P2SH_P2WSH`) or native SegWit (`P2WSH`) then the script hex being\n * passed is the witness script.\n *\n * In practice, the same script hex can be thought of as any of\n * several address types, depending on context.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} addressType - address type\n * @param {string} multisigScriptHex - hex representation of the redeem/witness script\n * @returns {Multisig} object for further parsing\n * @example\n * import {\n *   generateMultisigFromHex, MAINNET, P2SH, P2WSH,\n * } from \"unchained-bitcoin\";\n * const multisigScript = \"512103a90d10bf3794352bb1fa533dbd4ea75a0ffc98e0d05124938fcc3e10cdbe1a4321030d60e8d497fa8ce59a2b3203f0e597cd0182e1fe0cc3688f73497f2e99fbf64b52ae\";\n * const multisigP2SH = generateMultisigFromHex(MAINNET, P2SH, multisigScript);\n * const multisigP2WSH = generateMultisigFromHex(MAINNET, P2WSH, multisigScript);\n */\nfunction generateMultisigFromHex(network, addressType, multisigScriptHex) {\n  var multisig = _bitcoinjsLib.payments.p2ms({\n    output: Buffer.from(multisigScriptHex, \"hex\"),\n    network: (0, _networks.networkData)(network)\n  });\n  return generateMultisigFromRaw(addressType, multisig);\n}\n\n/**\n * Return an M-of-N [`Multisig`]{@link module.multisig:Multisig}\n * object by passing in a raw P2MS multisig object (from bitcoinjs-lib).\n *\n * This function is only used internally, do not call it directly.\n *\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} addressType - address type\n * @param {object} multisig - P2MS multisig object\n * @returns {Multisig} object for further parsing\n * @ignore\n *\n */\nfunction generateMultisigFromRaw(addressType, multisig) {\n  switch (addressType) {\n    case _p2sh.P2SH:\n      return _bitcoinjsLib.payments.p2sh({\n        redeem: multisig\n      });\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return _bitcoinjsLib.payments.p2sh({\n        redeem: _bitcoinjsLib.payments.p2wsh({\n          redeem: multisig\n        })\n      });\n    case _p2wsh.P2WSH:\n      return _bitcoinjsLib.payments.p2wsh({\n        redeem: multisig\n      });\n    default:\n      return null;\n  }\n}\n\n/**\n * Return the [address type]{@link module:multisig.MULTISIG_ADDRESS_TYPES} of the given `Multisig` object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {module:multisig.MULTISIG_ADDRESS_TYPES|String} the address type\n * @example\n * import {\n *   multisigAddressType, P2SH, P2SH_P2WSH, P2WSH,\n * } from \"unchained-bitcoin\";\n * function doSomething(multisig) {\n *   switch (multisigAddressType(multisig)) {\n *   case P2SH:\n *     // handle P2SH here\n *   case P2SH_P2WSH:\n *     // handle P2SH-P2WSH here\n *   case P2WSH:\n *     // handle P2WSH here\n *   default:\n *     // shouldn't reach here\n * }\n */\nfunction multisigAddressType(multisig) {\n  if (multisig.redeem.redeem) {\n    return _p2sh_p2wsh.P2SH_P2WSH;\n  } else {\n    // FIXME why is multisig.witness null?\n    // if (multisig.witness) {\n    if (multisig.address.match(/^(tb|bc)/)) {\n      return _p2wsh.P2WSH;\n    } else {\n      return _p2sh.P2SH;\n    }\n  }\n}\n\n/**\n * Return the number of required signers of the given `Multisig`\n * object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {number} number of required signers\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigRequiredSigners,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigRequiredSigners(multisig)); // 2\n */\nfunction multisigRequiredSigners(multisig) {\n  return multisigAddressType(multisig) === _p2sh_p2wsh.P2SH_P2WSH ? multisig.redeem.redeem.m : multisig.redeem.m;\n}\n\n/**\n * Return the number of total signers (public keys) of the given\n * `Multisig` object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {number} number of total signers\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigTotalSigners,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigTotalSigners(multisig)); // 3\n */\nfunction multisigTotalSigners(multisig) {\n  return multisigAddressType(multisig) === _p2sh_p2wsh.P2SH_P2WSH ? multisig.redeem.redeem.n : multisig.redeem.n;\n}\n\n/**\n * Return the multisig script for the given `Multisig` object.\n *\n * If the address type of the given multisig object is P2SH, the\n * redeem script will be returned.  Otherwise, the witness script will\n * be returned.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {Multisig|null} the corresponding script\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigScript,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigScript(multisig));\n */\nfunction multisigScript(multisig) {\n  switch (multisigAddressType(multisig)) {\n    case _p2sh.P2SH:\n      return multisigRedeemScript(multisig);\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return multisigWitnessScript(multisig);\n    case _p2wsh.P2WSH:\n      return multisigWitnessScript(multisig);\n    default:\n      /* istanbul ignore next */\n      // multisigAddressType only returns one of the 3 above choices\n      return null;\n  }\n}\n\n/**\n * Return the redeem script for the given `Multisig` object.\n *\n * If the address type of the given multisig object is P2WSH, this\n * will return null.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {Multisig|null} the redeem script\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigRedeemScript,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigRedeemScript(multisig));\n */\nfunction multisigRedeemScript(multisig) {\n  switch (multisigAddressType(multisig)) {\n    case _p2sh.P2SH:\n      return multisig.redeem;\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return multisig.redeem;\n    case _p2wsh.P2WSH:\n      return null;\n    default:\n      /* istanbul ignore next */\n      // multisigAddressType only returns one of the 3 above choices\n      return null;\n  }\n}\n\n/**\n * Return the witness script for the given `Multisig` object.\n *\n * If the address type of the given multisig object is P2SH, this will\n * return null.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {Multisig|null} the witness script\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2WSH,\n *   multisigWitnessScript,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2WSH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigWitnessScript(multisig));\n */\nfunction multisigWitnessScript(multisig) {\n  switch (multisigAddressType(multisig)) {\n    case _p2sh.P2SH:\n      return null;\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return multisig.redeem.redeem;\n    case _p2wsh.P2WSH:\n      return multisig.redeem;\n    default:\n      /* istanbul ignore next */\n      // multisigAddressType only returns one of the 3 above choices\n      return null;\n  }\n}\n\n/**\n * Return the (compressed) public keys in hex for the given `Multisig`\n * object.\n *\n * The public keys are in the order used in the corresponding\n * redeem/witness script.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {string[]} (compressed) public keys in hex\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2WSH,\n *   multisigPublicKeys,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2WSH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigPublicKeys(multisig)); // [\"03a...\", \"03b...\", \"03c...\"]\n *\n */\nfunction multisigPublicKeys(multisig) {\n  return (multisigAddressType(multisig) === _p2sh.P2SH ? multisigRedeemScript(multisig) : multisigWitnessScript(multisig)).pubkeys.map(_utils.toHexString);\n}\n\n/**\n * Return the address for a given `Multisig` object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {string} the address\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   multisigAddress,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigAddress(multisig)); // \"3j...\"\n *\n */\nfunction multisigAddress(multisig) {\n  return multisig.address;\n}\n\n/**\n * Return the braid details (if known) for a given `Multisig` object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @returns {string} the braid details\n * @example\n * import {\n *   generateBraidFromExtendedPublicKeys,\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   braidConfig,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(multisigBraidDetails(multisig)); // null, unknown\n *\n * const braid = generateBraidFromExtenedPublicKeys(MAINNET, P2SH, {{'xpub...', bip32path: \"m/45'/0'/0'\"}, {'xpub...', bip32path: \"m/45'/0/0\"}, {'xpub...', bip32path: \"m/45'/0/0\"}}, 2);\n * const multisig = braid.deriveMultisigByPath(\"0/0\");\n * console.log(multisigBraidDetails(multisig)); // {network: mainnet, addressType: p2sh, extendedPublicKeys: {...}, requiredSigners: 2}}\n */\nfunction multisigBraidDetails(multisig) {\n  return multisig.braidDetails ? multisig.braidDetails : null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.P2SH = void 0;\nexports.estimateMultisigP2SHTransactionVSize = estimateMultisigP2SHTransactionVSize;\n/**\n * This module provides functions and constants for the P2SH address type.\n * \n * @module p2sh\n */\n\n/**\n * Address type constant for \"pay-to-script-hash\" (P2SH) addresses.\n *\n * @constant\n * @type {string}\n * @default P2SH\n */\nvar P2SH = \"P2SH\";\n\n/**\n * Estimate the transaction virtual size (vsize) when spending inputs\n * from the same multisig P2SH address.\n * \n * @param {Object} config - configuration for the calculation\n * @param {number} config.numInputs - number of m-of-n multisig P2SH inputs\n * @param {number} config.numOutputs - number of outputs\n * @param {number} config.m - required signers\n * @param {number} config.n - total signers\n * @returns {number} estimated transaction virtual size in bytes\n */\nexports.P2SH = P2SH;\nfunction estimateMultisigP2SHTransactionVSize(config) {\n  var baseSize = 41 * config.numInputs + 34 * config.numOutputs + 30;\n  var signatureLength = 72 + 1; // approx including push byte\n  var scriptOverhead = 4;\n  var keylength = 33 + 1; // push byte\n  var sigSize = signatureLength * config.m * config.numInputs + keylength * config.n * config.numInputs + scriptOverhead * config.numInputs;\n  var vsize = baseSize + sigSize;\n  return vsize;\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.promise\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WARNING = exports.UnsupportedInteraction = exports.UNSUPPORTED = exports.STATES = exports.PENDING = exports.LEVELS = exports.KeystoreInteraction = exports.IndirectKeystoreInteraction = exports.INFO = exports.ERROR = exports.DirectKeystoreInteraction = exports.ACTIVE = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"regenerator-runtime/runtime\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.array.filter\");\nvar _bowser = _interopRequireDefault(require(\"bowser\"));\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Constant representing a keystore which is unsupported due to the\n * kind of interaction or combination of paramters provided.\n *\n * @type {string}\n */\nvar UNSUPPORTED = \"unsupported\";\n\n/**\n * Constant representing a keystore pending activation by the user.\n *\n * @type {string}\n */\nexports.UNSUPPORTED = UNSUPPORTED;\nvar PENDING = \"pending\";\n\n/**\n * Constant representing a keystore in active use.\n *\n * @type {string}\n */\nexports.PENDING = PENDING;\nvar ACTIVE = \"active\";\n\n/**\n * Constant for messages at the \"info\" level.\n *\n * @type {string}\n */\nexports.ACTIVE = ACTIVE;\nvar INFO = \"info\";\n\n/**\n * Constant for messages at the \"warning\" level.\n *\n * @type {string}\n */\nexports.INFO = INFO;\nvar WARNING = \"warning\";\n\n/**\n * Constant for messages at the \"error\" level.\n *\n * @type {string}\n */\nexports.WARNING = WARNING;\nvar ERROR = \"error\";\n\n/**\n * Enumeration of possible keystore states ([PENDING]{@link module:interaction.PENDING}|[ACTIVE]{@link module:interaction.ACTIVE}|[UNSUPPORTED]{@link module:interaction.UNSUPPORTED}).\n *\n * @constant\n * @enum {string}\n * @default\n *\n */\nexports.ERROR = ERROR;\nvar STATES = [PENDING, ACTIVE, UNSUPPORTED];\n\n/**\n * Enumeration of possible message levels ([INFO]{@link module:interaction.INFO}|[WARNING]{@link module:interaction.WARNING}|[ERROR]{@link module:interaction.ERROR}).\n *\n * @constant\n * @enum {string}\n * @default\n *\n */\nexports.STATES = STATES;\nvar LEVELS = [INFO, WARNING, ERROR];\n\n/**\n * Represents an image in a message returned by an interaction.\n *\n * @typedef module:interaction.MessageImage\n * @type {Object}\n * @property {string} label - a human-readable label for the image\n * @property {string} mimeType - the MIME type of the image\n * @property {string} data - base64-encoded image data\n */\n\n/**\n * Represents a message returned by an interaction.\n *\n * Message objects may have additional properties.\n *\n * @typedef module:interaction.Message\n * @type {Object}\n * @property {string} text - message text\n * @property {string} code - a dot-separated message code, e.g. `device.connect` (*Optional for submessages*)\n * @property {module:interaction.STATES} state - keystore state (*Optional for submessages*)\n * @property {module:interaction.LEVELS} level - message level (*Optional for submessages*)\n * @property {string} version - keystore version (can be a single version string or a range/spec) (*Optional*)\n * @property {string} action - keystore action user is expected to take (*Optional*)\n * @property {module:interaction.MessageImage} image - image for this message (*Optional*)\n * @property {Message[]} messages - submessages (*Optional*)\n */\n\n/**\n * Abstract base class for all keystore interactions.\n *\n * Concrete subclasses will want to subclass either\n * `DirectKeystoreInteraction` or `IndirectKeystoreInteraction`.\n *\n * Defines an API for subclasses to leverage and extend.\n *\n * - Subclasses should not have any internal state.  External tools\n *   (UI frameworks such as React) will maintain state and pass it\n *   into the interaction in order to display properly.\n *\n * - Subclasses may override the default constructor in order to allow\n *   users to pass in parameters.\n *\n * - Subclasses should override the `messages` method to customize\n *   what messages are surfaced in applications at what state of the\n *   user interface.\n *\n * - Subclasses should not try to catch all errors, instead letting\n *   them bubble up the stack.  This allows UI developers to deal with\n *   them as appropriate.\n *\n * @example\n * import {KeystoreInteraction, PENDING, ACTIVE, INFO} from \"unchained-wallets\";\n * class DoNothingInteraction extends KeystoreInteraction {\n *\n *   constructor({param}) {\n *     super();\n *     this.param = param;\n *   }\n *\n *   messages() {\n *     const messages = super.messages()\n *     messages.push({state: PENDING, level: INFO, text: `Interaction pending: ${this.param}` code: \"pending\"});\n *     messages.push({state: ACTIVE, level: INFO, text: `Interaction active: ${this.param}` code: \"active\"});\n *     return messages;\n *   }\n *\n * }\n *\n * // usage\n * const interaction = new DoNothingInteraction({param: \"foo\"});\n * console.log(interaction.messageTextFor({state: ACTIVE})); // \"Interaction active: foo\"\n * console.log(interaction.messageTextFor({state: PENDING})); // \"Interaction pending: foo\"\n *\n */\nexports.LEVELS = LEVELS;\nvar KeystoreInteraction = /*#__PURE__*/function () {\n  /**\n   * Base constructor.\n   *\n   * Subclasses will often override this constructor to accept options.\n   *\n   * Just make sure to call `super()` if you do that!\n   *\n   * @constructor\n   */\n  function KeystoreInteraction() {\n    _classCallCheck(this, KeystoreInteraction);\n    this.environment = _bowser[\"default\"].getParser(window.navigator.userAgent);\n  }\n\n  /**\n   * Subclasses can override this method to indicate they are not\n   * supported.\n   *\n   * This method has access to whatever options may have been passed\n   * in by the constructor as well as the ability to interact with\n   * `this.environment` to determine whether the functionality is\n   * supported.  See the Bowser documentation for more details:\n   * https://github.com/lancedikson/bowser\n   *\n   * @returns {boolean} whether this interaction is supported\n   * @example\n   * isSupported() {\n   *   return this.environment.satisfies({\n   *     * declare browsers per OS\n   *     windows: {\n   *       \"internet explorer\": \">10\",\n   *     },\n   *     macos: {\n   *       safari: \">10.1\"\n   *     },\n   *\n   *     * per platform (mobile, desktop or tablet)\n   *     mobile: {\n   *       safari: '>=9',\n   *       'android browser': '>3.10'\n   *     },\n   *\n   *     * or in general\n   *     chrome: \"~20.1.1432\",\n   *     firefox: \">31\",\n   *     opera: \">=22\",\n   *\n   *     * also supports equality operator\n   *     chrome: \"=20.1.1432\", * will match particular build only\n   *\n   *     * and loose-equality operator\n   *     chrome: \"~20\",        * will match any 20.* sub-version\n   *     chrome: \"~20.1\"       * will match any 20.1.* sub-version (20.1.19 as well as 20.1.12.42-alpha.1)\n   *   });\n   * }\n   */\n  _createClass(KeystoreInteraction, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return true;\n    }\n\n    /**\n     * Return messages array for this interaction.\n     *\n     * The messages array is a (possibly empty) array of [`Message`]{@link module:interaction.Message} objects.\n     *\n     * Subclasses should override this method and add messages as\n     * needed.  Make sure to call `super.messages()` to return an empty\n     * messages array for you to begin populating.\n     *\n     * @returns {module:interaction.Message[]} []\n     */\n  }, {\n    key: \"messages\",\n    value: function messages() {\n      var messages = [];\n      return messages;\n    }\n\n    /**\n     * Return messages filtered by the given options.\n     *\n     * Multiple options can be given at once to filter along multiple\n     * dimensions.\n     *\n     * @param {object} options - options argument\n     * @param {string} [options.state] - must equal this keystore state\n     * @param {string} [options.level] - must equal this message level\n     * @param {string|regexp} [options.code] - code must match this regular expression\n     * @param {string|regexp} [options.text] - text must match this regular expression\n     * @param {string|regexp} [options.version] - version must match this regular expression\n     * @returns {module:interaction.Message[]} matching `Message` objects\n     * @example\n     * import {PENDING, ACTIVE} from \"unchained-bitcoin\";\n     * // Create any interaction instance\n     * interaction.messages().forEach(msg => console.log(msg));\n     *   { code: \"device.connect\", state: \"pending\", level: \"info\", text: \"Please plug in your device.\"}\n     *   { code: \"device.active\", state: \"active\", level: \"info\", text: \"Communicating with your device...\"}\n     *   { code: \"device.active.warning\", state: \"active\", level: \"warning\", text: \"Your device will warn you about...\", version: \"2.x\"}\n     * interaction.messagesFor({state: PENDING}).forEach(msg => console.log(msg));\n     *   { code: \"device.connect\", state: \"pending\", level: \"info\", text: \"Please plug in your device.\"}\n     * interaction.messagesFor({code: ACTIVE}).forEach(msg => console.log(msg));\n     *   { code: \"device.active\", state: \"active\", level: \"info\", text: \"Communicating with your device...\"}\n     *   { code: \"device.active.warning\", state: \"active\", level: \"warning\", text: \"Your device will warn you about...\", version: \"2.x\"}\n     * interaction.messagesFor({version: /^2/}).forEach(msg => console.log(msg));\n     *   { code: \"device.active\", state: \"active\", level: \"warning\", text: \"Your device will warn you about...\", version: \"2.x\"}\n     */\n  }, {\n    key: \"messagesFor\",\n    value: function messagesFor(_ref) {\n      var state = _ref.state,\n        level = _ref.level,\n        code = _ref.code,\n        text = _ref.text,\n        version = _ref.version;\n      return this.messages().filter(function (message) {\n        if (state && message.state !== state) {\n          return false;\n        }\n        if (level && message.level !== level) {\n          return false;\n        }\n        if (code && !(message.code || \"\").match(code)) {\n          return false;\n        }\n        if (text && !(message.text || \"\").match(text)) {\n          return false;\n        }\n        if (version && !(message.version || \"\").match(version)) {\n          return false;\n        }\n        return true;\n      });\n    }\n\n    /**\n     * Return whether there are any messages matching the given options.\n     *\n     * @param {object} options - options argument\n     * @param {string} [options.state] - must equal this keystore state\n     * @param {string} [options.level] - must equal this message level\n     * @param {string|regexp} [options.code] - code must match this regular expression\n     * @param {string|regexp} [options.text] - text must match this regular expression\n     * @param {string|regexp} [options.version] - version must match this regular expression\n     * @returns {boolean} - whether any messages match the given filters\n     */\n  }, {\n    key: \"hasMessagesFor\",\n    value: function hasMessagesFor(_ref2) {\n      var state = _ref2.state,\n        level = _ref2.level,\n        code = _ref2.code,\n        text = _ref2.text,\n        version = _ref2.version;\n      return this.messagesFor({\n        state: state,\n        level: level,\n        code: code,\n        text: text,\n        version: version\n      }).length > 0;\n    }\n\n    /**\n     * Return the first message matching the given options (or `null` if none is found).\n     *\n     * @param {object} options - options argument\n     * @param {string} [options.state] - must equal this keystore state\n     * @param {string} [options.level] - must equal this message level\n     * @param {string|regexp} [options.code] - code must match this regular expression\n     * @param {string|regexp} [options.text] - text must match this regular expression\n     * @param {string|regexp} [options.version] - version must match this regular expression\n     * @returns {module:interaction.Message|null} the first matching `Message` object (or `null` if none is found)\n     */\n  }, {\n    key: \"messageFor\",\n    value: function messageFor(_ref3) {\n      var state = _ref3.state,\n        level = _ref3.level,\n        code = _ref3.code,\n        text = _ref3.text,\n        version = _ref3.version;\n      var messages = this.messagesFor({\n        state: state,\n        level: level,\n        code: code,\n        text: text,\n        version: version\n      });\n      if (messages.length > 0) {\n        return messages[0];\n      }\n      return null;\n    }\n\n    /**\n     * Retrieve the text of the first message matching the given options\n     * (or `null` if none is found).\n     *\n     * @param {object} options - options argument\n     * @param {string} options.state - must equal this keystore state\n     * @param {string} options.level - must equal this message level\n     * @param {string|regexp} options.code - code must match this regular expression\n     * @param {string|regexp} options.text - text must match this regular expression\n     * @param {string|regexp} options.version - version must match this regular expression\n     * @returns {string|null} the text of the first matching message (or `null` if none is found)\n     */\n  }, {\n    key: \"messageTextFor\",\n    value: function messageTextFor(_ref4) {\n      var state = _ref4.state,\n        level = _ref4.level,\n        code = _ref4.code,\n        text = _ref4.text,\n        version = _ref4.version;\n      var message = this.messageFor({\n        state: state,\n        level: level,\n        code: code,\n        text: text,\n        version: version\n      });\n      return message ? message.text : null;\n    }\n  }]);\n  return KeystoreInteraction;\n}();\n/**\n * Class used for describing an unsupported interaction.\n *\n * - Always returns `false` when the `isSupported` method is called.\n *\n * - Has a keystore state `unsupported` message at the `error` level.\n *\n * - Throws errors when attempting to call API methods such as `run`,\n *   `request`, and `parse`.\n *\n * @extends {module:interaction.KeystoreInteraction}\n * @example\n * import {UnsupportedInteraction} from \"unchained-wallets\";\n * const interaction = new UnsupportedInteraction({text: \"failure text\", code: \"fail\"});\n * console.log(interaction.isSupported()); // false\n *\n */\nexports.KeystoreInteraction = KeystoreInteraction;\nvar UnsupportedInteraction = /*#__PURE__*/function (_KeystoreInteraction) {\n  _inherits(UnsupportedInteraction, _KeystoreInteraction);\n  var _super = _createSuper(UnsupportedInteraction);\n  /**\n   * Accepts parameters to describe what is unsupported and why.\n   *\n   * The `text` should be human-readable.  The `code` is for machines.\n   *\n   * @param {object} options - options argument\n   * @param {string} options.text - the text of the error message\n   * @param {string} options.code - the code of the error message\n   * @constructor\n   */\n  function UnsupportedInteraction(_ref5) {\n    var _this;\n    var text = _ref5.text,\n      code = _ref5.code;\n    _classCallCheck(this, UnsupportedInteraction);\n    _this = _super.call(this);\n    _this.text = text;\n    _this.code = code;\n    return _this;\n  }\n\n  /**\n   * By design, this method always returns false.\n   *\n   * @returns {false} Always.\n   */\n  _createClass(UnsupportedInteraction, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return false;\n    }\n\n    /**\n     * Returns a single `error` level message at the `unsupported`\n     * state.\n     *\n     * @returns {module:interaction.Message[]} the messages for this class\n     */\n  }, {\n    key: \"messages\",\n    value: function messages() {\n      var messages = _get(_getPrototypeOf(UnsupportedInteraction.prototype), \"messages\", this).call(this);\n      messages.push({\n        state: UNSUPPORTED,\n        level: ERROR,\n        code: this.code,\n        text: this.text\n      });\n      return messages;\n    }\n\n    /**\n     * Throws an error.\n     *\n     * @returns {void}\n     * @throws An error containing this `this.text`.\n     *\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              throw new Error(this.text);\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function run() {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n    /**\n     * Throws an error.\n     *\n     * @returns {void}\n     * @throws An error containing this `this.text`.\n     *\n     */\n  }, {\n    key: \"request\",\n    value: function request() {\n      throw new Error(this.text);\n    }\n\n    /**\n     * Throws an error.\n     *\n     * @returns {void}\n     * @throws An error containing this `this.text`.\n     *\n     */\n  }, {\n    key: \"parse\",\n    value: function parse() {\n      throw new Error(this.text);\n    }\n  }]);\n  return UnsupportedInteraction;\n}(KeystoreInteraction);\n/**\n * Base class for direct keystore interactions.\n *\n * Subclasses *must* implement a `run` method which communicates\n * directly with the keystore.  This method must be asynchronous\n * (return a `Promise`) to accommodate delays with network, devices,\n * &c.\n *\n * @example\n * import {DirectKeystoreInteraction} from \"unchained-wallets\";\n * class SimpleDirectInteraction extends DirectKeystoreInteraction {   *\n *\n *   constructor({param}) {\n *     super();\n *     this.param = param;\n *   }\n *\n *   async run() {\n *     // Or do something complicated...\n *     return this.param;\n *   }\n * }\n *\n * const interaction = new SimpleDirectInteraction({param: \"foo\"});\n *\n * const result = await interaction.run();\n * console.log(result);\n * // \"foo\"\n *\n */\nexports.UnsupportedInteraction = UnsupportedInteraction;\nvar DirectKeystoreInteraction = /*#__PURE__*/function (_KeystoreInteraction2) {\n  _inherits(DirectKeystoreInteraction, _KeystoreInteraction2);\n  var _super2 = _createSuper(DirectKeystoreInteraction);\n  /**\n   * Sets the `this.direct` property to `true`.  This property can be\n   * utilized when introspecting on interaction classes..\n   *\n   * @constructor\n   */\n  function DirectKeystoreInteraction() {\n    var _this2;\n    _classCallCheck(this, DirectKeystoreInteraction);\n    _this2 = _super2.call(this);\n    _this2.direct = true;\n    return _this2;\n  }\n\n  /**\n   * Initiate the intended interaction and return a result.\n   *\n   * Subclasses *must* override this function.  This function must\n   * always return a promise as it is designed to be called within an\n   * `await` block.\n   *\n   * @returns {Promise} Does the work of interacting with the keystore.\n   *\n   */\n  _createClass(DirectKeystoreInteraction, [{\n    key: \"run\",\n    value: function () {\n      var _run2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              throw new Error(\"Override the `run` method in this interaction.\");\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function run() {\n        return _run2.apply(this, arguments);\n      }\n      return run;\n    }()\n    /**\n     * Throws an error.\n     *\n     * @throws An error since this is a direct interaction.\n     * @returns {void}\n     *\n     */\n  }, {\n    key: \"request\",\n    value: function request() {\n      throw new Error(\"This interaction is direct and does not support a `request` method.\");\n    }\n\n    /**\n     * Throws an error.\n     *\n     * @throws An error since this is a direct interaction.\n     * @returns {void}\n     *\n     */\n  }, {\n    key: \"parse\",\n    value: function parse() {\n      throw new Error(\"This interaction is direct and does not support a `parse` method.\");\n    }\n  }, {\n    key: \"signatureFormatter\",\n    value: function signatureFormatter(inputSignature, format) {\n      // Ledger signatures include the SIGHASH byte (0x01) if signing for P2SH-P2WSH or P2WSH ...\n      // but NOT for P2SH ... This function should always return the signature with SIGHASH byte appended.\n      // While we don't anticipate Trezor making firmware changes to include SIGHASH bytes with signatures,\n      // We'll go ahead and make sure that we're not double adding the SIGHASH byte in case they do in the future.\n      var signatureWithSigHashByte = \"\".concat((0, _unchainedBitcoin.signatureNoSighashType)(inputSignature), \"01\");\n      return format === \"buffer\" ? Buffer.from(signatureWithSigHashByte, \"hex\") : signatureWithSigHashByte;\n    }\n  }, {\n    key: \"parseSignature\",\n    value: function parseSignature(transactionSignature) {\n      var _this3 = this;\n      var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"hex\";\n      return (transactionSignature || []).map(function (inputSignature) {\n        return _this3.signatureFormatter(inputSignature, format);\n      });\n    }\n  }]);\n  return DirectKeystoreInteraction;\n}(KeystoreInteraction);\n/**\n * Base class for indirect keystore interactions.\n *\n * Subclasses *must* implement two methods: `request` and `parse`.\n * Application code will pass the result of calling `request` to some\n * external process (HTTP request, QR code, &c.) and pass the response\n * to `parse` which should return a result.\n *\n * @example\n * import {IndirectKeystoreInteraction} from \"unchained-wallets\";\n * class SimpleIndirectInteraction extends IndirectKeystoreInteraction {   *\n *\n *   constructor({param}) {\n *     super();\n *     this.param = param;\n *   }\n *\n *   request() {\n *     // Construct the data to be passed to the keystore...\n *     return this.param;\n *   }\n *\n *   parse(response) {\n *     // Parse data returned from the keystore...\n *     return response;\n *   }\n *\n * }\n *\n * const interaction = new SimpleIndirectInteraction({param: \"foo\"});\n *\n * const request = interaction.request();\n * const response = \"bar\"; // Or do something complicated with `request`\n * const result = interaction.parse(response);\n * console.log(result);\n * // \"bar\"\n *\n */\nexports.DirectKeystoreInteraction = DirectKeystoreInteraction;\nvar IndirectKeystoreInteraction = /*#__PURE__*/function (_KeystoreInteraction3) {\n  _inherits(IndirectKeystoreInteraction, _KeystoreInteraction3);\n  var _super3 = _createSuper(IndirectKeystoreInteraction);\n  /**\n   * Sets the `this.indirect` property to `true`.  This property can\n   * be utilized when introspecting on interaction classes.\n   *\n   * The `this.workflow` property is an array containing one or both\n   * of the strings `request` and/or `parse`.  Their presence and\n   * order indicates to calling applications whether they are\n   * necessary and in which order they should be run.\n   *\n   * @constructor\n   */\n  function IndirectKeystoreInteraction() {\n    var _this4;\n    _classCallCheck(this, IndirectKeystoreInteraction);\n    _this4 = _super3.call(this);\n    _this4.indirect = true;\n    _this4.workflow = [\"parse\"];\n    return _this4;\n  }\n\n  /**\n   * Provide the request.\n   *\n   * Subclasses *may* override this function.  It can return any kind\n   * of object.  Strings, data for QR codes, HTTP requests, command\n   * lines, functions, &c. are all allowed.  Whatever is appropriate\n   * for the interaction.\n   *\n   * @returns {Object} the request data\n   *\n   */\n  _createClass(IndirectKeystoreInteraction, [{\n    key: \"request\",\n    value: function request() {\n      throw new Error(\"Override the `request` method in this interaction.\");\n    }\n\n    /**\n     * Parse the response into a result.\n     *\n     * Subclasses *must* override this function.  It must accept an\n     * appropriate kind of `response` object and return the final result\n     * of this interaction.\n     *\n     * @param {Object} response - the raw response\n     * @returns {Object} the parsed response\n     *\n     */\n  }, {\n    key: \"parse\",\n    value: function parse(response) {\n      throw new Error(\"Override the `parse` method in this interaction.\");\n    }\n\n    /**\n     * Throws an error.\n     *\n     * @throws An error since this is an indirect interaction.\n     * @returns {void}\n     *\n     */\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              throw new Error(\"This interaction is indirect and does not support a `run` method.\");\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function run() {\n        return _run3.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n  return IndirectKeystoreInteraction;\n}(KeystoreInteraction);\nexports.IndirectKeystoreInteraction = IndirectKeystoreInteraction;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bip32PathToSequence = bip32PathToSequence;\nexports.bip32SequenceToPath = bip32SequenceToPath;\nexports.getParentBIP32Path = getParentBIP32Path;\nexports.getRelativeBIP32Path = getRelativeBIP32Path;\nexports.hardenedBIP32Index = hardenedBIP32Index;\nexports.multisigBIP32Path = multisigBIP32Path;\nexports.multisigBIP32Root = multisigBIP32Root;\nexports.validateBIP32Index = validateBIP32Index;\nexports.validateBIP32Path = validateBIP32Path;\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es6.number.is-nan\");\nrequire(\"core-js/modules/es6.regexp.match\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.regexp.split\");\nvar _networks = require(\"./networks\");\nvar _p2sh = require(\"./p2sh\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\n/**\n * This module contains various utility functions for converting and\n * validating BIP32 derivation paths.\n *\n * @module paths\n */\n\nvar HARDENING_OFFSET = Math.pow(2, 31);\nvar BIP32_PATH_REGEX = /^(m\\/)?(\\d+'?\\/)*\\d+'?$/;\nvar BIP32_HARDENED_PATH_REGEX = /^(m\\/)?(\\d+'\\/)*\\d+'$/;\nvar BIP32_UNHARDENED_PATH_REGEX = /^(m\\/)?(\\d+\\/)*\\d+$/;\nvar BIP32_INDEX_REGEX = /^\\d+'?$/;\nvar MAX_BIP32_HARDENED_NODE_INDEX = Math.pow(2, 31) - 1;\nvar MAX_BIP32_NODE_INDEX = Math.pow(2, 32) - 1;\n\n/**\n * Return the hardened version of the given BIP32 index.\n *\n * Hardening is equivalent to adding 2^31.\n *\n * @param {string|number} index - BIP32 index\n * @returns {number} the hardened index\n * @example\n * import {hardenedBIP32Index} from \"unchained-bitcoin\";\n * console.log(hardenedBIP32Index(44); // 2147483692\n */\nfunction hardenedBIP32Index(index) {\n  return parseInt(index, 10) + HARDENING_OFFSET;\n}\n\n/**\n * Convert BIP32 derivation path to an array of integer values\n * representing the corresponding derivation indices.\n *\n * Hardened path segments will have the [hardening offset]{@link module:paths.HARDENING_OFFSET} added to the index.\n *\n * @param {string} pathString - BIP32 derivation path string\n * @returns {number[]} the derivation indices\n * @example\n * import {bip32PathToSequence} from \"unchained-bitcoin\";\n * console.log(bip32PathToSequence(\"m/45'/1/99\")); // [2147483693, 1, 99]\n */\nfunction bip32PathToSequence(pathString) {\n  var pathSegments = pathString.split(\"/\").splice(1);\n  return pathSegments.map(function (pathSegment) {\n    if (pathSegment.substr(-1) === \"'\") {\n      return parseInt(pathSegment.slice(0, -1), 10) + HARDENING_OFFSET;\n    } else {\n      return parseInt(pathSegment, 10);\n    }\n  });\n}\n\n/**\n * Convert a sequence of derivation indices into the corresponding\n * BIP32 derivation path.\n *\n * Indices above the [hardening offset]{@link * module:paths.HARDENING_OFFSET} will be represented wiith hardened * path segments (using a trailing single-quote).\n *\n * @param {number[]} sequence - the derivation indices\n * @returns {string} BIP32 derivation path\n * @example\n * import {bip32SequenceToPath} from \"unchained-bitcoin\";\n * console.log(bip32SequenceToPath([2147483693, 1, 99])); // m/45'/1/99\n */\nfunction bip32SequenceToPath(sequence) {\n  return \"m/\" + sequence.map(function (index) {\n    if (index >= HARDENING_OFFSET) {\n      return \"\".concat(index - HARDENING_OFFSET, \"'\");\n    } else {\n      return index.toString();\n    }\n  }).join('/');\n}\n\n/**\n * Validate a given BIP32 derivation path string.\n *\n * - Path segments are validated numerically as well as statically\n *   (the value of 2^33 is an invalid path segment).\n *\n * - The `mode` option can be pass to validate fully `hardened` or\n *   `unhardened` paths.\n *\n * @param {string} pathString - BIP32 derivation path string\n * @param {Object} [options] - additional options\n * @param {string} [options.mode] - \"hardened\" or \"unhardened\"\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateBIP32Path} from \"unchained-bitcoin\";\n * console.log(validateBIP32Path(\"\")); // \"BIP32 path cannot be blank.\"\n * console.log(validateBIP32Path(\"foo\")); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path(\"//45\")); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path(\"/45/\")); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path(\"/45''\")); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path('/45\"')); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path(\"/-45\")); // \"BIP32 path is invalid.\"\n * console.log(validateBIP32Path(\"/8589934592\")); // \"BIP32 index is too high.\"\n * console.log(validateBIP32Path(\"/45\")); // \"\"\n * console.log(validateBIP32Path(\"/45/0'\")); // \"\"\n * console.log(validateBIP32Path(\"/45/0'\", {mode: \"hardened\")); // \"BIP32 path must be fully-hardened.\"\n * console.log(validateBIP32Path(\"/45'/0'\", {mode: \"hardened\")); // \"\"\n * console.log(validateBIP32Path(\"/0'/0\", {mode: \"unhardened\")); // \"BIP32 path cannot include hardened segments.\"\n * console.log(validateBIP32Path(\"/0/0\", {mode: \"unhardened\")); // \"\"\n */\nfunction validateBIP32Path(pathString, options) {\n  if (pathString === null || pathString === undefined || pathString === '') {\n    return \"BIP32 path cannot be blank.\";\n  }\n  if (!pathString.match(BIP32_PATH_REGEX)) {\n    return \"BIP32 path is invalid.\";\n  }\n  if (options && options.mode === 'hardened') {\n    if (!pathString.match(BIP32_HARDENED_PATH_REGEX)) {\n      return \"BIP32 path must be fully-hardened.\";\n    }\n  }\n  if (options && options.mode === 'unhardened') {\n    if (!pathString.match(BIP32_UNHARDENED_PATH_REGEX)) {\n      return \"BIP32 path cannot include hardened segments.\";\n    }\n  }\n  var segmentStrings = pathString.toLowerCase().split('/');\n  return validateBIP32PathSegments(segmentStrings.slice(1));\n}\nfunction validateBIP32PathSegments(segmentStrings) {\n  for (var i = 0; i < segmentStrings.length; i++) {\n    var indexString = segmentStrings[i];\n    var error = validateBIP32Index(indexString);\n    if (error !== '') {\n      return error;\n    }\n  }\n  return '';\n}\n\n/**\n * Validate a given BIP32 index string.\n *\n * - Path segments are validated numerically as well as statically\n *   (the value of 2^33 is an invalid path segment).\n *\n * - By default, 0-4294967295 and 0'-2147483647' are valid.\n *\n * - The `mode` option can be pass to validate index is hardened\n *   `unhardened` paths.\n *\n * - `hardened` paths include 0'-2147483647' and 2147483648-4294967295\n *\n * - `unharded` paths include 0-2147483647\n *\n * @param {string} indexString - BIP32 index string\n * @param {Object} [options] - additional options\n * @param {string} [options.mode] - \"hardened\" or \"unhardened\"\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateBIP32Path} from \"unchained-bitcoin\";\n * console.log(validateBIP32Path(\"\")); // \"BIP32 index cannot be blank.\"\n * console.log(validateBIP32Path(\"foo\")); // \"BIP32 index is invalid.\"\n * console.log(validateBIP32Path(\"//45\")); // \"BIP32 index is invalid.\"\n * console.log(validateBIP32Path(\"/45/\")); // \"BIP32 index is invalid.\"\n * console.log(validateBIP32Index(\"4294967296\")); // \"BIP32 index is too high.\"\n * console.log(validateBIP32Index(\"2147483648'\")); // \"BIP32 index is too high.\"\n * console.log(validateBIP32Index(\"45\", { mode: \"hardened\" })); // \"BIP32 index must be hardened.\"\n * console.log(validateBIP32Index(\"45'\", { mode: \"unhardened\" })); // \"BIP32 index cannot be hardened.\"\n * console.log(validateBIP32Index(\"2147483648\", {mode: \"unhardened\"})); // \"BIP32 index cannot be hardened.\"\n * console.log(validateBIP32Index(\"45\")); // \"\"\n * console.log(validateBIP32Index(\"45'\")); // \"\"\n * console.log(validateBIP32Index(\"0\")); // \"\"\n * console.log(validateBIP32Index(\"0'\")); // \"\"\n * console.log(validateBIP32Index(\"4294967295\")); // \"\"\n * console.log(validateBIP32Index(\"2147483647\")); // \"\"\n * console.log(validateBIP32Index(\"2147483647'\")); // \"\"\n */\nfunction validateBIP32Index(indexString, options) {\n  if (indexString === null || indexString === undefined || indexString === '') {\n    return \"BIP32 index cannot be blank.\";\n  }\n  if (!indexString.match(BIP32_INDEX_REGEX)) {\n    return \"BIP32 index is invalid.\";\n  }\n  var numberString, hardened;\n  if (indexString.substr(indexString.length - 1) === \"'\") {\n    numberString = indexString.substr(0, indexString.length - 1);\n    hardened = true;\n  } else {\n    numberString = indexString;\n    hardened = false;\n  }\n\n  // This comes after the regex, so no need to test that parseInt fails.\n  var numberError = \"Invalid BIP32 index.\";\n  var number = parseInt(numberString, 10);\n  if (Number.isNaN(number) || number.toString().length !== numberString.length) {\n    return numberError;\n  }\n\n  // allows up to 4294967295 or 2147483647'\n  if (number > (hardened ? MAX_BIP32_HARDENED_NODE_INDEX : MAX_BIP32_NODE_INDEX)) {\n    return \"BIP32 index is too high.\";\n  }\n\n  // allows 0'-2147483647' or 2147483648-4294967295\n  if (options && options.mode === 'hardened') {\n    if (!hardened && number <= MAX_BIP32_HARDENED_NODE_INDEX) {\n      return \"BIP32 index must be hardened.\";\n    }\n  }\n\n  // allows 0-2147483647\n  if (options && options.mode === 'unhardened') {\n    if (hardened || number > MAX_BIP32_HARDENED_NODE_INDEX) {\n      return \"BIP32 index cannot be hardened.\";\n    }\n  }\n  return '';\n}\n\n/**\n * Return the default BIP32 root derivation path for the given\n * `addressType` and `network`.\n *\n * - Mainnet:\n *   - P2SH: m/45'/0'/0'\n *   - P2SH-P2WSH: m/48'/0'/0'/1'\n *   - P2WSH: m/48'/0'/0'/2'\n * - Testnet:\n *   - P2SH: m/45'/1'/0'\n *   - P2SH-P2WSH: m/48'/1'/0'/1'\n *   - P2WSH: m/48'/1'/0'/2'\n *\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} addressType - address type\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} derivation path\n * @example\n * import {multisigBIP32Root} from \"unchained-bitcoin\";\n * console.log(multisigBIP32Root(P2SH, MAINNET)); // m/45'/0'/0'\n * console.log(multisigBIP32Root(P2SH_P2WSH, TESTNET); // m/48'/1'/0'/1'\n */\nfunction multisigBIP32Root(addressType, network) {\n  var coinPath = network === _networks.MAINNET ? \"0'\" : \"1'\";\n  switch (addressType) {\n    case _p2sh.P2SH:\n      return \"m/45'/\".concat(coinPath, \"/0'\");\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return \"m/48'/\".concat(coinPath, \"/0'/1'\");\n    case _p2wsh.P2WSH:\n      return \"m/48'/\".concat(coinPath, \"/0'/2'\");\n    default:\n      return null;\n  }\n}\n\n/**\n * Returns a BIP32 path at the given `relativePath` under the default\n * BIP32 root path for the given `addressType` and `network`.\n *\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} addressType - type from which to calculate BIP32 root path\n * @param {module:networks.NETWORKS} network - bitcoin network from which to calculate BIP32 root path\n * @param {number|string} relativePath - the relative BIP32 path (no leading `/`)\n * @returns {string} child BIP32 path\n * @example\n * import {multisigBIP32Path} from \"unchained-bitcoin\";\n * console.log(multisigBIP32Path(P2SH, MAINNET, 0); // m/45'/0'/0'/0\n * console.log(multisigBIP32Path(P2SH_P2WSH, TESTNET, \"3'/4\"); // m/48'/1'/0'/1'/3'/4\"\n */\nfunction multisigBIP32Path(addressType, network, relativePath) {\n  var root = multisigBIP32Root(addressType, network);\n  if (root) {\n    return root + \"/\".concat(relativePath || \"0\");\n  }\n  return null;\n}\n\n/**\n * Get the path of the parent of the given path\n * @param {string} bip32Path e.g. \"m/45'/0'/0'/0\"\n * @returns {string} parent path\n * @example\n * import {getParentBIP32Path} from \"unchained-bitcoin\";\n * console.log(getParentBIP32Path(\"m/45'/0'/0'/0\"); // m/45'/0'/0'\n */\nfunction getParentBIP32Path(bip32Path) {\n  // first validate the input\n  var validated = validateBIP32Path(bip32Path);\n  if (validated.length) return validated;\n  // then slice off then last item in the path\n  return bip32Path.split(\"/\").slice(0, -1).join(\"/\");\n}\n\n/**\n * Get the path of under the parentBIP32Path of the given path\n * @param {string} parentBIP32Path e.g. \"m/45'/0'/0'\"\n * @param {string} childBIP32Path e.g. \"m/45'/0'/0'/0/1/2\"\n * @returns {string} relative path below path\n * @example\n * import {getRelativeBIP32Path} from \"unchained-bitcoin\";\n * console.log(getRelativeBIP32Path(\"m/45'/0'/0'\", \"m/45'/0'/0'/0/1/2\"); // 0/1/2\n */\nfunction getRelativeBIP32Path(parentBIP32Path, childBIP32Path) {\n  if (parentBIP32Path === childBIP32Path) return '';\n  // first validate the parentBIP32Path\n  var validatedParent = validateBIP32Path(parentBIP32Path);\n  if (validatedParent.length) return validatedParent;\n  // next validate the input\n  var validatedChild = validateBIP32Path(childBIP32Path);\n  if (validatedChild.length) return validatedChild;\n  // check that childBIP32Path starts with parentBIP32Path\n  if (!childBIP32Path.startsWith(parentBIP32Path)) return \"The provided bip32Path does not start with the chroot.\";\n  // then return the relative path beyond the parentBIP32Path.\n\n  return childBIP32Path.slice(parentBIP32Path.length + 1);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createVarint = createVarint;\nexports.parseVarint = parseVarint;\nexports.sanitizeBigintToNumber = sanitizeBigintToNumber;\nrequire(\"core-js/modules/es6.number.max-safe-integer\");\nrequire(\"core-js/modules/es6.number.constructor\");\nfunction bigintToSmallEndian(value, length, buffer, offset) {\n  for (var i = 0; i < length; i++) {\n    if (buffer[i + offset] == undefined) {\n      throw Error('Buffer too small');\n    }\n    buffer[i + offset] = Number(value % BigInt(256));\n    value = value >> BigInt(8);\n  }\n}\nfunction smallEndianToBigint(buffer, offset, length) {\n  var result = BigInt(0);\n  for (var i = 0; i < length; i++) {\n    if (buffer[i + offset] == undefined) {\n      throw Error('Buffer too small');\n    }\n    result += BigInt(buffer[i + offset]) << BigInt(i * 8);\n  }\n  return result;\n}\n\n/**\n * Converts a `bigint` to a `number` if it non-negative and at most MAX_SAFE_INTEGER; throws `RangeError` otherwise.\n * Used when converting a Bitcoin-style varint to a `number`, since varints could be larger than what the `Number`\n * class can represent without loss of precision.\n *\n * @param n the number to convert\n * @returns `n` as a `number`\n */\nfunction sanitizeBigintToNumber(n) {\n  if (n < 0) throw RangeError('Negative bigint is not a valid varint');\n  if (n > Number.MAX_SAFE_INTEGER) throw RangeError('Too large for a Number');\n  return Number(n);\n}\nfunction getVarintSize(value) {\n  if (typeof value == 'number') {\n    value = sanitizeBigintToNumber(value);\n  }\n  if (value < BigInt(0)) {\n    throw new RangeError('Negative numbers are not supported');\n  }\n  if (value >= BigInt(1) << BigInt(64)) {\n    throw new RangeError('Too large for a Bitcoin-style varint');\n  }\n  if (value < BigInt(0xfd)) return 1;else if (value <= BigInt(0xffff)) return 3;else if (value <= BigInt(0xffffffff)) return 5;else return 9;\n}\n\n/**\n * Parses a Bitcoin-style variable length integer from a buffer, starting at the given `offset`. Returns a pair\n * containing the parsed `BigInt`, and its length in bytes from the buffer.\n *\n * @param data the `Buffer` from which the variable-length integer is read\n * @param offset a non-negative offset to read from\n * @returns a pair where the first element is the parsed BigInt, and the second element is the length in bytes parsed\n * from the buffer.\n *\n * @throws `RangeError` if offset is negative.\n * @throws `Error` if the buffer's end is reached withut parsing being completed.\n */\nfunction parseVarint(data, offset) {\n  if (offset < 0) {\n    throw RangeError(\"Negative offset is invalid\");\n  }\n  if (data[offset] == undefined) {\n    throw Error('Buffer too small');\n  }\n  if (data[offset] < 0xfd) {\n    return [BigInt(data[offset]), 1];\n  } else {\n    var size;\n    if (data[offset] === 0xfd) size = 2;else if (data[offset] === 0xfe) size = 4;else size = 8;\n    return [smallEndianToBigint(data, offset + 1, size), size + 1];\n  }\n}\nfunction createVarint(value) {\n  if (typeof value == 'number') {\n    value = sanitizeBigintToNumber(value);\n  }\n  var size = getVarintSize(value);\n  value = BigInt(value);\n  var buffer = Buffer.alloc(size);\n  if (size == 1) {\n    buffer[0] = Number(value);\n  } else {\n    if (size == 3) buffer[0] = 0xfd;else if (size === 5) buffer[0] = 0xfe;else buffer[0] = 0xff;\n    bigintToSmallEndian(value, size - 1, buffer, 1);\n  }\n  return buffer;\n}","// eslint-disable-next-line max-classes-per-file\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dropzone from \"react-dropzone\";\nimport {\n  Box,\n  Button,\n  FormHelperText,\n  Grid,\n  TextField,\n} from \"@material-ui/core\";\nimport { CloudUpload as UploadIcon } from \"@material-ui/icons\";\nimport { PSBT_MAGIC_HEX } from \"unchained-bitcoin\";\nimport styles from \"./ColdcardFileReader.module.scss\";\n\nclass ColdcardFileReaderBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileType: props.fileType || \"JSON\",\n    };\n  }\n\n  render = () => {\n    const {\n      maxFileSize,\n      validFileFormats,\n      extendedPublicKeyImporter,\n      handleBIP32PathChange,\n      resetBIP32Path,\n      bip32PathIsDefault,\n      hasError,\n      errorMessage,\n      isTest,\n    } = this.props;\n    const { fileType } = this.state;\n    return (\n      <Grid container direction=\"column\">\n        {fileType === \"JSON\" && !isTest && (\n          <Grid container>\n            <Grid item md={6}>\n              <TextField\n                label=\"BIP32 Path\"\n                value={extendedPublicKeyImporter.bip32Path}\n                onChange={handleBIP32PathChange}\n                error={hasError}\n                helperText={errorMessage}\n              />\n            </Grid>\n            <Grid item md={6}>\n              {!bip32PathIsDefault() && (\n                <Button\n                  type=\"button\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  onClick={resetBIP32Path}\n                >\n                  Default\n                </Button>\n              )}\n            </Grid>\n            <FormHelperText>\n              Use the default value if you don&rsquo;t understand BIP32 paths.\n            </FormHelperText>\n          </Grid>\n        )}\n        <p>\n          When you are ready, upload the {fileType} file from your Coldcard:\n        </p>\n        <Box>\n          <Dropzone\n            className={hasError ? styles.dropzoneDull : styles.dropzone}\n            onDrop={this.onDrop}\n            multiple={false}\n            minSize={1}\n            maxSize={maxFileSize}\n            accept={validFileFormats}\n            disableClick={hasError}\n          >\n            <UploadIcon classes={{ root: styles.uploadIcon }} />\n            <p className={styles.instruction}>\n              {fileType === \"JSON\" ? \"Upload The XPUB\" : \"Upload Signed PSBT\"}\n            </p>\n          </Dropzone>\n        </Box>\n      </Grid>\n    );\n  };\n\n  singleAcceptedFile = (acceptedFiles, rejectedFiles) => {\n    return rejectedFiles.length === 0 && acceptedFiles.length === 1;\n  };\n\n  onDrop = async (acceptedFiles, rejectedFiles) => {\n    const { onReceive, onReceivePSBT, setError, hasError } = this.props;\n    const { fileType } = this.state;\n    if (hasError) return; // do not continue if the bip32path is invalid\n    if (this.singleAcceptedFile(acceptedFiles, rejectedFiles)) {\n      const file = acceptedFiles[0];\n      if (fileType === \"JSON\") {\n        onReceive(await file.text());\n      } else {\n        // With PSBT files, the actual spec says it should be stored in binary.\n        // But it's not really required, and some vendors output the PSBT as\n        // base64 text in a .psbt file. We need to be able to support both cases\n        // when a signed PSBT is uploaded. Assume it is in the proper format,\n        // e.g. binary.\n        const psbtData = await file.arrayBuffer();\n        const psbtHex = Buffer.from(psbtData).toString(\"hex\");\n        // If the binary -> hex conversion starts with this magic number, we're\n        // good to go. Otherwise - it was likely not a binary file, meaning\n        // it was is probably base64 or hex, so we should try using text instead.\n        if (psbtHex.startsWith(PSBT_MAGIC_HEX)) {\n          onReceivePSBT(psbtHex);\n        } else {\n          onReceivePSBT(await file.text());\n        }\n      }\n    } else if (rejectedFiles.length === 1) {\n      setError(\n        `The file you attempted to upload was unacceptable. File type must be .${fileType.toLowerCase()}.`\n      );\n    } else if (rejectedFiles.length > 1) {\n      setError(`This dropzone only accepts a single file.`);\n    }\n  };\n}\n\nColdcardFileReaderBase.propTypes = {\n  onReceive: PropTypes.func,\n  onReceivePSBT: PropTypes.func,\n  setError: PropTypes.func.isRequired,\n  fileType: PropTypes.string,\n  maxFileSize: PropTypes.number,\n  validFileFormats: PropTypes.string,\n  extendedPublicKeyImporter: PropTypes.shape({\n    bip32Path: PropTypes.string,\n  }),\n  handleBIP32PathChange: PropTypes.func,\n  resetBIP32Path: PropTypes.func,\n  bip32PathIsDefault: PropTypes.func,\n  hasError: PropTypes.bool,\n  errorMessage: PropTypes.string,\n  isTest: PropTypes.bool,\n};\n\nColdcardFileReaderBase.defaultProps = {\n  onReceive: null,\n  onReceivePSBT: null,\n  handleBIP32PathChange: null,\n  resetBIP32Path: null,\n  bip32PathIsDefault: null,\n  errorMessage: \"\",\n  hasError: PropTypes.bool,\n  maxFileSize: 1048576, // 1MB\n  fileType: \"JSON\",\n  validFileFormats: \".json\",\n  extendedPublicKeyImporter: null,\n  isTest: false,\n};\n\nexport class ColdcardJSONReader extends ColdcardFileReaderBase {}\nColdcardJSONReader.defaultProps = {\n  fileType: \"JSON\",\n  validFileFormats: \".json\",\n};\n\nexport class ColdcardPSBTReader extends ColdcardFileReaderBase {}\nColdcardPSBTReader.defaultProps = {\n  fileType: \"PSBT\",\n  validFileFormats: \".psbt\",\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.estimateMultisigTransactionFee = estimateMultisigTransactionFee;\nexports.estimateMultisigTransactionFeeRate = estimateMultisigTransactionFeeRate;\nexports.validateFee = validateFee;\nexports.validateFeeRate = validateFeeRate;\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _p2sh = require(\"./p2sh\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _utils = require(\"./utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/** \n * This module provides functions for calculating & validating\n * transaction fees.\n * \n * @module fees\n */\n\n/**\n * Maxmium acceptable transaction fee rate in Satoshis/vbyte.\n *\n * @constant\n * @type {BigNumber}\n * @default 1000 Satoshis/vbyte\n * \n */\nvar MAX_FEE_RATE_SATS_PER_VBYTE = (0, _bignumber.default)(1000); // 1000 Sats/vbyte\n\n/**\n * Maxmium acceptable transaction fee in Satoshis.\n *\n * @constant\n * @type {BigNumber}\n * @default 2500000 Satoshis (=0.025 BTC)\n */\nvar MAX_FEE_SATS = (0, _bignumber.default)(2500000); // ~ 0.025 BTC ~ $250 if 1 BTC = $10k\n\n/**\n * Validate the given transaction fee rate (in Satoshis/vbyte).\n *\n * - Must be a parseable as a number.\n *\n * - Cannot be negative (zero is OK).\n * \n * - Cannot be greater than the limit set by\n *   `MAX_FEE_RATE_SATS_PER_VBYTE`.\n * \n * @param {string|number|BigNumber} feeRateSatsPerVbyte - the fee rate in Satoshis/vbyte\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateFeeRate} from \"unchained-bitcoin\";\n * console.log(validateFeeRate(-1)); // \"Fee rate must be positive.\"\n * console.log(validateFeeRate(10000)); // \"Fee rate is too high.\"\n * console.log(validateFeeRate(250)); // \"\"\n */\nfunction validateFeeRate(feeRateSatsPerVbyte) {\n  var fr;\n  try {\n    fr = (0, _bignumber.default)(feeRateSatsPerVbyte);\n  } catch (e) {\n    return \"Invalid fee rate.\";\n  }\n  if (!fr.isFinite()) {\n    return \"Invalid fee rate.\";\n  }\n  if (fr.isLessThan(_utils.ZERO)) {\n    return \"Fee rate cannot be negative.\";\n  }\n  if (fr.isGreaterThan(MAX_FEE_RATE_SATS_PER_VBYTE)) {\n    return \"Fee rate is too high.\";\n  }\n  return '';\n}\n\n/**\n * Validate the given transaction fee (in Satoshis).\n *\n * - Must be a parseable as a number.\n *\n * - Cannot be negative (zero is OK).\n *\n * - Cannot exceed the total input amount.\n *\n * - Cannot be higher than the limit set by `MAX_FEE_SATS`.\n * \n * @param {string|number|BigNumber} feeSats - fee in Satoshis\n * @param {string|number|BigNumber} inputsTotalSats - total input amount in Satoshis\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateFee} from \"unchained-bitcoin\";\n * console.log(validateFee(3000000, 10000000)) // \"Fee is too high.\"\n * console.log(validateFee(30000, 20000)) // \"Fee is too high.\"\n * console.log(validateFee(-30000)) // \"Fee cannot be negative.\"\n * console.log(validateFee(30000, 10000000)) // \"\"\n */\nfunction validateFee(feeSats, inputsTotalSats) {\n  var fs, its;\n  try {\n    fs = (0, _bignumber.default)(feeSats);\n  } catch (e) {\n    return \"Invalid fee.\";\n  }\n  if (!fs.isFinite()) {\n    return \"Invalid fee.\";\n  }\n  try {\n    its = (0, _bignumber.default)(inputsTotalSats);\n  } catch (e) {\n    return \"Invalid total input amount.\";\n  }\n  if (!its.isFinite()) {\n    return \"Invalid total input amount.\";\n  }\n  if (fs.isLessThan(_utils.ZERO)) {\n    return \"Fee cannot be negative.\";\n  }\n  if (its.isLessThanOrEqualTo(_utils.ZERO)) {\n    return \"Total input amount must be positive.\";\n  }\n  if (fs.isGreaterThan(its)) {\n    return \"Fee is too high.\";\n  }\n  if (fs.isGreaterThan(MAX_FEE_SATS)) {\n    return \"Fee is too high.\";\n  }\n  return '';\n}\n\n/**\n * Estimate transaction fee rate based on actual fee and address type, number of inputs and number of outputs.\n * \n * @param {Object} config - configuration for the calculation\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} config.addressType - address type used for estimation\n * @param {number} config.numInputs - number of inputs used in calculation\n * @param {number} config.numOutputs - number of outputs used in calculation\n * @param {number} config.m - number of required signers for the quorum\n * @param {number} config.n - number of total signers for the quorum\n * @param {BigNumber} config.feesInSatoshis - total transaction fee in satoshis\n * @example \n * import {estimateMultisigP2WSHTransactionFeeRate} from \"unchained-bitcoin\";\n * // get the fee rate a P2WSH multisig transaction with 2 inputs and 3 outputs with a known fee of 7060\n * const feerate = estimateMultisigTransactionFeeRate({\n *   addressType: P2WSH, \n *   numInputs: 2, \n *   numOutputs: 3, \n *   m: 2,\n *   n: 3,\n *   feesInSatoshis: 7060\n * });\n * \n * \n * @returns {string} estimated fee rate\n */\nfunction estimateMultisigTransactionFeeRate(config) {\n  return (0, _bignumber.default)(config.feesInSatoshis).dividedBy(estimateMultisigTransactionVSize(config));\n}\n\n/**\n * Estimate transaction fee based on fee rate, address type, number of inputs and outputs.\n * @param {Object} config - configuration for the calculation\n * @param {module:multisig.MULTISIG_ADDRESS_TYPES} config.addressType - address type used for estimation\n * @param {number} config.numInputs - number of inputs used in calculation\n * @param {number} config.numOutputs - number of outputs used in calculation\n * @param {number} config.m - number of required signers for the quorum\n * @param {number} config.n - number of total signers for the quorum\n * @param {string} config.feesPerByteInSatoshis - satoshis per byte fee rate\n * @example\n * // get fee for P2SH multisig transaction with 2 inputs and 3 outputs at 10 satoshis per byte\n * import {estimateMultisigP2WSHTransactionFee} from \"unchained-bitcoin\";\n * const fee = estimateMultisigTransactionFee({\n *   addressType: P2SH, \n *   numInputs: 2, \n *   numOutputs: 3, \n *   m: 2,\n *   n: 3,\n *   feesPerByteInSatoshis: 10\n * });\n * @returns {number} estimated transaction fee\n */\nfunction estimateMultisigTransactionFee(config) {\n  return (0, _bignumber.default)(config.feesPerByteInSatoshis).multipliedBy(estimateMultisigTransactionVSize(config));\n}\nfunction estimateMultisigTransactionVSize(config) {\n  switch (config.addressType) {\n    case _p2sh.P2SH:\n      return (0, _p2sh.estimateMultisigP2SHTransactionVSize)(config);\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      return (0, _p2sh_p2wsh.estimateMultisigP2SH_P2WSHTransactionVSize)(config);\n    case _p2wsh.P2WSH:\n      return (0, _p2wsh.estimateMultisigP2WSHTransactionVSize)(config);\n    default:\n      return null;\n  }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploadIcon\":\"ColdcardFileReader_uploadIcon__1gKkv\",\"instruction\":\"ColdcardFileReader_instruction__2JEz4\",\"dropzone\":\"ColdcardFileReader_dropzone__32-R_\",\"dropzoneDull\":\"ColdcardFileReader_dropzoneDull__2lJaF ColdcardFileReader_dropzone__32-R_\",\"uploadContainer\":\"ColdcardFileReader_uploadContainer__3NUxc\"};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Braid = void 0;\nexports.braidAddressType = braidAddressType;\nexports.braidConfig = braidConfig;\nexports.braidExtendedPublicKeys = braidExtendedPublicKeys;\nexports.braidIndex = braidIndex;\nexports.braidNetwork = braidNetwork;\nexports.braidRequiredSigners = braidRequiredSigners;\nexports.deriveMultisigByIndex = deriveMultisigByIndex;\nexports.deriveMultisigByPath = deriveMultisigByPath;\nexports.generateBip32DerivationByIndex = generateBip32DerivationByIndex;\nexports.generateBip32DerivationByPath = generateBip32DerivationByPath;\nexports.generateBraid = generateBraid;\nexports.generatePublicKeysAtIndex = generatePublicKeysAtIndex;\nexports.generatePublicKeysAtPath = generatePublicKeysAtPath;\nexports.validateBip32PathForBraid = validateBip32PathForBraid;\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nrequire(\"core-js/modules/es6.array.sort\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es7.object.values\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nvar _bufio = require(\"bufio\");\nvar _assert = _interopRequireDefault(require(\"assert\"));\nvar _paths = require(\"./paths\");\nvar _networks = require(\"./networks\");\nvar _multisig = require(\"./multisig\");\nvar _keys = require(\"./keys\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n// In building the information objects that PSBTs want, one must include information\n// about the root fingerprint for the device. If that information is unknown, just fill\n// it in with zeros.\nvar FAKE_ROOT_FINGERPRINT = \"00000000\";\n\n/**\n * Struct object for encoding and decoding braids.\n *\n * @param {string} options.network = mainnet - mainnet or testnet\n * @param {string} options.addressType P2SH, P2SH-P2WSH, P2WSH\n * @param {ExtendedPublicKey[]} options.extendedPublicKeys ExtendedPublicKeys that make up this braid\n * @param {number} options.requiredSigners - how many required signers in this braid\n * @param {string} options.index - One value, relative, to add on to all xpub absolute bip32paths (usually 0=deposit, 1=change)\n */\nvar Braid = /*#__PURE__*/function (_Struct) {\n  _inherits(Braid, _Struct);\n  var _super = _createSuper(Braid);\n  function Braid(options) {\n    var _this;\n    _classCallCheck(this, Braid);\n    _this = _super.call(this);\n    if (!options || !Object.keys(options).length) {\n      return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n    }\n    (0, _assert.default)(Object.values(_multisig.MULTISIG_ADDRESS_TYPES).includes(options.addressType), \"Expected addressType to be one of:  \".concat(Object.values(_multisig.MULTISIG_ADDRESS_TYPES), \". You sent \").concat(options.addressType));\n    _this.addressType = options.addressType;\n    (0, _assert.default)(Object.values(_networks.NETWORKS).includes(options.network), \"Expected network to be one of:  \".concat(_networks.NETWORKS, \".\"));\n    _this.network = options.network;\n    options.extendedPublicKeys.forEach(function (xpub) {\n      var xpubValidationError = (0, _keys.validateExtendedPublicKey)(typeof xpub === \"string\" ? xpub : xpub.base58String, _this.network);\n      (0, _assert.default)(!xpubValidationError.length, xpubValidationError);\n    });\n    _this.extendedPublicKeys = options.extendedPublicKeys;\n    (0, _assert.default)(typeof options.requiredSigners === \"number\");\n    (0, _assert.default)(options.requiredSigners <= _this.extendedPublicKeys.length, \"Can't have more requiredSigners than there are keys.\");\n    _this.requiredSigners = options.requiredSigners;\n\n    // index is a technically a bip32path, but it's also just an\n    // unhardened index (single number) - if we think of the bip32path as a\n    // filepath, then this is a directory that historically/typically tells you\n    // deposit (0) or change (1) braid, but could be any unhardened index.\n    var pathError = (0, _paths.validateBIP32Index)(options.index, {\n      mode: \"unhardened\"\n    });\n    (0, _assert.default)(!pathError.length, pathError);\n    _this.index = options.index;\n    _this.sequence = (0, _paths.bip32PathToSequence)(_this.index);\n    return _this;\n  }\n  _createClass(Braid, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return braidConfig(this);\n    }\n  }], [{\n    key: \"fromData\",\n    value: function fromData(data) {\n      return new this(data);\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(string) {\n      return new this(JSON.parse(string));\n    }\n  }]);\n  return Braid;\n}(_bufio.Struct);\n/**\n * @param {Braid} braid A Braid struct to be 'exported'\n * @returns {string} string of JSON data which can used to reconstitute the Braid later\n */\nexports.Braid = Braid;\nfunction braidConfig(braid) {\n  return JSON.stringify({\n    network: braid.network,\n    addressType: braid.addressType,\n    extendedPublicKeys: braid.extendedPublicKeys,\n    requiredSigners: braid.requiredSigners,\n    index: braid.index\n  });\n}\n\n/**\n * Returns the braid's network\n * @param {Braid} braid the braid to interrogate\n * @returns {string} network string testnet/mainnet\n */\nfunction braidNetwork(braid) {\n  return braid.network;\n}\n\n/**\n * Returns the braid's addressType\n * @param {Braid} braid the braid to interrogate\n * @returns {string} address type p2sh/p2sh-p2wsh/p2wsh\n */\nfunction braidAddressType(braid) {\n  return braid.addressType;\n}\n\n/**\n * Returns the braid's extendedPublicKeys\n * @param {Braid} braid the braid to interrogate\n * @returns {ExtendedPublicKey[]} array of ExtendedPublicKeys in the braid\n */\nfunction braidExtendedPublicKeys(braid) {\n  return braid.extendedPublicKeys;\n}\n\n/**\n * Returns the braid's requiredSigners\n * @param {Braid} braid the braid to interrogate\n * @returns {number} number of required signers\n */\nfunction braidRequiredSigners(braid) {\n  return braid.requiredSigners;\n}\n\n/**\n * Returns the braid's index\n * @param {Braid} braid the braid to interrogate\n * @returns {string} index (singular) for the braid: 0 = deposit, 1 = change\n */\nfunction braidIndex(braid) {\n  return braid.index;\n}\n\n/**\n * Validate that a requested path is derivable from a particular braid\n * e.g. it's both a valid bip32path *and* its first index is the same as the index\n *\n * @param {Braid} braid the braid to interrogate\n * @param {string} path the path to validate\n * @returns {void} the assertions will fire errors if invalid\n */\nfunction validateBip32PathForBraid(braid, path) {\n  var pathError = (0, _paths.validateBIP32Path)(path);\n  (0, _assert.default)(!pathError.length, pathError);\n\n  // The function bip32PathToSequence blindly slices the first index after splitting on '/',\n  // so make sure the slash is there. E.g. a path of \"0/0\" would validate in the above function,\n  // but fail to do what we expect here unless we prepend '/' as '/0/0'.\n  var pathToCheck = path.startsWith(\"m/\") || path.startsWith(\"/\") ? path : \"/\" + path;\n  var pathSequence = (0, _paths.bip32PathToSequence)(pathToCheck);\n  (0, _assert.default)(pathSequence[0].toString() === braid.index, \"Cannot derive paths outside of the braid's index: \".concat(braid.index));\n}\n\n/**\n * Returns an object with a braid's pubkeys + bip32derivation info\n * at a particular path (respects the index)\n *\n * @param {Braid} braid the braid to interrogate\n * @param {string} path what suffix to generate pubkeys at\n * @returns {Object} Object where the keys make up an array of public keys at a particular path and the values are the bip32Derivations (used in other places)\n */\nfunction derivePublicKeyObjectsAtPath(braid, path) {\n  validateBip32PathForBraid(braid, path);\n  var dataRichPubKeyObjects = {};\n  var actualPathSuffix = path.startsWith(\"m/\") ? path.slice(2) : path;\n  braidExtendedPublicKeys(braid).forEach(function (xpub) {\n    var completePath = xpub.path + \"/\" + actualPathSuffix;\n    // Provide ability to work whether this was called with plain xpub strings or with xpub structs\n    var pubkey = (0, _keys.deriveChildPublicKey)(typeof xpub === \"string\" ? xpub : xpub.base58String, path, braidNetwork(braid));\n    // It's ok if this is faked - but at least one of them should be correct otherwise\n    // signing won't work. On Coldcard, this must match what was included in the multisig\n    // wallet config file.\n    var rootFingerprint = (0, _keys.extendedPublicKeyRootFingerprint)(xpub);\n    var masterFingerprint = rootFingerprint ? rootFingerprint : FAKE_ROOT_FINGERPRINT;\n    dataRichPubKeyObjects[pubkey] = {\n      masterFingerprint: Buffer.from(masterFingerprint, \"hex\"),\n      path: completePath,\n      pubkey: Buffer.from(pubkey, \"hex\")\n    };\n  });\n  return dataRichPubKeyObjects;\n}\n\n/**\n * Returns the braid's pubkeys at particular path (respects the index)\n *\n * @param {Braid} braid the braid to interrogate\n * @param {string} path the suffix to generate pubkeys at\n * @returns {string[]} array of sorted (BIP67) public keys at a particular index from the braid\n */\nfunction generatePublicKeysAtPath(braid, path) {\n  return Object.keys(derivePublicKeyObjectsAtPath(braid, path)).sort(); // BIP67\n}\n\n/**\n * Returns the braid's pubkeys at particular index under the index\n *\n * @param {Braid} braid the braid to interrogate\n * @param {number} index the suffix to generate pubkeys at\n * @returns {string[]} array of public keys at a particular index from the braid\n */\nfunction generatePublicKeysAtIndex(braid, index) {\n  var pathToDerive = braidIndex(braid);\n  pathToDerive += \"/\" + index.toString();\n  return generatePublicKeysAtPath(braid, pathToDerive);\n}\n\n/**\n * Returns the braid's bip32PathDerivation (array of bip32 infos)\n * @param {Braid} braid the braid to interrogate\n * @param {string} path what suffix to generate bip32PathDerivation at\n * @returns {Object[]} array of getBip32Derivation objects\n */\nfunction generateBip32DerivationByPath(braid, path) {\n  return Object.values(derivePublicKeyObjectsAtPath(braid, path));\n}\n\n/**\n * Returns the braid's bip32PathDerivation at a particular index (array of bip32 info)\n * @param {Braid} braid the braid to interrogate\n * @param {number} index what suffix to generate bip32PathDerivation at\n * @returns {Object[]} array of getBip32Derivation objects\n */\nfunction generateBip32DerivationByIndex(braid, index) {\n  var pathToDerive = braidIndex(braid); // deposit or change\n  pathToDerive += \"/\" + index.toString();\n  return generateBip32DerivationByPath(braid, pathToDerive);\n}\n\n/**\n * Returns a braid-aware Multisig object at particular path (respects index)\n * @param {Braid} braid the braid to interrogate\n * @param {string} path what suffix to generate the multisig at\n * @returns {module:multisig.Multisig} braid-aware MULTISIG object at path\n */\nfunction deriveMultisigByPath(braid, path) {\n  var pubkeys = generatePublicKeysAtPath(braid, path);\n  var bip32Derivation = generateBip32DerivationByPath(braid, path);\n  return generateBraidAwareMultisigFromPublicKeys(braid, pubkeys, bip32Derivation);\n}\n\n/**\n * Returns a braid-aware Multisig object at particular index\n * @param {Braid} braid the braid to interrogate\n * @param {number} index what suffix to generate the multisig at\n * @returns {module:multisig.Multisig} braid-aware MULTISIG object at index\n */\nfunction deriveMultisigByIndex(braid, index) {\n  var pathToDerive = braidIndex(braid);\n  pathToDerive += \"/\" + index.toString();\n  return deriveMultisigByPath(braid, pathToDerive);\n}\n\n/**\n * Returns a braid-aware Multisig object from a set of public keys\n *\n * @param {Braid} braid the braid to interrogate\n * @param {string[]} pubkeys what suffix to generate the multisig at\n * @param {Object[]} bip32Derivation this is the array of bip32info for each member of the multisig\n * @returns {module:multisig.Multisig} braid-aware MULTISIG object\n */\nfunction generateBraidAwareMultisigFromPublicKeys(braid, pubkeys, bip32Derivation) {\n  var multisig = _multisig.generateMultisigFromPublicKeys.apply(void 0, [braidNetwork(braid), braidAddressType(braid), braidRequiredSigners(braid)].concat(_toConsumableArray(pubkeys)));\n  multisig.braidDetails = braidConfig(braid);\n  multisig.bip32Derivation = bip32Derivation;\n  return multisig;\n}\n\n/**\n * Generate a braid from its parts\n *\n * @param {string} network - mainnet or testnet\n * @param {string} addressType - P2SH/P2SH-P2WSH/P2WSH\n * @param {module:keys.ExtendedPublicKey[]} extendedPublicKeys - array of xpubs that make up the braid\n * @param {number} requiredSigners - number signers needed to sign\n * @param {string} index (usually deposit/change) - e.g. '0' or '1'\n * @returns {Braid} Braid struct is returned\n */\nfunction generateBraid(network, addressType, extendedPublicKeys, requiredSigners, index) {\n  return new Braid({\n    network: network,\n    addressType: addressType,\n    extendedPublicKeys: extendedPublicKeys,\n    requiredSigners: requiredSigners,\n    index: index\n  });\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.array.is-array\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Merkle = void 0;\nexports.hashLeaf = hashLeaf;\nrequire(\"core-js/modules/es6.math.log2\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * This class implements the merkle tree used by Ledger Bitcoin app v2+,\n * which is documented at\n * https://github.com/LedgerHQ/app-bitcoin-new/blob/master/doc/merkle.md\n */\nvar Merkle = /*#__PURE__*/function () {\n  function Merkle(leaves) {\n    var hasher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _bitcoinjsLib.crypto.sha256;\n    _classCallCheck(this, Merkle);\n    _defineProperty(this, \"leaves\", void 0);\n    _defineProperty(this, \"rootNode\", void 0);\n    _defineProperty(this, \"leafNodes\", void 0);\n    _defineProperty(this, \"h\", void 0);\n    this.leaves = leaves;\n    this.h = hasher;\n    var nodes = this.calculateRoot(leaves);\n    this.rootNode = nodes.root;\n    this.leafNodes = nodes.leaves;\n  }\n  _createClass(Merkle, [{\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this.rootNode.hash;\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.leaves.length;\n    }\n  }, {\n    key: \"getLeaves\",\n    value: function getLeaves() {\n      return this.leaves;\n    }\n  }, {\n    key: \"getLeafHash\",\n    value: function getLeafHash(index) {\n      return this.leafNodes[index].hash;\n    }\n  }, {\n    key: \"getProof\",\n    value: function getProof(index) {\n      if (index >= this.leaves.length) throw Error('Index out of bounds');\n      return proveNode(this.leafNodes[index]);\n    }\n  }, {\n    key: \"calculateRoot\",\n    value: function calculateRoot(leaves) {\n      var n = leaves.length;\n      if (n == 0) {\n        return {\n          root: new Node(undefined, undefined, Buffer.alloc(32, 0)),\n          leaves: []\n        };\n      }\n      if (n == 1) {\n        var newNode = new Node(undefined, undefined, leaves[0]);\n        return {\n          root: newNode,\n          leaves: [newNode]\n        };\n      }\n      var leftCount = highestPowerOf2LessThan(n);\n      var leftBranch = this.calculateRoot(leaves.slice(0, leftCount));\n      var rightBranch = this.calculateRoot(leaves.slice(leftCount));\n      var leftChild = leftBranch.root;\n      var rightChild = rightBranch.root;\n      var hash = this.hashNode(leftChild.hash, rightChild.hash);\n      var node = new Node(leftChild, rightChild, hash);\n      leftChild.parent = node;\n      rightChild.parent = node;\n      return {\n        root: node,\n        leaves: leftBranch.leaves.concat(rightBranch.leaves)\n      };\n    }\n  }, {\n    key: \"hashNode\",\n    value: function hashNode(left, right) {\n      return this.h(Buffer.concat([Buffer.from([1]), left, right]));\n    }\n  }]);\n  return Merkle;\n}();\nexports.Merkle = Merkle;\nfunction hashLeaf(buf) {\n  var hashFunction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _bitcoinjsLib.crypto.sha256;\n  return hashConcat(Buffer.from([0]), buf, hashFunction);\n}\nfunction hashConcat(bufA, bufB, hashFunction) {\n  return hashFunction(Buffer.concat([bufA, bufB]));\n}\nvar Node = /*#__PURE__*/function () {\n  function Node(left, right, hash) {\n    _classCallCheck(this, Node);\n    _defineProperty(this, \"leftChild\", void 0);\n    _defineProperty(this, \"rightChild\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"hash\", void 0);\n    this.leftChild = left;\n    this.rightChild = right;\n    this.hash = hash;\n  }\n  _createClass(Node, [{\n    key: \"isLeaf\",\n    value: function isLeaf() {\n      return this.leftChild == undefined;\n    }\n  }]);\n  return Node;\n}();\nfunction proveNode(node) {\n  if (!node.parent) {\n    return [];\n  }\n  if (node.parent.leftChild == node) {\n    if (!node.parent.rightChild) {\n      throw new Error('Expected right child to exist');\n    }\n    return [node.parent.rightChild.hash].concat(_toConsumableArray(proveNode(node.parent)));\n  } else {\n    if (!node.parent.leftChild) {\n      throw new Error('Expected left child to exist');\n    }\n    return [node.parent.leftChild.hash].concat(_toConsumableArray(proveNode(node.parent)));\n  }\n}\nfunction highestPowerOf2LessThan(n) {\n  if (n < 2) {\n    throw Error('Expected n >= 2');\n  }\n  if (isPowerOf2(n)) {\n    return n / 2;\n  }\n  return 1 << Math.floor(Math.log2(n));\n}\nfunction isPowerOf2(n) {\n  return (n & n - 1) == 0;\n}","\"use strict\";\n\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _addresses = require(\"./addresses\");\nObject.keys(_addresses).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _addresses[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _addresses[key];\n    }\n  });\n});\nvar _block_explorer = require(\"./block_explorer\");\nObject.keys(_block_explorer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _block_explorer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _block_explorer[key];\n    }\n  });\n});\nvar _braid = require(\"./braid\");\nObject.keys(_braid).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _braid[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _braid[key];\n    }\n  });\n});\nvar _fees = require(\"./fees\");\nObject.keys(_fees).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _fees[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _fees[key];\n    }\n  });\n});\nvar _fixtures = require(\"./fixtures\");\nObject.keys(_fixtures).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _fixtures[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _fixtures[key];\n    }\n  });\n});\nvar _inputs = require(\"./inputs\");\nObject.keys(_inputs).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _inputs[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _inputs[key];\n    }\n  });\n});\nvar _keys = require(\"./keys\");\nObject.keys(_keys).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _keys[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _keys[key];\n    }\n  });\n});\nvar _multisig = require(\"./multisig\");\nObject.keys(_multisig).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _multisig[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _multisig[key];\n    }\n  });\n});\nvar _networks = require(\"./networks\");\nObject.keys(_networks).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _networks[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _networks[key];\n    }\n  });\n});\nvar _outputs = require(\"./outputs\");\nObject.keys(_outputs).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _outputs[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _outputs[key];\n    }\n  });\n});\nvar _p2sh = require(\"./p2sh\");\nObject.keys(_p2sh).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _p2sh[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _p2sh[key];\n    }\n  });\n});\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nObject.keys(_p2sh_p2wsh).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _p2sh_p2wsh[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _p2sh_p2wsh[key];\n    }\n  });\n});\nvar _p2wsh = require(\"./p2wsh\");\nObject.keys(_p2wsh).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _p2wsh[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _p2wsh[key];\n    }\n  });\n});\nvar _paths = require(\"./paths\");\nObject.keys(_paths).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _paths[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _paths[key];\n    }\n  });\n});\nvar _psbt = require(\"./psbt\");\nObject.keys(_psbt).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _psbt[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _psbt[key];\n    }\n  });\n});\nvar _psbtv = require(\"./psbtv2\");\nObject.keys(_psbtv).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _psbtv[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _psbtv[key];\n    }\n  });\n});\nvar _script = require(\"./script\");\nObject.keys(_script).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _script[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _script[key];\n    }\n  });\n});\nvar _signatures = require(\"./signatures\");\nObject.keys(_signatures).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _signatures[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _signatures[key];\n    }\n  });\n});\nvar _transactions = require(\"./transactions\");\nObject.keys(_transactions).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _transactions[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _transactions[key];\n    }\n  });\n});\nvar _utils = require(\"./utils\");\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _utils[key];\n    }\n  });\n});\nvar _types = require(\"./types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _types[key];\n    }\n  });\n});","\"use strict\";\n\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.weak-map\");\nrequire(\"core-js/modules/es6.reflect.get\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExtendedPublicKey = exports.EXTENDED_PUBLIC_KEY_VERSIONS = void 0;\nexports.compressPublicKey = compressPublicKey;\nexports.convertExtendedPublicKey = convertExtendedPublicKey;\nexports.deriveChildExtendedPublicKey = deriveChildExtendedPublicKey;\nexports.deriveChildPublicKey = deriveChildPublicKey;\nexports.deriveExtendedPublicKey = deriveExtendedPublicKey;\nexports.extendedPublicKeyRootFingerprint = extendedPublicKeyRootFingerprint;\nexports.fingerprintToFixedLengthHex = fingerprintToFixedLengthHex;\nexports.getFingerprintFromPublicKey = getFingerprintFromPublicKey;\nexports.getMaskedDerivation = getMaskedDerivation;\nexports.isKeyCompressed = isKeyCompressed;\nexports.validateExtendedPublicKey = validateExtendedPublicKey;\nexports.validateExtendedPublicKeyForNetwork = validateExtendedPublicKeyForNetwork;\nexports.validatePrefix = validatePrefix;\nexports.validatePublicKey = validatePublicKey;\nexports.validateRootFingerprint = validateRootFingerprint;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.string.repeat\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nrequire(\"core-js/modules/es6.regexp.split\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar bip32 = _interopRequireWildcard(require(\"bip32\"));\nvar _bs58check = _interopRequireDefault(require(\"bs58check\"));\nvar _bufio = require(\"bufio\");\nvar _assert = _interopRequireDefault(require(\"assert\"));\nvar _utils = require(\"./utils\");\nvar _paths = require(\"./paths\");\nvar _networks = require(\"./networks\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar EXTENDED_PUBLIC_KEY_VERSIONS = {\n  xpub: \"0488b21e\",\n  ypub: \"049d7cb2\",\n  zpub: \"04b24746\",\n  Ypub: \"0295b43f\",\n  Zpub: \"02aa7ed3\",\n  tpub: \"043587cf\",\n  upub: \"044a5262\",\n  vpub: \"045f1cf6\",\n  Upub: \"024289ef\",\n  Vpub: \"02575483\"\n};\n\n/**\n * Validate whether or not a string is a valid extended public key prefix\n * @param {string} prefix string to be tested\n * @returns {null} returns null if valid\n * @throws Error with message indicating the invalid prefix.\n */\nexports.EXTENDED_PUBLIC_KEY_VERSIONS = EXTENDED_PUBLIC_KEY_VERSIONS;\nfunction validatePrefix(prefix) {\n  if (!EXTENDED_PUBLIC_KEY_VERSIONS[prefix]) {\n    throw new Error(\"Invalid prefix \\\"\".concat(prefix, \"\\\" for extended public key.\"));\n  }\n  return null;\n}\n\n/**\n * checks length, is string, and valid hex\n * @param {string} rootFingerprint - fingerprint to validate\n * @return {void}\n */\nfunction validateRootFingerprint(rootFingerprint) {\n  (0, _assert.default)(typeof rootFingerprint === \"string\", \"Root fingerprint must be a string.\");\n  (0, _assert.default)(rootFingerprint.length === 8, \"Expected hex value of length 8\");\n  var rootXfpError = (0, _utils.validateHex)(rootFingerprint);\n  (0, _assert.default)(!rootXfpError.length, \"Root fingerprint must be valid hex\");\n}\n\n/**\n * Struct object for encoding and decoding extended public keys.\n * base58 encoded serialization of the following information:\n * [ version ][ depth ][ parent fingerprint ][ key index ][ chain code ][ pubkey ]\n * @param {string} options.bip32Path e.g. m/45'/0'/0\n * @param {string} options.pubkey pubkey found at bip32Path\n * @param {string} options.chaincode chaincode corresponding to pubkey and path\n * @param {string} options.parentFingerprint - fingerprint of parent public key\n * @param {string} [options.network = mainnet] - mainnet or testnet\n * @param {string} [options.rootFingerprint] - the root fingerprint of the device, e.g. 'ca2ab33f'\n * @example\n * import { ExtendedPublicKey } from \"unchained-bitcoin\"\n * const xpub = ExtendedPublicKey.fromBase58(\"xpub6CCHViYn5VzKSmKD9cK9LBDPz9wBLV7owXJcNDioETNvhqhVtj3ABnVUERN9aV1RGTX9YpyPHnC4Ekzjnr7TZthsJRBiXA4QCeXNHEwxLab\")\n * console.log(xpub.encode()) // returns raw Buffer of xpub encoded as per BIP32\n * console.log(xpub.toBase58()) // returns base58 check encoded xpub\n */\nvar ExtendedPublicKey = /*#__PURE__*/function (_Struct) {\n  _inherits(ExtendedPublicKey, _Struct);\n  var _super = _createSuper(ExtendedPublicKey);\n  function ExtendedPublicKey(options) {\n    var _this;\n    _classCallCheck(this, ExtendedPublicKey);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"path\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"sequence\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"index\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"depth\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"chaincode\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"pubkey\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"parentFingerprint\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"network\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"version\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"rootFingerprint\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"base58String\", void 0);\n    if (!options || !Object.keys(options).length) {\n      return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n    }\n    if (options.path) {\n      var pathError = (0, _paths.validateBIP32Path)(options.path);\n      (0, _assert.default)(!pathError.length, pathError);\n      _this.path = options.path;\n      _this.sequence = (0, _paths.bip32PathToSequence)(_this.path);\n      _this.index = _this.sequence[_this.sequence.length - 1];\n      _this.depth = _this.path.split(\"/\").length - 1;\n    } else {\n      (0, _assert.default)(options.depth !== undefined && options.index !== undefined && options.depth >= 0 && options.index >= 0, \"Either an absolute bip32 path or index and depth are required to create ExtendedPublicKey\");\n      _this.depth = options.depth;\n      _this.index = options.index;\n    }\n    (0, _assert.default)(options.pubkey, \"pubkey required to create ExtendedPublicKey\");\n    var pubKeyError = validatePublicKey(options.pubkey);\n    (0, _assert.default)(!pubKeyError.length, pubKeyError);\n    _this.pubkey = isKeyCompressed(options.pubkey) ? options.pubkey : compressPublicKey(options.pubkey);\n    (0, _assert.default)(options.chaincode && options.chaincode.length === 64, \"xpub derivation requires 32-byte chaincode\");\n    var chaincodeError = (0, _utils.validateHex)(options.chaincode);\n    (0, _assert.default)(!chaincodeError.length, chaincodeError);\n    _this.chaincode = options.chaincode;\n    (0, _assert.default)(typeof options.parentFingerprint === \"number\");\n    _this.parentFingerprint = options.parentFingerprint;\n    if (options.network) {\n      (0, _assert.default)([_networks.MAINNET, _networks.TESTNET].includes(options.network), \"Expected network to be one of \".concat(_networks.MAINNET, \" or \").concat(_networks.TESTNET, \".\"));\n      _this.network = options.network;\n    } else {\n      _this.network = _networks.MAINNET;\n    }\n    _this.version = _this.network === _networks.MAINNET ? EXTENDED_PUBLIC_KEY_VERSIONS.xpub : EXTENDED_PUBLIC_KEY_VERSIONS.tpub;\n    if (options.rootFingerprint) {\n      validateRootFingerprint(options.rootFingerprint);\n      _this.rootFingerprint = options.rootFingerprint;\n    }\n    _this.base58String = _this.toBase58();\n    return _this;\n  }\n\n  /**\n   * A Buffer Writer used to encode an xpub. This is called\n   * by the `encode` and `toBase58` methods\n   * @param {BufferWriter} bw bufio.BufferWriter\n   * @returns {void} doesn't have a return, only updates given buffer writer\n   */\n  _createClass(ExtendedPublicKey, [{\n    key: \"write\",\n    value: function write(bw) {\n      bw.writeString(this.version, \"hex\");\n      bw.writeU8(this.depth);\n      bw.writeU32BE(this.parentFingerprint);\n      bw.writeU32BE(this.index);\n      bw.writeString(this.chaincode, \"hex\");\n      bw.writeString(this.pubkey, \"hex\");\n    }\n    /**\n     * Given a network string, will update the network and matching\n     * version magic bytes used for generating xpub\n     * @param {string} network - one of \"mainnet\" or \"testnet\"\n     * @returns {void}\n     */\n  }, {\n    key: \"setNetwork\",\n    value: function setNetwork(network) {\n      (0, _assert.default)([_networks.MAINNET, _networks.TESTNET].includes(network), \"Expected network to be one of \".concat(_networks.MAINNET, \" or \").concat(_networks.TESTNET, \".\"));\n      this.network = network;\n      this.version = this.network === _networks.MAINNET ? EXTENDED_PUBLIC_KEY_VERSIONS.xpub : EXTENDED_PUBLIC_KEY_VERSIONS.tpub;\n    }\n    /**\n     * @param {string} bip32Path set this xpub's path\n     * @returns {void}\n     */\n  }, {\n    key: \"setBip32Path\",\n    value: function setBip32Path(bip32Path) {\n      var pathError = (0, _paths.validateBIP32Path)(bip32Path);\n      (0, _assert.default)(!pathError.length, pathError);\n      this.path = bip32Path;\n    }\n    /**\n     * @param {string} rootFingerprint fingerprint of pubkey at m/\n     * @returns {void}\n     */\n  }, {\n    key: \"setRootFingerprint\",\n    value: function setRootFingerprint(rootFingerprint) {\n      validateRootFingerprint(rootFingerprint);\n      this.rootFingerprint = rootFingerprint;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(extra) {\n      return _get(_getPrototypeOf(ExtendedPublicKey.prototype), \"encode\", this).call(this, extra);\n    }\n    /**\n     * Return the base58 encoded xpub, adding the\n     * @returns {string} base58check encoded xpub, prefixed by network\n     */\n  }, {\n    key: \"toBase58\",\n    value: function toBase58() {\n      return _bs58check.default.encode(this.encode());\n    }\n    /**\n     * Return a new Extended Public Key class given\n     * an xpub string\n     * @param {string} data base58 check encoded xpub\n     * @returns {ExtendedPublicKey} new ExtendedPublicKey instance\n     */\n  }, {\n    key: \"addBase58String\",\n    /**\n     * Sometimes we hop back and forth between a \"Rich ExtendedPublicKey\"\n     * (a Struct with a couple extra parameters set) and the minimal\n     * Struct - let's keep the actual string of the Struct around\n     * for easy usage in other functions\n     * @returns {void}\n     */\n    value: function addBase58String() {\n      this.base58String = this.toBase58();\n    }\n    /**\n     * Used by the decoder to convert a raw xpub Buffer into\n     * an ExtendedPublicKey class\n     * @param {BufferReader} br - A bufio.BufferReader\n     * @returns {ExtendedPublicKey} new instance of Extended Public Key\n     */\n  }, {\n    key: \"read\",\n    value: function read(br) {\n      this.version = br.readString(4, \"hex\");\n      this.depth = br.readU8();\n      this.parentFingerprint = br.readU32BE();\n      this.index = br.readU32BE();\n      this.chaincode = br.readString(32, \"hex\");\n      this.pubkey = br.readString(33, \"hex\");\n      this.base58String = this.toBase58();\n      return this;\n    }\n  }], [{\n    key: \"fromBase58\",\n    value: function fromBase58(data) {\n      return ExtendedPublicKey.decode(_bs58check.default.decode(data));\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(data, extra) {\n      return _get(_getPrototypeOf(ExtendedPublicKey), \"decode\", this).call(this, data, extra);\n    }\n  }]);\n  return ExtendedPublicKey;\n}(_bufio.Struct);\n/**\n * Convert an extended public key between formats\n * @param {string} extendedPublicKey - the extended public key to convert\n * @param {string} targetPrefix - the target format to convert to\n * @example\n * import {convertExtendedPublicKey} from \"unchained-bitcoin\";\n * const tpub = convertExtendedPublicKey(\"xpub6CCH...\", \"tpub\");\n * console.log(tpub.extendedPublicKey, tpub.message)\n * // tpubDCZv...\n * @returns {(string|Record<string, unknown>)} converted extended public key or error object\n * with the failed key and error message\n */\nexports.ExtendedPublicKey = ExtendedPublicKey;\nfunction convertExtendedPublicKey(extendedPublicKey, targetPrefix) {\n  try {\n    var sourcePrefix = extendedPublicKey.slice(0, 4);\n    validatePrefix(targetPrefix);\n    validatePrefix(sourcePrefix);\n    var decodedExtendedPublicKey = _bs58check.default.decode(extendedPublicKey.trim());\n    var extendedPublicKeyNoPrefix = decodedExtendedPublicKey.slice(4);\n    var extendedPublicKeyNewPrefix = Buffer.concat([Buffer.from(EXTENDED_PUBLIC_KEY_VERSIONS[targetPrefix], \"hex\"), extendedPublicKeyNoPrefix]);\n    return _bs58check.default.encode(extendedPublicKeyNewPrefix);\n  } catch (err) {\n    var e = err;\n    throw new Error(\"Unable to convert extended public key: \" + e.message);\n  }\n}\n\n/**\n * Check to see if an extended public key is of the correct prefix for the network\n * this can be used in conjunction with convertExtendedPublicKey to attempt to automatically convert\n * @param {string} extendedPublicKey - the extended public key to check\n * @param {string} network - the bitcoin network\n * @example\n * import {validateExtendedPublicKeyForNetwork} from \"unchained-bitcoin\";\n * console.log(validateExtendedPublicKeyForNetwork('xpub...', MAINNET)) // empty\n * console.log(validateExtendedPublicKeyForNetwork('tpub...', MAINNET)) // \"Extended public key must begin with ....\"\n * @returns {string} a validation message or empty if valid\n */\nfunction validateExtendedPublicKeyForNetwork(extendedPublicKey, network) {\n  var requiredPrefix = \"'xpub'\";\n  if (network === _networks.TESTNET) {\n    requiredPrefix += \" or 'tpub'\";\n  }\n  var prefix = extendedPublicKey.slice(0, 4);\n  if (!(network === _networks.MAINNET && prefix === \"xpub\" || network === _networks.TESTNET && prefix === \"tpub\")) {\n    return \"Extended public key must begin with \".concat(requiredPrefix, \".\");\n  }\n  return \"\";\n}\n\n/**\n * Validate the given extended public key.\n *\n * - Must start with the appropriate (network-dependent) prefix.\n * - Must be a valid BIP32 extended public key\n *\n * @param {string} xpubString - base58 encoded extended public key (`xpub...`)\n * @param {module:networks.NETWORKS} network  - bitcoin network\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateExtendedPublicKey} from \"unchained-bitcoin\";\n * console.log(validateExtendedPublicKey(\"\", MAINNET)); // \"Extended public key cannot be blank.\"\n * console.log(validateExtendedPublicKey(\"foo\", MAINNET)); // \"Extended public key must begin with ...\"\n * console.log(validateExtendedPublicKey(\"xpub123\", MAINNET)); // \"Extended public key is too short.\"\n * console.log(validateExtendedPublicKey(\"tpub123...\", MAINNET)); // \"Extended public key must begin with ....\"\n * console.log(validateExtendedPublicKey(\"xpub123%%!~~...\", MAINNET)); // \"Invalid extended public key\"\n * console.log(validateExtendedPublicKey(\"xpub123...\", MAINNET)); // \"\"\n */\nfunction validateExtendedPublicKey(xpubString, network) {\n  if (xpubString === null || xpubString === undefined || xpubString === \"\") {\n    return \"Extended public key cannot be blank.\";\n  }\n  var requiredPrefix = network === _networks.TESTNET ? \"tpub\" : \"xpub\";\n  var notXpubError = \"Extended public key must begin with '\".concat(requiredPrefix, \"'.\");\n  if (xpubString.length < 4) {\n    return notXpubError;\n  }\n  var prefix = xpubString.slice(0, 4);\n  if (prefix !== requiredPrefix) {\n    return notXpubError;\n  }\n  if (xpubString.length < 111) {\n    return \"Extended public key is too short.\";\n  }\n  try {\n    ExtendedPublicKey.fromBase58(xpubString);\n  } catch (e) {\n    return \"Invalid extended public key.\";\n  }\n  return \"\";\n}\n\n/**\n * Validate the given public key.\n *\n * - Must be valid hex.\n * - Must be a valid BIP32 public key.\n *\n * @param {string} pubkeyHex - (compressed) public key in hex\n * @param {string} [addressType] - one of P2SH, P2SH-P2WSH, P2WSH\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validatePublicKey} from \"unchained-bitcoin\";\n * console.log(validatePublicKey(\"\")); // \"Public key cannot be blank.\"\n * console.log(validatePublicKey(\"zzzz\")); // \"Invalid hex...\"\n * console.log(validatePublicKey(\"deadbeef\")); // \"Invalid public key.\"\n * console.log(validatePublicKey(\"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee\")); // \"\"\n * console.log(validatePublicKey(\"04a17f3ad2ecde2fff2abd1b9ca77f35d5449a3b50a8b2dc9a0b5432d6596afd01ee884006f7e7191f430c7881626b95ae1bcacf9b54d7073519673edaea71ee53\")); // \"\"\n * console.log(validatePublicKey(\"04a17f3ad2ecde2fff2abd1b9ca77f35d5449a3b50a8b2dc9a0b5432d6596afd01ee884006f7e7191f430c7881626b95ae1bcacf9b54d7073519673edaea71ee53\", \"P2SH\")); // \"\"\n * console.log(validatePublicKey(\"04a17f3ad2ecde2fff2abd1b9ca77f35d5449a3b50a8b2dc9a0b5432d6596afd01ee884006f7e7191f430c7881626b95ae1bcacf9b54d7073519673edaea71ee53\", \"P2WSH\")); // \"P2WSH does not support uncompressed public keys.\"\n */\nfunction validatePublicKey(pubkeyHex, addressType) {\n  if (pubkeyHex === null || pubkeyHex === undefined || pubkeyHex === \"\") {\n    return \"Public key cannot be blank.\";\n  }\n  var error = (0, _utils.validateHex)(pubkeyHex);\n  if (error !== \"\") {\n    return error;\n  }\n  try {\n    _bitcoinjsLib.ECPair.fromPublicKey(Buffer.from(pubkeyHex, \"hex\"));\n  } catch (e) {\n    return \"Invalid public key.\";\n  }\n  if (!isKeyCompressed(pubkeyHex) && addressType && [_p2sh_p2wsh.P2SH_P2WSH, _p2wsh.P2WSH].includes(addressType)) {\n    return \"\".concat(addressType, \" does not support uncompressed public keys.\");\n  }\n  return \"\";\n}\n\n/**\n * Compresses the given public key.\n *\n * @param {string} publicKey - (uncompressed) public key in hex\n * @returns {string} compressed public key in hex\n * @example\n * import {compressPublicKey} from \"unchained-bitcoin\";\n * console.log(compressPublicKey(\"04b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee6e43c09d025c2ad322382347ec0f69b4e78d8e23c8ff9aa0dd0cb93665ae83d5\"));\n * // \"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee\"\n */\nfunction compressPublicKey(publicKey) {\n  // validate Public Key Length\n  // validate Public Key Structure\n  var pubkeyBuffer = Buffer.from(publicKey, \"hex\");\n  // eslint-disable-next-line no-bitwise\n  var prefix = (pubkeyBuffer[64] & 1) !== 0 ? 0x03 : 0x02;\n  var prefixBuffer = Buffer.alloc(1);\n  prefixBuffer[0] = prefix;\n  return Buffer.concat([prefixBuffer, pubkeyBuffer.slice(1, 1 + 32)]).toString(\"hex\");\n}\n\n/**\n * Return the public key at the given BIP32 path below the given\n * extended public key.\n *\n * @param {string} extendedPublicKey - base58 encoded extended public key (`xpub...`)\n * @param {string} bip32Path - BIP32 derivation path string (with or without initial `m/`)\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} (compressed) child public key in hex\n * @example\n * import {deriveChildPublicKey, MAINNET} from \"unchained-bitcoin\";\n * const xpub = \"xpub6CCHViYn5VzKSmKD9cK9LBDPz9wBLV7owXJcNDioETNvhqhVtj3ABnVUERN9aV1RGTX9YpyPHnC4Ekzjnr7TZthsJRBiXA4QCeXNHEwxLab\";\n * console.log(deriveChildPublicKey(xpub, \"m/0/0\", MAINNET));\n * // \"021a0b6eb37bd9d2767a364601e41635a11c1dbbbb601efab8406281e210336ace\"\n * console.log(deriveChildPublicKey(xpub, \"0/0\", MAINNET)); // w/o leading `m/`\n * // \"021a0b6eb37bd9d2767a364601e41635a11c1dbbbb601efab8406281e210336ace\"\n *\n */\nfunction deriveChildPublicKey(extendedPublicKey, bip32Path, network) {\n  if (bip32Path.slice(0, 2) === \"m/\") {\n    return deriveChildPublicKey(extendedPublicKey, bip32Path.slice(2), network);\n  }\n  var node = bip32.fromBase58(extendedPublicKey, (0, _networks.networkData)(network));\n  var child = node.derivePath(bip32Path);\n  return (0, _utils.toHexString)(child.publicKey);\n}\n\n/**\n * Return the extended public key at the given BIP32 path below the\n * given extended public key.\n *\n * @param {string} extendedPublicKey - base58 encoded extended public key (`xpub...`)\n * @param {string} bip32Path - BIP32 derivation path string (with or without initial `m/`)\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @returns {string} child extended public key in base58\n * @example\n * import {deriveChildExtendedPublicKey, MAINNET} from \"unchained-bitcoin\";\n * const xpub = \"xpub6CCHViYn5VzKSmKD9cK9LBDPz9wBLV7owXJcNDioETNvhqhVtj3ABnVUERN9aV1RGTX9YpyPHnC4Ekzjnr7TZthsJRBiXA4QCeXNHEwxLab\";\n * console.log(deriveChildExtendedPublicKey(xpub, \"m/0/0\", MAINNET));\n * // \"xpub6GYTTMaaN8bSEhicdKq7ji9H7B2SL4un33obThv9aekop4J7L7B3snYMnJUuwXJiUmsbSVSyZydbqLC97JMWnj3R4MHz6JNunMJhjEBKovS\"\n * console.log(deriveChildExtendedPublicKey(xpub, \"0/0\", MAINNET)); // without initial `m/`\n * // \"xpub6GYTTMaaN8bSEhicdKq7ji9H7B2SL4un33obThv9aekop4J7L7B3snYMnJUuwXJiUmsbSVSyZydbqLC97JMWnj3R4MHz6JNunMJhjEBKovS\"\n\n */\nfunction deriveChildExtendedPublicKey(extendedPublicKey, bip32Path, network) {\n  if (bip32Path.slice(0, 2) === \"m/\") {\n    return deriveChildExtendedPublicKey(extendedPublicKey, bip32Path.slice(2), network);\n  }\n  var node = bip32.fromBase58(extendedPublicKey, (0, _networks.networkData)(network));\n  var child = node.derivePath(bip32Path);\n  return child.toBase58();\n}\n\n/**\n * Check if a given pubkey is compressed or not by checking its length\n * and the possible prefixes\n * @param {string | Buffer} _pubkey pubkey to check\n * @returns {boolean} true if compressed, otherwise false\n * @example\n * import {isKeyCompressed} from \"unchained-bitcoin\"\n * const uncompressed = \"0487cb4929c287665fbda011b1afbebb0e691a5ee11ee9a561fcd6adba266afe03f7c55f784242305cfd8252076d038b0f3c92836754308d06b097d11e37bc0907\"\n * const compressed = \"0387cb4929c287665fbda011b1afbebb0e691a5ee11ee9a561fcd6adba266afe03\"\n * console.log(isKeyCompressed(uncompressed)) // false\n * console.log(isKeyCompressed(compressed)) // true\n */\nfunction isKeyCompressed(_pubkey) {\n  var pubkey = _pubkey;\n  if (!Buffer.isBuffer(_pubkey)) pubkey = Buffer.from(_pubkey, \"hex\");\n  return pubkey.length === 33 && (pubkey[0] === 2 || pubkey[0] === 3);\n}\n\n/**\n * Get fingerprint for a given pubkey. This is useful for generating xpubs\n * which need the fingerprint of the parent pubkey. If not a compressed key\n * then this function will attempt to compress it.\n * @param {string} _pubkey - pubkey to derive fingerprint from\n * @returns {number} fingerprint\n * @example\n * import {getFingerprintFromPublicKey} from \"unchained-bitcoin\"\n * const pubkey = \"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee\"\n * console.log(getFingerprintFromPublicKey(pubkey)) // 724365675\n *\n * const uncompressedPubkey = \"04dccdc7fc599ed379c415fc2bb398b1217f0142af23692359057094ce306cd3930e6634c71788b9ed283219ca2fea102aaf137cd74e025cce97b94478a02029cf\"\n * console.log(getFingerprintFromPublicKey(uncompressedPubkey)) // 247110101\n */\nfunction getFingerprintFromPublicKey(_pubkey) {\n  var pubkey = _pubkey;\n  if (!isKeyCompressed(_pubkey)) {\n    pubkey = compressPublicKey(_pubkey);\n  }\n  var pubkeyBuffer = Buffer.from(pubkey, \"hex\");\n  var hash = (0, _utils.hash160)(pubkeyBuffer);\n  return (hash[0] << 24 | hash[1] << 16 | hash[2] << 8 | hash[3]) >>> 0;\n}\n\n/**\n * Take a fingerprint and return a zero-padded, hex-formatted string\n * that is exactly eight characters long.\n *\n * @param {number} xfp the fingerprint\n * @returns {string} zero-padded, fixed-length hex xfp\n *\n * @example\n * import {fingerprintToFixedLengthHex} from \"unchained-bitcoin\"\n * const pubkeyFingerprint = 724365675\n * console.log(fingerprintToFixedLengthHex(pubkeyFingerprint)) // 2b2cf16b\n *\n * const uncompressedPubkeyFingerprint = 247110101\n * console.log(fingerprintToFixedLengthHex(uncompressedPubkeyFingerprint)) // 0eba99d5\n */\nfunction fingerprintToFixedLengthHex(xfp) {\n  return (xfp + 0x100000000).toString(16).substr(-8);\n}\n\n/**\n * Returns the root fingerprint of the extendedPublicKey\n *\n * @param {Struct} extendedPublicKey the extendedPublicKey Struct\n * @returns {string|null} zero-padded, fixed-length hex xfp\n *\n * @example\n * import {extendedPublicKeyRootFingerprint} from \"unchained-bitcoin\"\n * console.log(extendedPublicKeyRootFingerprint({})) // null\n * import { ExtendedPublicKey } from \"unchained-bitcoin\"\n * const xpub = ExtendedPublicKey.fromBase58(\"xpub6CCHViYn5VzKSmKD9cK9LBDPz9wBLV7owXJcNDioETNvhqhVtj3ABnVUERN9aV1RGTX9YpyPHnC4Ekzjnr7TZthsJRBiXA4QCeXNHEwxLab\")\n * xpub.setRootFingerprint('12341234');\n * console.log(extendedPublicKeyRootFingerprint(xpub)) // 12341234\n */\nfunction extendedPublicKeyRootFingerprint(extendedPublicKey) {\n  return extendedPublicKey.rootFingerprint ? extendedPublicKey.rootFingerprint : null;\n}\n\n/**\n * Derive base58 encoded xpub given known information about\n * BIP32 Wallet Node.\n * @param {string} bip32Path e.g. m/45'/0'/0\n * @param {string} pubkey pubkey to derive from\n * @param {string} chaincode chaincode corresponding to pubkey and path\n * @param {number} parentFingerprint - fingerprint of parent public key\n * @param {string} network - mainnet or testnet\n * @returns {string} base58 encoded extended public key (xpub or tpub)\n */\nfunction deriveExtendedPublicKey(bip32Path, pubkey, chaincode, parentFingerprint) {\n  var network = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _networks.MAINNET;\n  var xpub = new ExtendedPublicKey({\n    path: bip32Path,\n    pubkey: pubkey,\n    chaincode: chaincode,\n    parentFingerprint: parentFingerprint,\n    network: network\n  });\n  return xpub.toBase58();\n}\n\n/**\n *\n * @param {string} options.xpub - base58 encoded xpub string\n * @param {string} options.bip32Path - path to check if requires masking\n * @param {string} toMask - string to match if it requires masking\n * @returns {string} masked bip32Path\n */\nfunction getMaskedDerivation(_ref) {\n  var xpub = _ref.xpub,\n    bip32Path = _ref.bip32Path;\n  var toMask = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"unknown\";\n  var unknownBip32 = bip32Path.toLowerCase().includes(toMask);\n  var depth = ExtendedPublicKey.fromBase58(xpub).depth || 0;\n  return unknownBip32 ? \"m\".concat(\"/0\".repeat(depth)) : bip32Path;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortInputs = sortInputs;\nexports.validateMultisigInput = validateMultisigInput;\nexports.validateMultisigInputs = validateMultisigInputs;\nexports.validateTransactionID = validateTransactionID;\nexports.validateTransactionIndex = validateTransactionIndex;\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.array.sort\");\nvar _utils = require(\"./utils\");\nvar _multisig = require(\"./multisig\");\n/**\n * This module provides functions for sorting & validating multisig\n * transaction inputs.\n *\n * @module inputs\n */\n\n/**\n* Represents a transaction input.\n*\n* The [`Multisig`]{@link module:multisig.MULTISIG} object represents\n* the address the corresponding UTXO belongs to.\n*\n* @typedef MultisigTransactionInput\n* @type {Object}\n* @property {string} txid - The transaction ID where funds were received\n* @property {number} index - The index in the transaction referred to by {txid}\n* @property {module:multisig.Multisig} multisig - The multisig object encumbering this UTXO\n*\n*/\n\n/**\n * Sorts the given inputs according to the [BIP69 standard]{@link https://github.com/bitcoin/bips/blob/master/bip-0069.mediawiki#transaction-inputs}: ascending lexicographic order.\n *\n * @param {module:inputs.MultisigTransactionInput[]} inputs - inputs to sort\n * @returns {module:inputs.MultisigTransactionInput[]} inputs sorted according to BIP69\n */\nfunction sortInputs(inputs) {\n  return inputs.sort(function (input1, input2) {\n    if (input1.txid > input2.txid) {\n      return 1;\n    } else {\n      if (input1.txid < input2.txid) {\n        return -1;\n      } else {\n        return input1.index < input2.index ? -1 : 1;\n      }\n    }\n  });\n}\n\n/**\n * Validates the given transaction inputs.\n *\n * Returns an error message if there are no inputs.  Passes each output to [`validateMultisigInput`]{@link module:transactions.validateOutput}.\n *\n * If the function is called with braidRequired, an additional check is performed\n * on each input's multisig to make sure that it is braid-aware. In other words,\n * does the input know the set of ExtendedPublicKeys it came from?\n *\n * @param {module:inputs.MultisigTransactionInput[]} inputs - inputs to validate\n * @param {boolean} [braidRequired] - inputs need to have braid details attached to them\n * @returns {string} empty if valid or corresponding validation message if not\n */\nfunction validateMultisigInputs(inputs, braidRequired) {\n  if (!inputs || inputs.length === 0) {\n    return \"At least one input is required.\";\n  }\n  var utxoIDs = [];\n  for (var inputIndex = 0; inputIndex < inputs.length; inputIndex++) {\n    var input = inputs[inputIndex];\n    if (braidRequired && input.multisig && !(0, _multisig.multisigBraidDetails)(input.multisig)) {\n      return \"At least one input cannot be traced back to its set of extended public keys.\";\n    }\n    var error = validateMultisigInput(input);\n    if (error) {\n      return error;\n    }\n    var utxoID = \"\".concat(input.txid, \":\").concat(input.index);\n    if (utxoIDs.includes(utxoID)) {\n      return \"Duplicate input: \".concat(utxoID);\n    }\n    utxoIDs.push(utxoID);\n  }\n  return \"\";\n}\n\n/**\n * Validates the given transaction input.\n *\n * - Validates the presence and value of the transaction ID (`txid`) property.\n *\n * - Validates the presence and value of the transaction index (`index`) property.\n *\n * - Validates the presence of the `multisig` property.\n *\n * @param {module:inputs.MultisigTransactionInput} input - input to validate\n * @returns {string} empty if valid or corresponding validation message if not\n *\n */\nfunction validateMultisigInput(input) {\n  if (!input.txid) {\n    return \"Does not have a transaction ID ('txid') property.\";\n  }\n  var error = validateTransactionID(input.txid);\n  if (error) {\n    return error;\n  }\n  if (input.index !== 0 && !input.index) {\n    return \"Does not have a transaction index ('index') property.\";\n  }\n  error = validateTransactionIndex(input.index);\n  if (error) {\n    return error;\n  }\n  if (!input.multisig) {\n    return \"Does not have a multisig object ('multisig') property.\";\n  }\n  return \"\";\n}\nvar TXID_LENGTH = 64;\n\n/**\n * Validates the given transaction ID.\n *\n * @param {string} txid - transaction ID to validate\n * @returns {string} empty if valid or corresponding validation message if not\n *\n */\nfunction validateTransactionID(txid) {\n  if (txid === null || txid === undefined || txid === '') {\n    return \"TXID cannot be blank.\";\n  }\n  var error = (0, _utils.validateHex)(txid);\n  if (error) {\n    return \"TXID is invalid (\".concat(error, \")\");\n  }\n  if (txid.length !== TXID_LENGTH) {\n    return \"TXID is invalid (must be \".concat(TXID_LENGTH, \"-characters)\");\n  }\n  return '';\n}\n\n/**\n * Validates the given transaction index.\n *\n * @param {string|number} indexString - transaction index to validate\n * @returns {string} empty if valid or corresponding validation message if not\n *\n */\nfunction validateTransactionIndex(indexString) {\n  if (indexString === null || indexString === undefined || indexString === '') {\n    return \"Index cannot be blank.\";\n  }\n  var index = parseInt(indexString, 10);\n  if (!isFinite(index)) {\n    return \"Index is invalid\";\n  }\n  if (index < 0) {\n    return \"Index cannot be negative.\";\n  }\n  return \"\";\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PSBT_MAGIC_HEX = exports.PSBT_MAGIC_BYTES = exports.PSBT_MAGIC_B64 = void 0;\nexports.addSignaturesToPSBT = addSignaturesToPSBT;\nexports.autoLoadPSBT = autoLoadPSBT;\nexports.parseSignatureArrayFromPSBT = parseSignatureArrayFromPSBT;\nexports.parseSignaturesFromPSBT = parseSignaturesFromPSBT;\nexports.psbtInputFormatter = psbtInputFormatter;\nexports.psbtOutputFormatter = psbtOutputFormatter;\nexports.translatePSBT = translatePSBT;\nrequire(\"core-js/modules/es6.array.fill\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.string.starts-with\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.array.slice\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _bufferutils = require(\"bitcoinjs-lib/src/bufferutils\");\nvar _utils = require(\"./utils\");\nvar _multisig = require(\"./multisig\");\nvar _paths = require(\"./paths\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _p2sh = require(\"./p2sh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _braid = require(\"./braid\");\nvar _networks = require(\"./networks\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * This module provides functions for interacting with PSBTs, see BIP174\n * https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki\n *\n * @module psbt\n */\n\n/**\n * Represents a transaction PSBT input.\n *\n * The [`Multisig`]{@link module:multisig.MULTISIG} object represents\n * the address the corresponding UTXO belongs to.\n *\n * @typedef MultisigTransactionPSBTInput\n * @type {Object}\n * @property {string} hash - The transaction ID where funds were received\n * @property {number} index - The index in the transaction referred to by {txid}\n * @property {Buffer|Object} utxoToVerify - The UTXO to verify\n * @property {Multisig} multisigScript - Locking script(s) for the multisig address\n * @property {Object} bip32Derivation - the set of (rootFingerprints && pubkeys && bip32paths) for this Multisig\n *\n */\n\n/**\n * Represents an output in a PSBT transaction.\n *\n * @typedef TransactionPSBTOutput\n * @type {Object}\n * @property {string} address - the output address\n * @property {number} value - output amount in Satoshis\n * @property {Object} [redeemScript] For change addresses - Locking script(s) for the multisig address\n * @property {Object} [witnessScript] For change addresses - Locking script(s) for the multisig address\n * @property {Object} [bip32Derivation] For change addresses - the set of (rootFingerprints && pubkeys && bip32paths) for this Multisig\n *\n */\n\nvar PSBT_MAGIC_HEX = \"70736274ff\";\nexports.PSBT_MAGIC_HEX = PSBT_MAGIC_HEX;\nvar PSBT_MAGIC_B64 = \"cHNidP8\";\nexports.PSBT_MAGIC_B64 = PSBT_MAGIC_B64;\nvar PSBT_MAGIC_BYTES = Buffer.from([0x70, 0x73, 0x62, 0x74, 0xff]);\n\n/**\n * Given a string, try to create a Psbt object based on MAGIC (hex or Base64)\n * @param {String} psbtFromFile -  Base64 or hex PSBT\n * @param {Object} [options] -  options, e.g. TESTNET\n * @return {null|Psbt} - Psbt object from bitcoinjs-lib or null if failed to detect\n */\nexports.PSBT_MAGIC_BYTES = PSBT_MAGIC_BYTES;\nfunction autoLoadPSBT(psbtFromFile, options) {\n  if (typeof psbtFromFile !== \"string\") return null;\n  // Auto-detect and decode Base64 and Hex.\n  if (psbtFromFile.substring(0, 10) === PSBT_MAGIC_HEX) {\n    return _bitcoinjsLib.Psbt.fromHex(psbtFromFile, options);\n  } else if (psbtFromFile.substring(0, 7) === PSBT_MAGIC_B64) {\n    return _bitcoinjsLib.Psbt.fromBase64(psbtFromFile, options);\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return the getBip32Derivation (if known) for a given `Multisig` object.\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @param {number} [index] the index to generate at\n * @returns {Object[]} the getBip32Derivation includes all paths/root fingerprints to all pubkeys in the multisig object\n * @example\n * import {\n *   getBip32Derivation,\n *   generateBraidFromExtendedPublicKeys,\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   braidConfig,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 2, \"03a...\", \"03b...\", \"03c...\");\n * console.log(getBip32Derivation(multisig, 0)); // null, Multisig object isn't aware of its braid.\n *\n * const braid = generateBraidFromExtendedPublicKeys(MAINNET, P2SH, {{'xpub...', bip32path: \"m/45'/0'/0'\"}, {'xpub...', bip32path: \"m/45'/0/0\"}, {'xpub...', bip32path: \"m/45'/0/0\"}}, 2);\n * const multisig = braid.deriveMultisigByIndex(\"0\");\n * console.log(getBip32Derivation(multisig, 0)); // {\n *   {masterFingerprint: Buffer('1234..', 'hex'), path: \"m/45'/0'/0'/0/0\", pubkey: Buffer.from(\"02...\", 'hex')}\n *   {masterFingerprint: Buffer('3453..', 'hex'), path: \"m/45'/0/0/0/0\", pubkey: Buffer.from(\"03...\", 'hex')}\n *   {masterFingerprint: Buffer('1533..', 'hex'), path: \"m/45'/0/0/0/0\", pubkey: Buffer.from(\"02...\", 'hex')}\n * }\n */\nfunction getBip32Derivation(multisig) {\n  var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Already have one, return it\n  if (multisig.bip32Derivation) {\n    return multisig.bip32Derivation;\n  }\n  // Otherwise generate it\n  var config = JSON.parse((0, _multisig.multisigBraidDetails)(multisig));\n  var braid = (0, _braid.generateBraid)(config.network, config.addressType, config.extendedPublicKeys, config.requiredSigners, config.index);\n  return (0, _braid.generateBip32DerivationByIndex)(braid, index);\n}\n\n/**\n * Grabs appropriate bip32Derivation based on the input's last index\n *\n * @param {module:inputs.MultisigTransactionInput} input - input you are requesting bip32Derivation from\n * @return {Object[]} array of objects containing (rootFingerprints && pubkeys && bip32paths) for this Multisig\n */\nfunction psbtInputDerivation(input) {\n  // Multi-address inputs will have different bip32Derivations per address (index/path),\n  // so specify the index ... If the input is missing a path, assume you want index = 0.\n  var index = input.bip32Path ? (0, _paths.bip32PathToSequence)(input.bip32Path).slice(-1)[0] : 0;\n  return getBip32Derivation(input.multisig, index);\n}\n\n/**\n * Grabs appropriate bip32Derivation for a change output\n *\n * @param {module:outputs.TransactionOutput} output - output you are requesting bip32Derivation from\n * @return {Object[]} array of objects containing (rootFingerprints && pubkeys && bip32paths) for this Multisig\n */\nfunction psbtOutputDerivation(output) {\n  return getBip32Derivation(output.multisig);\n}\n\n/**\n * Gets the Witness script from the ouput that generated the input\n * @param {module:inputs.MultisigTransactionInput} input - input you are requesting output's script from\n * @return {Output} bitcoinjs-lib Output object (amount+script)\n */\nfunction getWitnessOutputScriptFromInput(input) {\n  // We have the transactionHex - use bitcoinjs to pluck out the witness script\n  // return format is:\n  //  {\n  //    script: Buffer.from(out.script, 'hex'),\n  //    amount: out.value,\n  //  }\n  // See https://github.com/bitcoinjs/bitcoinjs-lib/issues/1282\n  var tx = _bitcoinjsLib.Transaction.fromHex(input.transactionHex);\n  return tx.outs[input.index];\n}\n\n/**\n * Return the locking script for the given `Multisig` object in a PSBT consumable format\n *\n * @param {module:multisig.Multisig} multisig the `Multisig` object\n * @return {Object} returns an object with proper parameters attached that are needed to validate spending\n */\nfunction psbtMultisigLock(multisig) {\n  var multisigLock = {};\n\n  // eslint-disable-next-line default-case\n  switch ((0, _multisig.multisigAddressType)(multisig)) {\n    case _p2sh.P2SH:\n      multisigLock.redeemScript = (0, _multisig.multisigRedeemScript)(multisig).output;\n      break;\n    case _p2wsh.P2WSH:\n      multisigLock.witnessScript = (0, _multisig.multisigWitnessScript)(multisig).output;\n      break;\n    case _p2sh_p2wsh.P2SH_P2WSH:\n      // need both\n      multisigLock.witnessScript = (0, _multisig.multisigWitnessScript)(multisig).output;\n      multisigLock.redeemScript = (0, _multisig.multisigRedeemScript)(multisig).output;\n      break;\n  }\n  return multisigLock;\n}\n\n/**\n * Take a MultisigTransactionInput and turn it into a MultisigTransactionPSBTInput\n *\n * @param {module:inputs.MultisigTransactionInput} input - to decorate for PSBT\n * @return {module:inputs.MultisigTransactionPSBTInput} outputs the PSBT-ready Transaction Input\n */\nfunction psbtInputFormatter(input) {\n  // In this function we're decorating the MultisigTransactionInput appropriately based\n  // on its address type.\n  //\n  // Essentially we need to define a couple parameters to make the whole thing work.\n  //   1) Either a Witness UTXO or Non-Witness UTXO pointing to where this input originated\n  //   2) multisigScript (spending lock) which can be either a redeemScript, a witnessScript, or both.\n  //\n  // For more info see https://github.com/bitcoinjs/bitcoinjs-lib/blob/v5.1.10/test/integration/transactions.spec.ts#L680\n\n  // For SegWit inputs, you need an object with the output script buffer and output value\n  var witnessUtxo = getWitnessOutputScriptFromInput(input);\n  // For non-SegWit inputs, you must pass the full transaction buffer\n  var nonWitnessUtxo = Buffer.from(input.transactionHex, 'hex');\n\n  // FIXME - this makes the assumption that the funding transaction used the same transaction type as the current input\n  //   we dont have isSegWit info on our inputs at the moment, so we don't know for sure.\n  //   This assumption holds in our fixtures, but it may need to be remedied in the future.\n  var isSegWit = (0, _multisig.multisigWitnessScript)(input.multisig) !== null;\n  var utxoToVerify = isSegWit ? {\n    witnessUtxo: witnessUtxo\n  } : {\n    nonWitnessUtxo: nonWitnessUtxo\n  };\n  var multisigScripts = psbtMultisigLock(input.multisig);\n  var bip32Derivation = psbtInputDerivation(input);\n  return _objectSpread(_objectSpread(_objectSpread({\n    hash: input.txid,\n    index: input.index\n  }, utxoToVerify), multisigScripts), {}, {\n    bip32Derivation: bip32Derivation\n  });\n}\n\n/**\n * Take a MultisigTransactionOutput and turn it into a MultisigTransactionPSBTOutput\n *\n * @param {module:outputs.TransactionOutput} output output to decorate for PSBT\n * @return {module:outputs.TransactionPSBTOutput} outputs the PSBT-ready Transaction Object\n */\nfunction psbtOutputFormatter(output) {\n  var multisigScripts = {};\n  var bip32Derivation = [];\n  if (output.multisig) {\n    // This indicates that this output is a *change* output, so we include additional information:\n    //    Change address bip32Derivation (rootFingerprints && pubkeys && bip32paths)\n    //    Change address multisig locking script (redeem || witness || both)\n    // With the above information, the device (e.g. Coldcard) can validate that the change address\n    // can be signed with the same device. The display will show the output as \"Change\" instead of\n    // a normal external output.\n    multisigScripts = psbtMultisigLock(output.multisig);\n    bip32Derivation = psbtOutputDerivation(output);\n    return _objectSpread(_objectSpread({\n      address: output.address,\n      value: (0, _bignumber.default)(output.amountSats).toNumber()\n    }, multisigScripts), {}, {\n      bip32Derivation: bip32Derivation\n    });\n  }\n  return _objectSpread({\n    address: output.address,\n    value: (0, _bignumber.default)(output.amountSats).toNumber()\n  }, output);\n}\n\n/**\n * Create unchained-wallets style transaction input objects from a PSBT\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {String} addressType - address type\n * @param {Object} psbt - Psbt bitcoinjs-lib object\n * @return {Object[]} unchained multisig transaction inputs array\n */\nfunction getUnchainedInputsFromPSBT(network, addressType, psbt) {\n  return psbt.txInputs.map(function (input, index) {\n    var dataInput = psbt.data.inputs[index];\n\n    // FIXME - this is where we're currently only handling P2SH correctly\n    var fundingTxHex = dataInput.nonWitnessUtxo.toString('hex');\n    var fundingTx = _bitcoinjsLib.Transaction.fromHex(fundingTxHex);\n    var multisig = (0, _multisig.generateMultisigFromHex)(network, addressType, dataInput.redeemScript.toString('hex'));\n    return {\n      amountSats: fundingTx.outs[input.index].value,\n      index: input.index,\n      transactionHex: fundingTxHex,\n      txid: (0, _bufferutils.reverseBuffer)(input.hash).toString('hex'),\n      multisig: multisig\n    };\n  });\n}\n\n/**\n * Create unchained-wallets style transaction output objects from a PSBT\n *\n * @param {Object} psbt - Psbt bitcoinjs-lib object\n * @return {Object[]} unchained multisig transaction outputs array\n */\nfunction getUnchainedOutputsFromPSBT(psbt) {\n  return psbt.txOutputs.map(function (output) {\n    return {\n      address: output.address,\n      amountSats: output.value\n    };\n  });\n}\n\n/**\n * Create unchained-wallets style transaction input objects\n *\n * @param {Object} psbt - Psbt bitcoinjs-lib object\n * @param {Object} signingKeyDetails - Object containing signing key details (Fingerprint + bip32path prefix)\n * @return {Object[]} bip32Derivations - array of signing bip32Derivation objects\n */\nfunction filterRelevantBip32Derivations(psbt, signingKeyDetails) {\n  return psbt.data.inputs.map(function (input) {\n    var bip32Derivation = input.bip32Derivation.filter(function (b32d) {\n      return b32d.path.startsWith(signingKeyDetails.path) && b32d.masterFingerprint.toString('hex') === signingKeyDetails.xfp;\n    });\n    if (!bip32Derivation.length) {\n      throw new Error(\"Signing key details not included in PSBT\");\n    }\n    return bip32Derivation[0];\n  });\n}\n\n/**\n * Translates a PSBT into inputs/outputs consumable by supported non-PSBT devices in the\n * `unchained-wallets` library.\n *\n * FIXME - Have only confirmed this is working for P2SH addresses on Ledger on regtest\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {String} addressType - address type\n * @param {String} psbt - PSBT as a base64 or hex string\n * @param {Object} signingKeyDetails - Object containing signing key details (Fingerprint + bip32path prefix)\n * @returns {null|Object} returns unchained-wallets transaction object with the format\n * {\n *    inputs: [],\n *    outputs: [],\n *    bip32Derivations: [],\n * }\n */\nfunction translatePSBT(network, addressType, psbt, signingKeyDetails) {\n  if (addressType !== _p2sh.P2SH) throw new Error(\"Unsupported addressType -- only P2SH is supported right now\");\n  var localPSBT = autoLoadPSBT(psbt, {\n    network: (0, _networks.networkData)(network)\n  });\n  if (localPSBT === null) return null;\n\n  // The information we need to provide proper unchained-wallets style objects to the supported\n  // non-PSBT devices, we need to grab info from different places from within the PSBT.\n  //    1. the \"data inputs\"\n  //    2. the \"transaction inputs\"\n  //\n  // We'll do that in the functions below.\n\n  // First, we check that we actually do have any inputs to sign:\n  var bip32Derivations = filterRelevantBip32Derivations(localPSBT, signingKeyDetails);\n\n  // The shape of these return objects are specific to existing code\n  // in unchained-wallets for signing with Trezor and Ledger devices.\n  var unchainedInputs = getUnchainedInputsFromPSBT(network, addressType, localPSBT);\n  var unchainedOutputs = getUnchainedOutputsFromPSBT(localPSBT);\n  return {\n    unchainedInputs: unchainedInputs,\n    unchainedOutputs: unchainedOutputs,\n    bip32Derivations: bip32Derivations\n  };\n}\n\n/**\n * Given a PSBT, an input index, a pubkey, and a signature,\n * update the input inside the PSBT with a partial signature object.\n *\n * Make sure it validates, and then return the PSBT with the partial\n * signature inside.\n *\n * @param {Object} psbt - Psbt Object from bitcoinjs-lib (unsigned or partially signed)\n * @param {number} inputIndex - which input is this signature for\n * @param {Buffer} pubkey - public key associated with signature\n * @param {Buffer} signature - signature of transaction for pubkey\n * @return {Object} - validated PSBT Object with an added signature for given input\n * @private\n */\nfunction addSignatureToPSBT(psbt, inputIndex, pubkey, signature) {\n  var partialSig = [{\n    pubkey: pubkey,\n    signature: signature\n  }];\n  psbt.data.updateInput(inputIndex, {\n    partialSig: partialSig\n  });\n  if (!psbt.validateSignaturesOfInput(inputIndex, pubkey)) throw new Error(\"One or more invalid signatures.\");\n  return psbt;\n}\n\n/**\n * Given an unsigned PSBT, an array of signing public key(s) (one per input),\n * an array of signature(s) (one per input) in the same order as the pubkey(s),\n * adds partial signature object(s) to each input and returns the PSBT with\n * partial signature(s) included.\n *\n * FIXME - maybe we add functionality of sending in a single pubkey as well,\n *         which would assume all of the signature(s) are for that pubkey.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {String} psbt - PSBT as base64 or hex string\n * @param {Buffer[]} pubkeys - public keys map 1:1 with signature(s)\n * @param {Buffer[]} signatures - transaction signatures map 1:1 with public key(s)\n * @return {null|string} - partially signed PSBT in Base64\n */\nfunction addSignaturesToPSBT(network, psbt, pubkeys, signatures) {\n  var psbtWithSignatures = autoLoadPSBT(psbt, {\n    network: (0, _networks.networkData)(network)\n  });\n  if (psbtWithSignatures === null) return null;\n  signatures.forEach(function (sig, idx) {\n    var pubkey = pubkeys[idx];\n    psbtWithSignatures = addSignatureToPSBT(psbtWithSignatures, idx, pubkey, sig);\n  });\n  return psbtWithSignatures.toBase64();\n}\n\n/**\n * Get number of signers in the PSBT\n *\n * @param {Psbt} psbt - bitcoinjs-lib object\n * @returns {int} number of signers in the PSBT\n *\n */\n\nfunction getNumSigners(psbt) {\n  var partialSignatures = psbt && psbt.data && psbt.data.inputs && psbt.data.inputs[0] ? psbt.data.inputs[0].partialSig : undefined;\n  return partialSignatures === undefined ? 0 : partialSignatures.length;\n}\n\n/**\n * Extracts the signature(s) from a PSBT.\n * NOTE: there should be one signature per input, per signer.\n *\n * ADDITIONAL NOTE: because of the restrictions we place on braids to march their\n * multisig addresses (slices) forward at the *same* index across each chain of the\n * braid, we do not run into a possible collision with this data structure.\n * BUT - to have this method accommodate the *most* general form of signature parsing,\n * it would be wise to wrap this one level deeper like:\n *\n *                     address: [pubkey : [signature(s)]]\n *\n * that way if your braid only advanced one chain's (member's) index so that a pubkey\n * could be used in more than one address, everything would still function properly.\n *\n * @param {String} psbtFromFile -  base64 or hex\n * @returns {Object} returns an object with signatureSet(s) - an object with format\n * {pubkey : [signature(s)]}\n *\n */\nfunction parseSignaturesFromPSBT(psbtFromFile) {\n  var psbt = autoLoadPSBT(psbtFromFile);\n  if (psbt === null) return null;\n  var numSigners = getNumSigners(psbt);\n  var signatureSet = {};\n  var pubKey = '';\n  var inputs = psbt.data.inputs;\n  // Find signatures in the PSBT\n  if (numSigners >= 1) {\n    // return array of arrays of signatures\n    for (var i = 0; i < inputs.length; i++) {\n      for (var j = 0; j < numSigners; j++) {\n        pubKey = (0, _utils.toHexString)(Array.prototype.slice.call(inputs[i].partialSig[j].pubkey));\n        if (pubKey in signatureSet) {\n          signatureSet[pubKey].push(inputs[i].partialSig[j].signature.toString(\"hex\"));\n        } else {\n          signatureSet[pubKey] = [inputs[i].partialSig[j].signature.toString(\"hex\")];\n        }\n      }\n    }\n  } else {\n    return null;\n  }\n  return signatureSet;\n}\n\n/**\n * Extracts signatures in order of inputs and returns as array (or array of arrays if multiple signature sets)\n *\n  * @param {String} psbtFromFile -  base64 or hex\n * @returns {Object} returns an array of arrays of ordered signatures or an array of signatures if only 1 signer\n *\n */\nfunction parseSignatureArrayFromPSBT(psbtFromFile) {\n  var psbt = autoLoadPSBT(psbtFromFile);\n  if (psbt === null) return null;\n  var numSigners = getNumSigners(psbt);\n  var signatureArrays = Array.from(Array(numSigners).fill().map(function () {\n    return [];\n  }));\n  var inputs = psbt.data.inputs;\n  if (numSigners >= 1) {\n    for (var i = 0; i < inputs.length; i += 1) {\n      for (var j = 0; j < numSigners; j += 1) {\n        var signature = inputs[i].partialSig[j].signature.toString(\"hex\");\n        signatureArrays[j].push(signature);\n      }\n    }\n  } else {\n    return null;\n  }\n  return numSigners === 1 ? signatureArrays[0] : signatureArrays;\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeSegwitAddress = exports.encodeBc32Data = exports.decodeSegwitAddress = exports.decodeBc32Data = exports.Bech32Version = void 0;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.typed.uint8-array\");\nvar _bech = _interopRequireDefault(require(\"./bech32\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar Bech32Version = {\n  Origin: 1,\n  bis: 2\n};\nexports.Bech32Version = Bech32Version;\nvar convertBits = function convertBits(data, fromBits, toBits, pad) {\n  var acc = 0;\n  var bits = 0;\n  var ret = [];\n  var maxv = (1 << toBits) - 1;\n  for (var p = 0; p < data.length; ++p) {\n    var value = data[p];\n    if (value < 0 || value >> fromBits !== 0) {\n      return null;\n    }\n    acc = acc << fromBits | value;\n    bits += fromBits;\n    while (bits >= toBits) {\n      bits -= toBits;\n      ret.push(acc >> bits & maxv);\n    }\n  }\n  if (pad) {\n    if (bits > 0) {\n      ret.push(acc << toBits - bits & maxv);\n    }\n  } else if (bits >= fromBits || acc << toBits - bits & maxv) {\n    return null;\n  }\n  return ret;\n};\nvar decodeSegwitAddress = function decodeSegwitAddress(hrp, addr) {\n  var dec = _bech[\"default\"].decode(addr);\n  if (dec === null || dec.hrp !== hrp || dec.data.length < 1 || dec.data[0] > 16) {\n    return null;\n  }\n  var res = convertBits(Uint8Array.from(dec.data.slice(1)), 5, 8, false);\n  if (res === null || res.length < 2 || res.length > 40) {\n    return null;\n  }\n  if (dec.data[0] === 0 && res.length !== 20 && res.length !== 32) {\n    return null;\n  }\n  return {\n    version: dec.data[0],\n    program: res\n  };\n};\nexports.decodeSegwitAddress = decodeSegwitAddress;\nvar encodeSegwitAddress = function encodeSegwitAddress(hrp, version, program) {\n  var u82u5 = convertBits(program, 8, 5, true);\n  if (!u82u5) {\n    return null;\n  }\n  var ret = _bech[\"default\"].encode(hrp, [version].concat(u82u5), Bech32Version.Origin);\n  if (decodeSegwitAddress(hrp, ret) === null) {\n    return null;\n  }\n  return ret;\n};\nexports.encodeSegwitAddress = encodeSegwitAddress;\nvar encodeBc32Data = function encodeBc32Data(hex) {\n  var data = Buffer.from(hex, 'hex');\n  var u82u5 = convertBits(data, 8, 5, true);\n  if (!u82u5) {\n    throw new Error('invalid input');\n  } else {\n    return _bech[\"default\"].encode(undefined, u82u5, Bech32Version.bis);\n  }\n};\nexports.encodeBc32Data = encodeBc32Data;\nvar decodeBc32Data = function decodeBc32Data(data) {\n  var result = _bech[\"default\"].decode(data);\n  if (result) {\n    var res = convertBits(Buffer.from(result.data), 5, 8, false);\n    if (res) return Buffer.from(res).toString('hex');\n    return null;\n  } else {\n    return null;\n  }\n};\nexports.decodeBc32Data = decodeBc32Data;","\"use strict\";\n\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.array.is-array\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BufferWriter = exports.BufferReader = void 0;\nexports.unsafeFrom64bitLE = unsafeFrom64bitLE;\nexports.unsafeTo64bitLE = unsafeTo64bitLE;\nrequire(\"core-js/modules/es6.number.max-safe-integer\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _varint = require(\"./varint\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction unsafeTo64bitLE(n) {\n  // we want to represent the input as a 8-bytes array\n  if (n > Number.MAX_SAFE_INTEGER) {\n    throw new Error(\"Can't convert numbers > MAX_SAFE_INT\");\n  }\n  var byteArray = Buffer.alloc(8, 0);\n  for (var index = 0; index < byteArray.length; index++) {\n    var _byte = n & 0xff;\n    byteArray[index] = _byte;\n    n = (n - _byte) / 256;\n  }\n  return byteArray;\n}\nfunction unsafeFrom64bitLE(byteArray) {\n  var value = 0;\n  if (byteArray.length != 8) {\n    throw new Error(\"Expected Bufffer of lenght 8\");\n  }\n  if (byteArray[7] != 0) {\n    throw new Error(\"Can't encode numbers > MAX_SAFE_INT\");\n  }\n  if (byteArray[6] > 0x1f) {\n    throw new Error(\"Can't encode numbers > MAX_SAFE_INT\");\n  }\n  for (var i = byteArray.length - 1; i >= 0; i--) {\n    value = value * 256 + byteArray[i];\n  }\n  return value;\n}\nvar BufferWriter = /*#__PURE__*/function () {\n  function BufferWriter() {\n    _classCallCheck(this, BufferWriter);\n    _defineProperty(this, \"bufs\", []);\n  }\n  _createClass(BufferWriter, [{\n    key: \"write\",\n    value: function write(alloc, fn) {\n      var b = Buffer.alloc(alloc);\n      fn(b);\n      this.bufs.push(b);\n    }\n  }, {\n    key: \"writeUInt8\",\n    value: function writeUInt8(i) {\n      this.write(1, function (b) {\n        return b.writeUInt8(i, 0);\n      });\n    }\n  }, {\n    key: \"writeInt32\",\n    value: function writeInt32(i) {\n      this.write(4, function (b) {\n        return b.writeInt32LE(i, 0);\n      });\n    }\n  }, {\n    key: \"writeUInt32\",\n    value: function writeUInt32(i) {\n      this.write(4, function (b) {\n        return b.writeUInt32LE(i, 0);\n      });\n    }\n  }, {\n    key: \"writeUInt64\",\n    value: function writeUInt64(i) {\n      var bytes = unsafeTo64bitLE(i);\n      this.writeSlice(bytes);\n    }\n  }, {\n    key: \"writeVarInt\",\n    value: function writeVarInt(i) {\n      this.bufs.push((0, _varint.createVarint)(i));\n    }\n  }, {\n    key: \"writeSlice\",\n    value: function writeSlice(slice) {\n      this.bufs.push(Buffer.from(slice));\n    }\n  }, {\n    key: \"writeVarSlice\",\n    value: function writeVarSlice(slice) {\n      this.writeVarInt(slice.length);\n      this.writeSlice(slice);\n    }\n  }, {\n    key: \"buffer\",\n    value: function buffer() {\n      return Buffer.concat(this.bufs);\n    }\n  }]);\n  return BufferWriter;\n}();\nexports.BufferWriter = BufferWriter;\nvar BufferReader = /*#__PURE__*/function () {\n  function BufferReader(buffer) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    _classCallCheck(this, BufferReader);\n    this.buffer = buffer;\n    this.offset = offset;\n  }\n  _createClass(BufferReader, [{\n    key: \"available\",\n    value: function available() {\n      return this.buffer.length - this.offset;\n    }\n  }, {\n    key: \"readUInt8\",\n    value: function readUInt8() {\n      var result = this.buffer.readUInt8(this.offset);\n      this.offset++;\n      return result;\n    }\n  }, {\n    key: \"readInt32\",\n    value: function readInt32() {\n      var result = this.buffer.readInt32LE(this.offset);\n      this.offset += 4;\n      return result;\n    }\n  }, {\n    key: \"readUInt32\",\n    value: function readUInt32() {\n      var result = this.buffer.readUInt32LE(this.offset);\n      this.offset += 4;\n      return result;\n    }\n  }, {\n    key: \"readUInt64\",\n    value: function readUInt64() {\n      var buf = this.readSlice(8);\n      return unsafeFrom64bitLE(buf);\n    }\n  }, {\n    key: \"readVarInt\",\n    value: function readVarInt() {\n      var _parseVarint = (0, _varint.parseVarint)(this.buffer, this.offset),\n        _parseVarint2 = _slicedToArray(_parseVarint, 2),\n        vi = _parseVarint2[0],\n        vi_size = _parseVarint2[1];\n      this.offset += vi_size;\n      return vi;\n    }\n  }, {\n    key: \"readSlice\",\n    value: function readSlice(n) {\n      if (this.buffer.length < this.offset + n) {\n        throw new Error(\"Cannot read slice out of bounds\");\n      }\n      var result = this.buffer.slice(this.offset, this.offset + n);\n      this.offset += n;\n      return result;\n    }\n  }, {\n    key: \"readVarSlice\",\n    value: function readVarSlice() {\n      var n = (0, _varint.sanitizeBigintToNumber)(this.readVarInt());\n      return this.readSlice(n);\n    }\n  }, {\n    key: \"readVector\",\n    value: function readVector() {\n      var count = this.readVarInt();\n      var vector = [];\n      for (var i = 0; i < count; i++) vector.push(this.readVarSlice());\n      return vector;\n    }\n  }]);\n  return BufferReader;\n}();\nexports.BufferReader = BufferReader;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-properties\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  VERSION: true,\n  MULTISIG_ROOT: true,\n  DIRECT_KEYSTORES: true,\n  INDIRECT_KEYSTORES: true,\n  KEYSTORES: true,\n  GetMetadata: true,\n  ExportPublicKey: true,\n  SignMessage: true,\n  ExportExtendedPublicKey: true,\n  SignMultisigTransaction: true,\n  ConfirmMultisigAddress: true,\n  RegisterWalletPolicy: true,\n  ConfigAdapter: true\n};\nexports.ConfigAdapter = ConfigAdapter;\nexports.ConfirmMultisigAddress = ConfirmMultisigAddress;\nexports.DIRECT_KEYSTORES = void 0;\nexports.ExportExtendedPublicKey = ExportExtendedPublicKey;\nexports.ExportPublicKey = ExportPublicKey;\nexports.GetMetadata = GetMetadata;\nexports.MULTISIG_ROOT = exports.KEYSTORES = exports.INDIRECT_KEYSTORES = void 0;\nexports.RegisterWalletPolicy = RegisterWalletPolicy;\nexports.SignMessage = SignMessage;\nexports.SignMultisigTransaction = SignMultisigTransaction;\nexports.VERSION = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.function.name\");\nvar _package = require(\"../package.json\");\nvar _interaction = require(\"./interaction\");\nObject.keys(_interaction).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _interaction[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _interaction[key];\n    }\n  });\n});\nvar _coldcard = require(\"./coldcard\");\nObject.keys(_coldcard).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _coldcard[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _coldcard[key];\n    }\n  });\n});\nvar _custom = require(\"./custom\");\nObject.keys(_custom).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _custom[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _custom[key];\n    }\n  });\n});\nvar _hermit = require(\"./hermit\");\nObject.keys(_hermit).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _hermit[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _hermit[key];\n    }\n  });\n});\nvar _ledger = require(\"./ledger\");\nObject.keys(_ledger).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ledger[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _ledger[key];\n    }\n  });\n});\nvar _trezor = require(\"./trezor\");\nObject.keys(_trezor).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _trezor[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _trezor[key];\n    }\n  });\n});\nvar _unchainedBitcoin = require(\"unchained-bitcoin\");\nvar _bcur = require(\"./bcur\");\nObject.keys(_bcur).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _bcur[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _bcur[key];\n    }\n  });\n});\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Current unchained-wallets version.\n *\n * @type {string}\n */\nvar VERSION = _package.version;\nexports.VERSION = VERSION;\nvar MULTISIG_ROOT = \"m/45'\";\n\n/**\n * Enumeration of keystores which support direct interactions.\n *\n * @constant\n * @enum {string}\n * @default\n */\nexports.MULTISIG_ROOT = MULTISIG_ROOT;\nvar DIRECT_KEYSTORES = {\n  TREZOR: _trezor.TREZOR,\n  LEDGER: _ledger.LEDGER\n};\n\n/**\n * Enumeration of keystores which support indirect interactions.\n *\n * @constant\n * @enum {string}\n * @default\n */\nexports.DIRECT_KEYSTORES = DIRECT_KEYSTORES;\nvar INDIRECT_KEYSTORES = {\n  HERMIT: _hermit.HERMIT,\n  COLDCARD: _coldcard.COLDCARD,\n  CUSTOM: _custom.CUSTOM\n};\n\n/**\n * Enumeration of supported keystores.\n *\n * @type {string[]}\n */\nexports.INDIRECT_KEYSTORES = INDIRECT_KEYSTORES;\nvar KEYSTORES = _objectSpread(_objectSpread({}, DIRECT_KEYSTORES), INDIRECT_KEYSTORES);\n\n/**\n * Return an interaction class for obtaining metadata from the given\n * `keystore`.\n *\n * **Supported keystores:** Trezor, Ledger\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n * @example\n * import {GetMetadata, TREZOR} from \"unchained-wallets\";\n * // Works similarly for Ledger.\n * const interaction = GetMetadata({keystore: TREZOR});\n * const metadata = await interaction.run();\n */\nexports.KEYSTORES = KEYSTORES;\nfunction GetMetadata(_ref) {\n  var keystore = _ref.keystore;\n  switch (keystore) {\n    case _ledger.LEDGER:\n      return new _ledger.LedgerGetMetadata();\n    case _trezor.TREZOR:\n      return new _trezor.TrezorGetMetadata();\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore does not return a version.\"\n      });\n  }\n}\n\n/**\n * Return an interaction class for exporting a public key from the\n * given `keystore` for the given `bip32Path` and `network`.\n *\n * **Supported keystores:** Trezor, Ledger, Hermit\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @param {string} options.network - bitcoin network\n * @param {string} options.bip32Path - the BIP32 path of the HD node of the public key\n * @param {string} options.includeXFP - also return root fingerprint\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {ExportPublicKey, TREZOR, HERMIT} from \"unchained-wallets\";\n * // Works similarly for Ledger\n * const interaction = ExportPublicKey({keystore: TREZOR, network: MAINNET, bip32Path: \"m/45'/0'/0'/0/0\"});\n * const publicKey = await interaction.run();\n */\nfunction ExportPublicKey(_ref2) {\n  var keystore = _ref2.keystore,\n    network = _ref2.network,\n    bip32Path = _ref2.bip32Path,\n    includeXFP = _ref2.includeXFP;\n  switch (keystore) {\n    case _coldcard.COLDCARD:\n      return new _coldcard.ColdcardExportPublicKey({\n        network: network,\n        bip32Path: bip32Path,\n        includeXFP: includeXFP\n      });\n    case _ledger.LEDGER:\n      return new _ledger.LedgerExportPublicKey({\n        bip32Path: bip32Path,\n        includeXFP: includeXFP\n      });\n    case _trezor.TREZOR:\n      return new _trezor.TrezorExportPublicKey({\n        network: network,\n        bip32Path: bip32Path,\n        includeXFP: includeXFP\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when exporting public keys.\"\n      });\n  }\n}\n\n/**\n * Return an interaction class for signing a message by the given `keystore`\n * for the given `bip32Path`.\n *\n * **Supported keystores:** Ledger, Trezor\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @param {string} options.bip32Path - the BIP32 path of the HD node of the public key\n * @param {string} options.message - the message to be signed (in hex)\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n */\nfunction SignMessage(_ref3) {\n  var keystore = _ref3.keystore,\n    bip32Path = _ref3.bip32Path,\n    message = _ref3.message;\n  switch (keystore) {\n    case _ledger.LEDGER:\n      return new _ledger.LedgerSignMessage({\n        bip32Path: bip32Path,\n        message: message\n      });\n    case _trezor.TREZOR:\n      return new _trezor.TrezorSignMessage({\n        bip32Path: bip32Path,\n        message: message\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when signing a message.\"\n      });\n  }\n}\n\n/**\n * Return an interaction class for exporting an extended public key\n * from the given `keystore` for the given `bip32Path` and `network`.\n *\n * **Supported keystores:** Trezor, Hermit, Ledger\n *\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @param {string} options.network - bitcoin network\n * @param {string} options.bip32Path - the BIP32 path of the HD node of the extended public key\n * @param {string} options.includeXFP - also return root fingerprint\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n * @example\n * import {MAINNET} from \"unchained-bitcoin\";\n * import {ExportExtendedPublicKey, TREZOR, HERMIT} from \"unchained-wallets\";\n * // Works similarly for Ledger\n * const interaction = ExportExtendedPublicKey({keystore: TREZOR, network: MAINNET, bip32Path: \"m/45'/0'/0'/0/0\"});\n * const xpub = await interaction.run();\n */\nfunction ExportExtendedPublicKey(_ref4) {\n  var keystore = _ref4.keystore,\n    network = _ref4.network,\n    bip32Path = _ref4.bip32Path,\n    includeXFP = _ref4.includeXFP;\n  switch (keystore) {\n    case _coldcard.COLDCARD:\n      return new _coldcard.ColdcardExportExtendedPublicKey({\n        bip32Path: bip32Path,\n        network: network,\n        includeXFP: includeXFP\n      });\n    case _custom.CUSTOM:\n      return new _custom.CustomExportExtendedPublicKey({\n        bip32Path: bip32Path,\n        network: network,\n        includeXFP: includeXFP\n      });\n    case _hermit.HERMIT:\n      return new _hermit.HermitExportExtendedPublicKey({\n        bip32Path: bip32Path\n      });\n    case _ledger.LEDGER:\n      return new _ledger.LedgerExportExtendedPublicKey({\n        bip32Path: bip32Path,\n        network: network,\n        includeXFP: includeXFP\n      });\n    case _trezor.TREZOR:\n      return new _trezor.TrezorExportExtendedPublicKey({\n        bip32Path: bip32Path,\n        network: network,\n        includeXFP: includeXFP\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when exporting extended public keys.\"\n      });\n  }\n}\n\n/**\n * Return an interaction class for signing a multisig transaction with\n * the given `keystore`.\n *\n * The inputs are objects which have `txid`, `index`, and a `multisig`\n * object, the last which is a `Multisig` object from\n * `unchained-bitcoin`.\n *\n * The outputs are objects which have `address` and `amountSats` (an\n * integer).\n *\n * `bip32Paths` is an array of BIP32 paths for the public keys on this\n * device, one for each input.\n *\n * **Supported keystores:** Trezor, Ledger, Hermit\n *\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @param {string} options.network - bitcoin network\n * @param {object[]} options.inputs - transaction inputs\n * @param {object[]} options.outputs - transaction outputs\n * @param {string[]} options.bip32Paths - the BIP32 paths on this device corresponding to a public key in each input\n * @param {string} [options.psbt] - the unsigned_psbt\n * @param {object} [options.keyDetails] - Signing Key Fingerprint + Bip32 Root\n * @param {boolean} [options.returnSignatureArray] - return an array of signatures instead of a signed PSBT (useful for test suite)\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n * @example\n * import {\n *   generateMultisigFromHex, TESTNET, P2SH,\n * } from \"unchained-bitcoin\";\n * import {SignMultisigTransaction, TREZOR} from \"unchained-wallets\";\n * const redeemScript = \"5...ae\";\n * const inputs = [\n *   {\n *     txid: \"8d276c76b3550b145e44d35c5833bae175e0351b4a5c57dc1740387e78f57b11\",\n *     index: 1,\n *     multisig: generateMultisigFromHex(TESTNET, P2SH, redeemScript),\n *     amountSats: '1234000'\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     amountSats: '1299659',\n *     address: \"2NGHod7V2TAAXC1iUdNmc6R8UUd4TVTuBmp\"\n *   },\n *   // other outputs...\n * ];\n * const interaction = SignMultisigTransaction({\n *   keystore: TREZOR, // works the same for Ledger\n *   network: TESTNET,\n *   inputs,\n *   outputs,\n *   bip32Paths: [\"m/45'/0'/0'/0\", // add more, 1 per input],\n * });\n * const signature = await interaction.run();\n * console.log(signatures);\n * // [\"ababab...\", // 1 per input]\n *\n */\nfunction SignMultisigTransaction(_ref5) {\n  var keystore = _ref5.keystore,\n    network = _ref5.network,\n    inputs = _ref5.inputs,\n    outputs = _ref5.outputs,\n    bip32Paths = _ref5.bip32Paths,\n    psbt = _ref5.psbt,\n    keyDetails = _ref5.keyDetails,\n    _ref5$returnSignature = _ref5.returnSignatureArray,\n    returnSignatureArray = _ref5$returnSignature === void 0 ? false : _ref5$returnSignature,\n    name = _ref5.name,\n    braid = _ref5.braid,\n    policyHmac = _ref5.policyHmac,\n    progressCallback = _ref5.progressCallback;\n  switch (keystore) {\n    case _coldcard.COLDCARD:\n      return new _coldcard.ColdcardSignMultisigTransaction({\n        network: network,\n        inputs: inputs,\n        outputs: outputs,\n        bip32Paths: bip32Paths,\n        psbt: psbt\n      });\n    case _custom.CUSTOM:\n      return new _custom.CustomSignMultisigTransaction({\n        network: network,\n        inputs: inputs,\n        outputs: outputs,\n        bip32Paths: bip32Paths,\n        psbt: psbt\n      });\n    case _hermit.HERMIT:\n      return new _hermit.HermitSignMultisigTransaction({\n        psbt: psbt,\n        returnSignatureArray: returnSignatureArray\n      });\n    case _ledger.LEDGER:\n      return new _ledger.LedgerSignMultisigTransaction({\n        network: network,\n        inputs: inputs,\n        outputs: outputs,\n        bip32Paths: bip32Paths,\n        psbt: psbt,\n        keyDetails: keyDetails,\n        returnSignatureArray: returnSignatureArray,\n        v2Options: {\n          name: name,\n          braid: braid,\n          policyHmac: policyHmac,\n          psbt: psbt,\n          progressCallback: progressCallback\n        }\n      });\n    case _ledger.LEDGER_V2:\n      // if we can know for sure which version of the app\n      // we're going to be interacting with then we\n      // can return this interaction explicitly without\n      // waiting for catching failures and using fallbacks\n      // as in the above with v2Options\n      return new _ledger.LedgerV2SignMultisigTransaction({\n        name: name,\n        braid: braid,\n        policyHmac: policyHmac,\n        psbt: psbt,\n        progressCallback: progressCallback\n      });\n    case _trezor.TREZOR:\n      return new _trezor.TrezorSignMultisigTransaction({\n        network: network,\n        inputs: inputs,\n        outputs: outputs,\n        bip32Paths: bip32Paths,\n        psbt: psbt,\n        keyDetails: keyDetails,\n        returnSignatureArray: returnSignatureArray\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when signing multisig transactions.\"\n      });\n  }\n}\n\n/**\n * Return an interaction class for confirming a multisig address with\n * the given `keystore`.\n *\n * The `multisig` parameter is a `Multisig` object from\n * `unchained-bitcoin`.\n *\n * `bip32Path` is the BIP32 path for the publiic key in the address on\n * this device.\n *\n * `publicKey` optional, is the public key expected to be at `bip32Path`.\n *\n * **Supported keystores:** Trezor, Ledger\n *\n * @param {Object} options - options argument\n * @param {KEYSTORES} options.keystore - keystore to use\n * @param {string} options.network - bitcoin network\n * @param {object} options.multisig - `Multisig` object representing the address\n * @param {string} options.bip32Path - the BIP32 path on this device containing a public key from the address\n * @param {string} options.publicKey - optional, the public key expected to be at the given BIP32 path\n * @param {string} [options.addressIndex] - required if doing a ledger interaction, index on braid of the address to confirm\n * @param {string} [options.policyHmac] - optional. for ledger if none is provided then a registration interaction will be performed\n * @return {module:interaction.KeystoreInteraction} keystore-specific interaction instance\n * @example\n * import {\n *   generateMultisigFromHex, TESTNET, P2SH,\n * } from \"unchained-bitcoin\";\n * import {\n *   ConfirmMultisigAddress,\n *   multisigPublicKeys,\n *   trezorPublicKey,\n *   TREZOR} from \"unchained-wallets\";\n * const redeemScript = \"5...ae\";\n * const multisig = generateMultisigFromHex(TESTNET, P2SH, redeemScript);\n * const interaction = ConfirmMultisigAddress({\n *   keystore: TREZOR,\n *   network: TESTNET,\n *   multisig,\n *   bip32Path: \"m/45'/1'/0'/0/0\",\n * });\n * await interaction.run();\n *\n * With publicKey:\n * const redeemScript = \"5...ae\";\n * const multisig = generateMultisigFromHex(TESTNET, P2SH, redeemScript);\n * const publicKey = trezorPublicKey(multisigPublicKeys(this.multisig)[2])\n * const interaction = ConfirmMultisigAddress({\n *   keystore: TREZOR,\n *   publicKey,\n *   network: TESTNET,\n *   multisig,\n *   bip32Path: \"m/45'/1'/0'/0/0\",\n * });\n * await interaction.run();\n *\n *\n */\nfunction ConfirmMultisigAddress(_ref6) {\n  var keystore = _ref6.keystore,\n    network = _ref6.network,\n    bip32Path = _ref6.bip32Path,\n    multisig = _ref6.multisig,\n    publicKey = _ref6.publicKey,\n    name = _ref6.name,\n    addressIndex = _ref6.addressIndex,\n    policyHmac = _ref6.policyHmac;\n  switch (keystore) {\n    case _trezor.TREZOR:\n      return new _trezor.TrezorConfirmMultisigAddress({\n        network: network,\n        bip32Path: bip32Path,\n        multisig: multisig,\n        publicKey: publicKey\n      });\n    case _ledger.LEDGER:\n      {\n        // TODO: clean this up. The reason for this is that\n        // we're expecting this malleable object `multisig` that\n        // gets passed in but really these interactions should\n        // just get a braid or something derived from it.\n        var braid = _unchainedBitcoin.Braid.fromData(JSON.parse(multisig.braidDetails));\n        return new _ledger.LedgerConfirmMultisigAddress({\n          expected: multisig.address,\n          // this is for the name of the wallet the address being confirmed is from\n          name: name,\n          braid: braid,\n          addressIndex: addressIndex,\n          policyHmac: policyHmac\n        });\n      }\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: _interaction.UNSUPPORTED,\n        text: \"This keystore is not supported when confirming multisig addresses.\"\n      });\n  }\n}\n\n/**\n * Return a class for registering a wallet policy.\n * **Supported keystores:** Ledger\n * @param {string} keystore - keystore to use\n * @param {string} name - name of the wallet\n * @param {Braid} braid - multisig wallet configuration. wallet can be deduced from braid\n * @param {string} [policyHmac] - optionally pass in an existing policy hmac\n * @param {boolean} [verify] - if a policyHmac is passed and verify is true\n * then the registration will take place and the result compared\n * @returns {ColdcardMultisigWalletConfig|UnsupportedInteraction} - A class that can translate to shape of\n * config to match the specified keystore/coordinator requirements\n */\nfunction RegisterWalletPolicy(_ref7) {\n  var keystore = _ref7.keystore,\n    name = _ref7.name,\n    braid = _ref7.braid,\n    policyHmac = _ref7.policyHmac,\n    verify = _ref7.verify;\n  switch (keystore) {\n    case _ledger.LEDGER:\n      return new _ledger.LedgerRegisterWalletPolicy({\n        name: name,\n        braid: braid,\n        policyHmac: policyHmac,\n        verify: verify\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when translating external spend configuration files.\"\n      });\n  }\n}\n\n/**\n * Return a class for creating a multisig config file for a\n * given keystore or coordinator.\n *\n * @param {string} KEYSTORE - keystore to use\n * @param {string} jsonConfig - JSON wallet configuration file e.g. from Caravan\n * @returns {ColdcardMultisigWalletConfig|UnsupportedInteraction} - A class that can translate to shape of\n * config to match the specified keystore/coordinator requirements\n */\nfunction ConfigAdapter(_ref8) {\n  var KEYSTORE = _ref8.KEYSTORE,\n    jsonConfig = _ref8.jsonConfig;\n  switch (KEYSTORE) {\n    case _coldcard.COLDCARD:\n      return new _coldcard.ColdcardMultisigWalletConfig({\n        jsonConfig: jsonConfig\n      });\n    default:\n      return new _interaction.UnsupportedInteraction({\n        code: \"unsupported\",\n        text: \"This keystore is not supported when translating external spend configuration files.\"\n      });\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateAddress = validateAddress;\nrequire(\"core-js/modules/es6.regexp.match\");\nvar _bitcoinAddressValidation = _interopRequireDefault(require(\"bitcoin-address-validation\"));\nvar _networks = require(\"./networks\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * This module provides validation messages related to addresses.\n * \n * @module address\n */\n\nvar MAINNET_ADDRESS_MAGIC_BYTE_PATTERN = \"^(bc1|[13])\";\nvar TESTNET_ADDRESS_MAGIC_BYTE_PATTERN = \"^(tb1|bcrt1|[mn2])\";\nvar ADDRESS_BODY_PATTERN = \"[A-HJ-NP-Za-km-z1-9]+$\";\nvar BECH32_ADDRESS_MAGIC_BYTE_REGEX = /^(tb|bc)/;\nvar BECH32_ADDRESS_BODY_PATTERN = \"[ac-hj-np-z02-9]+$\";\n\n/**\n * Validate a given bitcoin address.\n *\n * Address must be a valid address on the given bitcoin network.\n * \n * @param {string} address - the address to validate\n * @param {module:networks.NETWORKS|string} network - bitcoin network\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {MAINNET, TESTNET, validateAddress} from \"unchained-bitcoin\";\n * console.log(validateAddress('', MAINNET)); // \"Address cannot be blank\"\n * console.log(validateAddress('2Mx6Y8VRj8rmSdLfwrvnpBR7ctjctPLzpWs', MAINNET)); // \"Address must start with either of 'bc1', '1' or '3' followed by letters or digits.\"\n * console.log(validateAddress('2Mx6Y8VRj8rmSdLfwrvnpBR7ctjctPLzpWs', TESTNET)); // \"\"\n * \n */\nfunction validateAddress(address, network) {\n  if (!address || address.trim() === '') {\n    return 'Address cannot be blank.';\n  }\n  var magic_byte_regex = network === _networks.TESTNET ? TESTNET_ADDRESS_MAGIC_BYTE_PATTERN : MAINNET_ADDRESS_MAGIC_BYTE_PATTERN;\n  var isBech32 = address.match(BECH32_ADDRESS_MAGIC_BYTE_REGEX);\n  var address_body_regex = isBech32 ? BECH32_ADDRESS_BODY_PATTERN : ADDRESS_BODY_PATTERN;\n  var address_regex = magic_byte_regex + address_body_regex;\n  // This tests whether you've got the network lined up with address type or not\n  if (!address.match(address_regex)) {\n    if (network === _networks.TESTNET) {\n      return \"Address must start with one of 'tb1', 'm', 'n', or '2' followed by letters or digits.\";\n    } else {\n      return \"Address must start with either of 'bc1', '1' or '3' followed by letters or digits.\";\n    }\n  }\n  return (0, _bitcoinAddressValidation.default)(address) ? '' : \"Address is invalid.\";\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateOutput = validateOutput;\nexports.validateOutputAmount = validateOutputAmount;\nexports.validateOutputs = validateOutputs;\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _utils = require(\"./utils\");\nvar _addresses = require(\"./addresses\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/** \n * This module provides functions for validating transaction\n * output and amounts.\n * \n * @module outputs\n */\n\n/**\n* Represents an output in a transaction.\n*\n* @typedef module:outputs.TransactionOutput\n* @type {Object}\n* @property {string} address - the output address\n* @property {string|number|BigNumber} amountSats - output amount in Satoshis\n* @property {Multisig} [multisig] - output multisig for a change address\n* \n*/\n\n/**\n * Validates the given transaction outputs.\n *\n * Returns an error message if there are no outputs.  Passes each output to [`validateOutput`]{@link module:transactions.validateOutput}.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:outputs.TransactionOutput[]} outputs - outputs to validate\n * @param {string|number|BigNumber} [inputsTotalSats] - (optional) the total input amount in Satoshis\n * @returns {string} empty if valid or corresponding validation message if not\n * \n */\nfunction validateOutputs(network, outputs, inputsTotalSats) {\n  if (!outputs || outputs.length === 0) {\n    return \"At least one output is required.\";\n  }\n  for (var outputIndex = 0; outputIndex < outputs.length; outputIndex++) {\n    var output = outputs[outputIndex];\n    var error = validateOutput(network, output, inputsTotalSats);\n    if (error) {\n      return error;\n    }\n  }\n  return \"\";\n}\n\n/**\n * Validate the given transaction output.\n *\n * - Validates the presence and value of `address`.\n * \n * - Validates the presence and value of `amountSats`.  If `inputsTotalSats`\n *   is also passed, this will be taken into account when validating the\n *   amount.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:outputs.TransactionOutput} output - output to validate\n * @param {string|number|BigNumber} inputsTotalSats - (optional) the total input amount in Satoshis\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateOutput} from \"unchained-bitcoin\";\n * console.log(validateOutput(MAINNET, {amountSats: 100000, address: \"2...\"})); // \"...address is invalid...\"\n * console.log(validateOutput(MAINNET, {amountSats: 100000, address: \"3...\"})); // \"\"\n * console.log(validateOutput(MAINNET, {amountSats: 100000, address: \"3...\"}, 10000)); // \"Amount is too large.\"\n */\nfunction validateOutput(network, output, inputsTotalSats) {\n  if (output.amountSats !== 0 && !output.amountSats) {\n    return \"Does not have an 'amountSats' property.\";\n  }\n  var error = validateOutputAmount(output.amountSats, inputsTotalSats);\n  if (error) {\n    return error;\n  }\n  if (!output.address) {\n    return \"Does not have an 'address' property.\";\n  }\n  error = (0, _addresses.validateAddress)(output.address, network);\n  if (error) {\n    return \"Has an invalid 'address' property: \".concat(error, \".\");\n  }\n  return '';\n}\n\n/**\n * Lowest acceptable output amount in Satoshis.\n * \n * @constant\n * @type {BigNumber}\n * @default 546 Satoshis\n * \n */\nvar DUST_LIMIT_SATS = (0, _bignumber.default)(546);\n\n/**\n * Validate the given output amount (in Satoshis).\n * \n * - Must be a parseable as a number.\n *\n * - Cannot be negative (zero is OK).\n *\n * - Cannot be smaller than the limit set by `DUST_LIMIT_SATS`.\n * \n * - Cannot exceed the total input amount (this check is only run if `inputsTotalSats` is passed.\n * \n * @param {string|number|BigNumber} amountSats - output amount in Satoshis\n * @param {string|number|BigNumber} inputsTotalSats - (optional) total input amount in Satoshis\n * @returns {string} empty if valid or corresponding validation message if not\n * @example\n * import {validateOutputAmount} from \"unchained-bitcoin\";\n * console.log(validateOutputAmount(-100, 1000000) // \"Output amount must be positive.\"\n * console.log(validateOutputAmount(0, 1000000) // \"Output amount must be positive.\"\n * console.log(validateOutputAmount(10, 1000000) // \"Output amount is too small.\"\n * console.log(validateOutputAmount(1000000, 100000) // \"Output amount is too large.\"\n * console.log(validateOutputAmount(100000, 1000000) // \"\"\n */\nfunction validateOutputAmount(amountSats, inputsTotalSats) {\n  var a, its;\n  try {\n    a = (0, _bignumber.default)(amountSats);\n  } catch (e) {\n    return \"Invalid output amount.\";\n  }\n  if (!a.isFinite()) {\n    return \"Invalid output amount.\";\n  }\n  if (a.isLessThanOrEqualTo(_utils.ZERO)) {\n    return \"Output amount must be positive.\";\n  }\n  if (a.isLessThanOrEqualTo(DUST_LIMIT_SATS)) {\n    return \"Output amount is too small.\";\n  }\n  if (inputsTotalSats !== undefined) {\n    try {\n      its = (0, _bignumber.default)(inputsTotalSats);\n    } catch (e) {\n      return \"Invalid total input amount.\";\n    }\n    if (!its.isFinite()) {\n      return \"Invalid total input amount.\";\n    }\n    if (its.isLessThanOrEqualTo(_utils.ZERO)) {\n      return \"Total input amount must be positive.\";\n    }\n    if (a.isGreaterThan(its)) {\n      return \"Output amount is too large.\";\n    }\n  }\n  return '';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.scriptToHex = scriptToHex;\nexports.scriptToOps = scriptToOps;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\n/**\n * This module provides functions for converting generic bitcoin\n * scripts to hex or opcodes.\n * \n * @module script\n */\n\n/**\n * Extracts the ASM (opcode) representation of a script from a\n * `Multisig` object.\n * \n * @param {Multisig} multisig - Multisig object\n * @returns {string} ASM representation of script\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   scriptToOps,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 1, \"03a...\", \"03b...\");\n * console.log(scriptToOps(multisig)) // \"OP_1 03a... 03b... OP_2 OP_CHECKMULTISIG\"\n * \n */\nfunction scriptToOps(multisig) {\n  return _bitcoinjsLib.script.toASM(multisig.output);\n}\n\n/**\n * Extracts the hex representation of a script from a `Multisig`\n * object.\n * \n * @param {Multisig} multisigScript - Multisig object\n * @returns {string} hex representation of script\n * @example\n * import {\n *   generateMultisigFromPublicKeys, MAINNET, P2SH,\n *   scriptToHex,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(MAINNET, P2SH, 1, \"03a...\", \"03b...\");\n * console.log(scriptToHex(multisig)) // \"5121024f355bdcb...5871aa52ae\"\n * \n */\nfunction scriptToHex(multisigScript) {\n  return multisigScript.output.toString('hex');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signatureNoSighashType = signatureNoSighashType;\nexports.validateMultisigSignature = validateMultisigSignature;\nrequire(\"core-js/modules/es6.array.slice\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _bip = _interopRequireDefault(require(\"bip66\"));\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _multisig = require(\"./multisig\");\nvar _transactions = require(\"./transactions\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * This module provides functions for validating and handling\n * multisig transaction signatures.\n * \n * @module signatures\n */\n\n/**\n * Validate a multisig signature for given input and public key.\n * \n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:inputs.MultisigTransactionInput[]} inputs - multisig transaction inputs\n * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n * @param {number} inputIndex - the index where the input appears in the transaction\n * @param {string} inputSignature - signature to validate\n * @returns {string|boolean} false if invalid or corresponding public key\n * @example\n * import {\n *   generateMultisigFromPublicKeys, TESTNET, P2SH,\n *   unsignedMultisigTransaction,\n *   validateMultisigSignature,\n * } from \"unchained-bitcoin\";\n * const pubkey1 = \"03a...\";\n * const pubkey2 = \"03b...\";\n * const multisig = generateMultisigFromPublicKeys(TESTNET, P2SH, 2, pubkey1, pubkey2);\n * const inputs = [\n *   {\n *     txid: \"ae...\",\n *     index: 0,\n *     multisig,\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     address: \"2N...\",\n *     amountSats: 90000,\n *   },\n *   // other outputs...\n * ];\n * const unsignedTransaction = unsignedMultisigTransaction(TESTNET, inputs, outputs);\n * // Use unsignedTransaction to obtain a signature.\n * const transactionSignature = [\"304...\", // other input signatures...];\n * // Validate signature for input 0\n * const result = validateMultisigSignature(TESTNET, inputs, outputs, 0, transactionSignature[0]);\n * switch (result) {\n *   case false:\n *     // signature was invalid\n *   case pubkey1:\n *     // signature was valid for pubkey1\n *   case pubkey2:\n *     // signature was valid for pubkey2\n *   default:\n *     // ...\n * }\n */\nfunction validateMultisigSignature(network, inputs, outputs, inputIndex, inputSignature) {\n  var hash = multisigSignatureHash(network, inputs, outputs, inputIndex);\n  var signatureBuffer = multisigSignatureBuffer(signatureNoSighashType(inputSignature));\n  var input = inputs[inputIndex];\n  var publicKeys = (0, _multisig.multisigPublicKeys)(input.multisig);\n  for (var publicKeyIndex = 0; publicKeyIndex < (0, _multisig.multisigTotalSigners)(input.multisig); publicKeyIndex++) {\n    var publicKey = publicKeys[publicKeyIndex];\n    var publicKeyBuffer = Buffer.from(publicKey, 'hex');\n    var keyPair = _bitcoinjsLib.ECPair.fromPublicKey(publicKeyBuffer);\n    if (keyPair.verify(hash, signatureBuffer)) {\n      return publicKey;\n    }\n  }\n  return false;\n}\n\n/**\n * This function takes a DER encoded signature and returns it without the SIGHASH_BYTE\n * @param {string} signature inputSignature which includes DER encoding bytes and may include SIGHASH byte\n * @return {string} signature_no_sighash with sighash_byte removed\n */\nfunction signatureNoSighashType(signature) {\n  var len = parseInt(signature.slice(2, 4), 16);\n  if (len === (signature.length - 4) / 2) return signature;else return signature.slice(0, -2);\n}\n\n/**\n * Returns the multisig Signature Hash for an input at inputIndex\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:inputs.MultisigTransactionInput[]} inputs - multisig transaction inputs\n * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n * @param {number} inputIndex - the index where the input appears in the transaction\n * @return {Buffer} unsignedTransaction hash in a Buffer for consumption by ECPair.verify\n */\nfunction multisigSignatureHash(network, inputs, outputs, inputIndex) {\n  var unsignedTransaction = (0, _transactions.unsignedMultisigTransaction)(network, inputs, outputs);\n  var input = inputs[inputIndex];\n  if ((0, _multisig.multisigAddressType)(input.multisig) === _p2wsh.P2WSH || (0, _multisig.multisigAddressType)(input.multisig) === _p2sh_p2wsh.P2SH_P2WSH) {\n    return unsignedTransaction.hashForWitnessV0(inputIndex, (0, _multisig.multisigWitnessScript)(input.multisig).output, (0, _bignumber.default)(input.amountSats).toNumber(), _bitcoinjsLib.Transaction.SIGHASH_ALL);\n  } else {\n    return unsignedTransaction.hashForSignature(inputIndex, (0, _multisig.multisigRedeemScript)(input.multisig).output, _bitcoinjsLib.Transaction.SIGHASH_ALL);\n  }\n}\n\n/**\n * Create a signature buffer that can be passed to ECPair.verify\n * @param {string} signature - a DER encoded signature string\n * @return {Buffer} signatureBuffer - correctly allocated buffer with relevant r, S information from the encoded signature\n */\nfunction multisigSignatureBuffer(signature) {\n  var encodedSignerInputSignatureBuffer = Buffer.from(signature, 'hex');\n  var decodedSignerInputSignatureBuffer = _bip.default.decode(encodedSignerInputSignatureBuffer);\n  var r = decodedSignerInputSignatureBuffer.r,\n    s = decodedSignerInputSignatureBuffer.s; // The value returned from the decodedSignerInputSignatureBuffer has\n  // a few edge cases that need to be handled properly. There exists a mismatch between the\n  // DER serialization and the ECDSA requirements, namely:\n  //   DER says that its highest bit states polarity (positive/negative)\n  //   ECDSA says no negatives, only positives.\n  // So in the case where DER would result in a negative, a one-byte 0x00 is added to the value\n  // NOTE: this can happen on r and on S.\n  // See https://transactionfee.info/charts/bitcoin-script-ecdsa-length/ for more information\n  // Truncate the leading 0x00 if r or S is 33 bytes long\n  var rToUse = r.byteLength > 32 ? r.slice(1) : r;\n  // Technically, this could be done but extremely unlikely in the current era.\n  // let sToUse = s.byteLength > 32 ? s.slice(1) : s;\n\n  var signatureBuffer = Buffer.alloc(64);\n  // r/s bytelength could be < 32, in which case, zero padding needed\n  signatureBuffer.set(Buffer.from(rToUse), 32 - rToUse.byteLength);\n  signatureBuffer.set(Buffer.from(s), 64 - s.byteLength);\n  return signatureBuffer;\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.array.slice\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.object.keys\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signedMultisigTransaction = signedMultisigTransaction;\nexports.unsignedMultisigPSBT = unsignedMultisigPSBT;\nexports.unsignedMultisigTransaction = unsignedMultisigTransaction;\nexports.unsignedTransactionObjectFromPSBT = unsignedTransactionObjectFromPSBT;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.array.map\");\nrequire(\"core-js/modules/es6.array.find\");\nvar _bignumber = _interopRequireDefault(require(\"bignumber.js\"));\nvar _assert = _interopRequireDefault(require(\"assert\"));\nvar _bitcoinjsLib = require(\"bitcoinjs-lib\");\nvar _networks = require(\"./networks\");\nvar _p2sh_p2wsh = require(\"./p2sh_p2wsh\");\nvar _p2wsh = require(\"./p2wsh\");\nvar _multisig = require(\"./multisig\");\nvar _signatures = require(\"./signatures\");\nvar _inputs = require(\"./inputs\");\nvar _outputs = require(\"./outputs\");\nvar _script = require(\"./script\");\nvar _psbt = require(\"./psbt\");\nvar _braid = require(\"./braid\");\nvar _keys = require(\"./keys\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Create an unsigned bitcoin transaction based on the network, inputs\n * and outputs.\n *\n * Returns a [`Transaction`]{@link https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/types/transaction.d.ts|Transaction} object from bitcoinjs-lib.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:inputs.MultisigTransactionInput[]} inputs - transaction inputs\n * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n * @returns {Transaction} an unsigned bitcoinjs-lib Transaction object\n * @example\n * import {\n *   generateMultisigFromPublicKeys, TESTNET, P2SH,\n *   unsignedMultisigTransaction,\n * } from \"unchained-bitcoin\";\n * const multisig = generateMultisigFromPublicKeys(TESTNET, P2SH, 2, \"03a...\", \"03b...\");\n * const inputs = [\n *   {\n *     txid: \"ae...\",\n *     index: 0,\n *     multisig,\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     address: \"2N...\",\n *     amountSats: 90000,\n *   },\n *   // other outputs...\n * ];\n * const unsignedTransaction = unsignedMultisigTransaction(TESTNET, inputs, outputs);\n * \n */\nfunction unsignedMultisigTransaction(network, inputs, outputs) {\n  var multisigInputError = (0, _inputs.validateMultisigInputs)(inputs);\n  (0, _assert.default)(!multisigInputError.length, multisigInputError);\n  var multisigOutputError = (0, _outputs.validateOutputs)(network, outputs);\n  (0, _assert.default)(!multisigOutputError.length, multisigOutputError);\n  var transactionBuilder = new _bitcoinjsLib.TransactionBuilder();\n  transactionBuilder.setVersion(1); // FIXME this depends on type...\n  transactionBuilder.network = (0, _networks.networkData)(network);\n  for (var inputIndex = 0; inputIndex < inputs.length; inputIndex += 1) {\n    var input = inputs[inputIndex];\n    transactionBuilder.addInput(input.txid, input.index);\n  }\n  for (var outputIndex = 0; outputIndex < outputs.length; outputIndex += 1) {\n    var output = outputs[outputIndex];\n    transactionBuilder.addOutput(output.address, (0, _bignumber.default)(output.amountSats).toNumber());\n  }\n  return transactionBuilder.buildIncomplete();\n}\n\n/**\n * Create an unsigned bitcoin transaction based on the network, inputs\n * and outputs stored as a PSBT object\n *\n * Returns a [`PSBT`]{@link https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/types/psbt.d.ts|PSBT} object from bitcoinjs-lib.\n *\n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:inputs.MultisigTransactionInput[]} inputs - transaction inputs : NOTE - must be braid-aware\n * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n * @param {Boolean} includeGlobalXpubs - include global xpub objects in the PSBT?\n * @returns {Psbt} an unsigned bitcoinjs-lib Psbt object\n */\nfunction unsignedMultisigPSBT(network, inputs, outputs) {\n  var includeGlobalXpubs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var multisigInputError = (0, _inputs.validateMultisigInputs)(inputs, true);\n  (0, _assert.default)(!multisigInputError.length, multisigInputError);\n  var multisigOutputError = (0, _outputs.validateOutputs)(network, outputs);\n  (0, _assert.default)(!multisigOutputError.length, multisigOutputError);\n  var psbt = new _bitcoinjsLib.Psbt({\n    network: (0, _networks.networkData)(network)\n  });\n  // FIXME: update fixtures with unsigned tx version 02000000 and proper signatures\n  psbt.setVersion(1); // Our fixtures currently sign transactions with version 0x01000000\n  var globalExtendedPublicKeys = [];\n  inputs.forEach(function (input) {\n    var formattedInput = (0, _psbt.psbtInputFormatter)(_objectSpread({}, input));\n    psbt.addInput(formattedInput);\n    var braidDetails = input.multisig.braidDetails;\n    if (braidDetails && includeGlobalXpubs) {\n      var braid = _braid.Braid.fromData(JSON.parse(braidDetails));\n      braid.extendedPublicKeys.forEach(function (extendedPublicKeyData) {\n        var extendedPublicKey = new _keys.ExtendedPublicKey(extendedPublicKeyData);\n        var alreadyFound = globalExtendedPublicKeys.find(function (existingExtendedPublicKey) {\n          return existingExtendedPublicKey.toBase58() === extendedPublicKey.toBase58();\n        });\n        if (!alreadyFound) {\n          globalExtendedPublicKeys.push(extendedPublicKey);\n        }\n      });\n    }\n  });\n  if (includeGlobalXpubs && globalExtendedPublicKeys.length > 0) {\n    var globalXpubs = globalExtendedPublicKeys.map(function (extendedPublicKey) {\n      return {\n        extendedPubkey: extendedPublicKey.encode(),\n        masterFingerprint: Buffer.from(extendedPublicKey.rootFingerprint, 'hex'),\n        path: extendedPublicKey.path\n      };\n    });\n    psbt.updateGlobal({\n      globalXpub: globalXpubs\n    });\n  }\n  var psbtOutputs = outputs.map(function (output) {\n    return (0, _psbt.psbtOutputFormatter)(_objectSpread({}, output));\n  });\n  psbt.addOutputs(psbtOutputs);\n  psbt.txn = psbt.data.globalMap.unsignedTx.tx.toHex();\n  return psbt;\n}\n\n/**\n * Returns an unsigned Transaction object from bitcoinjs-lib that is not\n * generated via the TransactionBuilder (deprecating soon)\n *\n * FIXME: try squat out old implementation with the new PSBT one and see if\n *   everything works (the tx is the same)\n *\n * @param {Object} psbt - the PSBT object which has your transaction inside\n * @returns {Transaction} an unsigned {@link https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/types/transaction.d.ts|Transaction} object (unsigned)\n */\nfunction unsignedTransactionObjectFromPSBT(psbt) {\n  return _bitcoinjsLib.Transaction.fromHex(psbt.txn);\n}\n\n/**\n * Create a fully signed multisig transaction based on the unsigned\n * transaction, inputs, and their signatures.\n * \n * @param {module:networks.NETWORKS} network - bitcoin network\n * @param {module:inputs.MultisigTransactionInput[]} inputs - multisig transaction inputs\n * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n * @param {Object[]} transactionSignatures - array of transaction signatures, each an array of input signatures (1 per input)\n * @returns {Transaction} a signed {@link https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/types/transaction.d.ts|Transaction} object\n * @example\n * import {\n *   generateMultisigFromPublicKeys, TESTNET, P2SH,\n *   signedMultisigTransaction,\n * } from \"unchained-bitcoin\";\n * const pubkey1 = \"03a...\";\n * const pubkey2 = \"03b...\";\n * const multisig = generateMultisigFromPublicKeys(TESTNET, P2SH, 2, pubkey1, pubkey2);\n * const inputs = [\n *   {\n *     txid: \"ae...\",\n *     index: 0,\n *     multisig,\n *   },\n *   // other inputs...\n * ];\n * const outputs = [\n *   {\n *     address: \"2N...\",\n *     amountSats: 90000,\n *   },\n *   // other outputs...\n * ];\n * const transactionSignatures = [\n *   // Each element is an array of signatures from a given key, one per input.\n *   [\n *     \"301a...\",\n *     // more, 1 per input\n *   ],\n *   [\n *     \"301b...\",\n *     // more, 1 per input\n *   ],\n *   // More transaction signatures if required, based on inputs\n * ];\n * const signedTransaction = signedMultisigTransaction(TESTNET, inputs, outputs, transactionSignatures)\n */\nfunction signedMultisigTransaction(network, inputs, outputs, transactionSignatures) {\n  var unsignedTransaction = unsignedMultisigTransaction(network, inputs, outputs); // validates inputs & outputs\n  if (!transactionSignatures || transactionSignatures.length === 0) {\n    throw new Error(\"At least one transaction signature is required.\");\n  }\n  transactionSignatures.forEach(function (transactionSignature, transactionSignatureIndex) {\n    if (transactionSignature.length < inputs.length) {\n      throw new Error(\"Insufficient input signatures for transaction signature \".concat(transactionSignatureIndex + 1, \": require \").concat(inputs.length, \", received \").concat(transactionSignature.length, \".\"));\n    }\n  });\n  var signedTransaction = _bitcoinjsLib.Transaction.fromHex(unsignedTransaction.toHex()); // FIXME inefficient?\n  var _loop = function _loop(inputIndex) {\n    var input = inputs[inputIndex];\n    var inputSignatures = transactionSignatures.map(function (transactionSignature) {\n      return transactionSignature[inputIndex];\n    }).filter(function (inputSignature) {\n      return Boolean(inputSignature);\n    });\n    var requiredSignatures = (0, _multisig.multisigRequiredSigners)(input.multisig);\n    if (inputSignatures.length < requiredSignatures) {\n      throw new Error(\"Insufficient signatures for input  \".concat(inputIndex + 1, \": require \").concat(requiredSignatures, \",  received \").concat(inputSignatures.length, \".\"));\n    }\n    var inputSignaturesByPublicKey = {};\n    inputSignatures.forEach(function (inputSignature) {\n      var publicKey;\n      try {\n        publicKey = (0, _signatures.validateMultisigSignature)(network, inputs, outputs, inputIndex, inputSignature);\n      } catch (e) {\n        throw new Error(\"Invalid signature for input \".concat(inputIndex + 1, \": \").concat(inputSignature, \" (\").concat(e, \")\"));\n      }\n      if (inputSignaturesByPublicKey[publicKey]) {\n        throw new Error(\"Duplicate signature for input \".concat(inputIndex + 1, \": \").concat(inputSignature));\n      }\n      inputSignaturesByPublicKey[publicKey] = inputSignature;\n    });\n\n    // Sort the signatures for this input by the index of their\n    // corresponding public key within this input's redeem script.\n    var publicKeys = (0, _multisig.multisigPublicKeys)(input.multisig);\n    var sortedSignatures = publicKeys.map(function (publicKey) {\n      return inputSignaturesByPublicKey[publicKey];\n    }).filter(function (signature) {\n      return signature ? (0, _signatures.signatureNoSighashType)(signature) : signature;\n    }); // FIXME why not filter out the empty sigs?\n\n    if ((0, _multisig.multisigAddressType)(input.multisig) === _p2wsh.P2WSH) {\n      var witness = multisigWitnessField(input.multisig, sortedSignatures);\n      signedTransaction.setWitness(inputIndex, witness);\n    } else if ((0, _multisig.multisigAddressType)(input.multisig) === _p2sh_p2wsh.P2SH_P2WSH) {\n      var _witness = multisigWitnessField(input.multisig, sortedSignatures);\n      signedTransaction.setWitness(inputIndex, _witness);\n      var scriptSig = (0, _multisig.multisigRedeemScript)(input.multisig);\n      signedTransaction.ins[inputIndex].script = Buffer.from([scriptSig.output.length].concat(_toConsumableArray(scriptSig.output)));\n    } else {\n      var _scriptSig = multisigScriptSig(input.multisig, sortedSignatures);\n      signedTransaction.ins[inputIndex].script = _scriptSig.input;\n    }\n  };\n  for (var inputIndex = 0; inputIndex < inputs.length; inputIndex++) {\n    _loop(inputIndex);\n  }\n  return signedTransaction;\n}\n\n// TODO: implement this parallel function\n// /**\n//  * Create a fully signed multisig transaction based on the unsigned\n//  * transaction, braid-aware inputs, and their signatures.\n//  *\n//  * @param {module:networks.NETWORKS} network - bitcoin network\n//  * @param {module:inputs.MultisigTransactionInput[]} inputs - braid-aware multisig transaction inputs\n//  * @param {module:outputs.TransactionOutput[]} outputs - transaction outputs\n//  * @param {Object[]} transactionSignatures - array of transaction signatures, each an array of input signatures (1 per input)\n//  * @returns {Transaction} a signed {@link https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/types/transaction.d.ts} Transaction object\n//  */\n// export function signedMultisigPSBT(network, inputs, outputs, transactionSignatures) {\n//   const psbt = unsignedMultisigPSBT(network, inputs, outputs);\n//  const unsignedTransaction = unsignedTransactionObjectFromPSBT(psbt); // validates inputs & outputs\n//  if (!transactionSignatures || transactionSignatures.length === 0) { throw new Error(\"At least one transaction signature is required.\"); }\n//\n//  transactionSignatures.forEach((transactionSignature, transactionSignatureIndex) => {\n//    if (transactionSignature.length < inputs.length) {\n//      throw new Error(`Insufficient input signatures for transaction signature ${transactionSignatureIndex + 1}: require ${inputs.length}, received ${transactionSignature.length}.`);\n//    }d\n//  });\n//  console.log(unsignedTransaction);\n\n// FIXME - add each signature to the PSBT\n//   then finalizeAllInputs()\n//   then extractTransaction()\n//\n// return signedTransaction;\n// }\n\nfunction multisigWitnessField(multisig, sortedSignatures) {\n  var witness = [\"\"].concat(sortedSignatures.map(function (s) {\n    return (0, _signatures.signatureNoSighashType)(s) + '01';\n  }));\n  var witnessScript = (0, _multisig.multisigWitnessScript)(multisig);\n  witness.push((0, _script.scriptToHex)(witnessScript));\n  return witness.map(function (wit) {\n    return Buffer.from(wit, 'hex');\n  });\n}\nfunction multisigScriptSig(multisig, signersInputSignatures) {\n  var signatureOps = signersInputSignatures.map(function (signature) {\n    return \"\".concat((0, _signatures.signatureNoSighashType)(signature), \"01\");\n  }).join(' '); // 01 => SIGHASH_ALL\n  var inputScript = \"OP_0 \".concat(signatureOps);\n  var inputScriptBuffer = _bitcoinjsLib.script.fromASM(inputScript);\n  var rawMultisig = _bitcoinjsLib.payments.p2ms({\n    network: multisig.network,\n    output: Buffer.from((0, _multisig.multisigRedeemScript)(multisig).output, 'hex'),\n    input: inputScriptBuffer\n  });\n  return (0, _multisig.generateMultisigFromRaw)((0, _multisig.multisigAddressType)(multisig), rawMultisig);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BCUREncoder = exports.BCURDecoder = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nvar _bcur = require(\"./vendor/bcur\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Encoder class for BC UR data.\n *\n * Encodes a hex string as a sequence of UR parts.  Each UR is a string.\n *\n * Designed for use by a calling application which will typically take\n * the resulting strings and display them as a sequence of animated QR\n * codes.\n *\n * @example\n * import {BCUREncoder} from \"unchained-wallets\";\n * const hexString = \"deadbeef\";\n * const encoder = BCUREncoder(hexString);\n * console.log(encoder.parts())\n * // [ \"ur:...\", \"ur:...\", ... ]\n * \n *\n */\nvar BCUREncoder = /*#__PURE__*/function () {\n  /**\n   * Create a new encoder.\n   *\n   * @param {string} hexString a hex string to encode\n   * @param {int} fragmentCapacity passed to internal bcur implementation\n   * \n   */\n  function BCUREncoder(hexString) {\n    var fragmentCapacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;\n    _classCallCheck(this, BCUREncoder);\n    this.hexString = hexString;\n    this.fragmentCapacity = fragmentCapacity;\n  }\n\n  /**\n   * Return all UR parts.\n   *\n   * @returns {string[]} array of BC UR strings\n   * \n   */\n  _createClass(BCUREncoder, [{\n    key: \"parts\",\n    value: function parts() {\n      return (0, _bcur.encodeUR)(this.hexString, this.fragmentCapacity);\n    }\n  }]);\n  return BCUREncoder;\n}();\n/**\n * Decoder class for BC UR data.\n *\n * Decodes a hex string from a collection of UR parts.\n *\n * Designed for use by a calling application which is typically\n * in a loop parsing an animated sequence of QR codes.\n *\n * @example\n * import {BCURDecoder} from \"unchained-wallets\";\n * const decoder = new BCURDecoder();\n *\n * // Read data until the decoder is complete...\n * while (!decoder.isComplete()) {\n *\n *   // Progress can be fed back to the calling application for visualization in its UI\n *   console.log(decoder.progress());  // {totalParts: 10, partsReceived; 3}\n *\n *   // Application-defined function to obtain a single UR part string.\n *   const part = scanQRCode();\n *   decoder.receivePart(part);\n * }\n *\n * // Check for an error\n * if (decoder.isSuccess()) {\n *\n *   // Data can be passed back to the calling application\n *   console.log(decoder.data()); // \"deadbeef\"\n *   \n * } else {\n *\n *   // Errors can be passed back to the calling application\n *   console.log(decoder.errorMessage());\n * }\n * \n * \n */\nexports.BCUREncoder = BCUREncoder;\nvar BCURDecoder = /*#__PURE__*/function () {\n  function BCURDecoder() {\n    _classCallCheck(this, BCURDecoder);\n    this.reset();\n  }\n\n  /**\n   * Reset this decoder.\n   *\n   * Clears any error message and received parts and returns counts to zero.\n   *\n   * @returns {null} Nothing is returned.\n   */\n  _createClass(BCURDecoder, [{\n    key: \"reset\",\n    value: function reset() {\n      this.summary = {\n        success: false,\n        current: 0,\n        length: 0,\n        workloads: [],\n        result: ''\n      };\n      this.error = null;\n    }\n\n    /**\n     * Receive a new UR part.\n     *\n     * It's OK to call this method multiple times for the same UR part.\n     *\n     * @param {string} part the UR part, typically the contents of a QR code\n     * @returns {null} Nothing is returned.\n     */\n  }, {\n    key: \"receivePart\",\n    value: function receivePart(part) {\n      try {\n        var workloads = this.summary.workloads.includes(part) ? this.summary.workloads : [].concat(_toConsumableArray(this.summary.workloads), [part]);\n        this.summary = (0, _bcur.smartDecodeUR)(workloads);\n      } catch (e) {\n        this.error = e;\n      }\n    }\n\n    /**\n     * Returns the current progress of this decoder.\n     *\n     * @returns {object} An object with keys `totalParts` and `partsReceived`.\n     * @example\n     * import {BCURDecoder} from \"unchained-wallets\";\n     * const decoder = BCURDecoder();\n     * console.log(decoder.progress())\n     * // { totalParts: 0, partsReceived: 0 }\n     *\n     * decoder.receivePart(part);\n     * ...\n     * decoder.receivePart(part);\n     * ...\n     * decoder.receivePart(part);\n     * ...\n     * console.log(decoder.progress())\n     * // { totalParts: 10, partsReceived: 3 }\n     * \n     */\n  }, {\n    key: \"progress\",\n    value: function progress() {\n      var totalParts = this.summary.length;\n      var partsReceived = this.summary.current;\n      return {\n        totalParts: totalParts,\n        partsReceived: partsReceived\n      };\n    }\n\n    /**\n     * Is this decoder complete?\n     *\n     * Will return `true` if there was an error.\n     *\n     * @returns {bool} Completion status\n     */\n  }, {\n    key: \"isComplete\",\n    value: function isComplete() {\n      return this.summary.success || Boolean(this.error);\n    }\n\n    /**\n     * Was this decoder successful?\n     *\n     * Will return `false` if completed because of an error.\n     *\n     * @returns {bool} Success status\n     */\n  }, {\n    key: \"isSuccess\",\n    value: function isSuccess() {\n      return this.summary.success;\n    }\n\n    /**\n     * Returns the decoded data as a hex string.\n     *\n     * @returns {string} decoded data in hex or `null` if not successful\n     */\n  }, {\n    key: \"data\",\n    value: function data() {\n      if (this.isSuccess()) {\n        return this.summary.result;\n      } else {\n        return null;\n      }\n    }\n\n    /**\n     * Returns the error message.\n     *\n     * @returns {string} the error message\n     */\n  }, {\n    key: \"errorMessage\",\n    value: function errorMessage() {\n      if (this.error) {\n        return this.error.message;\n      } else {\n        return null;\n      }\n    }\n  }]);\n  return BCURDecoder;\n}();\nexports.BCURDecoder = BCURDecoder;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeSimpleCBOR = exports.decodeSimpleCBOR = exports.composeHeader = void 0;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.object.to-string\");\n/*\n    this an simple cbor implementation which is just using\n    on BCR-05\n*/\nvar composeHeader = function composeHeader(length) {\n  var header;\n  if (length > 0 && length <= 23) {\n    header = Buffer.from([0x40 + length]);\n  } else if (length >= 24 && length <= 255) {\n    var headerLength = Buffer.alloc(1);\n    headerLength.writeUInt8(length, 0);\n    header = Buffer.concat([Buffer.from([0x58]), headerLength]);\n  } else if (length >= 256 && length <= 65535) {\n    var _headerLength = Buffer.alloc(2);\n    _headerLength.writeUInt16BE(length, 0);\n    header = Buffer.concat([Buffer.from([0x59]), _headerLength]);\n  } else if (length >= 65536 && length <= Math.pow(2, 32) - 1) {\n    var _headerLength2 = Buffer.alloc(4);\n    _headerLength2.writeUInt32BE(length, 0);\n    header = Buffer.concat([Buffer.from([0x60]), _headerLength2]);\n  } else {\n    throw new Error('length exceeded');\n  }\n  return header;\n};\nexports.composeHeader = composeHeader;\nvar encodeSimpleCBOR = function encodeSimpleCBOR(data) {\n  var bufferData = Buffer.from(data, 'hex');\n  if (bufferData.length <= 0 || bufferData.length >= Math.pow(2, 32)) {\n    throw new Error('data is too large');\n  }\n  var header = composeHeader(bufferData.length);\n  var endcoded = Buffer.concat([header, bufferData]);\n  return endcoded.toString('hex');\n};\nexports.encodeSimpleCBOR = encodeSimpleCBOR;\nvar decodeSimpleCBOR = function decodeSimpleCBOR(data) {\n  var dataBuffer = Buffer.from(data, 'hex');\n  if (dataBuffer.length <= 0) {\n    throw new Error('invalid input');\n  }\n  var header = dataBuffer[0];\n  if (header < 0x58) {\n    var dataLength = header - 0x40;\n    return dataBuffer.slice(1, 1 + dataLength).toString('hex');\n  } else if (header == 0x58) {\n    var _dataLength = dataBuffer.slice(1, 2).readUInt8(0);\n    return dataBuffer.slice(2, 2 + _dataLength).toString('hex');\n  } else if (header == 0x59) {\n    var _dataLength2 = dataBuffer.slice(1, 3).readUInt16BE(0);\n    return dataBuffer.slice(3, 3 + _dataLength2).toString('hex');\n  } else if (header == 0x60) {\n    var _dataLength3 = dataBuffer.slice(1, 5).readUInt32BE(0);\n    return dataBuffer.slice(5, 5 + _dataLength3).toString('hex');\n  } else {\n    throw new Error('invalid input');\n  }\n};\nexports.decodeSimpleCBOR = decodeSimpleCBOR;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sha256Hash = exports.compose3 = void 0;\nvar _sha = _interopRequireDefault(require(\"sha.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar sha256Hash = function sha256Hash(data) {\n  return (0, _sha[\"default\"])('sha256').update(data).digest();\n};\nexports.sha256Hash = sha256Hash;\nvar compose3 = function compose3(f, g, h) {\n  return function (x) {\n    return f(g(h(x)));\n  };\n};\nexports.compose3 = compose3;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"AppClient\", {\n  enumerable: true,\n  get: function get() {\n    return _appClient[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"DefaultWalletPolicy\", {\n  enumerable: true,\n  get: function get() {\n    return _policy.DefaultWalletPolicy;\n  }\n});\nObject.defineProperty(exports, \"PsbtV2\", {\n  enumerable: true,\n  get: function get() {\n    return _psbtv.PsbtV2;\n  }\n});\nObject.defineProperty(exports, \"WalletPolicy\", {\n  enumerable: true,\n  get: function get() {\n    return _policy.WalletPolicy;\n  }\n});\nexports[\"default\"] = void 0;\nvar _appClient = _interopRequireDefault(require(\"./src/appClient\"));\nvar _policy = require(\"./src/policy\");\nvar _psbtv = require(\"./src/psbtv2\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar _default = _appClient[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.is-array\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.object.define-properties\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.array.filter\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.object.create\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nrequire(\"core-js/modules/es6.array.index-of\");\nrequire(\"core-js/modules/es6.function.bind\");\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.psbtOut = exports.psbtIn = exports.psbtGlobal = exports.PsbtV2 = exports.NoSuchEntry = void 0;\nrequire(\"core-js/modules/es6.regexp.to-string\");\nrequire(\"core-js/modules/es6.date.to-string\");\nrequire(\"core-js/modules/es6.array.some\");\nrequire(\"core-js/modules/es6.array.for-each\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.array.iterator\");\nrequire(\"core-js/modules/es6.object.to-string\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.map\");\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\nrequire(\"core-js/modules/es6.symbol\");\nrequire(\"core-js/modules/es6.object.define-property\");\nvar _buffertools = require(\"./buffertools\");\nvar _varint = require(\"./varint\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar psbtGlobal;\nexports.psbtGlobal = psbtGlobal;\n(function (psbtGlobal) {\n  psbtGlobal[psbtGlobal[\"TX_VERSION\"] = 2] = \"TX_VERSION\";\n  psbtGlobal[psbtGlobal[\"FALLBACK_LOCKTIME\"] = 3] = \"FALLBACK_LOCKTIME\";\n  psbtGlobal[psbtGlobal[\"INPUT_COUNT\"] = 4] = \"INPUT_COUNT\";\n  psbtGlobal[psbtGlobal[\"OUTPUT_COUNT\"] = 5] = \"OUTPUT_COUNT\";\n  psbtGlobal[psbtGlobal[\"TX_MODIFIABLE\"] = 6] = \"TX_MODIFIABLE\";\n  psbtGlobal[psbtGlobal[\"VERSION\"] = 251] = \"VERSION\";\n})(psbtGlobal || (exports.psbtGlobal = psbtGlobal = {}));\nvar psbtIn;\nexports.psbtIn = psbtIn;\n(function (psbtIn) {\n  psbtIn[psbtIn[\"NON_WITNESS_UTXO\"] = 0] = \"NON_WITNESS_UTXO\";\n  psbtIn[psbtIn[\"WITNESS_UTXO\"] = 1] = \"WITNESS_UTXO\";\n  psbtIn[psbtIn[\"PARTIAL_SIG\"] = 2] = \"PARTIAL_SIG\";\n  psbtIn[psbtIn[\"SIGHASH_TYPE\"] = 3] = \"SIGHASH_TYPE\";\n  psbtIn[psbtIn[\"REDEEM_SCRIPT\"] = 4] = \"REDEEM_SCRIPT\";\n  psbtIn[psbtIn[\"WITNESS_SCRIPT\"] = 5] = \"WITNESS_SCRIPT\";\n  psbtIn[psbtIn[\"BIP32_DERIVATION\"] = 6] = \"BIP32_DERIVATION\";\n  psbtIn[psbtIn[\"FINAL_SCRIPTSIG\"] = 7] = \"FINAL_SCRIPTSIG\";\n  psbtIn[psbtIn[\"FINAL_SCRIPTWITNESS\"] = 8] = \"FINAL_SCRIPTWITNESS\";\n  psbtIn[psbtIn[\"PREVIOUS_TXID\"] = 14] = \"PREVIOUS_TXID\";\n  psbtIn[psbtIn[\"OUTPUT_INDEX\"] = 15] = \"OUTPUT_INDEX\";\n  psbtIn[psbtIn[\"SEQUENCE\"] = 16] = \"SEQUENCE\";\n  psbtIn[psbtIn[\"TAP_KEY_SIG\"] = 19] = \"TAP_KEY_SIG\";\n  psbtIn[psbtIn[\"TAP_BIP32_DERIVATION\"] = 22] = \"TAP_BIP32_DERIVATION\";\n})(psbtIn || (exports.psbtIn = psbtIn = {}));\nvar psbtOut;\nexports.psbtOut = psbtOut;\n(function (psbtOut) {\n  psbtOut[psbtOut[\"REDEEM_SCRIPT\"] = 0] = \"REDEEM_SCRIPT\";\n  psbtOut[psbtOut[\"BIP_32_DERIVATION\"] = 2] = \"BIP_32_DERIVATION\";\n  psbtOut[psbtOut[\"AMOUNT\"] = 3] = \"AMOUNT\";\n  psbtOut[psbtOut[\"SCRIPT\"] = 4] = \"SCRIPT\";\n  psbtOut[psbtOut[\"TAP_BIP32_DERIVATION\"] = 7] = \"TAP_BIP32_DERIVATION\";\n})(psbtOut || (exports.psbtOut = psbtOut = {}));\nvar PSBT_MAGIC_BYTES = Buffer.from([0x70, 0x73, 0x62, 0x74, 0xff]);\nvar NoSuchEntry = /*#__PURE__*/function (_Error) {\n  _inherits(NoSuchEntry, _Error);\n  var _super = _createSuper(NoSuchEntry);\n  function NoSuchEntry() {\n    _classCallCheck(this, NoSuchEntry);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(NoSuchEntry);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Implements Partially Signed Bitcoin Transaction version 2, BIP370, as\n * documented at https://github.com/bitcoin/bips/blob/master/bip-0370.mediawiki\n * and https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki\n *\n * A psbt is a data structure that can carry all relevant information about a\n * transaction through all stages of the signing process. From constructing an\n * unsigned transaction to extracting the final serialized transaction ready for\n * broadcast.\n *\n * This implementation is limited to what's needed in ledgerjs to carry out its\n * duties, which means that support for features like multisig or taproot script\n * path spending are not implemented. Specifically, it supports p2pkh,\n * p2wpkhWrappedInP2sh, p2wpkh and p2tr key path spending.\n *\n * This class is made purposefully dumb, so it's easy to add support for\n * complemantary fields as needed in the future.\n */\nexports.NoSuchEntry = NoSuchEntry;\nvar PsbtV2 = /*#__PURE__*/function () {\n  function PsbtV2() {\n    _classCallCheck(this, PsbtV2);\n    _defineProperty(this, \"globalMap\", new Map());\n    _defineProperty(this, \"inputMaps\", []);\n    _defineProperty(this, \"outputMaps\", []);\n  }\n  _createClass(PsbtV2, [{\n    key: \"setGlobalTxVersion\",\n    value: function setGlobalTxVersion(version) {\n      this.setGlobal(psbtGlobal.TX_VERSION, uint32LE(version));\n    }\n  }, {\n    key: \"getGlobalTxVersion\",\n    value: function getGlobalTxVersion() {\n      return this.getGlobal(psbtGlobal.TX_VERSION).readUInt32LE(0);\n    }\n  }, {\n    key: \"setGlobalFallbackLocktime\",\n    value: function setGlobalFallbackLocktime(locktime) {\n      this.setGlobal(psbtGlobal.FALLBACK_LOCKTIME, uint32LE(locktime));\n    }\n  }, {\n    key: \"getGlobalFallbackLocktime\",\n    value: function getGlobalFallbackLocktime() {\n      return this.getGlobalOptional(psbtGlobal.FALLBACK_LOCKTIME)?.readUInt32LE(0);\n    }\n  }, {\n    key: \"setGlobalInputCount\",\n    value: function setGlobalInputCount(inputCount) {\n      this.setGlobal(psbtGlobal.INPUT_COUNT, varint(inputCount));\n    }\n  }, {\n    key: \"getGlobalInputCount\",\n    value: function getGlobalInputCount() {\n      return fromVarint(this.getGlobal(psbtGlobal.INPUT_COUNT));\n    }\n  }, {\n    key: \"setGlobalOutputCount\",\n    value: function setGlobalOutputCount(outputCount) {\n      this.setGlobal(psbtGlobal.OUTPUT_COUNT, varint(outputCount));\n    }\n  }, {\n    key: \"getGlobalOutputCount\",\n    value: function getGlobalOutputCount() {\n      return fromVarint(this.getGlobal(psbtGlobal.OUTPUT_COUNT));\n    }\n  }, {\n    key: \"setGlobalTxModifiable\",\n    value: function setGlobalTxModifiable(_byte) {\n      this.setGlobal(psbtGlobal.TX_MODIFIABLE, _byte);\n    }\n  }, {\n    key: \"getGlobalTxModifiable\",\n    value: function getGlobalTxModifiable() {\n      return this.getGlobalOptional(psbtGlobal.TX_MODIFIABLE);\n    }\n  }, {\n    key: \"setGlobalPsbtVersion\",\n    value: function setGlobalPsbtVersion(psbtVersion) {\n      this.setGlobal(psbtGlobal.VERSION, uint32LE(psbtVersion));\n    }\n  }, {\n    key: \"getGlobalPsbtVersion\",\n    value: function getGlobalPsbtVersion() {\n      return this.getGlobal(psbtGlobal.VERSION).readUInt32LE(0);\n    }\n  }, {\n    key: \"setInputNonWitnessUtxo\",\n    value: function setInputNonWitnessUtxo(inputIndex, transaction) {\n      this.setInput(inputIndex, psbtIn.NON_WITNESS_UTXO, b(), transaction);\n    }\n  }, {\n    key: \"getInputNonWitnessUtxo\",\n    value: function getInputNonWitnessUtxo(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.NON_WITNESS_UTXO, b());\n    }\n  }, {\n    key: \"setInputWitnessUtxo\",\n    value: function setInputWitnessUtxo(inputIndex, amount, scriptPubKey) {\n      var buf = new _buffertools.BufferWriter();\n      buf.writeSlice(amount);\n      buf.writeVarSlice(scriptPubKey);\n      this.setInput(inputIndex, psbtIn.WITNESS_UTXO, b(), buf.buffer());\n    }\n  }, {\n    key: \"getInputWitnessUtxo\",\n    value: function getInputWitnessUtxo(inputIndex) {\n      var utxo = this.getInputOptional(inputIndex, psbtIn.WITNESS_UTXO, b());\n      if (!utxo) return undefined;\n      var buf = new _buffertools.BufferReader(utxo);\n      return {\n        amount: buf.readSlice(8),\n        scriptPubKey: buf.readVarSlice()\n      };\n    }\n  }, {\n    key: \"setInputPartialSig\",\n    value: function setInputPartialSig(inputIndex, pubkey, signature) {\n      this.setInput(inputIndex, psbtIn.PARTIAL_SIG, pubkey, signature);\n    }\n  }, {\n    key: \"getInputPartialSig\",\n    value: function getInputPartialSig(inputIndex, pubkey) {\n      return this.getInputOptional(inputIndex, psbtIn.PARTIAL_SIG, pubkey);\n    }\n  }, {\n    key: \"setInputSighashType\",\n    value: function setInputSighashType(inputIndex, sigHashtype) {\n      this.setInput(inputIndex, psbtIn.SIGHASH_TYPE, b(), uint32LE(sigHashtype));\n    }\n  }, {\n    key: \"getInputSighashType\",\n    value: function getInputSighashType(inputIndex) {\n      var result = this.getInputOptional(inputIndex, psbtIn.SIGHASH_TYPE, b());\n      if (!result) return undefined;\n      return result.readUInt32LE(0);\n    }\n  }, {\n    key: \"setInputRedeemScript\",\n    value: function setInputRedeemScript(inputIndex, redeemScript) {\n      this.setInput(inputIndex, psbtIn.REDEEM_SCRIPT, b(), redeemScript);\n    }\n  }, {\n    key: \"getInputRedeemScript\",\n    value: function getInputRedeemScript(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.REDEEM_SCRIPT, b());\n    }\n  }, {\n    key: \"setInputWitnessScript\",\n    value: function setInputWitnessScript(inputIndex, witnessScript) {\n      this.setInput(inputIndex, psbtIn.WITNESS_SCRIPT, b(), witnessScript);\n    }\n  }, {\n    key: \"getInputWitnessScript\",\n    value: function getInputWitnessScript(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.WITNESS_SCRIPT, b());\n    }\n  }, {\n    key: \"setInputBip32Derivation\",\n    value: function setInputBip32Derivation(inputIndex, pubkey, masterFingerprint, path) {\n      if (pubkey.length != 33) throw new Error('Invalid pubkey length: ' + pubkey.length);\n      this.setInput(inputIndex, psbtIn.BIP32_DERIVATION, pubkey, this.encodeBip32Derivation(masterFingerprint, path));\n    }\n  }, {\n    key: \"getInputBip32Derivation\",\n    value: function getInputBip32Derivation(inputIndex, pubkey) {\n      var buf = this.getInputOptional(inputIndex, psbtIn.BIP32_DERIVATION, pubkey);\n      if (!buf) return undefined;\n      return this.decodeBip32Derivation(buf);\n    }\n  }, {\n    key: \"setInputFinalScriptsig\",\n    value: function setInputFinalScriptsig(inputIndex, scriptSig) {\n      this.setInput(inputIndex, psbtIn.FINAL_SCRIPTSIG, b(), scriptSig);\n    }\n  }, {\n    key: \"getInputFinalScriptsig\",\n    value: function getInputFinalScriptsig(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.FINAL_SCRIPTSIG, b());\n    }\n  }, {\n    key: \"setInputFinalScriptwitness\",\n    value: function setInputFinalScriptwitness(inputIndex, scriptWitness) {\n      this.setInput(inputIndex, psbtIn.FINAL_SCRIPTWITNESS, b(), scriptWitness);\n    }\n  }, {\n    key: \"getInputFinalScriptwitness\",\n    value: function getInputFinalScriptwitness(inputIndex) {\n      return this.getInput(inputIndex, psbtIn.FINAL_SCRIPTWITNESS, b());\n    }\n  }, {\n    key: \"setInputPreviousTxId\",\n    value: function setInputPreviousTxId(inputIndex, txid) {\n      this.setInput(inputIndex, psbtIn.PREVIOUS_TXID, b(), txid);\n    }\n  }, {\n    key: \"getInputPreviousTxid\",\n    value: function getInputPreviousTxid(inputIndex) {\n      return this.getInput(inputIndex, psbtIn.PREVIOUS_TXID, b());\n    }\n  }, {\n    key: \"setInputOutputIndex\",\n    value: function setInputOutputIndex(inputIndex, outputIndex) {\n      this.setInput(inputIndex, psbtIn.OUTPUT_INDEX, b(), uint32LE(outputIndex));\n    }\n  }, {\n    key: \"getInputOutputIndex\",\n    value: function getInputOutputIndex(inputIndex) {\n      return this.getInput(inputIndex, psbtIn.OUTPUT_INDEX, b()).readUInt32LE(0);\n    }\n  }, {\n    key: \"setInputSequence\",\n    value: function setInputSequence(inputIndex, sequence) {\n      this.setInput(inputIndex, psbtIn.SEQUENCE, b(), uint32LE(sequence));\n    }\n  }, {\n    key: \"getInputSequence\",\n    value: function getInputSequence(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.SEQUENCE, b())?.readUInt32LE(0) ?? 0xffffffff;\n    }\n  }, {\n    key: \"setInputTapKeySig\",\n    value: function setInputTapKeySig(inputIndex, sig) {\n      this.setInput(inputIndex, psbtIn.TAP_KEY_SIG, b(), sig);\n    }\n  }, {\n    key: \"getInputTapKeySig\",\n    value: function getInputTapKeySig(inputIndex) {\n      return this.getInputOptional(inputIndex, psbtIn.TAP_KEY_SIG, b());\n    }\n  }, {\n    key: \"setInputTapBip32Derivation\",\n    value: function setInputTapBip32Derivation(inputIndex, pubkey, hashes, masterFingerprint, path) {\n      if (pubkey.length != 32) throw new Error('Invalid pubkey length: ' + pubkey.length);\n      var buf = this.encodeTapBip32Derivation(hashes, masterFingerprint, path);\n      this.setInput(inputIndex, psbtIn.TAP_BIP32_DERIVATION, pubkey, buf);\n    }\n  }, {\n    key: \"getInputTapBip32Derivation\",\n    value: function getInputTapBip32Derivation(inputIndex, pubkey) {\n      var buf = this.getInput(inputIndex, psbtIn.TAP_BIP32_DERIVATION, pubkey);\n      return this.decodeTapBip32Derivation(buf);\n    }\n  }, {\n    key: \"getInputKeyDatas\",\n    value: function getInputKeyDatas(inputIndex, keyType) {\n      return this.getKeyDatas(this.inputMaps[inputIndex], keyType);\n    }\n  }, {\n    key: \"setOutputRedeemScript\",\n    value: function setOutputRedeemScript(outputIndex, redeemScript) {\n      this.setOutput(outputIndex, psbtOut.REDEEM_SCRIPT, b(), redeemScript);\n    }\n  }, {\n    key: \"getOutputRedeemScript\",\n    value: function getOutputRedeemScript(outputIndex) {\n      return this.getOutput(outputIndex, psbtOut.REDEEM_SCRIPT, b());\n    }\n  }, {\n    key: \"setOutputBip32Derivation\",\n    value: function setOutputBip32Derivation(outputIndex, pubkey, masterFingerprint, path) {\n      this.setOutput(outputIndex, psbtOut.BIP_32_DERIVATION, pubkey, this.encodeBip32Derivation(masterFingerprint, path));\n    }\n  }, {\n    key: \"getOutputBip32Derivation\",\n    value: function getOutputBip32Derivation(outputIndex, pubkey) {\n      var buf = this.getOutput(outputIndex, psbtOut.BIP_32_DERIVATION, pubkey);\n      return this.decodeBip32Derivation(buf);\n    }\n  }, {\n    key: \"setOutputAmount\",\n    value: function setOutputAmount(outputIndex, amount) {\n      this.setOutput(outputIndex, psbtOut.AMOUNT, b(), uint64LE(amount));\n    }\n  }, {\n    key: \"getOutputAmount\",\n    value: function getOutputAmount(outputIndex) {\n      var buf = this.getOutput(outputIndex, psbtOut.AMOUNT, b());\n      return (0, _buffertools.unsafeFrom64bitLE)(buf);\n    }\n  }, {\n    key: \"setOutputScript\",\n    value: function setOutputScript(outputIndex, scriptPubKey) {\n      this.setOutput(outputIndex, psbtOut.SCRIPT, b(), scriptPubKey);\n    }\n  }, {\n    key: \"getOutputScript\",\n    value: function getOutputScript(outputIndex) {\n      return this.getOutput(outputIndex, psbtOut.SCRIPT, b());\n    }\n  }, {\n    key: \"setOutputTapBip32Derivation\",\n    value: function setOutputTapBip32Derivation(outputIndex, pubkey, hashes, fingerprint, path) {\n      var buf = this.encodeTapBip32Derivation(hashes, fingerprint, path);\n      this.setOutput(outputIndex, psbtOut.TAP_BIP32_DERIVATION, pubkey, buf);\n    }\n  }, {\n    key: \"getOutputTapBip32Derivation\",\n    value: function getOutputTapBip32Derivation(outputIndex, pubkey) {\n      var buf = this.getOutput(outputIndex, psbtOut.TAP_BIP32_DERIVATION, pubkey);\n      return this.decodeTapBip32Derivation(buf);\n    }\n  }, {\n    key: \"deleteInputEntries\",\n    value: function deleteInputEntries(inputIndex, keyTypes) {\n      var _this = this;\n      var map = this.inputMaps[inputIndex];\n      map.forEach(function (_v, k, m) {\n        if (_this.isKeyType(k, keyTypes)) {\n          m[\"delete\"](k);\n        }\n      });\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(to) {\n      this.copyMap(this.globalMap, to.globalMap);\n      this.copyMaps(this.inputMaps, to.inputMaps);\n      this.copyMaps(this.outputMaps, to.outputMaps);\n    }\n  }, {\n    key: \"copyMaps\",\n    value: function copyMaps(from, to) {\n      var _this2 = this;\n      from.forEach(function (m, index) {\n        var to_index = new Map();\n        _this2.copyMap(m, to_index);\n        to[index] = to_index;\n      });\n    }\n  }, {\n    key: \"copyMap\",\n    value: function copyMap(from, to) {\n      from.forEach(function (v, k) {\n        return to.set(k, Buffer.from(v));\n      });\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      var buf = new _buffertools.BufferWriter();\n      buf.writeSlice(Buffer.from([0x70, 0x73, 0x62, 0x74, 0xff]));\n      serializeMap(buf, this.globalMap);\n      this.inputMaps.forEach(function (map) {\n        serializeMap(buf, map);\n      });\n      this.outputMaps.forEach(function (map) {\n        serializeMap(buf, map);\n      });\n      return buf.buffer();\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(psbt) {\n      var buf = new _buffertools.BufferReader(psbt);\n      if (!buf.readSlice(5).equals(PSBT_MAGIC_BYTES)) {\n        throw new Error('Invalid magic bytes');\n      }\n      while (this.readKeyPair(this.globalMap, buf));\n      for (var i = 0; i < this.getGlobalInputCount(); i++) {\n        this.inputMaps[i] = new Map();\n        while (this.readKeyPair(this.inputMaps[i], buf));\n      }\n      for (var _i = 0; _i < this.getGlobalOutputCount(); _i++) {\n        this.outputMaps[_i] = new Map();\n        while (this.readKeyPair(this.outputMaps[_i], buf));\n      }\n    }\n  }, {\n    key: \"readKeyPair\",\n    value: function readKeyPair(map, buf) {\n      var keyLen = (0, _varint.sanitizeBigintToNumber)(buf.readVarInt());\n      if (keyLen == 0) {\n        return false;\n      }\n      var keyType = buf.readUInt8();\n      var keyData = buf.readSlice(keyLen - 1);\n      var value = buf.readVarSlice();\n      set(map, keyType, keyData, value);\n      return true;\n    }\n  }, {\n    key: \"getKeyDatas\",\n    value: function getKeyDatas(map, keyType) {\n      var _this3 = this;\n      var result = [];\n      map.forEach(function (_v, k) {\n        if (_this3.isKeyType(k, [keyType])) {\n          result.push(Buffer.from(k.substring(2), 'hex'));\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"isKeyType\",\n    value: function isKeyType(hexKey, keyTypes) {\n      var keyType = Buffer.from(hexKey.substring(0, 2), 'hex').readUInt8(0);\n      return keyTypes.some(function (k) {\n        return k == keyType;\n      });\n    }\n  }, {\n    key: \"setGlobal\",\n    value: function setGlobal(keyType, value) {\n      var key = new Key(keyType, Buffer.from([]));\n      this.globalMap.set(key.toString(), value);\n    }\n  }, {\n    key: \"getGlobal\",\n    value: function getGlobal(keyType) {\n      return get(this.globalMap, keyType, b(), false);\n    }\n  }, {\n    key: \"getGlobalOptional\",\n    value: function getGlobalOptional(keyType) {\n      return get(this.globalMap, keyType, b(), true);\n    }\n  }, {\n    key: \"setInput\",\n    value: function setInput(index, keyType, keyData, value) {\n      set(this.getMap(index, this.inputMaps), keyType, keyData, value);\n    }\n  }, {\n    key: \"getInput\",\n    value: function getInput(index, keyType, keyData) {\n      return get(this.inputMaps[index], keyType, keyData, false);\n    }\n  }, {\n    key: \"getInputOptional\",\n    value: function getInputOptional(index, keyType, keyData) {\n      return get(this.inputMaps[index], keyType, keyData, true);\n    }\n  }, {\n    key: \"setOutput\",\n    value: function setOutput(index, keyType, keyData, value) {\n      set(this.getMap(index, this.outputMaps), keyType, keyData, value);\n    }\n  }, {\n    key: \"getOutput\",\n    value: function getOutput(index, keyType, keyData) {\n      return get(this.outputMaps[index], keyType, keyData, false);\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap(index, maps) {\n      if (maps[index]) {\n        return maps[index];\n      }\n      return maps[index] = new Map();\n    }\n  }, {\n    key: \"encodeBip32Derivation\",\n    value: function encodeBip32Derivation(masterFingerprint, path) {\n      var buf = new _buffertools.BufferWriter();\n      this.writeBip32Derivation(buf, masterFingerprint, path);\n      return buf.buffer();\n    }\n  }, {\n    key: \"decodeBip32Derivation\",\n    value: function decodeBip32Derivation(buffer) {\n      var buf = new _buffertools.BufferReader(buffer);\n      return this.readBip32Derivation(buf);\n    }\n  }, {\n    key: \"writeBip32Derivation\",\n    value: function writeBip32Derivation(buf, masterFingerprint, path) {\n      buf.writeSlice(masterFingerprint);\n      path.forEach(function (element) {\n        buf.writeUInt32(element);\n      });\n    }\n  }, {\n    key: \"readBip32Derivation\",\n    value: function readBip32Derivation(buf) {\n      var masterFingerprint = buf.readSlice(4);\n      var path = [];\n      while (buf.offset < buf.buffer.length) {\n        path.push(buf.readUInt32());\n      }\n      return {\n        masterFingerprint: masterFingerprint,\n        path: path\n      };\n    }\n  }, {\n    key: \"encodeTapBip32Derivation\",\n    value: function encodeTapBip32Derivation(hashes, masterFingerprint, path) {\n      var buf = new _buffertools.BufferWriter();\n      buf.writeVarInt(hashes.length);\n      hashes.forEach(function (h) {\n        buf.writeSlice(h);\n      });\n      this.writeBip32Derivation(buf, masterFingerprint, path);\n      return buf.buffer();\n    }\n  }, {\n    key: \"decodeTapBip32Derivation\",\n    value: function decodeTapBip32Derivation(buffer) {\n      var buf = new _buffertools.BufferReader(buffer);\n      var hashCount = (0, _varint.sanitizeBigintToNumber)(buf.readVarInt());\n      var hashes = [];\n      for (var i = 0; i < hashCount; i++) {\n        hashes.push(buf.readSlice(32));\n      }\n      var deriv = this.readBip32Derivation(buf);\n      return _objectSpread({\n        hashes: hashes\n      }, deriv);\n    }\n  }]);\n  return PsbtV2;\n}();\nexports.PsbtV2 = PsbtV2;\nfunction get(map, keyType, keyData, acceptUndefined) {\n  if (!map) throw Error('No such map');\n  var key = new Key(keyType, keyData);\n  var value = map.get(key.toString());\n  if (!value) {\n    if (acceptUndefined) {\n      return undefined;\n    }\n    throw new NoSuchEntry(key.toString());\n  }\n  // Make sure to return a copy, to protect the underlying data.\n  return Buffer.from(value);\n}\nvar Key = /*#__PURE__*/function () {\n  function Key(keyType, keyData) {\n    _classCallCheck(this, Key);\n    _defineProperty(this, \"keyType\", void 0);\n    _defineProperty(this, \"keyData\", void 0);\n    this.keyType = keyType;\n    this.keyData = keyData;\n  }\n  _createClass(Key, [{\n    key: \"toString\",\n    value: function toString() {\n      var buf = new _buffertools.BufferWriter();\n      this.toBuffer(buf);\n      return buf.buffer().toString('hex');\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(buf) {\n      buf.writeVarInt(1 + this.keyData.length);\n      this.toBuffer(buf);\n    }\n  }, {\n    key: \"toBuffer\",\n    value: function toBuffer(buf) {\n      buf.writeUInt8(this.keyType);\n      buf.writeSlice(this.keyData);\n    }\n  }]);\n  return Key;\n}();\nvar KeyPair = /*#__PURE__*/function () {\n  function KeyPair(key, value) {\n    _classCallCheck(this, KeyPair);\n    _defineProperty(this, \"key\", void 0);\n    _defineProperty(this, \"value\", void 0);\n    this.key = key;\n    this.value = value;\n  }\n  _createClass(KeyPair, [{\n    key: \"serialize\",\n    value: function serialize(buf) {\n      this.key.serialize(buf);\n      buf.writeVarSlice(this.value);\n    }\n  }]);\n  return KeyPair;\n}();\nfunction createKey(buf) {\n  return new Key(buf.readUInt8(0), buf.slice(1));\n}\nfunction serializeMap(buf, map) {\n  var _iterator = _createForOfIteratorHelper(map.keys()),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      var value = map.get(key);\n      var keyPair = new KeyPair(createKey(Buffer.from(key, 'hex')), value);\n      keyPair.serialize(buf);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  buf.writeUInt8(0);\n}\nfunction b() {\n  return Buffer.from([]);\n}\nfunction set(map, keyType, keyData, value) {\n  var key = new Key(keyType, keyData);\n  map.set(key.toString(), value);\n}\nfunction uint32LE(n) {\n  var buf = Buffer.alloc(4);\n  buf.writeUInt32LE(n, 0);\n  return buf;\n}\nfunction uint64LE(n) {\n  return (0, _buffertools.unsafeTo64bitLE)(n);\n}\nfunction varint(n) {\n  var buf = new _buffertools.BufferWriter();\n  buf.writeVarInt(n);\n  return buf.buffer();\n}\nfunction fromVarint(buf) {\n  return (0, _varint.sanitizeBigintToNumber)(new _buffertools.BufferReader(buf).readVarInt());\n}"],"sourceRoot":""}